const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/xterm-D_W68Nou.js","assets/vendor-Cmm2Fedx.js","assets/addon-fit-CyHTHApf.js","assets/addon-web-links-BE5GsMpZ.js","assets/xterm-CFbL2ovg.css"])))=>i.map(i=>d[i]);
var Fs=Object.defineProperty;var ws=o=>{throw TypeError(o)};var Gs=(o,r,x)=>r in o?Fs(o,r,{enumerable:!0,configurable:!0,writable:!0,value:x}):o[r]=x;var sr=(o,r,x)=>Gs(o,typeof r!="symbol"?r+"":r,x),us=(o,r,x)=>r.has(o)||ws("Cannot "+x);var st=(o,r,x)=>(us(o,r,"read from private field"),x?x.call(o):r.get(o)),Dt=(o,r,x)=>r.has(o)?ws("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(o):r.set(o,x),Qt=(o,r,x,O)=>(us(o,r,"write to private field"),O?O.call(o,x):r.set(o,x),x),Ft=(o,r,x)=>(us(o,r,"access private method"),x);var ls=(o,r,x,O)=>({set _(E){Qt(o,r,E,x)},get _(){return st(o,r,O)}});import{j as jsxRuntimeExports,S as Slot$3,P as Primitive,u as useLayoutEffect2,c as createContextScope,a as useComposedRefs$1,b as useCallbackRef,d as createCollection,e as useId$1,f as composeEventHandlers,g as useDirection,h as useControllableState,i as composeRefs$1,k as Presence,l as Portal$4,m as useFocusGuards,R as ReactRemoveScroll,n as createSlot,F as FocusScope,D as DismissableLayer,o as hideOthers,p as dispatchDiscreteCustomEvent,C as ChevronRight,q as Check,r as Circle,s as Sun,M as Moon,T as Terminal,t as Monitor,A as ArrowUp,G as Globe,v as TriangleAlert,w as RefreshCw,H as House,X as X$1,x as FileText,y as ArrowRight,z as History,B as Clock,E as Trash2,I as Search,J as shimExports,K as Bell,L as CheckCheck,N as Info$1,O as CircleCheck,Z as Zap,Q as CircleAlert,U as BotMessageSquare,V as FolderKanban,W as BookOpen,Y as Library,_ as User,$ as Shield,a0 as Settings,a1 as Menu$1,a2 as Github,a3 as Twitter,a4 as Linkedin,a5 as Mail,a6 as LoaderCircle,a7 as CircleCheckBig,a8 as Branch,a9 as Root$a,aa as createSlottable,ab as Calendar,ac as Tag$1,ad as Copy,ae as Table2,af as ThumbsUp,ag as ThumbsDown,ah as Lightbulb,ai as Users,aj as RotateCcw,ak as MessageSquare,al as Sparkles,am as GraduationCap,an as Swords,ao as Compass,ap as ChartColumn,aq as ChevronLeft,ar as CircleHelp,as as Send,at as Link2,au as Layers,av as MessageCircle,aw as Overlay$1,ax as Portal$5,ay as Content$4,az as Close$1,aA as Title$1,aB as Description$1,aC as Root$b,aD as ZoomIn,aE as ZoomOut,aF as RotateCw,aG as ChevronDown,aH as ChevronUp,aI as Trigger$7,aJ as Earth,aK as Bot,aL as PenLine,aM as Bookmark,aN as BookmarkCheck,aO as ListOrdered,aP as ChevronsLeft,aQ as ChevronsRight,aR as Ellipsis,aS as Item$2,aT as Header$1,aU as Trigger2,aV as Content2$9,aW as Root2$a,aX as createDialogScope,aY as WarningProvider,aZ as Root$c,a_ as Image$1,a$ as Fallback,b0 as ArrowLeft,b1 as Dot,b2 as PanelLeft,b3 as FolderOpen,b4 as Folder,b5 as CodeXml,b6 as TrendingUp,b7 as Play,b8 as CircleX,b9 as Share2,ba as Languages,bb as BrainCircuit,bc as Cloud,bd as ExternalLink,be as Eye,bf as Hash$2,bg as Cpu,bh as Database,bi as Square,bj as Maximize2,bk as Minimize2,bl as LayoutGrid,bm as List$2,bn as Network,bo as Filter,bp as Download,bq as Save,br as EyeOff,bs as Key,bt as Rocket,bu as HardDrive,bv as Plus,bw as PowerOff,bx as Power,by as Pencil,bz as Star,bA as ArrowDown,bB as DollarSign,bC as Activity,bD as BookDashed,bE as FlaskConical,bF as GitBranch,bG as SquarePen,bH as WandSparkles,bI as Server,bJ as Brain,bK as ToggleRight,bL as ToggleLeft,bM as Lock,bN as Map$3,bO as EllipsisVertical,bP as Radio$1,bQ as Image$2,bR as MonitorUp,bS as WifiOff,bT as Wifi,bU as NotebookPen}from"./ui-dgQIXIId.js";import{a as reactDomExports,r as reactExports,u as useLocation,L as Link,e as getAugmentedNamespace,g as getDefaultExportFromCjs,f as useNavigate,b as React$1,d as commonjsGlobal,c as ReactDOM,R as React$2,h as useSearchParams,i as useParams,N as Navigate,B as BrowserRouter,j as Routes,k as Route}from"./vendor-Cmm2Fedx.js";import{t as twMerge,c as clsx,a as cva}from"./utils-B2rm_Apj.js";import{F as Fuse}from"./search-Ch1WBRTM.js";import{f as find$2,p as parse$3,a as parse$4,n as normalize$1,h as html$2,s as svg$3,o as ok,z as zwitch,b as stringify$3,c as stringify$4,d as pointStart,v as visit,e as pointEnd,g as structuredClone,S as SyntaxHighlighter,i as bash,j as css,k as go,l as java$1,m as javascript$1,q as json$1,r as kotlin,t as markdown,u as python$1,w as rust,x as sql,y as typescript,A as yaml$1,M as Markdown,B as remarkGfm,_ as __vitePreload}from"./markdown-C4DgRyv4.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))O(E);new MutationObserver(E=>{for(const y of E)if(y.type==="childList")for(const S of y.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&O(S)}).observe(document,{childList:!0,subtree:!0});function x(E){const y={};return E.integrity&&(y.integrity=E.integrity),E.referrerPolicy&&(y.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?y.credentials="include":E.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function O(E){if(E.ep)return;E.ep=!0;const y=x(E);fetch(E.href,y)}})();window.APP_CONFIG=Object.assign({},window.APP_CONFIG||{},{apiBaseUrl:"https://api.nodove.com"});var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$1.length;i$2<len;++i$2)lookup[i$2]=code$1[i$2],revLookup[code$1.charCodeAt(i$2)]=i$2;revLookup[45]=62;revLookup[95]=63;function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=o.indexOf("=");x===-1&&(x=r);var O=x===r?0:4-x%4;return[x,O]}function byteLength(o){var r=getLens(o),x=r[0],O=r[1];return(x+O)*3/4-O}function _byteLength(o,r,x){return(r+x)*3/4-x}function toByteArray(o){var r,x=getLens(o),O=x[0],E=x[1],y=new Arr(_byteLength(o,O,E)),S=0,j=E>0?O-4:O,w;for(w=0;w<j;w+=4)r=revLookup[o.charCodeAt(w)]<<18|revLookup[o.charCodeAt(w+1)]<<12|revLookup[o.charCodeAt(w+2)]<<6|revLookup[o.charCodeAt(w+3)],y[S++]=r>>16&255,y[S++]=r>>8&255,y[S++]=r&255;return E===2&&(r=revLookup[o.charCodeAt(w)]<<2|revLookup[o.charCodeAt(w+1)]>>4,y[S++]=r&255),E===1&&(r=revLookup[o.charCodeAt(w)]<<10|revLookup[o.charCodeAt(w+1)]<<4|revLookup[o.charCodeAt(w+2)]>>2,y[S++]=r>>8&255,y[S++]=r&255),y}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,r,x){for(var O,E=[],y=r;y<x;y+=3)O=(o[y]<<16&16711680)+(o[y+1]<<8&65280)+(o[y+2]&255),E.push(tripletToBase64(O));return E.join("")}function fromByteArray(o){for(var r,x=o.length,O=x%3,E=[],y=16383,S=0,j=x-O;S<j;S+=y)E.push(encodeChunk(o,S,S+y>j?j:S+y));return O===1?(r=o[x-1],E.push(lookup[r>>2]+lookup[r<<4&63]+"==")):O===2&&(r=(o[x-2]<<8)+o[x-1],E.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),E.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,r,x,O,E){var y,S,j=E*8-O-1,w=(1<<j)-1,_=w>>1,Q=-7,I=x?E-1:0,M=x?-1:1,F=o[r+I];for(I+=M,y=F&(1<<-Q)-1,F>>=-Q,Q+=j;Q>0;y=y*256+o[r+I],I+=M,Q-=8);for(S=y&(1<<-Q)-1,y>>=-Q,Q+=O;Q>0;S=S*256+o[r+I],I+=M,Q-=8);if(y===0)y=1-_;else{if(y===w)return S?NaN:(F?-1:1)*(1/0);S=S+Math.pow(2,O),y=y-_}return(F?-1:1)*S*Math.pow(2,y-O)};ieee754.write=function(o,r,x,O,E,y){var S,j,w,_=y*8-E-1,Q=(1<<_)-1,I=Q>>1,M=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=O?0:y-1,V=O?1:-1,te=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(j=isNaN(r)?1:0,S=Q):(S=Math.floor(Math.log(r)/Math.LN2),r*(w=Math.pow(2,-S))<1&&(S--,w*=2),S+I>=1?r+=M/w:r+=M*Math.pow(2,1-I),r*w>=2&&(S++,w/=2),S+I>=Q?(j=0,S=Q):S+I>=1?(j=(r*w-1)*Math.pow(2,E),S=S+I):(j=r*Math.pow(2,I-1)*Math.pow(2,E),S=0));E>=8;o[x+F]=j&255,F+=V,j/=256,E-=8);for(S=S<<E|j,_+=E;_>0;o[x+F]=S&255,F+=V,S/=256,_-=8);o[x+F-V]|=te*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const r=base64Js,x=ieee754,O=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=j,o.SlowBuffer=ne,o.INSPECT_MAX_BYTES=50;const E=2147483647;o.kMaxLength=E,j.TYPED_ARRAY_SUPPORT=y(),!j.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{const Ye=new Uint8Array(1),$e={foo:function(){return 42}};return Object.setPrototypeOf($e,Uint8Array.prototype),Object.setPrototypeOf(Ye,$e),Ye.foo()===42}catch{return!1}}Object.defineProperty(j.prototype,"parent",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.buffer}}),Object.defineProperty(j.prototype,"offset",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.byteOffset}});function S(Ye){if(Ye>E)throw new RangeError('The value "'+Ye+'" is invalid for option "size"');const $e=new Uint8Array(Ye);return Object.setPrototypeOf($e,j.prototype),$e}function j(Ye,$e,Ne){if(typeof Ye=="number"){if(typeof $e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(Ye)}return w(Ye,$e,Ne)}j.poolSize=8192;function w(Ye,$e,Ne){if(typeof Ye=="string")return M(Ye,$e);if(ArrayBuffer.isView(Ye))return V(Ye);if(Ye==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ye);if(Zt(Ye,ArrayBuffer)||Ye&&Zt(Ye.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Zt(Ye,SharedArrayBuffer)||Ye&&Zt(Ye.buffer,SharedArrayBuffer)))return te(Ye,$e,Ne);if(typeof Ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Fe=Ye.valueOf&&Ye.valueOf();if(Fe!=null&&Fe!==Ye)return j.from(Fe,$e,Ne);const nt=re(Ye);if(nt)return nt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ye[Symbol.toPrimitive]=="function")return j.from(Ye[Symbol.toPrimitive]("string"),$e,Ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ye)}j.from=function(Ye,$e,Ne){return w(Ye,$e,Ne)},Object.setPrototypeOf(j.prototype,Uint8Array.prototype),Object.setPrototypeOf(j,Uint8Array);function _(Ye){if(typeof Ye!="number")throw new TypeError('"size" argument must be of type number');if(Ye<0)throw new RangeError('The value "'+Ye+'" is invalid for option "size"')}function Q(Ye,$e,Ne){return _(Ye),Ye<=0?S(Ye):$e!==void 0?typeof Ne=="string"?S(Ye).fill($e,Ne):S(Ye).fill($e):S(Ye)}j.alloc=function(Ye,$e,Ne){return Q(Ye,$e,Ne)};function I(Ye){return _(Ye),S(Ye<0?0:se(Ye)|0)}j.allocUnsafe=function(Ye){return I(Ye)},j.allocUnsafeSlow=function(Ye){return I(Ye)};function M(Ye,$e){if((typeof $e!="string"||$e==="")&&($e="utf8"),!j.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);const Ne=oe(Ye,$e)|0;let Fe=S(Ne);const nt=Fe.write(Ye,$e);return nt!==Ne&&(Fe=Fe.slice(0,nt)),Fe}function F(Ye){const $e=Ye.length<0?0:se(Ye.length)|0,Ne=S($e);for(let Fe=0;Fe<$e;Fe+=1)Ne[Fe]=Ye[Fe]&255;return Ne}function V(Ye){if(Zt(Ye,Uint8Array)){const $e=new Uint8Array(Ye);return te($e.buffer,$e.byteOffset,$e.byteLength)}return F(Ye)}function te(Ye,$e,Ne){if($e<0||Ye.byteLength<$e)throw new RangeError('"offset" is outside of buffer bounds');if(Ye.byteLength<$e+(Ne||0))throw new RangeError('"length" is outside of buffer bounds');let Fe;return $e===void 0&&Ne===void 0?Fe=new Uint8Array(Ye):Ne===void 0?Fe=new Uint8Array(Ye,$e):Fe=new Uint8Array(Ye,$e,Ne),Object.setPrototypeOf(Fe,j.prototype),Fe}function re(Ye){if(j.isBuffer(Ye)){const $e=se(Ye.length)|0,Ne=S($e);return Ne.length===0||Ye.copy(Ne,0,0,$e),Ne}if(Ye.length!==void 0)return typeof Ye.length!="number"||rr(Ye.length)?S(0):F(Ye);if(Ye.type==="Buffer"&&Array.isArray(Ye.data))return F(Ye.data)}function se(Ye){if(Ye>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return Ye|0}function ne(Ye){return+Ye!=Ye&&(Ye=0),j.alloc(+Ye)}j.isBuffer=function($e){return $e!=null&&$e._isBuffer===!0&&$e!==j.prototype},j.compare=function($e,Ne){if(Zt($e,Uint8Array)&&($e=j.from($e,$e.offset,$e.byteLength)),Zt(Ne,Uint8Array)&&(Ne=j.from(Ne,Ne.offset,Ne.byteLength)),!j.isBuffer($e)||!j.isBuffer(Ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($e===Ne)return 0;let Fe=$e.length,nt=Ne.length;for(let ft=0,Ct=Math.min(Fe,nt);ft<Ct;++ft)if($e[ft]!==Ne[ft]){Fe=$e[ft],nt=Ne[ft];break}return Fe<nt?-1:nt<Fe?1:0},j.isEncoding=function($e){switch(String($e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function($e,Ne){if(!Array.isArray($e))throw new TypeError('"list" argument must be an Array of Buffers');if($e.length===0)return j.alloc(0);let Fe;if(Ne===void 0)for(Ne=0,Fe=0;Fe<$e.length;++Fe)Ne+=$e[Fe].length;const nt=j.allocUnsafe(Ne);let ft=0;for(Fe=0;Fe<$e.length;++Fe){let Ct=$e[Fe];if(Zt(Ct,Uint8Array))ft+Ct.length>nt.length?(j.isBuffer(Ct)||(Ct=j.from(Ct)),Ct.copy(nt,ft)):Uint8Array.prototype.set.call(nt,Ct,ft);else if(j.isBuffer(Ct))Ct.copy(nt,ft);else throw new TypeError('"list" argument must be an Array of Buffers');ft+=Ct.length}return nt};function oe(Ye,$e){if(j.isBuffer(Ye))return Ye.length;if(ArrayBuffer.isView(Ye)||Zt(Ye,ArrayBuffer))return Ye.byteLength;if(typeof Ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ye);const Ne=Ye.length,Fe=arguments.length>2&&arguments[2]===!0;if(!Fe&&Ne===0)return 0;let nt=!1;for(;;)switch($e){case"ascii":case"latin1":case"binary":return Ne;case"utf8":case"utf-8":return Xt(Ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne*2;case"hex":return Ne>>>1;case"base64":return Yt(Ye).length;default:if(nt)return Fe?-1:Xt(Ye).length;$e=(""+$e).toLowerCase(),nt=!0}}j.byteLength=oe;function Oe(Ye,$e,Ne){let Fe=!1;if(($e===void 0||$e<0)&&($e=0),$e>this.length||((Ne===void 0||Ne>this.length)&&(Ne=this.length),Ne<=0)||(Ne>>>=0,$e>>>=0,Ne<=$e))return"";for(Ye||(Ye="utf8");;)switch(Ye){case"hex":return Je(this,$e,Ne);case"utf8":case"utf-8":return Be(this,$e,Ne);case"ascii":return at(this,$e,Ne);case"latin1":case"binary":return rt(this,$e,Ne);case"base64":return Ze(this,$e,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,$e,Ne);default:if(Fe)throw new TypeError("Unknown encoding: "+Ye);Ye=(Ye+"").toLowerCase(),Fe=!0}}j.prototype._isBuffer=!0;function ae(Ye,$e,Ne){const Fe=Ye[$e];Ye[$e]=Ye[Ne],Ye[Ne]=Fe}j.prototype.swap16=function(){const $e=this.length;if($e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ne=0;Ne<$e;Ne+=2)ae(this,Ne,Ne+1);return this},j.prototype.swap32=function(){const $e=this.length;if($e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ne=0;Ne<$e;Ne+=4)ae(this,Ne,Ne+3),ae(this,Ne+1,Ne+2);return this},j.prototype.swap64=function(){const $e=this.length;if($e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ne=0;Ne<$e;Ne+=8)ae(this,Ne,Ne+7),ae(this,Ne+1,Ne+6),ae(this,Ne+2,Ne+5),ae(this,Ne+3,Ne+4);return this},j.prototype.toString=function(){const $e=this.length;return $e===0?"":arguments.length===0?Be(this,0,$e):Oe.apply(this,arguments)},j.prototype.toLocaleString=j.prototype.toString,j.prototype.equals=function($e){if(!j.isBuffer($e))throw new TypeError("Argument must be a Buffer");return this===$e?!0:j.compare(this,$e)===0},j.prototype.inspect=function(){let $e="";const Ne=o.INSPECT_MAX_BYTES;return $e=this.toString("hex",0,Ne).replace(/(.{2})/g,"$1 ").trim(),this.length>Ne&&($e+=" ... "),"<Buffer "+$e+">"},O&&(j.prototype[O]=j.prototype.inspect),j.prototype.compare=function($e,Ne,Fe,nt,ft){if(Zt($e,Uint8Array)&&($e=j.from($e,$e.offset,$e.byteLength)),!j.isBuffer($e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $e);if(Ne===void 0&&(Ne=0),Fe===void 0&&(Fe=$e?$e.length:0),nt===void 0&&(nt=0),ft===void 0&&(ft=this.length),Ne<0||Fe>$e.length||nt<0||ft>this.length)throw new RangeError("out of range index");if(nt>=ft&&Ne>=Fe)return 0;if(nt>=ft)return-1;if(Ne>=Fe)return 1;if(Ne>>>=0,Fe>>>=0,nt>>>=0,ft>>>=0,this===$e)return 0;let Ct=ft-nt,Mt=Fe-Ne;const qt=Math.min(Ct,Mt),Wt=this.slice(nt,ft),er=$e.slice(Ne,Fe);for(let Kt=0;Kt<qt;++Kt)if(Wt[Kt]!==er[Kt]){Ct=Wt[Kt],Mt=er[Kt];break}return Ct<Mt?-1:Mt<Ct?1:0};function ge(Ye,$e,Ne,Fe,nt){if(Ye.length===0)return-1;if(typeof Ne=="string"?(Fe=Ne,Ne=0):Ne>2147483647?Ne=2147483647:Ne<-2147483648&&(Ne=-2147483648),Ne=+Ne,rr(Ne)&&(Ne=nt?0:Ye.length-1),Ne<0&&(Ne=Ye.length+Ne),Ne>=Ye.length){if(nt)return-1;Ne=Ye.length-1}else if(Ne<0)if(nt)Ne=0;else return-1;if(typeof $e=="string"&&($e=j.from($e,Fe)),j.isBuffer($e))return $e.length===0?-1:je(Ye,$e,Ne,Fe,nt);if(typeof $e=="number")return $e=$e&255,typeof Uint8Array.prototype.indexOf=="function"?nt?Uint8Array.prototype.indexOf.call(Ye,$e,Ne):Uint8Array.prototype.lastIndexOf.call(Ye,$e,Ne):je(Ye,[$e],Ne,Fe,nt);throw new TypeError("val must be string, number or Buffer")}function je(Ye,$e,Ne,Fe,nt){let ft=1,Ct=Ye.length,Mt=$e.length;if(Fe!==void 0&&(Fe=String(Fe).toLowerCase(),Fe==="ucs2"||Fe==="ucs-2"||Fe==="utf16le"||Fe==="utf-16le")){if(Ye.length<2||$e.length<2)return-1;ft=2,Ct/=2,Mt/=2,Ne/=2}function qt(er,Kt){return ft===1?er[Kt]:er.readUInt16BE(Kt*ft)}let Wt;if(nt){let er=-1;for(Wt=Ne;Wt<Ct;Wt++)if(qt(Ye,Wt)===qt($e,er===-1?0:Wt-er)){if(er===-1&&(er=Wt),Wt-er+1===Mt)return er*ft}else er!==-1&&(Wt-=Wt-er),er=-1}else for(Ne+Mt>Ct&&(Ne=Ct-Mt),Wt=Ne;Wt>=0;Wt--){let er=!0;for(let Kt=0;Kt<Mt;Kt++)if(qt(Ye,Wt+Kt)!==qt($e,Kt)){er=!1;break}if(er)return Wt}return-1}j.prototype.includes=function($e,Ne,Fe){return this.indexOf($e,Ne,Fe)!==-1},j.prototype.indexOf=function($e,Ne,Fe){return ge(this,$e,Ne,Fe,!0)},j.prototype.lastIndexOf=function($e,Ne,Fe){return ge(this,$e,Ne,Fe,!1)};function Ae(Ye,$e,Ne,Fe){Ne=Number(Ne)||0;const nt=Ye.length-Ne;Fe?(Fe=Number(Fe),Fe>nt&&(Fe=nt)):Fe=nt;const ft=$e.length;Fe>ft/2&&(Fe=ft/2);let Ct;for(Ct=0;Ct<Fe;++Ct){const Mt=parseInt($e.substr(Ct*2,2),16);if(rr(Mt))return Ct;Ye[Ne+Ct]=Mt}return Ct}function Qe(Ye,$e,Ne,Fe){return zt(Xt($e,Ye.length-Ne),Ye,Ne,Fe)}function Xe(Ye,$e,Ne,Fe){return zt(Ut($e),Ye,Ne,Fe)}function Ue(Ye,$e,Ne,Fe){return zt(Yt($e),Ye,Ne,Fe)}function Le(Ye,$e,Ne,Fe){return zt($t($e,Ye.length-Ne),Ye,Ne,Fe)}j.prototype.write=function($e,Ne,Fe,nt){if(Ne===void 0)nt="utf8",Fe=this.length,Ne=0;else if(Fe===void 0&&typeof Ne=="string")nt=Ne,Fe=this.length,Ne=0;else if(isFinite(Ne))Ne=Ne>>>0,isFinite(Fe)?(Fe=Fe>>>0,nt===void 0&&(nt="utf8")):(nt=Fe,Fe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ft=this.length-Ne;if((Fe===void 0||Fe>ft)&&(Fe=ft),$e.length>0&&(Fe<0||Ne<0)||Ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");nt||(nt="utf8");let Ct=!1;for(;;)switch(nt){case"hex":return Ae(this,$e,Ne,Fe);case"utf8":case"utf-8":return Qe(this,$e,Ne,Fe);case"ascii":case"latin1":case"binary":return Xe(this,$e,Ne,Fe);case"base64":return Ue(this,$e,Ne,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,$e,Ne,Fe);default:if(Ct)throw new TypeError("Unknown encoding: "+nt);nt=(""+nt).toLowerCase(),Ct=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ze(Ye,$e,Ne){return $e===0&&Ne===Ye.length?r.fromByteArray(Ye):r.fromByteArray(Ye.slice($e,Ne))}function Be(Ye,$e,Ne){Ne=Math.min(Ye.length,Ne);const Fe=[];let nt=$e;for(;nt<Ne;){const ft=Ye[nt];let Ct=null,Mt=ft>239?4:ft>223?3:ft>191?2:1;if(nt+Mt<=Ne){let qt,Wt,er,Kt;switch(Mt){case 1:ft<128&&(Ct=ft);break;case 2:qt=Ye[nt+1],(qt&192)===128&&(Kt=(ft&31)<<6|qt&63,Kt>127&&(Ct=Kt));break;case 3:qt=Ye[nt+1],Wt=Ye[nt+2],(qt&192)===128&&(Wt&192)===128&&(Kt=(ft&15)<<12|(qt&63)<<6|Wt&63,Kt>2047&&(Kt<55296||Kt>57343)&&(Ct=Kt));break;case 4:qt=Ye[nt+1],Wt=Ye[nt+2],er=Ye[nt+3],(qt&192)===128&&(Wt&192)===128&&(er&192)===128&&(Kt=(ft&15)<<18|(qt&63)<<12|(Wt&63)<<6|er&63,Kt>65535&&Kt<1114112&&(Ct=Kt))}}Ct===null?(Ct=65533,Mt=1):Ct>65535&&(Ct-=65536,Fe.push(Ct>>>10&1023|55296),Ct=56320|Ct&1023),Fe.push(Ct),nt+=Mt}return We(Fe)}const Ge=4096;function We(Ye){const $e=Ye.length;if($e<=Ge)return String.fromCharCode.apply(String,Ye);let Ne="",Fe=0;for(;Fe<$e;)Ne+=String.fromCharCode.apply(String,Ye.slice(Fe,Fe+=Ge));return Ne}function at(Ye,$e,Ne){let Fe="";Ne=Math.min(Ye.length,Ne);for(let nt=$e;nt<Ne;++nt)Fe+=String.fromCharCode(Ye[nt]&127);return Fe}function rt(Ye,$e,Ne){let Fe="";Ne=Math.min(Ye.length,Ne);for(let nt=$e;nt<Ne;++nt)Fe+=String.fromCharCode(Ye[nt]);return Fe}function Je(Ye,$e,Ne){const Fe=Ye.length;(!$e||$e<0)&&($e=0),(!Ne||Ne<0||Ne>Fe)&&(Ne=Fe);let nt="";for(let ft=$e;ft<Ne;++ft)nt+=or[Ye[ft]];return nt}function mt(Ye,$e,Ne){const Fe=Ye.slice($e,Ne);let nt="";for(let ft=0;ft<Fe.length-1;ft+=2)nt+=String.fromCharCode(Fe[ft]+Fe[ft+1]*256);return nt}j.prototype.slice=function($e,Ne){const Fe=this.length;$e=~~$e,Ne=Ne===void 0?Fe:~~Ne,$e<0?($e+=Fe,$e<0&&($e=0)):$e>Fe&&($e=Fe),Ne<0?(Ne+=Fe,Ne<0&&(Ne=0)):Ne>Fe&&(Ne=Fe),Ne<$e&&(Ne=$e);const nt=this.subarray($e,Ne);return Object.setPrototypeOf(nt,j.prototype),nt};function Ke(Ye,$e,Ne){if(Ye%1!==0||Ye<0)throw new RangeError("offset is not uint");if(Ye+$e>Ne)throw new RangeError("Trying to access beyond buffer length")}j.prototype.readUintLE=j.prototype.readUIntLE=function($e,Ne,Fe){$e=$e>>>0,Ne=Ne>>>0,Fe||Ke($e,Ne,this.length);let nt=this[$e],ft=1,Ct=0;for(;++Ct<Ne&&(ft*=256);)nt+=this[$e+Ct]*ft;return nt},j.prototype.readUintBE=j.prototype.readUIntBE=function($e,Ne,Fe){$e=$e>>>0,Ne=Ne>>>0,Fe||Ke($e,Ne,this.length);let nt=this[$e+--Ne],ft=1;for(;Ne>0&&(ft*=256);)nt+=this[$e+--Ne]*ft;return nt},j.prototype.readUint8=j.prototype.readUInt8=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,1,this.length),this[$e]},j.prototype.readUint16LE=j.prototype.readUInt16LE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,2,this.length),this[$e]|this[$e+1]<<8},j.prototype.readUint16BE=j.prototype.readUInt16BE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,2,this.length),this[$e]<<8|this[$e+1]},j.prototype.readUint32LE=j.prototype.readUInt32LE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),(this[$e]|this[$e+1]<<8|this[$e+2]<<16)+this[$e+3]*16777216},j.prototype.readUint32BE=j.prototype.readUInt32BE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),this[$e]*16777216+(this[$e+1]<<16|this[$e+2]<<8|this[$e+3])},j.prototype.readBigUInt64LE=Jt(function($e){$e=$e>>>0,Ve($e,"offset");const Ne=this[$e],Fe=this[$e+7];(Ne===void 0||Fe===void 0)&&dt($e,this.length-8);const nt=Ne+this[++$e]*2**8+this[++$e]*2**16+this[++$e]*2**24,ft=this[++$e]+this[++$e]*2**8+this[++$e]*2**16+Fe*2**24;return BigInt(nt)+(BigInt(ft)<<BigInt(32))}),j.prototype.readBigUInt64BE=Jt(function($e){$e=$e>>>0,Ve($e,"offset");const Ne=this[$e],Fe=this[$e+7];(Ne===void 0||Fe===void 0)&&dt($e,this.length-8);const nt=Ne*2**24+this[++$e]*2**16+this[++$e]*2**8+this[++$e],ft=this[++$e]*2**24+this[++$e]*2**16+this[++$e]*2**8+Fe;return(BigInt(nt)<<BigInt(32))+BigInt(ft)}),j.prototype.readIntLE=function($e,Ne,Fe){$e=$e>>>0,Ne=Ne>>>0,Fe||Ke($e,Ne,this.length);let nt=this[$e],ft=1,Ct=0;for(;++Ct<Ne&&(ft*=256);)nt+=this[$e+Ct]*ft;return ft*=128,nt>=ft&&(nt-=Math.pow(2,8*Ne)),nt},j.prototype.readIntBE=function($e,Ne,Fe){$e=$e>>>0,Ne=Ne>>>0,Fe||Ke($e,Ne,this.length);let nt=Ne,ft=1,Ct=this[$e+--nt];for(;nt>0&&(ft*=256);)Ct+=this[$e+--nt]*ft;return ft*=128,Ct>=ft&&(Ct-=Math.pow(2,8*Ne)),Ct},j.prototype.readInt8=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,1,this.length),this[$e]&128?(255-this[$e]+1)*-1:this[$e]},j.prototype.readInt16LE=function($e,Ne){$e=$e>>>0,Ne||Ke($e,2,this.length);const Fe=this[$e]|this[$e+1]<<8;return Fe&32768?Fe|4294901760:Fe},j.prototype.readInt16BE=function($e,Ne){$e=$e>>>0,Ne||Ke($e,2,this.length);const Fe=this[$e+1]|this[$e]<<8;return Fe&32768?Fe|4294901760:Fe},j.prototype.readInt32LE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),this[$e]|this[$e+1]<<8|this[$e+2]<<16|this[$e+3]<<24},j.prototype.readInt32BE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),this[$e]<<24|this[$e+1]<<16|this[$e+2]<<8|this[$e+3]},j.prototype.readBigInt64LE=Jt(function($e){$e=$e>>>0,Ve($e,"offset");const Ne=this[$e],Fe=this[$e+7];(Ne===void 0||Fe===void 0)&&dt($e,this.length-8);const nt=this[$e+4]+this[$e+5]*2**8+this[$e+6]*2**16+(Fe<<24);return(BigInt(nt)<<BigInt(32))+BigInt(Ne+this[++$e]*2**8+this[++$e]*2**16+this[++$e]*2**24)}),j.prototype.readBigInt64BE=Jt(function($e){$e=$e>>>0,Ve($e,"offset");const Ne=this[$e],Fe=this[$e+7];(Ne===void 0||Fe===void 0)&&dt($e,this.length-8);const nt=(Ne<<24)+this[++$e]*2**16+this[++$e]*2**8+this[++$e];return(BigInt(nt)<<BigInt(32))+BigInt(this[++$e]*2**24+this[++$e]*2**16+this[++$e]*2**8+Fe)}),j.prototype.readFloatLE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),x.read(this,$e,!0,23,4)},j.prototype.readFloatBE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,4,this.length),x.read(this,$e,!1,23,4)},j.prototype.readDoubleLE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,8,this.length),x.read(this,$e,!0,52,8)},j.prototype.readDoubleBE=function($e,Ne){return $e=$e>>>0,Ne||Ke($e,8,this.length),x.read(this,$e,!1,52,8)};function ze(Ye,$e,Ne,Fe,nt,ft){if(!j.isBuffer(Ye))throw new TypeError('"buffer" argument must be a Buffer instance');if($e>nt||$e<ft)throw new RangeError('"value" argument is out of bounds');if(Ne+Fe>Ye.length)throw new RangeError("Index out of range")}j.prototype.writeUintLE=j.prototype.writeUIntLE=function($e,Ne,Fe,nt){if($e=+$e,Ne=Ne>>>0,Fe=Fe>>>0,!nt){const Mt=Math.pow(2,8*Fe)-1;ze(this,$e,Ne,Fe,Mt,0)}let ft=1,Ct=0;for(this[Ne]=$e&255;++Ct<Fe&&(ft*=256);)this[Ne+Ct]=$e/ft&255;return Ne+Fe},j.prototype.writeUintBE=j.prototype.writeUIntBE=function($e,Ne,Fe,nt){if($e=+$e,Ne=Ne>>>0,Fe=Fe>>>0,!nt){const Mt=Math.pow(2,8*Fe)-1;ze(this,$e,Ne,Fe,Mt,0)}let ft=Fe-1,Ct=1;for(this[Ne+ft]=$e&255;--ft>=0&&(Ct*=256);)this[Ne+ft]=$e/Ct&255;return Ne+Fe},j.prototype.writeUint8=j.prototype.writeUInt8=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,1,255,0),this[Ne]=$e&255,Ne+1},j.prototype.writeUint16LE=j.prototype.writeUInt16LE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,2,65535,0),this[Ne]=$e&255,this[Ne+1]=$e>>>8,Ne+2},j.prototype.writeUint16BE=j.prototype.writeUInt16BE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,2,65535,0),this[Ne]=$e>>>8,this[Ne+1]=$e&255,Ne+2},j.prototype.writeUint32LE=j.prototype.writeUInt32LE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,4,4294967295,0),this[Ne+3]=$e>>>24,this[Ne+2]=$e>>>16,this[Ne+1]=$e>>>8,this[Ne]=$e&255,Ne+4},j.prototype.writeUint32BE=j.prototype.writeUInt32BE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,4,4294967295,0),this[Ne]=$e>>>24,this[Ne+1]=$e>>>16,this[Ne+2]=$e>>>8,this[Ne+3]=$e&255,Ne+4};function He(Ye,$e,Ne,Fe,nt){pt($e,Fe,nt,Ye,Ne,7);let ft=Number($e&BigInt(4294967295));Ye[Ne++]=ft,ft=ft>>8,Ye[Ne++]=ft,ft=ft>>8,Ye[Ne++]=ft,ft=ft>>8,Ye[Ne++]=ft;let Ct=Number($e>>BigInt(32)&BigInt(4294967295));return Ye[Ne++]=Ct,Ct=Ct>>8,Ye[Ne++]=Ct,Ct=Ct>>8,Ye[Ne++]=Ct,Ct=Ct>>8,Ye[Ne++]=Ct,Ne}function tt(Ye,$e,Ne,Fe,nt){pt($e,Fe,nt,Ye,Ne,7);let ft=Number($e&BigInt(4294967295));Ye[Ne+7]=ft,ft=ft>>8,Ye[Ne+6]=ft,ft=ft>>8,Ye[Ne+5]=ft,ft=ft>>8,Ye[Ne+4]=ft;let Ct=Number($e>>BigInt(32)&BigInt(4294967295));return Ye[Ne+3]=Ct,Ct=Ct>>8,Ye[Ne+2]=Ct,Ct=Ct>>8,Ye[Ne+1]=Ct,Ct=Ct>>8,Ye[Ne]=Ct,Ne+8}j.prototype.writeBigUInt64LE=Jt(function($e,Ne=0){return He(this,$e,Ne,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeBigUInt64BE=Jt(function($e,Ne=0){return tt(this,$e,Ne,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeIntLE=function($e,Ne,Fe,nt){if($e=+$e,Ne=Ne>>>0,!nt){const qt=Math.pow(2,8*Fe-1);ze(this,$e,Ne,Fe,qt-1,-qt)}let ft=0,Ct=1,Mt=0;for(this[Ne]=$e&255;++ft<Fe&&(Ct*=256);)$e<0&&Mt===0&&this[Ne+ft-1]!==0&&(Mt=1),this[Ne+ft]=($e/Ct>>0)-Mt&255;return Ne+Fe},j.prototype.writeIntBE=function($e,Ne,Fe,nt){if($e=+$e,Ne=Ne>>>0,!nt){const qt=Math.pow(2,8*Fe-1);ze(this,$e,Ne,Fe,qt-1,-qt)}let ft=Fe-1,Ct=1,Mt=0;for(this[Ne+ft]=$e&255;--ft>=0&&(Ct*=256);)$e<0&&Mt===0&&this[Ne+ft+1]!==0&&(Mt=1),this[Ne+ft]=($e/Ct>>0)-Mt&255;return Ne+Fe},j.prototype.writeInt8=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,1,127,-128),$e<0&&($e=255+$e+1),this[Ne]=$e&255,Ne+1},j.prototype.writeInt16LE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,2,32767,-32768),this[Ne]=$e&255,this[Ne+1]=$e>>>8,Ne+2},j.prototype.writeInt16BE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,2,32767,-32768),this[Ne]=$e>>>8,this[Ne+1]=$e&255,Ne+2},j.prototype.writeInt32LE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,4,2147483647,-2147483648),this[Ne]=$e&255,this[Ne+1]=$e>>>8,this[Ne+2]=$e>>>16,this[Ne+3]=$e>>>24,Ne+4},j.prototype.writeInt32BE=function($e,Ne,Fe){return $e=+$e,Ne=Ne>>>0,Fe||ze(this,$e,Ne,4,2147483647,-2147483648),$e<0&&($e=4294967295+$e+1),this[Ne]=$e>>>24,this[Ne+1]=$e>>>16,this[Ne+2]=$e>>>8,this[Ne+3]=$e&255,Ne+4},j.prototype.writeBigInt64LE=Jt(function($e,Ne=0){return He(this,$e,Ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),j.prototype.writeBigInt64BE=Jt(function($e,Ne=0){return tt(this,$e,Ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ct(Ye,$e,Ne,Fe,nt,ft){if(Ne+Fe>Ye.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("Index out of range")}function ut(Ye,$e,Ne,Fe,nt){return $e=+$e,Ne=Ne>>>0,nt||ct(Ye,$e,Ne,4),x.write(Ye,$e,Ne,Fe,23,4),Ne+4}j.prototype.writeFloatLE=function($e,Ne,Fe){return ut(this,$e,Ne,!0,Fe)},j.prototype.writeFloatBE=function($e,Ne,Fe){return ut(this,$e,Ne,!1,Fe)};function it(Ye,$e,Ne,Fe,nt){return $e=+$e,Ne=Ne>>>0,nt||ct(Ye,$e,Ne,8),x.write(Ye,$e,Ne,Fe,52,8),Ne+8}j.prototype.writeDoubleLE=function($e,Ne,Fe){return it(this,$e,Ne,!0,Fe)},j.prototype.writeDoubleBE=function($e,Ne,Fe){return it(this,$e,Ne,!1,Fe)},j.prototype.copy=function($e,Ne,Fe,nt){if(!j.isBuffer($e))throw new TypeError("argument should be a Buffer");if(Fe||(Fe=0),!nt&&nt!==0&&(nt=this.length),Ne>=$e.length&&(Ne=$e.length),Ne||(Ne=0),nt>0&&nt<Fe&&(nt=Fe),nt===Fe||$e.length===0||this.length===0)return 0;if(Ne<0)throw new RangeError("targetStart out of bounds");if(Fe<0||Fe>=this.length)throw new RangeError("Index out of range");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),$e.length-Ne<nt-Fe&&(nt=$e.length-Ne+Fe);const ft=nt-Fe;return this===$e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ne,Fe,nt):Uint8Array.prototype.set.call($e,this.subarray(Fe,nt),Ne),ft},j.prototype.fill=function($e,Ne,Fe,nt){if(typeof $e=="string"){if(typeof Ne=="string"?(nt=Ne,Ne=0,Fe=this.length):typeof Fe=="string"&&(nt=Fe,Fe=this.length),nt!==void 0&&typeof nt!="string")throw new TypeError("encoding must be a string");if(typeof nt=="string"&&!j.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt);if($e.length===1){const Ct=$e.charCodeAt(0);(nt==="utf8"&&Ct<128||nt==="latin1")&&($e=Ct)}}else typeof $e=="number"?$e=$e&255:typeof $e=="boolean"&&($e=Number($e));if(Ne<0||this.length<Ne||this.length<Fe)throw new RangeError("Out of range index");if(Fe<=Ne)return this;Ne=Ne>>>0,Fe=Fe===void 0?this.length:Fe>>>0,$e||($e=0);let ft;if(typeof $e=="number")for(ft=Ne;ft<Fe;++ft)this[ft]=$e;else{const Ct=j.isBuffer($e)?$e:j.from($e,nt),Mt=Ct.length;if(Mt===0)throw new TypeError('The value "'+$e+'" is invalid for argument "value"');for(ft=0;ft<Fe-Ne;++ft)this[ft+Ne]=Ct[ft%Mt]}return this};const yt={};function et(Ye,$e,Ne){yt[Ye]=class extends Ne{constructor(){super(),Object.defineProperty(this,"message",{value:$e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ye}]`,this.stack,delete this.name}get code(){return Ye}set code(nt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nt,writable:!0})}toString(){return`${this.name} [${Ye}]: ${this.message}`}}}et("ERR_BUFFER_OUT_OF_BOUNDS",function(Ye){return Ye?`${Ye} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),et("ERR_INVALID_ARG_TYPE",function(Ye,$e){return`The "${Ye}" argument must be of type number. Received type ${typeof $e}`},TypeError),et("ERR_OUT_OF_RANGE",function(Ye,$e,Ne){let Fe=`The value of "${Ye}" is out of range.`,nt=Ne;return Number.isInteger(Ne)&&Math.abs(Ne)>2**32?nt=qe(String(Ne)):typeof Ne=="bigint"&&(nt=String(Ne),(Ne>BigInt(2)**BigInt(32)||Ne<-(BigInt(2)**BigInt(32)))&&(nt=qe(nt)),nt+="n"),Fe+=` It must be ${$e}. Received ${nt}`,Fe},RangeError);function qe(Ye){let $e="",Ne=Ye.length;const Fe=Ye[0]==="-"?1:0;for(;Ne>=Fe+4;Ne-=3)$e=`_${Ye.slice(Ne-3,Ne)}${$e}`;return`${Ye.slice(0,Ne)}${$e}`}function ot(Ye,$e,Ne){Ve($e,"offset"),(Ye[$e]===void 0||Ye[$e+Ne]===void 0)&&dt($e,Ye.length-(Ne+1))}function pt(Ye,$e,Ne,Fe,nt,ft){if(Ye>Ne||Ye<$e){const Ct=typeof $e=="bigint"?"n":"";let Mt;throw $e===0||$e===BigInt(0)?Mt=`>= 0${Ct} and < 2${Ct} ** ${(ft+1)*8}${Ct}`:Mt=`>= -(2${Ct} ** ${(ft+1)*8-1}${Ct}) and < 2 ** ${(ft+1)*8-1}${Ct}`,new yt.ERR_OUT_OF_RANGE("value",Mt,Ye)}ot(Fe,nt,ft)}function Ve(Ye,$e){if(typeof Ye!="number")throw new yt.ERR_INVALID_ARG_TYPE($e,"number",Ye)}function dt(Ye,$e,Ne){throw Math.floor(Ye)!==Ye?(Ve(Ye,Ne),new yt.ERR_OUT_OF_RANGE("offset","an integer",Ye)):$e<0?new yt.ERR_BUFFER_OUT_OF_BOUNDS:new yt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$e}`,Ye)}const Rt=/[^+/0-9A-Za-z-_]/g;function It(Ye){if(Ye=Ye.split("=")[0],Ye=Ye.trim().replace(Rt,""),Ye.length<2)return"";for(;Ye.length%4!==0;)Ye=Ye+"=";return Ye}function Xt(Ye,$e){$e=$e||1/0;let Ne;const Fe=Ye.length;let nt=null;const ft=[];for(let Ct=0;Ct<Fe;++Ct){if(Ne=Ye.charCodeAt(Ct),Ne>55295&&Ne<57344){if(!nt){if(Ne>56319){($e-=3)>-1&&ft.push(239,191,189);continue}else if(Ct+1===Fe){($e-=3)>-1&&ft.push(239,191,189);continue}nt=Ne;continue}if(Ne<56320){($e-=3)>-1&&ft.push(239,191,189),nt=Ne;continue}Ne=(nt-55296<<10|Ne-56320)+65536}else nt&&($e-=3)>-1&&ft.push(239,191,189);if(nt=null,Ne<128){if(($e-=1)<0)break;ft.push(Ne)}else if(Ne<2048){if(($e-=2)<0)break;ft.push(Ne>>6|192,Ne&63|128)}else if(Ne<65536){if(($e-=3)<0)break;ft.push(Ne>>12|224,Ne>>6&63|128,Ne&63|128)}else if(Ne<1114112){if(($e-=4)<0)break;ft.push(Ne>>18|240,Ne>>12&63|128,Ne>>6&63|128,Ne&63|128)}else throw new Error("Invalid code point")}return ft}function Ut(Ye){const $e=[];for(let Ne=0;Ne<Ye.length;++Ne)$e.push(Ye.charCodeAt(Ne)&255);return $e}function $t(Ye,$e){let Ne,Fe,nt;const ft=[];for(let Ct=0;Ct<Ye.length&&!(($e-=2)<0);++Ct)Ne=Ye.charCodeAt(Ct),Fe=Ne>>8,nt=Ne%256,ft.push(nt),ft.push(Fe);return ft}function Yt(Ye){return r.toByteArray(It(Ye))}function zt(Ye,$e,Ne,Fe){let nt;for(nt=0;nt<Fe&&!(nt+Ne>=$e.length||nt>=Ye.length);++nt)$e[nt+Ne]=Ye[nt];return nt}function Zt(Ye,$e){return Ye instanceof $e||Ye!=null&&Ye.constructor!=null&&Ye.constructor.name!=null&&Ye.constructor.name===$e.name}function rr(Ye){return Ye!==Ye}const or=function(){const Ye="0123456789abcdef",$e=new Array(256);for(let Ne=0;Ne<16;++Ne){const Fe=Ne*16;for(let nt=0;nt<16;++nt)$e[Fe+nt]=Ye[Ne]+Ye[nt]}return $e}();function Jt(Ye){return typeof BigInt>"u"?ur:Ye}function ur(){throw new Error("BigInt not supported")}})(buffer);const g$1=typeof globalThis<"u"?globalThis:window;g$1&&!g$1.Buffer&&(g$1.Buffer=buffer.Buffer);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;const PATTERNS={light:10,medium:25,success:[10,50,10],error:[50,100,50],warning:[25,50,25]};function isHapticSupported(){return typeof navigator<"u"&&"vibrate"in navigator}function haptic(o="light"){if(!isHapticSupported())return!1;try{const r=PATTERNS[o];return navigator.vibrate(r)}catch{return!1}}function hapticLight(){return haptic("light")}function hapticSuccess(){return haptic("success")}function hapticError(){return haptic("error")}const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=o=>{if(toastTimeouts.has(o))return;const r=setTimeout(()=>{toastTimeouts.delete(o),dispatch({type:"REMOVE_TOAST",toastId:o})},TOAST_REMOVE_DELAY);toastTimeouts.set(o,r)},reducer=(o,r)=>{switch(r.type){case"ADD_TOAST":return{...o,toasts:[r.toast,...o.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...o,toasts:o.toasts.map(x=>x.id===r.toast.id?{...x,...r.toast}:x)};case"DISMISS_TOAST":{const{toastId:x}=r;return x?addToRemoveQueue(x):o.toasts.forEach(O=>{addToRemoveQueue(O.id)}),{...o,toasts:o.toasts.map(O=>O.id===x||x===void 0?{...O,open:!1}:O)}}case"REMOVE_TOAST":return r.toastId===void 0?{...o,toasts:[]}:{...o,toasts:o.toasts.filter(x=>x.id!==r.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(o){memoryState=reducer(memoryState,o),listeners.forEach(r=>{r(memoryState)})}function toast({...o}){var E,y,S;const r=genId(),x=j=>dispatch({type:"UPDATE_TOAST",toast:{...j,id:r}}),O=()=>dispatch({type:"DISMISS_TOAST",toastId:r});return dispatch({type:"ADD_TOAST",toast:{...o,id:r,open:!0,onOpenChange:j=>{j||O()}}}),o.variant==="destructive"?hapticError():(E=o.title)!=null&&E.toString().toLowerCase().includes("success")||(y=o.title)!=null&&y.toString().toLowerCase().includes("완료")||(S=o.title)!=null&&S.toString().toLowerCase().includes("저장")?hapticSuccess():hapticLight(),{id:r,dismiss:O,update:x}}function useToast(){const[o,r]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(r),()=>{const x=listeners.indexOf(r);x>-1&&listeners.splice(x,1)}),[o]),{...o,toast,dismiss:x=>dispatch({type:"DISMISS_TOAST",toastId:x})}}const THEME_LABELS={light:"Light",dark:"Dark",system:"System",terminal:"Terminal"},ThemeContext=reactExports.createContext(void 0);function ThemeProvider({children:o}){const[r,x]=reactExports.useState(()=>localStorage.getItem("theme")||"light"),O=reactExports.useRef(!0),E=r==="terminal",y=reactExports.useCallback(S=>{if(x(S),!O.current){const j=THEME_LABELS[S];toast(S==="terminal"?{title:`>_ ${j} mode activated`,description:"Welcome to the matrix"}:{title:`Theme: ${j}`,description:`Switched to ${j.toLowerCase()} mode`})}},[]);return reactExports.useEffect(()=>{const S=window.document.documentElement;if(S.classList.remove("light","dark","terminal"),r==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";S.classList.add(j)}else r==="terminal"?S.classList.add("dark","terminal"):S.classList.add(r);localStorage.setItem("theme",r),O.current&&(O.current=!1)},[r]),reactExports.useEffect(()=>{const S=window.matchMedia("(prefers-color-scheme: dark)"),j=()=>{if(r==="system"){const w=window.document.documentElement;w.classList.remove("light","dark","terminal"),w.classList.add(S.matches?"dark":"light")}};return S.addEventListener("change",j),()=>S.removeEventListener("change",j)},[r]),jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:r,setTheme:y,isTerminal:E},children:o})}const useTheme=()=>{const o=reactExports.useContext(ThemeContext);if(!o)throw new Error("useTheme must be used within a ThemeProvider");return o},LanguageContext=reactExports.createContext(void 0),STORAGE_KEY$6="site.language",DEFAULT_LANGUAGE="ko";function LanguageProvider({children:o}){const[r,x]=reactExports.useState(DEFAULT_LANGUAGE);reactExports.useEffect(()=>{var j;if(!(typeof window>"u"))try{const w=localStorage.getItem(STORAGE_KEY$6);if(w==="ko"||w==="en"){x(w);return}(((j=navigator.language)==null?void 0:j.toLowerCase())??"").startsWith("en")&&x("en")}catch{}},[]),reactExports.useEffect(()=>{if(typeof window>"u")return;const j=w=>{if(w.key!==STORAGE_KEY$6)return;const _=w.newValue==="en"?"en":"ko";x(Q=>Q===_?Q:_)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[]);const O=j=>{if(!(typeof window>"u"))try{localStorage.setItem(STORAGE_KEY$6,j)}catch{}},E=j=>{x(w=>w===j?w:j),O(j)},y=()=>{const j=r==="ko"?"en":"ko";x(j),O(j)},S=reactExports.useMemo(()=>({language:r,setLanguage:E,toggleLanguage:y}),[r]);return jsxRuntimeExports.jsx(LanguageContext.Provider,{value:S,children:o})}function useLanguage(){const o=reactExports.useContext(LanguageContext);if(!o)throw new Error("useLanguage must be used within a LanguageProvider");return o}function cn(...o){return twMerge(clsx(o))}function throttle$2(o,r){let x=0,O=null;return(...E)=>{const y=Date.now(),S=y-x;S>=r?(x=y,o(...E)):O||(O=setTimeout(()=>{x=Date.now(),O=null,o(...E)},r-S))}}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/85 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-border bg-card hover:bg-accent hover:text-accent-foreground hover:border-border/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/70 border border-transparent hover:border-border/50",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",terminal:"bg-transparent border border-[hsl(var(--terminal-inactive-border,var(--border)))] text-muted-foreground font-mono uppercase tracking-wider hover:border-primary hover:text-primary hover:shadow-[0_0_10px_hsl(var(--primary)/0.4)] hover:[text-shadow:0_0_5px_hsl(var(--primary))]","terminal-active":"bg-primary text-[hsl(210_50%_2%)] border border-primary font-mono uppercase tracking-wider shadow-[0_0_10px_hsl(var(--primary)/0.4)]","terminal-danger":"bg-transparent border border-destructive/50 text-destructive font-mono uppercase tracking-wider hover:bg-destructive hover:text-white hover:shadow-[0_0_10px_hsl(var(--destructive)/0.5)]"},size:{default:"h-10 px-4 py-2 rounded-xl",sm:"h-9 rounded-xl px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10 rounded-xl",terminal:"h-9 px-4 py-2 rounded-[4px] text-xs"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:o,variant:r,size:x,asChild:O=!1,...E},y)=>{const S=O?Slot$3:"button";return jsxRuntimeExports.jsx(S,{className:cn(buttonVariants({variant:r,size:x,className:o})),ref:y,...E})});Button.displayName="Button";const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=o=>({x:o,y:o}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(o,r,x){return max(o,min(r,x))}function evaluate(o,r){return typeof o=="function"?o(r):o}function getSide(o){return o.split("-")[0]}function getAlignment(o){return o.split("-")[1]}function getOppositeAxis(o){return o==="x"?"y":"x"}function getAxisLength(o){return o==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(o){return yAxisSides.has(getSide(o))?"y":"x"}function getAlignmentAxis(o){return getOppositeAxis(getSideAxis(o))}function getAlignmentSides(o,r,x){x===void 0&&(x=!1);const O=getAlignment(o),E=getAlignmentAxis(o),y=getAxisLength(E);let S=E==="x"?O===(x?"end":"start")?"right":"left":O==="start"?"bottom":"top";return r.reference[y]>r.floating[y]&&(S=getOppositePlacement(S)),[S,getOppositePlacement(S)]}function getExpandedPlacements(o){const r=getOppositePlacement(o);return[getOppositeAlignmentPlacement(o),r,getOppositeAlignmentPlacement(r)]}function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,r=>oppositeAlignmentMap[r])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(o,r,x){switch(o){case"top":case"bottom":return x?r?rlPlacement:lrPlacement:r?lrPlacement:rlPlacement;case"left":case"right":return r?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(o,r,x,O){const E=getAlignment(o);let y=getSideList(getSide(o),x==="start",O);return E&&(y=y.map(S=>S+"-"+E),r&&(y=y.concat(y.map(getOppositeAlignmentPlacement)))),y}function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,r=>oppositeSideMap[r])}function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getPaddingObject(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect(o){const{x:r,y:x,width:O,height:E}=o;return{width:O,height:E,top:x,left:r,right:r+O,bottom:x+E,x:r,y:x}}function computeCoordsFromPlacement(o,r,x){let{reference:O,floating:E}=o;const y=getSideAxis(r),S=getAlignmentAxis(r),j=getAxisLength(S),w=getSide(r),_=y==="y",Q=O.x+O.width/2-E.width/2,I=O.y+O.height/2-E.height/2,M=O[j]/2-E[j]/2;let F;switch(w){case"top":F={x:Q,y:O.y-E.height};break;case"bottom":F={x:Q,y:O.y+O.height};break;case"right":F={x:O.x+O.width,y:I};break;case"left":F={x:O.x-E.width,y:I};break;default:F={x:O.x,y:O.y}}switch(getAlignment(r)){case"start":F[S]-=M*(x&&_?-1:1);break;case"end":F[S]+=M*(x&&_?-1:1);break}return F}const computePosition$1=async(o,r,x)=>{const{placement:O="bottom",strategy:E="absolute",middleware:y=[],platform:S}=x,j=y.filter(Boolean),w=await(S.isRTL==null?void 0:S.isRTL(r));let _=await S.getElementRects({reference:o,floating:r,strategy:E}),{x:Q,y:I}=computeCoordsFromPlacement(_,O,w),M=O,F={},V=0;for(let te=0;te<j.length;te++){const{name:re,fn:se}=j[te],{x:ne,y:oe,data:Oe,reset:ae}=await se({x:Q,y:I,initialPlacement:O,placement:M,strategy:E,middlewareData:F,rects:_,platform:S,elements:{reference:o,floating:r}});Q=ne??Q,I=oe??I,F={...F,[re]:{...F[re],...Oe}},ae&&V<=50&&(V++,typeof ae=="object"&&(ae.placement&&(M=ae.placement),ae.rects&&(_=ae.rects===!0?await S.getElementRects({reference:o,floating:r,strategy:E}):ae.rects),{x:Q,y:I}=computeCoordsFromPlacement(_,M,w)),te=-1)}return{x:Q,y:I,placement:M,strategy:E,middlewareData:F}};async function detectOverflow(o,r){var x;r===void 0&&(r={});const{x:O,y:E,platform:y,rects:S,elements:j,strategy:w}=o,{boundary:_="clippingAncestors",rootBoundary:Q="viewport",elementContext:I="floating",altBoundary:M=!1,padding:F=0}=evaluate(r,o),V=getPaddingObject(F),re=j[M?I==="floating"?"reference":"floating":I],se=rectToClientRect(await y.getClippingRect({element:(x=await(y.isElement==null?void 0:y.isElement(re)))==null||x?re:re.contextElement||await(y.getDocumentElement==null?void 0:y.getDocumentElement(j.floating)),boundary:_,rootBoundary:Q,strategy:w})),ne=I==="floating"?{x:O,y:E,width:S.floating.width,height:S.floating.height}:S.reference,oe=await(y.getOffsetParent==null?void 0:y.getOffsetParent(j.floating)),Oe=await(y.isElement==null?void 0:y.isElement(oe))?await(y.getScale==null?void 0:y.getScale(oe))||{x:1,y:1}:{x:1,y:1},ae=rectToClientRect(y.convertOffsetParentRelativeRectToViewportRelativeRect?await y.convertOffsetParentRelativeRectToViewportRelativeRect({elements:j,rect:ne,offsetParent:oe,strategy:w}):ne);return{top:(se.top-ae.top+V.top)/Oe.y,bottom:(ae.bottom-se.bottom+V.bottom)/Oe.y,left:(se.left-ae.left+V.left)/Oe.x,right:(ae.right-se.right+V.right)/Oe.x}}const arrow$3=o=>({name:"arrow",options:o,async fn(r){const{x,y:O,placement:E,rects:y,platform:S,elements:j,middlewareData:w}=r,{element:_,padding:Q=0}=evaluate(o,r)||{};if(_==null)return{};const I=getPaddingObject(Q),M={x,y:O},F=getAlignmentAxis(E),V=getAxisLength(F),te=await S.getDimensions(_),re=F==="y",se=re?"top":"left",ne=re?"bottom":"right",oe=re?"clientHeight":"clientWidth",Oe=y.reference[V]+y.reference[F]-M[F]-y.floating[V],ae=M[F]-y.reference[F],ge=await(S.getOffsetParent==null?void 0:S.getOffsetParent(_));let je=ge?ge[oe]:0;(!je||!await(S.isElement==null?void 0:S.isElement(ge)))&&(je=j.floating[oe]||y.floating[V]);const Ae=Oe/2-ae/2,Qe=je/2-te[V]/2-1,Xe=min(I[se],Qe),Ue=min(I[ne],Qe),Le=Xe,Ze=je-te[V]-Ue,Be=je/2-te[V]/2+Ae,Ge=clamp$1(Le,Be,Ze),We=!w.arrow&&getAlignment(E)!=null&&Be!==Ge&&y.reference[V]/2-(Be<Le?Xe:Ue)-te[V]/2<0,at=We?Be<Le?Be-Le:Be-Ze:0;return{[F]:M[F]+at,data:{[F]:Ge,centerOffset:Be-Ge-at,...We&&{alignmentOffset:at}},reset:We}}}),flip$2=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(r){var x,O;const{placement:E,middlewareData:y,rects:S,initialPlacement:j,platform:w,elements:_}=r,{mainAxis:Q=!0,crossAxis:I=!0,fallbackPlacements:M,fallbackStrategy:F="bestFit",fallbackAxisSideDirection:V="none",flipAlignment:te=!0,...re}=evaluate(o,r);if((x=y.arrow)!=null&&x.alignmentOffset)return{};const se=getSide(E),ne=getSideAxis(j),oe=getSide(j)===j,Oe=await(w.isRTL==null?void 0:w.isRTL(_.floating)),ae=M||(oe||!te?[getOppositePlacement(j)]:getExpandedPlacements(j)),ge=V!=="none";!M&&ge&&ae.push(...getOppositeAxisPlacements(j,te,V,Oe));const je=[j,...ae],Ae=await detectOverflow(r,re),Qe=[];let Xe=((O=y.flip)==null?void 0:O.overflows)||[];if(Q&&Qe.push(Ae[se]),I){const Be=getAlignmentSides(E,S,Oe);Qe.push(Ae[Be[0]],Ae[Be[1]])}if(Xe=[...Xe,{placement:E,overflows:Qe}],!Qe.every(Be=>Be<=0)){var Ue,Le;const Be=(((Ue=y.flip)==null?void 0:Ue.index)||0)+1,Ge=je[Be];if(Ge&&(!(I==="alignment"?ne!==getSideAxis(Ge):!1)||Xe.every(rt=>getSideAxis(rt.placement)===ne?rt.overflows[0]>0:!0)))return{data:{index:Be,overflows:Xe},reset:{placement:Ge}};let We=(Le=Xe.filter(at=>at.overflows[0]<=0).sort((at,rt)=>at.overflows[1]-rt.overflows[1])[0])==null?void 0:Le.placement;if(!We)switch(F){case"bestFit":{var Ze;const at=(Ze=Xe.filter(rt=>{if(ge){const Je=getSideAxis(rt.placement);return Je===ne||Je==="y"}return!0}).map(rt=>[rt.placement,rt.overflows.filter(Je=>Je>0).reduce((Je,mt)=>Je+mt,0)]).sort((rt,Je)=>rt[1]-Je[1])[0])==null?void 0:Ze[0];at&&(We=at);break}case"initialPlacement":We=j;break}if(E!==We)return{reset:{placement:We}}}return{}}}};function getSideOffsets(o,r){return{top:o.top-r.height,right:o.right-r.width,bottom:o.bottom-r.height,left:o.left-r.width}}function isAnySideFullyClipped(o){return sides.some(r=>o[r]>=0)}const hide$2=function(o){return o===void 0&&(o={}),{name:"hide",options:o,async fn(r){const{rects:x}=r,{strategy:O="referenceHidden",...E}=evaluate(o,r);switch(O){case"referenceHidden":{const y=await detectOverflow(r,{...E,elementContext:"reference"}),S=getSideOffsets(y,x.reference);return{data:{referenceHiddenOffsets:S,referenceHidden:isAnySideFullyClipped(S)}}}case"escaped":{const y=await detectOverflow(r,{...E,altBoundary:!0}),S=getSideOffsets(y,x.floating);return{data:{escapedOffsets:S,escaped:isAnySideFullyClipped(S)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(o,r){const{placement:x,platform:O,elements:E}=o,y=await(O.isRTL==null?void 0:O.isRTL(E.floating)),S=getSide(x),j=getAlignment(x),w=getSideAxis(x)==="y",_=originSides.has(S)?-1:1,Q=y&&w?-1:1,I=evaluate(r,o);let{mainAxis:M,crossAxis:F,alignmentAxis:V}=typeof I=="number"?{mainAxis:I,crossAxis:0,alignmentAxis:null}:{mainAxis:I.mainAxis||0,crossAxis:I.crossAxis||0,alignmentAxis:I.alignmentAxis};return j&&typeof V=="number"&&(F=j==="end"?V*-1:V),w?{x:F*Q,y:M*_}:{x:M*_,y:F*Q}}const offset$2=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(r){var x,O;const{x:E,y,placement:S,middlewareData:j}=r,w=await convertValueToCoords(r,o);return S===((x=j.offset)==null?void 0:x.placement)&&(O=j.arrow)!=null&&O.alignmentOffset?{}:{x:E+w.x,y:y+w.y,data:{...w,placement:S}}}}},shift$3=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(r){const{x,y:O,placement:E}=r,{mainAxis:y=!0,crossAxis:S=!1,limiter:j={fn:re=>{let{x:se,y:ne}=re;return{x:se,y:ne}}},...w}=evaluate(o,r),_={x,y:O},Q=await detectOverflow(r,w),I=getSideAxis(getSide(E)),M=getOppositeAxis(I);let F=_[M],V=_[I];if(y){const re=M==="y"?"top":"left",se=M==="y"?"bottom":"right",ne=F+Q[re],oe=F-Q[se];F=clamp$1(ne,F,oe)}if(S){const re=I==="y"?"top":"left",se=I==="y"?"bottom":"right",ne=V+Q[re],oe=V-Q[se];V=clamp$1(ne,V,oe)}const te=j.fn({...r,[M]:F,[I]:V});return{...te,data:{x:te.x-x,y:te.y-O,enabled:{[M]:y,[I]:S}}}}}},limitShift$2=function(o){return o===void 0&&(o={}),{options:o,fn(r){const{x,y:O,placement:E,rects:y,middlewareData:S}=r,{offset:j=0,mainAxis:w=!0,crossAxis:_=!0}=evaluate(o,r),Q={x,y:O},I=getSideAxis(E),M=getOppositeAxis(I);let F=Q[M],V=Q[I];const te=evaluate(j,r),re=typeof te=="number"?{mainAxis:te,crossAxis:0}:{mainAxis:0,crossAxis:0,...te};if(w){const oe=M==="y"?"height":"width",Oe=y.reference[M]-y.floating[oe]+re.mainAxis,ae=y.reference[M]+y.reference[oe]-re.mainAxis;F<Oe?F=Oe:F>ae&&(F=ae)}if(_){var se,ne;const oe=M==="y"?"width":"height",Oe=originSides.has(getSide(E)),ae=y.reference[I]-y.floating[oe]+(Oe&&((se=S.offset)==null?void 0:se[I])||0)+(Oe?0:re.crossAxis),ge=y.reference[I]+y.reference[oe]+(Oe?0:((ne=S.offset)==null?void 0:ne[I])||0)-(Oe?re.crossAxis:0);V<ae?V=ae:V>ge&&(V=ge)}return{[M]:F,[I]:V}}}},size$2=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(r){var x,O;const{placement:E,rects:y,platform:S,elements:j}=r,{apply:w=()=>{},..._}=evaluate(o,r),Q=await detectOverflow(r,_),I=getSide(E),M=getAlignment(E),F=getSideAxis(E)==="y",{width:V,height:te}=y.floating;let re,se;I==="top"||I==="bottom"?(re=I,se=M===(await(S.isRTL==null?void 0:S.isRTL(j.floating))?"start":"end")?"left":"right"):(se=I,re=M==="end"?"top":"bottom");const ne=te-Q.top-Q.bottom,oe=V-Q.left-Q.right,Oe=min(te-Q[re],ne),ae=min(V-Q[se],oe),ge=!r.middlewareData.shift;let je=Oe,Ae=ae;if((x=r.middlewareData.shift)!=null&&x.enabled.x&&(Ae=oe),(O=r.middlewareData.shift)!=null&&O.enabled.y&&(je=ne),ge&&!M){const Xe=max(Q.left,0),Ue=max(Q.right,0),Le=max(Q.top,0),Ze=max(Q.bottom,0);F?Ae=V-2*(Xe!==0||Ue!==0?Xe+Ue:max(Q.left,Q.right)):je=te-2*(Le!==0||Ze!==0?Le+Ze:max(Q.top,Q.bottom))}await w({...r,availableWidth:Ae,availableHeight:je});const Qe=await S.getDimensions(j.floating);return V!==Qe.width||te!==Qe.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(o){return isNode(o)?(o.nodeName||"").toLowerCase():"#document"}function getWindow(o){var r;return(o==null||(r=o.ownerDocument)==null?void 0:r.defaultView)||window}function getDocumentElement(o){var r;return(r=(isNode(o)?o.ownerDocument:o.document)||window.document)==null?void 0:r.documentElement}function isNode(o){return hasWindow()?o instanceof Node||o instanceof getWindow(o).Node:!1}function isElement(o){return hasWindow()?o instanceof Element||o instanceof getWindow(o).Element:!1}function isHTMLElement$1(o){return hasWindow()?o instanceof HTMLElement||o instanceof getWindow(o).HTMLElement:!1}function isShadowRoot(o){return!hasWindow()||typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof getWindow(o).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(o){const{overflow:r,overflowX:x,overflowY:O,display:E}=getComputedStyle$1(o);return/auto|scroll|overlay|hidden|clip/.test(r+O+x)&&!invalidOverflowDisplayValues.has(E)}const tableElements=new Set(["table","td","th"]);function isTableElement(o){return tableElements.has(getNodeName(o))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(o){return topLayerSelectors.some(r=>{try{return o.matches(r)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(o){const r=isWebKit(),x=isElement(o)?getComputedStyle$1(o):o;return transformProperties.some(O=>x[O]?x[O]!=="none":!1)||(x.containerType?x.containerType!=="normal":!1)||!r&&(x.backdropFilter?x.backdropFilter!=="none":!1)||!r&&(x.filter?x.filter!=="none":!1)||willChangeValues.some(O=>(x.willChange||"").includes(O))||containValues.some(O=>(x.contain||"").includes(O))}function getContainingBlock(o){let r=getParentNode(o);for(;isHTMLElement$1(r)&&!isLastTraversableNode(r);){if(isContainingBlock(r))return r;if(isTopLayer(r))return null;r=getParentNode(r)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(o){return lastTraversableNodeNames.has(getNodeName(o))}function getComputedStyle$1(o){return getWindow(o).getComputedStyle(o)}function getNodeScroll(o){return isElement(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function getParentNode(o){if(getNodeName(o)==="html")return o;const r=o.assignedSlot||o.parentNode||isShadowRoot(o)&&o.host||getDocumentElement(o);return isShadowRoot(r)?r.host:r}function getNearestOverflowAncestor(o){const r=getParentNode(o);return isLastTraversableNode(r)?o.ownerDocument?o.ownerDocument.body:o.body:isHTMLElement$1(r)&&isOverflowElement(r)?r:getNearestOverflowAncestor(r)}function getOverflowAncestors(o,r,x){var O;r===void 0&&(r=[]),x===void 0&&(x=!0);const E=getNearestOverflowAncestor(o),y=E===((O=o.ownerDocument)==null?void 0:O.body),S=getWindow(E);if(y){const j=getFrameElement(S);return r.concat(S,S.visualViewport||[],isOverflowElement(E)?E:[],j&&x?getOverflowAncestors(j):[])}return r.concat(E,getOverflowAncestors(E,[],x))}function getFrameElement(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function getCssDimensions(o){const r=getComputedStyle$1(o);let x=parseFloat(r.width)||0,O=parseFloat(r.height)||0;const E=isHTMLElement$1(o),y=E?o.offsetWidth:x,S=E?o.offsetHeight:O,j=round(x)!==y||round(O)!==S;return j&&(x=y,O=S),{width:x,height:O,$:j}}function unwrapElement(o){return isElement(o)?o:o.contextElement}function getScale$1(o){const r=unwrapElement(o);if(!isHTMLElement$1(r))return createCoords(1);const x=r.getBoundingClientRect(),{width:O,height:E,$:y}=getCssDimensions(r);let S=(y?round(x.width):x.width)/O,j=(y?round(x.height):x.height)/E;return(!S||!Number.isFinite(S))&&(S=1),(!j||!Number.isFinite(j))&&(j=1),{x:S,y:j}}const noOffsets=createCoords(0);function getVisualOffsets(o){const r=getWindow(o);return!isWebKit()||!r.visualViewport?noOffsets:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function shouldAddVisualOffsets(o,r,x){return r===void 0&&(r=!1),!x||r&&x!==getWindow(o)?!1:r}function getBoundingClientRect(o,r,x,O){r===void 0&&(r=!1),x===void 0&&(x=!1);const E=o.getBoundingClientRect(),y=unwrapElement(o);let S=createCoords(1);r&&(O?isElement(O)&&(S=getScale$1(O)):S=getScale$1(o));const j=shouldAddVisualOffsets(y,x,O)?getVisualOffsets(y):createCoords(0);let w=(E.left+j.x)/S.x,_=(E.top+j.y)/S.y,Q=E.width/S.x,I=E.height/S.y;if(y){const M=getWindow(y),F=O&&isElement(O)?getWindow(O):O;let V=M,te=getFrameElement(V);for(;te&&O&&F!==V;){const re=getScale$1(te),se=te.getBoundingClientRect(),ne=getComputedStyle$1(te),oe=se.left+(te.clientLeft+parseFloat(ne.paddingLeft))*re.x,Oe=se.top+(te.clientTop+parseFloat(ne.paddingTop))*re.y;w*=re.x,_*=re.y,Q*=re.x,I*=re.y,w+=oe,_+=Oe,V=getWindow(te),te=getFrameElement(V)}}return rectToClientRect({width:Q,height:I,x:w,y:_})}function getWindowScrollBarX(o,r){const x=getNodeScroll(o).scrollLeft;return r?r.left+x:getBoundingClientRect(getDocumentElement(o)).left+x}function getHTMLOffset(o,r){const x=o.getBoundingClientRect(),O=x.left+r.scrollLeft-getWindowScrollBarX(o,x),E=x.top+r.scrollTop;return{x:O,y:E}}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{elements:r,rect:x,offsetParent:O,strategy:E}=o;const y=E==="fixed",S=getDocumentElement(O),j=r?isTopLayer(r.floating):!1;if(O===S||j&&y)return x;let w={scrollLeft:0,scrollTop:0},_=createCoords(1);const Q=createCoords(0),I=isHTMLElement$1(O);if((I||!I&&!y)&&((getNodeName(O)!=="body"||isOverflowElement(S))&&(w=getNodeScroll(O)),isHTMLElement$1(O))){const F=getBoundingClientRect(O);_=getScale$1(O),Q.x=F.x+O.clientLeft,Q.y=F.y+O.clientTop}const M=S&&!I&&!y?getHTMLOffset(S,w):createCoords(0);return{width:x.width*_.x,height:x.height*_.y,x:x.x*_.x-w.scrollLeft*_.x+Q.x+M.x,y:x.y*_.y-w.scrollTop*_.y+Q.y+M.y}}function getClientRects(o){return Array.from(o.getClientRects())}function getDocumentRect(o){const r=getDocumentElement(o),x=getNodeScroll(o),O=o.ownerDocument.body,E=max(r.scrollWidth,r.clientWidth,O.scrollWidth,O.clientWidth),y=max(r.scrollHeight,r.clientHeight,O.scrollHeight,O.clientHeight);let S=-x.scrollLeft+getWindowScrollBarX(o);const j=-x.scrollTop;return getComputedStyle$1(O).direction==="rtl"&&(S+=max(r.clientWidth,O.clientWidth)-E),{width:E,height:y,x:S,y:j}}const SCROLLBAR_MAX=25;function getViewportRect(o,r){const x=getWindow(o),O=getDocumentElement(o),E=x.visualViewport;let y=O.clientWidth,S=O.clientHeight,j=0,w=0;if(E){y=E.width,S=E.height;const Q=isWebKit();(!Q||Q&&r==="fixed")&&(j=E.offsetLeft,w=E.offsetTop)}const _=getWindowScrollBarX(O);if(_<=0){const Q=O.ownerDocument,I=Q.body,M=getComputedStyle(I),F=Q.compatMode==="CSS1Compat"&&parseFloat(M.marginLeft)+parseFloat(M.marginRight)||0,V=Math.abs(O.clientWidth-I.clientWidth-F);V<=SCROLLBAR_MAX&&(y-=V)}else _<=SCROLLBAR_MAX&&(y+=_);return{width:y,height:S,x:j,y:w}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(o,r){const x=getBoundingClientRect(o,!0,r==="fixed"),O=x.top+o.clientTop,E=x.left+o.clientLeft,y=isHTMLElement$1(o)?getScale$1(o):createCoords(1),S=o.clientWidth*y.x,j=o.clientHeight*y.y,w=E*y.x,_=O*y.y;return{width:S,height:j,x:w,y:_}}function getClientRectFromClippingAncestor(o,r,x){let O;if(r==="viewport")O=getViewportRect(o,x);else if(r==="document")O=getDocumentRect(getDocumentElement(o));else if(isElement(r))O=getInnerBoundingClientRect(r,x);else{const E=getVisualOffsets(o);O={x:r.x-E.x,y:r.y-E.y,width:r.width,height:r.height}}return rectToClientRect(O)}function hasFixedPositionAncestor(o,r){const x=getParentNode(o);return x===r||!isElement(x)||isLastTraversableNode(x)?!1:getComputedStyle$1(x).position==="fixed"||hasFixedPositionAncestor(x,r)}function getClippingElementAncestors(o,r){const x=r.get(o);if(x)return x;let O=getOverflowAncestors(o,[],!1).filter(j=>isElement(j)&&getNodeName(j)!=="body"),E=null;const y=getComputedStyle$1(o).position==="fixed";let S=y?getParentNode(o):o;for(;isElement(S)&&!isLastTraversableNode(S);){const j=getComputedStyle$1(S),w=isContainingBlock(S);!w&&j.position==="fixed"&&(E=null),(y?!w&&!E:!w&&j.position==="static"&&!!E&&absoluteOrFixed.has(E.position)||isOverflowElement(S)&&!w&&hasFixedPositionAncestor(o,S))?O=O.filter(Q=>Q!==S):E=j,S=getParentNode(S)}return r.set(o,O),O}function getClippingRect(o){let{element:r,boundary:x,rootBoundary:O,strategy:E}=o;const S=[...x==="clippingAncestors"?isTopLayer(r)?[]:getClippingElementAncestors(r,this._c):[].concat(x),O],j=S[0],w=S.reduce((_,Q)=>{const I=getClientRectFromClippingAncestor(r,Q,E);return _.top=max(I.top,_.top),_.right=min(I.right,_.right),_.bottom=min(I.bottom,_.bottom),_.left=max(I.left,_.left),_},getClientRectFromClippingAncestor(r,j,E));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function getDimensions(o){const{width:r,height:x}=getCssDimensions(o);return{width:r,height:x}}function getRectRelativeToOffsetParent(o,r,x){const O=isHTMLElement$1(r),E=getDocumentElement(r),y=x==="fixed",S=getBoundingClientRect(o,!0,y,r);let j={scrollLeft:0,scrollTop:0};const w=createCoords(0);function _(){w.x=getWindowScrollBarX(E)}if(O||!O&&!y)if((getNodeName(r)!=="body"||isOverflowElement(E))&&(j=getNodeScroll(r)),O){const F=getBoundingClientRect(r,!0,y,r);w.x=F.x+r.clientLeft,w.y=F.y+r.clientTop}else E&&_();y&&!O&&E&&_();const Q=E&&!O&&!y?getHTMLOffset(E,j):createCoords(0),I=S.left+j.scrollLeft-w.x-Q.x,M=S.top+j.scrollTop-w.y-Q.y;return{x:I,y:M,width:S.width,height:S.height}}function isStaticPositioned(o){return getComputedStyle$1(o).position==="static"}function getTrueOffsetParent(o,r){if(!isHTMLElement$1(o)||getComputedStyle$1(o).position==="fixed")return null;if(r)return r(o);let x=o.offsetParent;return getDocumentElement(o)===x&&(x=x.ownerDocument.body),x}function getOffsetParent(o,r){const x=getWindow(o);if(isTopLayer(o))return x;if(!isHTMLElement$1(o)){let E=getParentNode(o);for(;E&&!isLastTraversableNode(E);){if(isElement(E)&&!isStaticPositioned(E))return E;E=getParentNode(E)}return x}let O=getTrueOffsetParent(o,r);for(;O&&isTableElement(O)&&isStaticPositioned(O);)O=getTrueOffsetParent(O,r);return O&&isLastTraversableNode(O)&&isStaticPositioned(O)&&!isContainingBlock(O)?x:O||getContainingBlock(o)||x}const getElementRects=async function(o){const r=this.getOffsetParent||getOffsetParent,x=this.getDimensions,O=await x(o.floating);return{reference:getRectRelativeToOffsetParent(o.reference,await r(o.floating),o.strategy),floating:{x:0,y:0,width:O.width,height:O.height}}};function isRTL(o){return getComputedStyle$1(o).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement,isRTL};function rectsAreEqual(o,r){return o.x===r.x&&o.y===r.y&&o.width===r.width&&o.height===r.height}function observeMove(o,r){let x=null,O;const E=getDocumentElement(o);function y(){var j;clearTimeout(O),(j=x)==null||j.disconnect(),x=null}function S(j,w){j===void 0&&(j=!1),w===void 0&&(w=1),y();const _=o.getBoundingClientRect(),{left:Q,top:I,width:M,height:F}=_;if(j||r(),!M||!F)return;const V=floor(I),te=floor(E.clientWidth-(Q+M)),re=floor(E.clientHeight-(I+F)),se=floor(Q),oe={rootMargin:-V+"px "+-te+"px "+-re+"px "+-se+"px",threshold:max(0,min(1,w))||1};let Oe=!0;function ae(ge){const je=ge[0].intersectionRatio;if(je!==w){if(!Oe)return S();je?S(!1,je):O=setTimeout(()=>{S(!1,1e-7)},1e3)}je===1&&!rectsAreEqual(_,o.getBoundingClientRect())&&S(),Oe=!1}try{x=new IntersectionObserver(ae,{...oe,root:E.ownerDocument})}catch{x=new IntersectionObserver(ae,oe)}x.observe(o)}return S(!0),y}function autoUpdate(o,r,x,O){O===void 0&&(O={});const{ancestorScroll:E=!0,ancestorResize:y=!0,elementResize:S=typeof ResizeObserver=="function",layoutShift:j=typeof IntersectionObserver=="function",animationFrame:w=!1}=O,_=unwrapElement(o),Q=E||y?[..._?getOverflowAncestors(_):[],...getOverflowAncestors(r)]:[];Q.forEach(se=>{E&&se.addEventListener("scroll",x,{passive:!0}),y&&se.addEventListener("resize",x)});const I=_&&j?observeMove(_,x):null;let M=-1,F=null;S&&(F=new ResizeObserver(se=>{let[ne]=se;ne&&ne.target===_&&F&&(F.unobserve(r),cancelAnimationFrame(M),M=requestAnimationFrame(()=>{var oe;(oe=F)==null||oe.observe(r)})),x()}),_&&!w&&F.observe(_),F.observe(r));let V,te=w?getBoundingClientRect(o):null;w&&re();function re(){const se=getBoundingClientRect(o);te&&!rectsAreEqual(te,se)&&x(),te=se,V=requestAnimationFrame(re)}return x(),()=>{var se;Q.forEach(ne=>{E&&ne.removeEventListener("scroll",x),y&&ne.removeEventListener("resize",x)}),I==null||I(),(se=F)==null||se.disconnect(),F=null,w&&cancelAnimationFrame(V)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(o,r,x)=>{const O=new Map,E={platform,...x},y={...E.platform,_c:O};return computePosition$1(o,r,{...E,platform:y})};var isClient=typeof document<"u",noop$2=function(){},index=isClient?reactExports.useLayoutEffect:noop$2;function deepEqual(o,r){if(o===r)return!0;if(typeof o!=typeof r)return!1;if(typeof o=="function"&&o.toString()===r.toString())return!0;let x,O,E;if(o&&r&&typeof o=="object"){if(Array.isArray(o)){if(x=o.length,x!==r.length)return!1;for(O=x;O--!==0;)if(!deepEqual(o[O],r[O]))return!1;return!0}if(E=Object.keys(o),x=E.length,x!==Object.keys(r).length)return!1;for(O=x;O--!==0;)if(!{}.hasOwnProperty.call(r,E[O]))return!1;for(O=x;O--!==0;){const y=E[O];if(!(y==="_owner"&&o.$$typeof)&&!deepEqual(o[y],r[y]))return!1}return!0}return o!==o&&r!==r}function getDPR(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(o,r){const x=getDPR(o);return Math.round(r*x)/x}function useLatestRef(o){const r=reactExports.useRef(o);return index(()=>{r.current=o}),r}function useFloating(o){o===void 0&&(o={});const{placement:r="bottom",strategy:x="absolute",middleware:O=[],platform:E,elements:{reference:y,floating:S}={},transform:j=!0,whileElementsMounted:w,open:_}=o,[Q,I]=reactExports.useState({x:0,y:0,strategy:x,placement:r,middlewareData:{},isPositioned:!1}),[M,F]=reactExports.useState(O);deepEqual(M,O)||F(O);const[V,te]=reactExports.useState(null),[re,se]=reactExports.useState(null),ne=reactExports.useCallback(rt=>{rt!==ge.current&&(ge.current=rt,te(rt))},[]),oe=reactExports.useCallback(rt=>{rt!==je.current&&(je.current=rt,se(rt))},[]),Oe=y||V,ae=S||re,ge=reactExports.useRef(null),je=reactExports.useRef(null),Ae=reactExports.useRef(Q),Qe=w!=null,Xe=useLatestRef(w),Ue=useLatestRef(E),Le=useLatestRef(_),Ze=reactExports.useCallback(()=>{if(!ge.current||!je.current)return;const rt={placement:r,strategy:x,middleware:M};Ue.current&&(rt.platform=Ue.current),computePosition(ge.current,je.current,rt).then(Je=>{const mt={...Je,isPositioned:Le.current!==!1};Be.current&&!deepEqual(Ae.current,mt)&&(Ae.current=mt,reactDomExports.flushSync(()=>{I(mt)}))})},[M,r,x,Ue,Le]);index(()=>{_===!1&&Ae.current.isPositioned&&(Ae.current.isPositioned=!1,I(rt=>({...rt,isPositioned:!1})))},[_]);const Be=reactExports.useRef(!1);index(()=>(Be.current=!0,()=>{Be.current=!1}),[]),index(()=>{if(Oe&&(ge.current=Oe),ae&&(je.current=ae),Oe&&ae){if(Xe.current)return Xe.current(Oe,ae,Ze);Ze()}},[Oe,ae,Ze,Xe,Qe]);const Ge=reactExports.useMemo(()=>({reference:ge,floating:je,setReference:ne,setFloating:oe}),[ne,oe]),We=reactExports.useMemo(()=>({reference:Oe,floating:ae}),[Oe,ae]),at=reactExports.useMemo(()=>{const rt={position:x,left:0,top:0};if(!We.floating)return rt;const Je=roundByDPR(We.floating,Q.x),mt=roundByDPR(We.floating,Q.y);return j?{...rt,transform:"translate("+Je+"px, "+mt+"px)",...getDPR(We.floating)>=1.5&&{willChange:"transform"}}:{position:x,left:Je,top:mt}},[x,j,We.floating,Q.x,Q.y]);return reactExports.useMemo(()=>({...Q,update:Ze,refs:Ge,elements:We,floatingStyles:at}),[Q,Ze,Ge,We,at])}const arrow$1=o=>{function r(x){return{}.hasOwnProperty.call(x,"current")}return{name:"arrow",options:o,fn(x){const{element:O,padding:E}=typeof o=="function"?o(x):o;return O&&r(O)?O.current!=null?arrow$2({element:O.current,padding:E}).fn(x):{}:O?arrow$2({element:O,padding:E}).fn(x):{}}}},offset=(o,r)=>({...offset$1(o),options:[o,r]}),shift$1=(o,r)=>({...shift$2(o),options:[o,r]}),limitShift=(o,r)=>({...limitShift$1(o),options:[o,r]}),flip=(o,r)=>({...flip$1(o),options:[o,r]}),size=(o,r)=>({...size$1(o),options:[o,r]}),hide=(o,r)=>({...hide$1(o),options:[o,r]}),arrow=(o,r)=>({...arrow$1(o),options:[o,r]});var NAME$4="Arrow",Arrow$1=reactExports.forwardRef((o,r)=>{const{children:x,width:O=10,height:E=5,...y}=o;return jsxRuntimeExports.jsx(Primitive.svg,{...y,ref:r,width:O,height:E,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:o.asChild?x:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$4;var Root$9=Arrow$1;function useSize(o){const[r,x]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(o){x({width:o.offsetWidth,height:o.offsetHeight});const O=new ResizeObserver(E=>{if(!Array.isArray(E)||!E.length)return;const y=E[0];let S,j;if("borderBoxSize"in y){const w=y.borderBoxSize,_=Array.isArray(w)?w[0]:w;S=_.inlineSize,j=_.blockSize}else S=o.offsetWidth,j=o.offsetHeight;x({width:S,height:j})});return O.observe(o,{box:"border-box"}),()=>O.unobserve(o)}else x(void 0)},[o]),r}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=o=>{const{__scopePopper:r,children:x}=o,[O,E]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:r,anchor:O,onAnchorChange:E,children:x})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor=reactExports.forwardRef((o,r)=>{const{__scopePopper:x,virtualRef:O,...E}=o,y=usePopperContext(ANCHOR_NAME$2,x),S=reactExports.useRef(null),j=useComposedRefs$1(r,S),w=reactExports.useRef(null);return reactExports.useEffect(()=>{const _=w.current;w.current=(O==null?void 0:O.current)||S.current,_!==w.current&&y.onAnchorChange(w.current)}),O?null:jsxRuntimeExports.jsx(Primitive.div,{...E,ref:j})});PopperAnchor.displayName=ANCHOR_NAME$2;var CONTENT_NAME$b="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$b),PopperContent=reactExports.forwardRef((o,r)=>{var it,yt,et,qe,ot,pt;const{__scopePopper:x,side:O="bottom",sideOffset:E=0,align:y="center",alignOffset:S=0,arrowPadding:j=0,avoidCollisions:w=!0,collisionBoundary:_=[],collisionPadding:Q=0,sticky:I="partial",hideWhenDetached:M=!1,updatePositionStrategy:F="optimized",onPlaced:V,...te}=o,re=usePopperContext(CONTENT_NAME$b,x),[se,ne]=reactExports.useState(null),oe=useComposedRefs$1(r,Ve=>ne(Ve)),[Oe,ae]=reactExports.useState(null),ge=useSize(Oe),je=(ge==null?void 0:ge.width)??0,Ae=(ge==null?void 0:ge.height)??0,Qe=O+(y!=="center"?"-"+y:""),Xe=typeof Q=="number"?Q:{top:0,right:0,bottom:0,left:0,...Q},Ue=Array.isArray(_)?_:[_],Le=Ue.length>0,Ze={padding:Xe,boundary:Ue.filter(isNotNull),altBoundary:Le},{refs:Be,floatingStyles:Ge,placement:We,isPositioned:at,middlewareData:rt}=useFloating({strategy:"fixed",placement:Qe,whileElementsMounted:(...Ve)=>autoUpdate(...Ve,{animationFrame:F==="always"}),elements:{reference:re.anchor},middleware:[offset({mainAxis:E+Ae,alignmentAxis:S}),w&&shift$1({mainAxis:!0,crossAxis:!1,limiter:I==="partial"?limitShift():void 0,...Ze}),w&&flip({...Ze}),size({...Ze,apply:({elements:Ve,rects:dt,availableWidth:Rt,availableHeight:It})=>{const{width:Xt,height:Ut}=dt.reference,$t=Ve.floating.style;$t.setProperty("--radix-popper-available-width",`${Rt}px`),$t.setProperty("--radix-popper-available-height",`${It}px`),$t.setProperty("--radix-popper-anchor-width",`${Xt}px`),$t.setProperty("--radix-popper-anchor-height",`${Ut}px`)}}),Oe&&arrow({element:Oe,padding:j}),transformOrigin({arrowWidth:je,arrowHeight:Ae}),M&&hide({strategy:"referenceHidden",...Ze})]}),[Je,mt]=getSideAndAlignFromPlacement(We),Ke=useCallbackRef(V);useLayoutEffect2(()=>{at&&(Ke==null||Ke())},[at,Ke]);const ze=(it=rt.arrow)==null?void 0:it.x,He=(yt=rt.arrow)==null?void 0:yt.y,tt=((et=rt.arrow)==null?void 0:et.centerOffset)!==0,[ct,ut]=reactExports.useState();return useLayoutEffect2(()=>{se&&ut(window.getComputedStyle(se).zIndex)},[se]),jsxRuntimeExports.jsx("div",{ref:Be.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ge,transform:at?Ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(qe=rt.transformOrigin)==null?void 0:qe.x,(ot=rt.transformOrigin)==null?void 0:ot.y].join(" "),...((pt=rt.hide)==null?void 0:pt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:o.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:x,placedSide:Je,onArrowChange:ae,arrowX:ze,arrowY:He,shouldHideArrow:tt,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Je,"data-align":mt,...te,ref:oe,style:{...te.style,animation:at?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$b;var ARROW_NAME$8="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(r,x){const{__scopePopper:O,...E}=r,y=useContentContext(ARROW_NAME$8,O),S=OPPOSITE_SIDE[y.placedSide];return jsxRuntimeExports.jsx("span",{ref:y.onArrowChange,style:{position:"absolute",left:y.arrowX,top:y.arrowY,[S]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[y.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[y.placedSide],visibility:y.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$9,{...E,ref:x,style:{...E.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$8;function isNotNull(o){return o!==null}var transformOrigin=o=>({name:"transformOrigin",options:o,fn(r){var re,se,ne;const{placement:x,rects:O,middlewareData:E}=r,S=((re=E.arrow)==null?void 0:re.centerOffset)!==0,j=S?0:o.arrowWidth,w=S?0:o.arrowHeight,[_,Q]=getSideAndAlignFromPlacement(x),I={start:"0%",center:"50%",end:"100%"}[Q],M=(((se=E.arrow)==null?void 0:se.x)??0)+j/2,F=(((ne=E.arrow)==null?void 0:ne.y)??0)+w/2;let V="",te="";return _==="bottom"?(V=S?I:`${M}px`,te=`${-w}px`):_==="top"?(V=S?I:`${M}px`,te=`${O.floating.height+w}px`):_==="right"?(V=`${-w}px`,te=S?I:`${F}px`):_==="left"&&(V=`${O.floating.width+w}px`,te=S?I:`${F}px`),{data:{x:V,y:te}}}});function getSideAndAlignFromPlacement(o){const[r,x="center"]=o.split("-");return[r,x]}var Root2$9=Popper,Anchor=PopperAnchor,Content$3=PopperContent,Arrow=PopperArrow,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$5="RovingFocusGroup",[Collection$6,useCollection$6,createCollectionScope$6]=createCollection(GROUP_NAME$5),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$5,[createCollectionScope$6]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$5),RovingFocusGroup=reactExports.forwardRef((o,r)=>jsxRuntimeExports.jsx(Collection$6.Provider,{scope:o.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$6.Slot,{scope:o.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...o,ref:r})})}));RovingFocusGroup.displayName=GROUP_NAME$5;var RovingFocusGroupImpl=reactExports.forwardRef((o,r)=>{const{__scopeRovingFocusGroup:x,orientation:O,loop:E=!1,dir:y,currentTabStopId:S,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:w,onEntryFocus:_,preventScrollOnEntryFocus:Q=!1,...I}=o,M=reactExports.useRef(null),F=useComposedRefs$1(r,M),V=useDirection(y),[te,re]=useControllableState({prop:S,defaultProp:j??null,onChange:w,caller:GROUP_NAME$5}),[se,ne]=reactExports.useState(!1),oe=useCallbackRef(_),Oe=useCollection$6(x),ae=reactExports.useRef(!1),[ge,je]=reactExports.useState(0);return reactExports.useEffect(()=>{const Ae=M.current;if(Ae)return Ae.addEventListener(ENTRY_FOCUS,oe),()=>Ae.removeEventListener(ENTRY_FOCUS,oe)},[oe]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:x,orientation:O,dir:V,loop:E,currentTabStopId:te,onItemFocus:reactExports.useCallback(Ae=>re(Ae),[re]),onItemShiftTab:reactExports.useCallback(()=>ne(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>je(Ae=>Ae+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>je(Ae=>Ae-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:se||ge===0?-1:0,"data-orientation":O,...I,ref:F,style:{outline:"none",...o.style},onMouseDown:composeEventHandlers(o.onMouseDown,()=>{ae.current=!0}),onFocus:composeEventHandlers(o.onFocus,Ae=>{const Qe=!ae.current;if(Ae.target===Ae.currentTarget&&Qe&&!se){const Xe=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Ae.currentTarget.dispatchEvent(Xe),!Xe.defaultPrevented){const Ue=Oe().filter(We=>We.focusable),Le=Ue.find(We=>We.active),Ze=Ue.find(We=>We.id===te),Ge=[Le,Ze,...Ue].filter(Boolean).map(We=>We.ref.current);focusFirst$3(Ge,Q)}}ae.current=!1}),onBlur:composeEventHandlers(o.onBlur,()=>ne(!1))})})}),ITEM_NAME$8="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((o,r)=>{const{__scopeRovingFocusGroup:x,focusable:O=!0,active:E=!1,tabStopId:y,children:S,...j}=o,w=useId$1(),_=y||w,Q=useRovingFocusContext(ITEM_NAME$8,x),I=Q.currentTabStopId===_,M=useCollection$6(x),{onFocusableItemAdd:F,onFocusableItemRemove:V,currentTabStopId:te}=Q;return reactExports.useEffect(()=>{if(O)return F(),()=>V()},[O,F,V]),jsxRuntimeExports.jsx(Collection$6.ItemSlot,{scope:x,id:_,focusable:O,active:E,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:I?0:-1,"data-orientation":Q.orientation,...j,ref:r,onMouseDown:composeEventHandlers(o.onMouseDown,re=>{O?Q.onItemFocus(_):re.preventDefault()}),onFocus:composeEventHandlers(o.onFocus,()=>Q.onItemFocus(_)),onKeyDown:composeEventHandlers(o.onKeyDown,re=>{if(re.key==="Tab"&&re.shiftKey){Q.onItemShiftTab();return}if(re.target!==re.currentTarget)return;const se=getFocusIntent(re,Q.orientation,Q.dir);if(se!==void 0){if(re.metaKey||re.ctrlKey||re.altKey||re.shiftKey)return;re.preventDefault();let oe=M().filter(Oe=>Oe.focusable).map(Oe=>Oe.ref.current);if(se==="last")oe.reverse();else if(se==="prev"||se==="next"){se==="prev"&&oe.reverse();const Oe=oe.indexOf(re.currentTarget);oe=Q.loop?wrapArray$3(oe,Oe+1):oe.slice(Oe+1)}setTimeout(()=>focusFirst$3(oe))}}),children:typeof S=="function"?S({isCurrentTabStop:I,hasTabStop:te!=null}):S})})});RovingFocusGroupItem.displayName=ITEM_NAME$8;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(o,r){return r!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function getFocusIntent(o,r,x){const O=getDirectionAwareKey(o.key,x);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(O))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(O)))return MAP_KEY_TO_FOCUS_INTENT[O]}function focusFirst$3(o,r=!1){const x=document.activeElement;for(const O of o)if(O===x||(O.focus({preventScroll:r}),document.activeElement!==x))return}function wrapArray$3(o,r){return o.map((x,O)=>o[(r+O)%o.length])}var Root$8=RovingFocusGroup,Item$1=RovingFocusGroupItem,SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME$1="Menu",[Collection$5,useCollection$5,createCollectionScope$5]=createCollection(MENU_NAME$1),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME$1,[createCollectionScope$5,createPopperScope,createRovingFocusGroupScope]),usePopperScope$4=createPopperScope(),useRovingFocusGroupScope$4=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME$1),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME$1),Menu=o=>{const{__scopeMenu:r,open:x=!1,children:O,dir:E,onOpenChange:y,modal:S=!0}=o,j=usePopperScope$4(r),[w,_]=reactExports.useState(null),Q=reactExports.useRef(!1),I=useCallbackRef(y),M=useDirection(E);return reactExports.useEffect(()=>{const F=()=>{Q.current=!0,document.addEventListener("pointerdown",V,{capture:!0,once:!0}),document.addEventListener("pointermove",V,{capture:!0,once:!0})},V=()=>Q.current=!1;return document.addEventListener("keydown",F,{capture:!0}),()=>{document.removeEventListener("keydown",F,{capture:!0}),document.removeEventListener("pointerdown",V,{capture:!0}),document.removeEventListener("pointermove",V,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$9,{...j,children:jsxRuntimeExports.jsx(MenuProvider,{scope:r,open:x,onOpenChange:I,content:w,onContentChange:_,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:r,onClose:reactExports.useCallback(()=>I(!1),[I]),isUsingKeyboardRef:Q,dir:M,modal:S,children:O})})})};Menu.displayName=MENU_NAME$1;var ANCHOR_NAME$1="MenuAnchor",MenuAnchor=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,...O}=o,E=usePopperScope$4(x);return jsxRuntimeExports.jsx(Anchor,{...E,...O,ref:r})});MenuAnchor.displayName=ANCHOR_NAME$1;var PORTAL_NAME$8="MenuPortal",[PortalProvider$3,usePortalContext$3]=createMenuContext(PORTAL_NAME$8,{forceMount:void 0}),MenuPortal=o=>{const{__scopeMenu:r,forceMount:x,children:O,container:E}=o,y=useMenuContext(PORTAL_NAME$8,r);return jsxRuntimeExports.jsx(PortalProvider$3,{scope:r,forceMount:x,children:jsxRuntimeExports.jsx(Presence,{present:x||y.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:E,children:O})})})};MenuPortal.displayName=PORTAL_NAME$8;var CONTENT_NAME$a="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$a),MenuContent=reactExports.forwardRef((o,r)=>{const x=usePortalContext$3(CONTENT_NAME$a,o.__scopeMenu),{forceMount:O=x.forceMount,...E}=o,y=useMenuContext(CONTENT_NAME$a,o.__scopeMenu),S=useMenuRootContext(CONTENT_NAME$a,o.__scopeMenu);return jsxRuntimeExports.jsx(Collection$5.Provider,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:O||y.open,children:jsxRuntimeExports.jsx(Collection$5.Slot,{scope:o.__scopeMenu,children:S.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...E,ref:r}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...E,ref:r})})})})}),MenuRootContentModal=reactExports.forwardRef((o,r)=>{const x=useMenuContext(CONTENT_NAME$a,o.__scopeMenu),O=reactExports.useRef(null),E=useComposedRefs$1(r,O);return reactExports.useEffect(()=>{const y=O.current;if(y)return hideOthers(y)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...o,ref:E,trapFocus:x.open,disableOutsidePointerEvents:x.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(o.onFocusOutside,y=>y.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>x.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((o,r)=>{const x=useMenuContext(CONTENT_NAME$a,o.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...o,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>x.onOpenChange(!1)})}),Slot$2=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,loop:O=!1,trapFocus:E,onOpenAutoFocus:y,onCloseAutoFocus:S,disableOutsidePointerEvents:j,onEntryFocus:w,onEscapeKeyDown:_,onPointerDownOutside:Q,onFocusOutside:I,onInteractOutside:M,onDismiss:F,disableOutsideScroll:V,...te}=o,re=useMenuContext(CONTENT_NAME$a,x),se=useMenuRootContext(CONTENT_NAME$a,x),ne=usePopperScope$4(x),oe=useRovingFocusGroupScope$4(x),Oe=useCollection$5(x),[ae,ge]=reactExports.useState(null),je=reactExports.useRef(null),Ae=useComposedRefs$1(r,je,re.onContentChange),Qe=reactExports.useRef(0),Xe=reactExports.useRef(""),Ue=reactExports.useRef(0),Le=reactExports.useRef(null),Ze=reactExports.useRef("right"),Be=reactExports.useRef(0),Ge=V?ReactRemoveScroll:reactExports.Fragment,We=V?{as:Slot$2,allowPinchZoom:!0}:void 0,at=Je=>{var it,yt;const mt=Xe.current+Je,Ke=Oe().filter(et=>!et.disabled),ze=document.activeElement,He=(it=Ke.find(et=>et.ref.current===ze))==null?void 0:it.textValue,tt=Ke.map(et=>et.textValue),ct=getNextMatch(tt,mt,He),ut=(yt=Ke.find(et=>et.textValue===ct))==null?void 0:yt.ref.current;(function et(qe){Xe.current=qe,window.clearTimeout(Qe.current),qe!==""&&(Qe.current=window.setTimeout(()=>et(""),1e3))})(mt),ut&&setTimeout(()=>ut.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Qe.current),[]),useFocusGuards();const rt=reactExports.useCallback(Je=>{var Ke,ze;return Ze.current===((Ke=Le.current)==null?void 0:Ke.side)&&isPointerInGraceArea(Je,(ze=Le.current)==null?void 0:ze.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:x,searchRef:Xe,onItemEnter:reactExports.useCallback(Je=>{rt(Je)&&Je.preventDefault()},[rt]),onItemLeave:reactExports.useCallback(Je=>{var mt;rt(Je)||((mt=je.current)==null||mt.focus(),ge(null))},[rt]),onTriggerLeave:reactExports.useCallback(Je=>{rt(Je)&&Je.preventDefault()},[rt]),pointerGraceTimerRef:Ue,onPointerGraceIntentChange:reactExports.useCallback(Je=>{Le.current=Je},[]),children:jsxRuntimeExports.jsx(Ge,{...We,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:E,onMountAutoFocus:composeEventHandlers(y,Je=>{var mt;Je.preventDefault(),(mt=je.current)==null||mt.focus({preventScroll:!0})}),onUnmountAutoFocus:S,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:j,onEscapeKeyDown:_,onPointerDownOutside:Q,onFocusOutside:I,onInteractOutside:M,onDismiss:F,children:jsxRuntimeExports.jsx(Root$8,{asChild:!0,...oe,dir:se.dir,orientation:"vertical",loop:O,currentTabStopId:ae,onCurrentTabStopIdChange:ge,onEntryFocus:composeEventHandlers(w,Je=>{se.isUsingKeyboardRef.current||Je.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$3,{role:"menu","aria-orientation":"vertical","data-state":getOpenState$1(re.open),"data-radix-menu-content":"",dir:se.dir,...ne,...te,ref:Ae,style:{outline:"none",...te.style},onKeyDown:composeEventHandlers(te.onKeyDown,Je=>{const Ke=Je.target.closest("[data-radix-menu-content]")===Je.currentTarget,ze=Je.ctrlKey||Je.altKey||Je.metaKey,He=Je.key.length===1;Ke&&(Je.key==="Tab"&&Je.preventDefault(),!ze&&He&&at(Je.key));const tt=je.current;if(Je.target!==tt||!FIRST_LAST_KEYS.includes(Je.key))return;Je.preventDefault();const ut=Oe().filter(it=>!it.disabled).map(it=>it.ref.current);LAST_KEYS.includes(Je.key)&&ut.reverse(),focusFirst$2(ut)}),onBlur:composeEventHandlers(o.onBlur,Je=>{Je.currentTarget.contains(Je.target)||(window.clearTimeout(Qe.current),Xe.current="")}),onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse$1(Je=>{const mt=Je.target,Ke=Be.current!==Je.clientX;if(Je.currentTarget.contains(mt)&&Ke){const ze=Je.clientX>Be.current?"right":"left";Ze.current=ze,Be.current=Je.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$a;var GROUP_NAME$4="MenuGroup",MenuGroup=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...O,ref:r})});MenuGroup.displayName=GROUP_NAME$4;var LABEL_NAME$4="MenuLabel",MenuLabel=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{...O,ref:r})});MenuLabel.displayName=LABEL_NAME$4;var ITEM_NAME$7="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((o,r)=>{const{disabled:x=!1,onSelect:O,...E}=o,y=reactExports.useRef(null),S=useMenuRootContext(ITEM_NAME$7,o.__scopeMenu),j=useMenuContentContext(ITEM_NAME$7,o.__scopeMenu),w=useComposedRefs$1(r,y),_=reactExports.useRef(!1),Q=()=>{const I=y.current;if(!x&&I){const M=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});I.addEventListener(ITEM_SELECT,F=>O==null?void 0:O(F),{once:!0}),dispatchDiscreteCustomEvent(I,M),M.defaultPrevented?_.current=!1:S.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...E,ref:w,disabled:x,onClick:composeEventHandlers(o.onClick,Q),onPointerDown:I=>{var M;(M=o.onPointerDown)==null||M.call(o,I),_.current=!0},onPointerUp:composeEventHandlers(o.onPointerUp,I=>{var M;_.current||(M=I.currentTarget)==null||M.click()}),onKeyDown:composeEventHandlers(o.onKeyDown,I=>{const M=j.searchRef.current!=="";x||M&&I.key===" "||SELECTION_KEYS$1.includes(I.key)&&(I.currentTarget.click(),I.preventDefault())})})});MenuItem.displayName=ITEM_NAME$7;var MenuItemImpl=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,disabled:O=!1,textValue:E,...y}=o,S=useMenuContentContext(ITEM_NAME$7,x),j=useRovingFocusGroupScope$4(x),w=reactExports.useRef(null),_=useComposedRefs$1(r,w),[Q,I]=reactExports.useState(!1),[M,F]=reactExports.useState("");return reactExports.useEffect(()=>{const V=w.current;V&&F((V.textContent??"").trim())},[y.children]),jsxRuntimeExports.jsx(Collection$5.ItemSlot,{scope:x,disabled:O,textValue:E??M,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...j,focusable:!O,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":Q?"":void 0,"aria-disabled":O||void 0,"data-disabled":O?"":void 0,...y,ref:_,onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse$1(V=>{O?S.onItemLeave(V):(S.onItemEnter(V),V.defaultPrevented||V.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse$1(V=>S.onItemLeave(V))),onFocus:composeEventHandlers(o.onFocus,()=>I(!0)),onBlur:composeEventHandlers(o.onBlur,()=>I(!1))})})})}),CHECKBOX_ITEM_NAME$3="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((o,r)=>{const{checked:x=!1,onCheckedChange:O,...E}=o;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:o.__scopeMenu,checked:x,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate$1(x)?"mixed":x,...E,ref:r,"data-state":getCheckedState(x),onSelect:composeEventHandlers(E.onSelect,()=>O==null?void 0:O(isIndeterminate$1(x)?!0:!x),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$3;var RADIO_GROUP_NAME$4="MenuRadioGroup",[RadioGroupProvider$1,useRadioGroupContext$1]=createMenuContext(RADIO_GROUP_NAME$4,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((o,r)=>{const{value:x,onValueChange:O,...E}=o,y=useCallbackRef(O);return jsxRuntimeExports.jsx(RadioGroupProvider$1,{scope:o.__scopeMenu,value:x,onValueChange:y,children:jsxRuntimeExports.jsx(MenuGroup,{...E,ref:r})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$4;var RADIO_ITEM_NAME$3="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((o,r)=>{const{value:x,...O}=o,E=useRadioGroupContext$1(RADIO_ITEM_NAME$3,o.__scopeMenu),y=x===E.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:o.__scopeMenu,checked:y,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":y,...O,ref:r,"data-state":getCheckedState(y),onSelect:composeEventHandlers(O.onSelect,()=>{var S;return(S=E.onValueChange)==null?void 0:S.call(E,x)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$3;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,forceMount:O,...E}=o,y=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,x);return jsxRuntimeExports.jsx(Presence,{present:O||isIndeterminate$1(y.checked)||y.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...E,ref:r,"data-state":getCheckedState(y.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$4="MenuSeparator",MenuSeparator=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...O,ref:r})});MenuSeparator.displayName=SEPARATOR_NAME$4;var ARROW_NAME$7="MenuArrow",MenuArrow=reactExports.forwardRef((o,r)=>{const{__scopeMenu:x,...O}=o,E=usePopperScope$4(x);return jsxRuntimeExports.jsx(Arrow,{...E,...O,ref:r})});MenuArrow.displayName=ARROW_NAME$7;var SUB_NAME$1="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME$1),SUB_TRIGGER_NAME$3="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((o,r)=>{const x=useMenuContext(SUB_TRIGGER_NAME$3,o.__scopeMenu),O=useMenuRootContext(SUB_TRIGGER_NAME$3,o.__scopeMenu),E=useMenuSubContext(SUB_TRIGGER_NAME$3,o.__scopeMenu),y=useMenuContentContext(SUB_TRIGGER_NAME$3,o.__scopeMenu),S=reactExports.useRef(null),{pointerGraceTimerRef:j,onPointerGraceIntentChange:w}=y,_={__scopeMenu:o.__scopeMenu},Q=reactExports.useCallback(()=>{S.current&&window.clearTimeout(S.current),S.current=null},[]);return reactExports.useEffect(()=>Q,[Q]),reactExports.useEffect(()=>{const I=j.current;return()=>{window.clearTimeout(I),w(null)}},[j,w]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,..._,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:E.triggerId,"aria-haspopup":"menu","aria-expanded":x.open,"aria-controls":E.contentId,"data-state":getOpenState$1(x.open),...o,ref:composeRefs$1(r,E.onTriggerChange),onClick:I=>{var M;(M=o.onClick)==null||M.call(o,I),!(o.disabled||I.defaultPrevented)&&(I.currentTarget.focus(),x.open||x.onOpenChange(!0))},onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse$1(I=>{y.onItemEnter(I),!I.defaultPrevented&&!o.disabled&&!x.open&&!S.current&&(y.onPointerGraceIntentChange(null),S.current=window.setTimeout(()=>{x.onOpenChange(!0),Q()},100))})),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse$1(I=>{var F,V;Q();const M=(F=x.content)==null?void 0:F.getBoundingClientRect();if(M){const te=(V=x.content)==null?void 0:V.dataset.side,re=te==="right",se=re?-5:5,ne=M[re?"left":"right"],oe=M[re?"right":"left"];y.onPointerGraceIntentChange({area:[{x:I.clientX+se,y:I.clientY},{x:ne,y:M.top},{x:oe,y:M.top},{x:oe,y:M.bottom},{x:ne,y:M.bottom}],side:te}),window.clearTimeout(j.current),j.current=window.setTimeout(()=>y.onPointerGraceIntentChange(null),300)}else{if(y.onTriggerLeave(I),I.defaultPrevented)return;y.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(o.onKeyDown,I=>{var F;const M=y.searchRef.current!=="";o.disabled||M&&I.key===" "||SUB_OPEN_KEYS[O.dir].includes(I.key)&&(x.onOpenChange(!0),(F=x.content)==null||F.focus(),I.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$3;var SUB_CONTENT_NAME$3="MenuSubContent",MenuSubContent=reactExports.forwardRef((o,r)=>{const x=usePortalContext$3(CONTENT_NAME$a,o.__scopeMenu),{forceMount:O=x.forceMount,...E}=o,y=useMenuContext(CONTENT_NAME$a,o.__scopeMenu),S=useMenuRootContext(CONTENT_NAME$a,o.__scopeMenu),j=useMenuSubContext(SUB_CONTENT_NAME$3,o.__scopeMenu),w=reactExports.useRef(null),_=useComposedRefs$1(r,w);return jsxRuntimeExports.jsx(Collection$5.Provider,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:O||y.open,children:jsxRuntimeExports.jsx(Collection$5.Slot,{scope:o.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:j.contentId,"aria-labelledby":j.triggerId,...E,ref:_,align:"start",side:S.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:Q=>{var I;S.isUsingKeyboardRef.current&&((I=w.current)==null||I.focus()),Q.preventDefault()},onCloseAutoFocus:Q=>Q.preventDefault(),onFocusOutside:composeEventHandlers(o.onFocusOutside,Q=>{Q.target!==j.trigger&&y.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(o.onEscapeKeyDown,Q=>{S.onClose(),Q.preventDefault()}),onKeyDown:composeEventHandlers(o.onKeyDown,Q=>{var F;const I=Q.currentTarget.contains(Q.target),M=SUB_CLOSE_KEYS[S.dir].includes(Q.key);I&&M&&(y.onOpenChange(!1),(F=j.trigger)==null||F.focus(),Q.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$3;function getOpenState$1(o){return o?"open":"closed"}function isIndeterminate$1(o){return o==="indeterminate"}function getCheckedState(o){return isIndeterminate$1(o)?"indeterminate":o?"checked":"unchecked"}function focusFirst$2(o){const r=document.activeElement;for(const x of o)if(x===r||(x.focus(),document.activeElement!==r))return}function wrapArray$2(o,r){return o.map((x,O)=>o[(r+O)%o.length])}function getNextMatch(o,r,x){const E=r.length>1&&Array.from(r).every(_=>_===r[0])?r[0]:r,y=x?o.indexOf(x):-1;let S=wrapArray$2(o,Math.max(y,0));E.length===1&&(S=S.filter(_=>_!==x));const w=S.find(_=>_.toLowerCase().startsWith(E.toLowerCase()));return w!==x?w:void 0}function isPointInPolygon$1(o,r){const{x,y:O}=o;let E=!1;for(let y=0,S=r.length-1;y<r.length;S=y++){const j=r[y],w=r[S],_=j.x,Q=j.y,I=w.x,M=w.y;Q>O!=M>O&&x<(I-_)*(O-Q)/(M-Q)+_&&(E=!E)}return E}function isPointerInGraceArea(o,r){if(!r)return!1;const x={x:o.clientX,y:o.clientY};return isPointInPolygon$1(x,r)}function whenMouse$1(o){return r=>r.pointerType==="mouse"?o(r):void 0}var Root3$2=Menu,Anchor2=MenuAnchor,Portal$3=MenuPortal,Content2$8=MenuContent,Group=MenuGroup,Label$3=MenuLabel,Item2$4=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup$2=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator$3=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope$2=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=o=>{const{__scopeDropdownMenu:r,children:x,dir:O,open:E,defaultOpen:y,onOpenChange:S,modal:j=!0}=o,w=useMenuScope$2(r),_=reactExports.useRef(null),[Q,I]=useControllableState({prop:E,defaultProp:y??!1,onChange:S,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:r,triggerId:useId$1(),triggerRef:_,contentId:useId$1(),open:Q,onOpenChange:I,onOpenToggle:reactExports.useCallback(()=>I(M=>!M),[I]),modal:j,children:jsxRuntimeExports.jsx(Root3$2,{...w,open:Q,onOpenChange:I,dir:O,modal:j,children:x})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$a="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,disabled:O=!1,...E}=o,y=useDropdownMenuContext(TRIGGER_NAME$a,x),S=useMenuScope$2(x);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...S,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:y.triggerId,"aria-haspopup":"menu","aria-expanded":y.open,"aria-controls":y.open?y.contentId:void 0,"data-state":y.open?"open":"closed","data-disabled":O?"":void 0,disabled:O,...E,ref:composeRefs$1(r,y.triggerRef),onPointerDown:composeEventHandlers(o.onPointerDown,j=>{!O&&j.button===0&&j.ctrlKey===!1&&(y.onOpenToggle(),y.open||j.preventDefault())}),onKeyDown:composeEventHandlers(o.onKeyDown,j=>{O||(["Enter"," "].includes(j.key)&&y.onOpenToggle(),j.key==="ArrowDown"&&y.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(j.key)&&j.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$a;var PORTAL_NAME$7="DropdownMenuPortal",DropdownMenuPortal=o=>{const{__scopeDropdownMenu:r,...x}=o,O=useMenuScope$2(r);return jsxRuntimeExports.jsx(Portal$3,{...O,...x})};DropdownMenuPortal.displayName=PORTAL_NAME$7;var CONTENT_NAME$9="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useDropdownMenuContext(CONTENT_NAME$9,x),y=useMenuScope$2(x),S=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$8,{id:E.contentId,"aria-labelledby":E.triggerId,...y,...O,ref:r,onCloseAutoFocus:composeEventHandlers(o.onCloseAutoFocus,j=>{var w;S.current||(w=E.triggerRef.current)==null||w.focus(),S.current=!1,j.preventDefault()}),onInteractOutside:composeEventHandlers(o.onInteractOutside,j=>{const w=j.detail.originalEvent,_=w.button===0&&w.ctrlKey===!0,Q=w.button===2||_;(!E.modal||Q)&&(S.current=!0)}),style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$9;var GROUP_NAME$3="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(Group,{...E,...O,ref:r})});DropdownMenuGroup.displayName=GROUP_NAME$3;var LABEL_NAME$3="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(Label$3,{...E,...O,ref:r})});DropdownMenuLabel$1.displayName=LABEL_NAME$3;var ITEM_NAME$6="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(Item2$4,{...E,...O,ref:r})});DropdownMenuItem$1.displayName=ITEM_NAME$6;var CHECKBOX_ITEM_NAME$2="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(CheckboxItem,{...E,...O,ref:r})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME$2;var RADIO_GROUP_NAME$3="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(RadioGroup$2,{...E,...O,ref:r})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME$3;var RADIO_ITEM_NAME$2="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(RadioItem,{...E,...O,ref:r})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME$2;var INDICATOR_NAME$6="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(ItemIndicator$1,{...E,...O,ref:r})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME$6;var SEPARATOR_NAME$3="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(Separator$3,{...E,...O,ref:r})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME$3;var ARROW_NAME$6="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(Arrow2,{...E,...O,ref:r})});DropdownMenuArrow.displayName=ARROW_NAME$6;var SUB_TRIGGER_NAME$2="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(SubTrigger,{...E,...O,ref:r})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME$2;var SUB_CONTENT_NAME$2="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((o,r)=>{const{__scopeDropdownMenu:x,...O}=o,E=useMenuScope$2(x);return jsxRuntimeExports.jsx(SubContent,{...E,...O,ref:r,style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME$2;var Root2$8=DropdownMenu$1,Trigger$6=DropdownMenuTrigger$1,Portal2$3=DropdownMenuPortal,Content2$7=DropdownMenuContent$1,Label2$2=DropdownMenuLabel$1,Item2$3=DropdownMenuItem$1,CheckboxItem2$2=DropdownMenuCheckboxItem$1,RadioItem2$2=DropdownMenuRadioItem$1,ItemIndicator2$2=DropdownMenuItemIndicator,Separator2$2=DropdownMenuSeparator$1,SubTrigger2$2=DropdownMenuSubTrigger$1,SubContent2$2=DropdownMenuSubContent$1;const DropdownMenu=Root2$8,DropdownMenuTrigger=Trigger$6,DropdownMenuSubTrigger=reactExports.forwardRef(({className:o,inset:r,children:x,...O},E)=>jsxRuntimeExports.jsxs(SubTrigger2$2,{ref:E,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",o),...O,children:[x,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2$2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(SubContent2$2,{ref:x,className:cn("z-[var(--z-popover)] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r}));DropdownMenuSubContent.displayName=SubContent2$2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:o,sideOffset:r=4,...x},O)=>jsxRuntimeExports.jsx(Portal2$3,{children:jsxRuntimeExports.jsx(Content2$7,{ref:O,sideOffset:r,className:cn("z-[var(--z-popover)] min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...x})}));DropdownMenuContent.displayName=Content2$7.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Item2$3,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",o),...x}));DropdownMenuItem.displayName=Item2$3.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:o,children:r,checked:x,...O},E)=>jsxRuntimeExports.jsxs(CheckboxItem2$2,{ref:E,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),checked:x,...O,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2$2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),r]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2$2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(RadioItem2$2,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...x,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2$2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),r]}));DropdownMenuRadioItem.displayName=RadioItem2$2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Label2$2,{ref:O,className:cn("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",o),...x}));DropdownMenuLabel.displayName=Label2$2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Separator2$2,{ref:x,className:cn("-mx-1 my-1 h-px bg-muted",o),...r}));DropdownMenuSeparator.displayName=Separator2$2.displayName;function ThemeToggle({className:o}){const{theme:r,setTheme:x,isTerminal:O}=useTheme(),E=y=>{x(y)};return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:cn("h-9 w-9",O&&"text-primary hover:text-primary hover:bg-primary/10",o),"aria-label":"Toggle theme",children:[jsxRuntimeExports.jsx(Sun,{className:cn("h-[1.2rem] w-[1.2rem] transition-all",r==="terminal"?"rotate-90 scale-0":"rotate-0 scale-100 dark:-rotate-90 dark:scale-0")}),jsxRuntimeExports.jsx(Moon,{className:cn("absolute h-[1.2rem] w-[1.2rem] transition-all",r==="terminal"?"rotate-90 scale-0":"rotate-90 scale-0 dark:rotate-0 dark:scale-100")}),jsxRuntimeExports.jsx(Terminal,{className:cn("absolute h-[1.2rem] w-[1.2rem] transition-all",r==="terminal"?"rotate-0 scale-100":"rotate-90 scale-0")}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:cn(O&&"border-primary/40 bg-background/95 backdrop-blur"),children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>E("light"),className:cn(r==="light"&&"bg-accent",O&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsx(Sun,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Light"}),r==="light"&&jsxRuntimeExports.jsx("span",{className:cn("ml-auto",O&&"text-primary"),children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>E("dark"),className:cn(r==="dark"&&"bg-accent",O&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsx(Moon,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Dark"}),r==="dark"&&jsxRuntimeExports.jsx("span",{className:cn("ml-auto",O&&"text-primary"),children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>E("system"),className:cn(r==="system"&&"bg-accent",O&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsx(Monitor,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"System"}),r==="system"&&jsxRuntimeExports.jsx("span",{className:cn("ml-auto",O&&"text-primary"),children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>E("terminal"),className:cn(r==="terminal"&&"bg-primary/15","font-mono",O&&"hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsx(Terminal,{className:cn("mr-2 h-4 w-4",r==="terminal"&&"text-primary")}),jsxRuntimeExports.jsx("span",{className:cn(r==="terminal"&&"text-primary"),children:"Terminal"}),r==="terminal"&&jsxRuntimeExports.jsx("span",{className:"ml-auto text-primary",children:"✓"})]})]})]})}const MOBILE_BREAKPOINT=768;function useIsMobile(){const[o,r]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const x=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),O=()=>{r(window.innerWidth<MOBILE_BREAKPOINT)};return x.addEventListener("change",O),r(window.innerWidth<MOBILE_BREAKPOINT),()=>x.removeEventListener("change",O)},[]),!!o}const ScrollToTop=()=>{const[o,r]=reactExports.useState(!1),x=useIsMobile(),{isTerminal:O}=useTheme(),E=x&&O,y=reactExports.useCallback(()=>{window.scrollY>300?r(!0):r(!1)},[]),S=reactExports.useMemo(()=>throttle$2(y,100),[y]);reactExports.useEffect(()=>(window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)),[S]);const j=()=>{window.scrollTo({top:0,behavior:"smooth"})};return E?null:jsxRuntimeExports.jsx(Button,{onClick:j,size:"icon",variant:"outline",className:cn("fixed right-4 md:right-6 lg:right-8 z-[var(--z-fab-bar)] rounded-full shadow-lg transition-all duration-300","bottom-[calc(92px+env(safe-area-inset-bottom,0px))] md:bottom-28 lg:bottom-[calc(108px+env(safe-area-inset-bottom,0px))]",o?"opacity-100 scale-100":"opacity-0 scale-0",O?"border-[hsl(var(--terminal-inactive-border))] bg-background/80 text-[hsl(var(--terminal-glow)/0.6)] hover:text-[hsl(var(--terminal-glow))] hover:bg-background":"border-border/60 bg-muted/70 text-muted-foreground hover:bg-muted hover:text-foreground"),children:jsxRuntimeExports.jsx(ArrowUp,{className:"h-4 w-4"})})},ReadingProgress=()=>{const[o,r]=reactExports.useState(0),{isTerminal:x}=useTheme(),O=reactExports.useCallback(()=>{const y=window.scrollY,S=document.documentElement.scrollHeight-window.innerHeight,j=y/S*100;r(Math.min(100,Math.max(0,j)))},[]),E=reactExports.useMemo(()=>throttle$2(O,16),[O]);return reactExports.useEffect(()=>(window.addEventListener("scroll",E),O(),()=>window.removeEventListener("scroll",E)),[E,O]),jsxRuntimeExports.jsxs("div",{className:cn("fixed top-0 left-0 right-0 z-[var(--z-fab-bar)]","bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60","border-b border-border/40"),children:[jsxRuntimeExports.jsx("div",{className:cn("h-1 sm:h-0.5 w-full bg-muted/30",x&&"bg-[hsl(var(--terminal-code-bg))]"),children:jsxRuntimeExports.jsx("div",{className:cn("h-full transition-all duration-75 ease-out",x?"bg-primary shadow-[0_0_8px_hsl(var(--primary)/0.6)]":"bg-gradient-to-r from-primary via-primary to-primary/80"),style:{width:`${o}%`}})}),o>0&&o<100&&jsxRuntimeExports.jsxs("div",{className:cn("absolute right-2 top-1/2 -translate-y-1/2 sm:hidden","text-[10px] font-medium text-muted-foreground/70 tabular-nums",x&&"font-mono text-primary/60"),children:[Math.round(o),"%"]})]})},OptimizedImage=({src:o,alt:r,className:x,width:O,height:E,placeholder:y="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PC9zdmc+",loading:S="lazy",onLoad:j,onError:w})=>{const _=(()=>{if(!o||/^(https?:)?\/\//i.test(o)||/^(data|blob):/i.test(o))return o;const oe="/",Oe=oe.endsWith("/")?oe.slice(0,-1):oe;return!Oe||Oe==="/"||o.startsWith(`${Oe}/`)?o:o.startsWith("/")?`${Oe}${o}`:`${Oe}/${o}`})(),[Q,I]=reactExports.useState(y),[M,F]=reactExports.useState(!0),[V,te]=reactExports.useState(!1),[re,se]=reactExports.useState(!1),ne=reactExports.useRef(null);return reactExports.useEffect(()=>{if(S==="eager"){se(!0);return}const oe=new IntersectionObserver(([ae])=>{ae.isIntersecting&&(se(!0),oe.disconnect())},{rootMargin:"50px",threshold:.01}),Oe=ne.current;return Oe&&oe.observe(Oe),()=>{Oe&&oe.unobserve(Oe)}},[S]),reactExports.useEffect(()=>{if(!re)return;const oe=new Image;return oe.onload=()=>{I(_),F(!1),te(!1),j==null||j()},oe.onerror=()=>{te(!0),F(!1),w==null||w()},oe.src=_,()=>{oe.onload=null,oe.onerror=null}},[re,_,j,w]),V?jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center bg-gray-200 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm rounded",x),style:{width:O,height:E},role:"img","aria-label":`이미지를 불러올 수 없습니다: ${r}`,children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded w-full h-full",children:[jsxRuntimeExports.jsx("img",{ref:ne,src:Q,alt:r,width:O,height:E,className:cn("transition-all duration-500 ease-in-out",M&&"scale-105 blur-sm",!M&&"scale-100 blur-0",x),loading:S,decoding:"async"}),M&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-full w-12 h-12"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent"})})]})})]})},LABELS={ko:"한국어",en:"EN"};function LanguageToggle(){const{language:o,setLanguage:r}=useLanguage();return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"icon","aria-label":`언어 변경: 현재 ${LABELS[o]}`,className:"h-9 w-9",children:jsxRuntimeExports.jsx(Globe,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(DropdownMenuContent,{align:"end",className:"w-32 text-sm",children:Object.keys(LABELS).map(x=>jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:()=>r(x),"aria-checked":o===x,className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:LABELS[x]}),o===x&&jsxRuntimeExports.jsx("span",{className:"text-primary text-xs",children:"•"})]},x))})]})}class ErrorBoundary extends reactExports.Component{constructor(){super(...arguments);sr(this,"state",{hasError:!1});sr(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});sr(this,"handleGoHome",()=>{window.location.hash="/",this.handleReset()})}static getDerivedStateFromError(x){return{hasError:!0,error:x}}componentDidCatch(x,O){var E,y;this.setState({errorInfo:O}),(y=(E=this.props).onError)==null||y.call(E,x,O)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-xl rounded-full"}),jsxRuntimeExports.jsx(TriangleAlert,{className:"relative h-16 w-16 text-amber-500"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-3 text-foreground",children:"문제가 발생했습니다"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-2 max-w-md leading-relaxed",children:"페이지를 불러오는 중 예상치 못한 오류가 발생했습니다."}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-8 max-w-md text-sm",children:"문제가 지속되면 잠시 후 다시 시도해주세요."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:this.handleReset,variant:"default",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"다시 시도"]}),jsxRuntimeExports.jsxs(Button,{onClick:this.handleGoHome,variant:"outline",children:[jsxRuntimeExports.jsx(House,{className:"h-4 w-4 mr-2"}),"홈으로"]})]}),!1]}):this.props.children}}function NavigationItem({name:o,href:r,icon:x,isMobile:O=!1,onClick:E,className:y=""}){const j=useLocation().pathname===r,w=O?"flex items-center gap-3 rounded-md px-4 py-3 text-base font-medium transition-colors min-h-[44px]":"flex items-center gap-2 text-sm font-medium transition-colors hover:text-primary",_=O?"bg-primary/10 text-primary":"text-primary",Q=O?"text-muted-foreground hover:bg-accent hover:text-accent-foreground":"text-muted-foreground";return r.startsWith("http")?jsxRuntimeExports.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:cn(w,Q,y),onClick:E,children:[jsxRuntimeExports.jsx(x,{className:O?"h-5 w-5":"h-4 w-4"}),o]}):jsxRuntimeExports.jsxs(Link,{to:r,className:cn(w,j?_:Q,y),onClick:E,children:[jsxRuntimeExports.jsx(x,{className:O?"h-5 w-5":"h-4 w-4"}),o]})}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var toString=Object.prototype.toString,kindOf=function(r){if(r===void 0)return"undefined";if(r===null)return"null";var x=typeof r;if(x==="boolean")return"boolean";if(x==="string")return"string";if(x==="number")return"number";if(x==="symbol")return"symbol";if(x==="function")return isGeneratorFn(r)?"generatorfunction":"function";if(isArray$2(r))return"array";if(isBuffer$1(r))return"buffer";if(isArguments(r))return"arguments";if(isDate(r))return"date";if(isError(r))return"error";if(isRegexp(r))return"regexp";switch(ctorName(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(isGeneratorObj(r))return"generator";switch(x=toString.call(r),x){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return x.slice(8,-1).toLowerCase().replace(/\s/g,"")};function ctorName(o){return typeof o.constructor=="function"?o.constructor.name:null}function isArray$2(o){return Array.isArray?Array.isArray(o):o instanceof Array}function isError(o){return o instanceof Error||typeof o.message=="string"&&o.constructor&&typeof o.constructor.stackTraceLimit=="number"}function isDate(o){return o instanceof Date?!0:typeof o.toDateString=="function"&&typeof o.getDate=="function"&&typeof o.setDate=="function"}function isRegexp(o){return o instanceof RegExp?!0:typeof o.flags=="string"&&typeof o.ignoreCase=="boolean"&&typeof o.multiline=="boolean"&&typeof o.global=="boolean"}function isGeneratorFn(o,r){return ctorName(o)==="GeneratorFunction"}function isGeneratorObj(o){return typeof o.throw=="function"&&typeof o.return=="function"&&typeof o.next=="function"}function isArguments(o){try{if(typeof o.length=="number"&&typeof o.callee=="function")return!0}catch(r){if(r.message.indexOf("callee")!==-1)return!0}return!1}function isBuffer$1(o){return o.constructor&&typeof o.constructor.isBuffer=="function"?o.constructor.isBuffer(o):!1}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable=function(r){return typeof r<"u"&&r!==null&&(typeof r=="object"||typeof r=="function")},isObject$9=isExtendable,extendShallow=function(r){isObject$9(r)||(r={});for(var x=arguments.length,O=1;O<x;O++){var E=arguments[O];isObject$9(E)&&assign(r,E)}return r};function assign(o,r){for(var x in r)hasOwn$1(r,x)&&(o[x]=r[x])}function hasOwn$1(o,r){return Object.prototype.hasOwnProperty.call(o,r)}var typeOf$2=kindOf,extend$1=extendShallow,sectionMatter=function(o,r){typeof r=="function"&&(r={parse:r});var x=toObject(o),O={section_delimiter:"---",parse:identity$1},E=extend$1({},O,r),y=E.section_delimiter,S=x.content.split(/\r?\n/),j=null,w=createSection(),_=[],Q=[];function I(se){x.content=se,j=[],_=[]}function M(se){Q.length&&(w.key=getKey(Q[0],y),w.content=se,E.parse(w,j),j.push(w),w=createSection(),_=[],Q=[])}for(var F=0;F<S.length;F++){var V=S[F],te=Q.length,re=V.trim();if(isDelimiter(re,y)){if(re.length===3&&F!==0){if(te===0||te===2){_.push(V);continue}Q.push(re),w.data=_.join(`
`),_=[];continue}j===null&&I(_.join(`
`)),te===2&&M(_.join(`
`)),Q.push(re);continue}_.push(V)}return j===null?I(_.join(`
`)):M(_.join(`
`)),x.sections=j,x};function isDelimiter(o,r){return!(o.slice(0,r.length)!==r||o.charAt(r.length+1)===r.slice(-1))}function toObject(o){if(typeOf$2(o)!=="object"&&(o={content:o}),typeof o.content!="string"&&!isBuffer(o.content))throw new TypeError("expected a buffer or string");return o.content=o.content.toString(),o.sections=[],o}function getKey(o,r){return o?o.slice(r.length).trim():""}function createSection(){return{key:"",data:"",content:""}}function identity$1(o){return o}function isBuffer(o){return o&&o.constructor&&typeof o.constructor.isBuffer=="function"?o.constructor.isBuffer(o):!1}var engines$2={exports:{}},jsYaml$1={},loader$1={},common$6={};function isNothing(o){return typeof o>"u"||o===null}function isObject$8(o){return typeof o=="object"&&o!==null}function toArray(o){return Array.isArray(o)?o:isNothing(o)?[]:[o]}function extend(o,r){var x,O,E,y;if(r)for(y=Object.keys(r),x=0,O=y.length;x<O;x+=1)E=y[x],o[E]=r[E];return o}function repeat(o,r){var x="",O;for(O=0;O<r;O+=1)x+=o;return x}function isNegativeZero(o){return o===0&&Number.NEGATIVE_INFINITY===1/o}common$6.isNothing=isNothing;common$6.isObject=isObject$8;common$6.toArray=toArray;common$6.repeat=repeat;common$6.isNegativeZero=isNegativeZero;common$6.extend=extend;function YAMLException$4(o,r){Error.call(this),this.name="YAMLException",this.reason=o,this.mark=r,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$4.prototype=Object.create(Error.prototype);YAMLException$4.prototype.constructor=YAMLException$4;YAMLException$4.prototype.toString=function(r){var x=this.name+": ";return x+=this.reason||"(unknown reason)",!r&&this.mark&&(x+=" "+this.mark.toString()),x};var exception=YAMLException$4,common$5=common$6;function Mark$1(o,r,x,O,E){this.name=o,this.buffer=r,this.position=x,this.line=O,this.column=E}Mark$1.prototype.getSnippet=function(r,x){var O,E,y,S,j;if(!this.buffer)return null;for(r=r||4,x=x||75,O="",E=this.position;E>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(E-1))===-1;)if(E-=1,this.position-E>x/2-1){O=" ... ",E+=5;break}for(y="",S=this.position;S<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(S))===-1;)if(S+=1,S-this.position>x/2-1){y=" ... ",S-=5;break}return j=this.buffer.slice(E,S),common$5.repeat(" ",r)+O+j+y+`
`+common$5.repeat(" ",r+this.position-E+O.length)+"^"};Mark$1.prototype.toString=function(r){var x,O="";return this.name&&(O+='in "'+this.name+'" '),O+="at line "+(this.line+1)+", column "+(this.column+1),r||(x=this.getSnippet(),x&&(O+=`:
`+x)),O};var mark$1=Mark$1,YAMLException$3=exception,TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(o){var r={};return o!==null&&Object.keys(o).forEach(function(x){o[x].forEach(function(O){r[String(O)]=x})}),r}function Type$h(o,r){if(r=r||{},Object.keys(r).forEach(function(x){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(x)===-1)throw new YAMLException$3('Unknown option "'+x+'" is met in definition of "'+o+'" YAML type.')}),this.tag=o,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(x){return x},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.defaultStyle=r.defaultStyle||null,this.styleAliases=compileStyleAliases(r.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new YAMLException$3('Unknown kind "'+this.kind+'" is specified for "'+o+'" YAML type.')}var type=Type$h,common$4=common$6,YAMLException$2=exception,Type$g=type;function compileList(o,r,x){var O=[];return o.include.forEach(function(E){x=compileList(E,r,x)}),o[r].forEach(function(E){x.forEach(function(y,S){y.tag===E.tag&&y.kind===E.kind&&O.push(S)}),x.push(E)}),x.filter(function(E,y){return O.indexOf(y)===-1})}function compileMap(){var o={scalar:{},sequence:{},mapping:{},fallback:{}},r,x;function O(E){o[E.kind][E.tag]=o.fallback[E.tag]=E}for(r=0,x=arguments.length;r<x;r+=1)arguments[r].forEach(O);return o}function Schema$6(o){this.include=o.include||[],this.implicit=o.implicit||[],this.explicit=o.explicit||[],this.implicit.forEach(function(r){if(r.loadKind&&r.loadKind!=="scalar")throw new YAMLException$2("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema$6.DEFAULT=null;Schema$6.create=function(){var r,x;switch(arguments.length){case 1:r=Schema$6.DEFAULT,x=arguments[0];break;case 2:r=arguments[0],x=arguments[1];break;default:throw new YAMLException$2("Wrong number of arguments for Schema.create function")}if(r=common$4.toArray(r),x=common$4.toArray(x),!r.every(function(O){return O instanceof Schema$6}))throw new YAMLException$2("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!x.every(function(O){return O instanceof Type$g}))throw new YAMLException$2("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema$6({include:r,explicit:x})};var schema=Schema$6,Type$f=type,str=new Type$f("tag:yaml.org,2002:str",{kind:"scalar",construct:function(o){return o!==null?o:""}}),Type$e=type,seq=new Type$e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(o){return o!==null?o:[]}}),Type$d=type,map=new Type$d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(o){return o!==null?o:{}}}),Schema$5=schema,failsafe=new Schema$5({explicit:[str,seq,map]}),Type$c=type;function resolveYamlNull(o){if(o===null)return!0;var r=o.length;return r===1&&o==="~"||r===4&&(o==="null"||o==="Null"||o==="NULL")}function constructYamlNull(){return null}function isNull(o){return o===null}var _null=new Type$c("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Type$b=type;function resolveYamlBoolean(o){if(o===null)return!1;var r=o.length;return r===4&&(o==="true"||o==="True"||o==="TRUE")||r===5&&(o==="false"||o==="False"||o==="FALSE")}function constructYamlBoolean(o){return o==="true"||o==="True"||o==="TRUE"}function isBoolean$1(o){return Object.prototype.toString.call(o)==="[object Boolean]"}var bool=new Type$b("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean$1,represent:{lowercase:function(o){return o?"true":"false"},uppercase:function(o){return o?"TRUE":"FALSE"},camelcase:function(o){return o?"True":"False"}},defaultStyle:"lowercase"}),common$3=common$6,Type$a=type;function isHexCode(o){return 48<=o&&o<=57||65<=o&&o<=70||97<=o&&o<=102}function isOctCode(o){return 48<=o&&o<=55}function isDecCode(o){return 48<=o&&o<=57}function resolveYamlInteger(o){if(o===null)return!1;var r=o.length,x=0,O=!1,E;if(!r)return!1;if(E=o[x],(E==="-"||E==="+")&&(E=o[++x]),E==="0"){if(x+1===r)return!0;if(E=o[++x],E==="b"){for(x++;x<r;x++)if(E=o[x],E!=="_"){if(E!=="0"&&E!=="1")return!1;O=!0}return O&&E!=="_"}if(E==="x"){for(x++;x<r;x++)if(E=o[x],E!=="_"){if(!isHexCode(o.charCodeAt(x)))return!1;O=!0}return O&&E!=="_"}for(;x<r;x++)if(E=o[x],E!=="_"){if(!isOctCode(o.charCodeAt(x)))return!1;O=!0}return O&&E!=="_"}if(E==="_")return!1;for(;x<r;x++)if(E=o[x],E!=="_"){if(E===":")break;if(!isDecCode(o.charCodeAt(x)))return!1;O=!0}return!O||E==="_"?!1:E!==":"?!0:/^(:[0-5]?[0-9])+$/.test(o.slice(x))}function constructYamlInteger(o){var r=o,x=1,O,E,y=[];return r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),O=r[0],(O==="-"||O==="+")&&(O==="-"&&(x=-1),r=r.slice(1),O=r[0]),r==="0"?0:O==="0"?r[1]==="b"?x*parseInt(r.slice(2),2):r[1]==="x"?x*parseInt(r,16):x*parseInt(r,8):r.indexOf(":")!==-1?(r.split(":").forEach(function(S){y.unshift(parseInt(S,10))}),r=0,E=1,y.forEach(function(S){r+=S*E,E*=60}),x*r):x*parseInt(r,10)}function isInteger(o){return Object.prototype.toString.call(o)==="[object Number]"&&o%1===0&&!common$3.isNegativeZero(o)}var int=new Type$a("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(o){return o>=0?"0b"+o.toString(2):"-0b"+o.toString(2).slice(1)},octal:function(o){return o>=0?"0"+o.toString(8):"-0"+o.toString(8).slice(1)},decimal:function(o){return o.toString(10)},hexadecimal:function(o){return o>=0?"0x"+o.toString(16).toUpperCase():"-0x"+o.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),common$2=common$6,Type$9=type,YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(o){return!(o===null||!YAML_FLOAT_PATTERN.test(o)||o[o.length-1]==="_")}function constructYamlFloat(o){var r,x,O,E;return r=o.replace(/_/g,"").toLowerCase(),x=r[0]==="-"?-1:1,E=[],"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?x===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:r.indexOf(":")>=0?(r.split(":").forEach(function(y){E.unshift(parseFloat(y,10))}),r=0,O=1,E.forEach(function(y){r+=y*O,O*=60}),x*r):x*parseFloat(r,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(o,r){var x;if(isNaN(o))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===o)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===o)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(o))return"-0.0";return x=o.toString(10),SCIENTIFIC_WITHOUT_DOT.test(x)?x.replace("e",".e"):x}function isFloat(o){return Object.prototype.toString.call(o)==="[object Number]"&&(o%1!==0||common$2.isNegativeZero(o))}var float=new Type$9("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),Schema$4=schema,json=new Schema$4({include:[failsafe],implicit:[_null,bool,int,float]}),Schema$3=schema,core=new Schema$3({include:[json]}),Type$8=type,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(o){return o===null?!1:YAML_DATE_REGEXP.exec(o)!==null||YAML_TIMESTAMP_REGEXP.exec(o)!==null}function constructYamlTimestamp(o){var r,x,O,E,y,S,j,w=0,_=null,Q,I,M;if(r=YAML_DATE_REGEXP.exec(o),r===null&&(r=YAML_TIMESTAMP_REGEXP.exec(o)),r===null)throw new Error("Date resolve error");if(x=+r[1],O=+r[2]-1,E=+r[3],!r[4])return new Date(Date.UTC(x,O,E));if(y=+r[4],S=+r[5],j=+r[6],r[7]){for(w=r[7].slice(0,3);w.length<3;)w+="0";w=+w}return r[9]&&(Q=+r[10],I=+(r[11]||0),_=(Q*60+I)*6e4,r[9]==="-"&&(_=-_)),M=new Date(Date.UTC(x,O,E,y,S,j,w)),_&&M.setTime(M.getTime()-_),M}function representYamlTimestamp(o){return o.toISOString()}var timestamp=new Type$8("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp}),Type$7=type;function resolveYamlMerge(o){return o==="<<"||o===null}var merge$1=new Type$7("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge});function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NodeBuffer;try{var _require$1=commonjsRequire;NodeBuffer=_require$1("buffer").Buffer}catch{}var Type$6=type,BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(o){if(o===null)return!1;var r,x,O=0,E=o.length,y=BASE64_MAP;for(x=0;x<E;x++)if(r=y.indexOf(o.charAt(x)),!(r>64)){if(r<0)return!1;O+=6}return O%8===0}function constructYamlBinary(o){var r,x,O=o.replace(/[\r\n=]/g,""),E=O.length,y=BASE64_MAP,S=0,j=[];for(r=0;r<E;r++)r%4===0&&r&&(j.push(S>>16&255),j.push(S>>8&255),j.push(S&255)),S=S<<6|y.indexOf(O.charAt(r));return x=E%4*6,x===0?(j.push(S>>16&255),j.push(S>>8&255),j.push(S&255)):x===18?(j.push(S>>10&255),j.push(S>>2&255)):x===12&&j.push(S>>4&255),NodeBuffer?NodeBuffer.from?NodeBuffer.from(j):new NodeBuffer(j):j}function representYamlBinary(o){var r="",x=0,O,E,y=o.length,S=BASE64_MAP;for(O=0;O<y;O++)O%3===0&&O&&(r+=S[x>>18&63],r+=S[x>>12&63],r+=S[x>>6&63],r+=S[x&63]),x=(x<<8)+o[O];return E=y%3,E===0?(r+=S[x>>18&63],r+=S[x>>12&63],r+=S[x>>6&63],r+=S[x&63]):E===2?(r+=S[x>>10&63],r+=S[x>>4&63],r+=S[x<<2&63],r+=S[64]):E===1&&(r+=S[x>>2&63],r+=S[x<<4&63],r+=S[64],r+=S[64]),r}function isBinary(o){return NodeBuffer&&NodeBuffer.isBuffer(o)}var binary=new Type$6("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),Type$5=type,_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(o){if(o===null)return!0;var r=[],x,O,E,y,S,j=o;for(x=0,O=j.length;x<O;x+=1){if(E=j[x],S=!1,_toString$2.call(E)!=="[object Object]")return!1;for(y in E)if(_hasOwnProperty$3.call(E,y))if(!S)S=!0;else return!1;if(!S)return!1;if(r.indexOf(y)===-1)r.push(y);else return!1}return!0}function constructYamlOmap(o){return o!==null?o:[]}var omap=new Type$5("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),Type$4=type,_toString$1=Object.prototype.toString;function resolveYamlPairs(o){if(o===null)return!0;var r,x,O,E,y,S=o;for(y=new Array(S.length),r=0,x=S.length;r<x;r+=1){if(O=S[r],_toString$1.call(O)!=="[object Object]"||(E=Object.keys(O),E.length!==1))return!1;y[r]=[E[0],O[E[0]]]}return!0}function constructYamlPairs(o){if(o===null)return[];var r,x,O,E,y,S=o;for(y=new Array(S.length),r=0,x=S.length;r<x;r+=1)O=S[r],E=Object.keys(O),y[r]=[E[0],O[E[0]]];return y}var pairs=new Type$4("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),Type$3=type,_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(o){if(o===null)return!0;var r,x=o;for(r in x)if(_hasOwnProperty$2.call(x,r)&&x[r]!==null)return!1;return!0}function constructYamlSet(o){return o!==null?o:{}}var set=new Type$3("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),Schema$2=schema,default_safe=new Schema$2({include:[core],implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set]}),Type$2=type;function resolveJavascriptUndefined(){return!0}function constructJavascriptUndefined(){}function representJavascriptUndefined(){return""}function isUndefined(o){return typeof o>"u"}var _undefined=new Type$2("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined}),Type$1=type;function resolveJavascriptRegExp(o){if(o===null||o.length===0)return!1;var r=o,x=/\/([gim]*)$/.exec(o),O="";return!(r[0]==="/"&&(x&&(O=x[1]),O.length>3||r[r.length-O.length-1]!=="/"))}function constructJavascriptRegExp(o){var r=o,x=/\/([gim]*)$/.exec(o),O="";return r[0]==="/"&&(x&&(O=x[1]),r=r.slice(1,r.length-O.length-1)),new RegExp(r,O)}function representJavascriptRegExp(o){var r="/"+o.source+"/";return o.global&&(r+="g"),o.multiline&&(r+="m"),o.ignoreCase&&(r+="i"),r}function isRegExp(o){return Object.prototype.toString.call(o)==="[object RegExp]"}var regexp=new Type$1("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp}),esprima;try{var _require=commonjsRequire;esprima=_require("esprima")}catch{typeof window<"u"&&(esprima=window.esprima)}var Type=type;function resolveJavascriptFunction(o){if(o===null)return!1;try{var r="("+o+")",x=esprima.parse(r,{range:!0});return!(x.type!=="Program"||x.body.length!==1||x.body[0].type!=="ExpressionStatement"||x.body[0].expression.type!=="ArrowFunctionExpression"&&x.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function constructJavascriptFunction(o){var r="("+o+")",x=esprima.parse(r,{range:!0}),O=[],E;if(x.type!=="Program"||x.body.length!==1||x.body[0].type!=="ExpressionStatement"||x.body[0].expression.type!=="ArrowFunctionExpression"&&x.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return x.body[0].expression.params.forEach(function(y){O.push(y.name)}),E=x.body[0].expression.body.range,x.body[0].expression.body.type==="BlockStatement"?new Function(O,r.slice(E[0]+1,E[1]-1)):new Function(O,"return "+r.slice(E[0],E[1]))}function representJavascriptFunction(o){return o.toString()}function isFunction$3(o){return Object.prototype.toString.call(o)==="[object Function]"}var _function=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction$3,represent:representJavascriptFunction}),Schema$1=schema,default_full=Schema$1.DEFAULT=new Schema$1({include:[default_safe],explicit:[_undefined,regexp,_function]}),common$1=common$6,YAMLException$1=exception,Mark=mark$1,DEFAULT_SAFE_SCHEMA$1=default_safe,DEFAULT_FULL_SCHEMA$1=default_full,_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(o){return Object.prototype.toString.call(o)}function is_EOL(o){return o===10||o===13}function is_WHITE_SPACE(o){return o===9||o===32}function is_WS_OR_EOL(o){return o===9||o===32||o===10||o===13}function is_FLOW_INDICATOR(o){return o===44||o===91||o===93||o===123||o===125}function fromHexCode(o){var r;return 48<=o&&o<=57?o-48:(r=o|32,97<=r&&r<=102?r-97+10:-1)}function escapedHexLen(o){return o===120?2:o===117?4:o===85?8:0}function fromDecimalCode(o){return 48<=o&&o<=57?o-48:-1}function simpleEscapeSequence(o){return o===48?"\0":o===97?"\x07":o===98?"\b":o===116||o===9?"	":o===110?`
`:o===118?"\v":o===102?"\f":o===114?"\r":o===101?"\x1B":o===32?" ":o===34?'"':o===47?"/":o===92?"\\":o===78?"":o===95?" ":o===76?"\u2028":o===80?"\u2029":""}function charFromCodepoint(o){return o<=65535?String.fromCharCode(o):String.fromCharCode((o-65536>>10)+55296,(o-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);function State$2(o,r){this.input=o,this.filename=r.filename||null,this.schema=r.schema||DEFAULT_FULL_SCHEMA$1,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=o.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(o,r){return new YAMLException$1(r,new Mark(o.filename,o.input,o.position,o.line,o.position-o.lineStart))}function throwError(o,r){throw generateError(o,r)}function throwWarning(o,r){o.onWarning&&o.onWarning.call(null,generateError(o,r))}var directiveHandlers={YAML:function(r,x,O){var E,y,S;r.version!==null&&throwError(r,"duplication of %YAML directive"),O.length!==1&&throwError(r,"YAML directive accepts exactly one argument"),E=/^([0-9]+)\.([0-9]+)$/.exec(O[0]),E===null&&throwError(r,"ill-formed argument of the YAML directive"),y=parseInt(E[1],10),S=parseInt(E[2],10),y!==1&&throwError(r,"unacceptable YAML version of the document"),r.version=O[0],r.checkLineBreaks=S<2,S!==1&&S!==2&&throwWarning(r,"unsupported YAML version of the document")},TAG:function(r,x,O){var E,y;O.length!==2&&throwError(r,"TAG directive accepts exactly two arguments"),E=O[0],y=O[1],PATTERN_TAG_HANDLE.test(E)||throwError(r,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(r.tagMap,E)&&throwError(r,'there is a previously declared suffix for "'+E+'" tag handle'),PATTERN_TAG_URI.test(y)||throwError(r,"ill-formed tag prefix (second argument) of the TAG directive"),r.tagMap[E]=y}};function captureSegment(o,r,x,O){var E,y,S,j;if(r<x){if(j=o.input.slice(r,x),O)for(E=0,y=j.length;E<y;E+=1)S=j.charCodeAt(E),S===9||32<=S&&S<=1114111||throwError(o,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(j)&&throwError(o,"the stream contains non-printable characters");o.result+=j}}function mergeMappings(o,r,x,O){var E,y,S,j;for(common$1.isObject(x)||throwError(o,"cannot merge mappings; the provided source object is unacceptable"),E=Object.keys(x),S=0,j=E.length;S<j;S+=1)y=E[S],_hasOwnProperty$1.call(r,y)||(r[y]=x[y],O[y]=!0)}function storeMappingPair(o,r,x,O,E,y,S,j){var w,_;if(Array.isArray(E))for(E=Array.prototype.slice.call(E),w=0,_=E.length;w<_;w+=1)Array.isArray(E[w])&&throwError(o,"nested arrays are not supported inside keys"),typeof E=="object"&&_class(E[w])==="[object Object]"&&(E[w]="[object Object]");if(typeof E=="object"&&_class(E)==="[object Object]"&&(E="[object Object]"),E=String(E),r===null&&(r={}),O==="tag:yaml.org,2002:merge")if(Array.isArray(y))for(w=0,_=y.length;w<_;w+=1)mergeMappings(o,r,y[w],x);else mergeMappings(o,r,y,x);else!o.json&&!_hasOwnProperty$1.call(x,E)&&_hasOwnProperty$1.call(r,E)&&(o.line=S||o.line,o.position=j||o.position,throwError(o,"duplicated mapping key")),r[E]=y,delete x[E];return r}function readLineBreak(o){var r;r=o.input.charCodeAt(o.position),r===10?o.position++:r===13?(o.position++,o.input.charCodeAt(o.position)===10&&o.position++):throwError(o,"a line break is expected"),o.line+=1,o.lineStart=o.position}function skipSeparationSpace(o,r,x){for(var O=0,E=o.input.charCodeAt(o.position);E!==0;){for(;is_WHITE_SPACE(E);)E=o.input.charCodeAt(++o.position);if(r&&E===35)do E=o.input.charCodeAt(++o.position);while(E!==10&&E!==13&&E!==0);if(is_EOL(E))for(readLineBreak(o),E=o.input.charCodeAt(o.position),O++,o.lineIndent=0;E===32;)o.lineIndent++,E=o.input.charCodeAt(++o.position);else break}return x!==-1&&O!==0&&o.lineIndent<x&&throwWarning(o,"deficient indentation"),O}function testDocumentSeparator(o){var r=o.position,x;return x=o.input.charCodeAt(r),!!((x===45||x===46)&&x===o.input.charCodeAt(r+1)&&x===o.input.charCodeAt(r+2)&&(r+=3,x=o.input.charCodeAt(r),x===0||is_WS_OR_EOL(x)))}function writeFoldedLines(o,r){r===1?o.result+=" ":r>1&&(o.result+=common$1.repeat(`
`,r-1))}function readPlainScalar(o,r,x){var O,E,y,S,j,w,_,Q,I=o.kind,M=o.result,F;if(F=o.input.charCodeAt(o.position),is_WS_OR_EOL(F)||is_FLOW_INDICATOR(F)||F===35||F===38||F===42||F===33||F===124||F===62||F===39||F===34||F===37||F===64||F===96||(F===63||F===45)&&(E=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(E)||x&&is_FLOW_INDICATOR(E)))return!1;for(o.kind="scalar",o.result="",y=S=o.position,j=!1;F!==0;){if(F===58){if(E=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(E)||x&&is_FLOW_INDICATOR(E))break}else if(F===35){if(O=o.input.charCodeAt(o.position-1),is_WS_OR_EOL(O))break}else{if(o.position===o.lineStart&&testDocumentSeparator(o)||x&&is_FLOW_INDICATOR(F))break;if(is_EOL(F))if(w=o.line,_=o.lineStart,Q=o.lineIndent,skipSeparationSpace(o,!1,-1),o.lineIndent>=r){j=!0,F=o.input.charCodeAt(o.position);continue}else{o.position=S,o.line=w,o.lineStart=_,o.lineIndent=Q;break}}j&&(captureSegment(o,y,S,!1),writeFoldedLines(o,o.line-w),y=S=o.position,j=!1),is_WHITE_SPACE(F)||(S=o.position+1),F=o.input.charCodeAt(++o.position)}return captureSegment(o,y,S,!1),o.result?!0:(o.kind=I,o.result=M,!1)}function readSingleQuotedScalar(o,r){var x,O,E;if(x=o.input.charCodeAt(o.position),x!==39)return!1;for(o.kind="scalar",o.result="",o.position++,O=E=o.position;(x=o.input.charCodeAt(o.position))!==0;)if(x===39)if(captureSegment(o,O,o.position,!0),x=o.input.charCodeAt(++o.position),x===39)O=o.position,o.position++,E=o.position;else return!0;else is_EOL(x)?(captureSegment(o,O,E,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,r)),O=E=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a single quoted scalar"):(o.position++,E=o.position);throwError(o,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(o,r){var x,O,E,y,S,j;if(j=o.input.charCodeAt(o.position),j!==34)return!1;for(o.kind="scalar",o.result="",o.position++,x=O=o.position;(j=o.input.charCodeAt(o.position))!==0;){if(j===34)return captureSegment(o,x,o.position,!0),o.position++,!0;if(j===92){if(captureSegment(o,x,o.position,!0),j=o.input.charCodeAt(++o.position),is_EOL(j))skipSeparationSpace(o,!1,r);else if(j<256&&simpleEscapeCheck[j])o.result+=simpleEscapeMap[j],o.position++;else if((S=escapedHexLen(j))>0){for(E=S,y=0;E>0;E--)j=o.input.charCodeAt(++o.position),(S=fromHexCode(j))>=0?y=(y<<4)+S:throwError(o,"expected hexadecimal character");o.result+=charFromCodepoint(y),o.position++}else throwError(o,"unknown escape sequence");x=O=o.position}else is_EOL(j)?(captureSegment(o,x,O,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,r)),x=O=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a double quoted scalar"):(o.position++,O=o.position)}throwError(o,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(o,r){var x=!0,O,E=o.tag,y,S=o.anchor,j,w,_,Q,I,M={},F,V,te,re;if(re=o.input.charCodeAt(o.position),re===91)w=93,I=!1,y=[];else if(re===123)w=125,I=!0,y={};else return!1;for(o.anchor!==null&&(o.anchorMap[o.anchor]=y),re=o.input.charCodeAt(++o.position);re!==0;){if(skipSeparationSpace(o,!0,r),re=o.input.charCodeAt(o.position),re===w)return o.position++,o.tag=E,o.anchor=S,o.kind=I?"mapping":"sequence",o.result=y,!0;x||throwError(o,"missed comma between flow collection entries"),V=F=te=null,_=Q=!1,re===63&&(j=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(j)&&(_=Q=!0,o.position++,skipSeparationSpace(o,!0,r))),O=o.line,composeNode(o,r,CONTEXT_FLOW_IN,!1,!0),V=o.tag,F=o.result,skipSeparationSpace(o,!0,r),re=o.input.charCodeAt(o.position),(Q||o.line===O)&&re===58&&(_=!0,re=o.input.charCodeAt(++o.position),skipSeparationSpace(o,!0,r),composeNode(o,r,CONTEXT_FLOW_IN,!1,!0),te=o.result),I?storeMappingPair(o,y,M,V,F,te):_?y.push(storeMappingPair(o,null,M,V,F,te)):y.push(F),skipSeparationSpace(o,!0,r),re=o.input.charCodeAt(o.position),re===44?(x=!0,re=o.input.charCodeAt(++o.position)):x=!1}throwError(o,"unexpected end of the stream within a flow collection")}function readBlockScalar(o,r){var x,O,E=CHOMPING_CLIP,y=!1,S=!1,j=r,w=0,_=!1,Q,I;if(I=o.input.charCodeAt(o.position),I===124)O=!1;else if(I===62)O=!0;else return!1;for(o.kind="scalar",o.result="";I!==0;)if(I=o.input.charCodeAt(++o.position),I===43||I===45)CHOMPING_CLIP===E?E=I===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(o,"repeat of a chomping mode identifier");else if((Q=fromDecimalCode(I))>=0)Q===0?throwError(o,"bad explicit indentation width of a block scalar; it cannot be less than one"):S?throwError(o,"repeat of an indentation width identifier"):(j=r+Q-1,S=!0);else break;if(is_WHITE_SPACE(I)){do I=o.input.charCodeAt(++o.position);while(is_WHITE_SPACE(I));if(I===35)do I=o.input.charCodeAt(++o.position);while(!is_EOL(I)&&I!==0)}for(;I!==0;){for(readLineBreak(o),o.lineIndent=0,I=o.input.charCodeAt(o.position);(!S||o.lineIndent<j)&&I===32;)o.lineIndent++,I=o.input.charCodeAt(++o.position);if(!S&&o.lineIndent>j&&(j=o.lineIndent),is_EOL(I)){w++;continue}if(o.lineIndent<j){E===CHOMPING_KEEP?o.result+=common$1.repeat(`
`,y?1+w:w):E===CHOMPING_CLIP&&y&&(o.result+=`
`);break}for(O?is_WHITE_SPACE(I)?(_=!0,o.result+=common$1.repeat(`
`,y?1+w:w)):_?(_=!1,o.result+=common$1.repeat(`
`,w+1)):w===0?y&&(o.result+=" "):o.result+=common$1.repeat(`
`,w):o.result+=common$1.repeat(`
`,y?1+w:w),y=!0,S=!0,w=0,x=o.position;!is_EOL(I)&&I!==0;)I=o.input.charCodeAt(++o.position);captureSegment(o,x,o.position,!1)}return!0}function readBlockSequence(o,r){var x,O=o.tag,E=o.anchor,y=[],S,j=!1,w;for(o.anchor!==null&&(o.anchorMap[o.anchor]=y),w=o.input.charCodeAt(o.position);w!==0&&!(w!==45||(S=o.input.charCodeAt(o.position+1),!is_WS_OR_EOL(S)));){if(j=!0,o.position++,skipSeparationSpace(o,!0,-1)&&o.lineIndent<=r){y.push(null),w=o.input.charCodeAt(o.position);continue}if(x=o.line,composeNode(o,r,CONTEXT_BLOCK_IN,!1,!0),y.push(o.result),skipSeparationSpace(o,!0,-1),w=o.input.charCodeAt(o.position),(o.line===x||o.lineIndent>r)&&w!==0)throwError(o,"bad indentation of a sequence entry");else if(o.lineIndent<r)break}return j?(o.tag=O,o.anchor=E,o.kind="sequence",o.result=y,!0):!1}function readBlockMapping(o,r,x){var O,E,y,S,j=o.tag,w=o.anchor,_={},Q={},I=null,M=null,F=null,V=!1,te=!1,re;for(o.anchor!==null&&(o.anchorMap[o.anchor]=_),re=o.input.charCodeAt(o.position);re!==0;){if(O=o.input.charCodeAt(o.position+1),y=o.line,S=o.position,(re===63||re===58)&&is_WS_OR_EOL(O))re===63?(V&&(storeMappingPair(o,_,Q,I,M,null),I=M=F=null),te=!0,V=!0,E=!0):V?(V=!1,E=!0):throwError(o,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),o.position+=1,re=O;else if(composeNode(o,x,CONTEXT_FLOW_OUT,!1,!0))if(o.line===y){for(re=o.input.charCodeAt(o.position);is_WHITE_SPACE(re);)re=o.input.charCodeAt(++o.position);if(re===58)re=o.input.charCodeAt(++o.position),is_WS_OR_EOL(re)||throwError(o,"a whitespace character is expected after the key-value separator within a block mapping"),V&&(storeMappingPair(o,_,Q,I,M,null),I=M=F=null),te=!0,V=!1,E=!1,I=o.tag,M=o.result;else if(te)throwError(o,"can not read an implicit mapping pair; a colon is missed");else return o.tag=j,o.anchor=w,!0}else if(te)throwError(o,"can not read a block mapping entry; a multiline key may not be an implicit key");else return o.tag=j,o.anchor=w,!0;else break;if((o.line===y||o.lineIndent>r)&&(composeNode(o,r,CONTEXT_BLOCK_OUT,!0,E)&&(V?M=o.result:F=o.result),V||(storeMappingPair(o,_,Q,I,M,F,y,S),I=M=F=null),skipSeparationSpace(o,!0,-1),re=o.input.charCodeAt(o.position)),o.lineIndent>r&&re!==0)throwError(o,"bad indentation of a mapping entry");else if(o.lineIndent<r)break}return V&&storeMappingPair(o,_,Q,I,M,null),te&&(o.tag=j,o.anchor=w,o.kind="mapping",o.result=_),te}function readTagProperty(o){var r,x=!1,O=!1,E,y,S;if(S=o.input.charCodeAt(o.position),S!==33)return!1;if(o.tag!==null&&throwError(o,"duplication of a tag property"),S=o.input.charCodeAt(++o.position),S===60?(x=!0,S=o.input.charCodeAt(++o.position)):S===33?(O=!0,E="!!",S=o.input.charCodeAt(++o.position)):E="!",r=o.position,x){do S=o.input.charCodeAt(++o.position);while(S!==0&&S!==62);o.position<o.length?(y=o.input.slice(r,o.position),S=o.input.charCodeAt(++o.position)):throwError(o,"unexpected end of the stream within a verbatim tag")}else{for(;S!==0&&!is_WS_OR_EOL(S);)S===33&&(O?throwError(o,"tag suffix cannot contain exclamation marks"):(E=o.input.slice(r-1,o.position+1),PATTERN_TAG_HANDLE.test(E)||throwError(o,"named tag handle cannot contain such characters"),O=!0,r=o.position+1)),S=o.input.charCodeAt(++o.position);y=o.input.slice(r,o.position),PATTERN_FLOW_INDICATORS.test(y)&&throwError(o,"tag suffix cannot contain flow indicator characters")}return y&&!PATTERN_TAG_URI.test(y)&&throwError(o,"tag name cannot contain such characters: "+y),x?o.tag=y:_hasOwnProperty$1.call(o.tagMap,E)?o.tag=o.tagMap[E]+y:E==="!"?o.tag="!"+y:E==="!!"?o.tag="tag:yaml.org,2002:"+y:throwError(o,'undeclared tag handle "'+E+'"'),!0}function readAnchorProperty(o){var r,x;if(x=o.input.charCodeAt(o.position),x!==38)return!1;for(o.anchor!==null&&throwError(o,"duplication of an anchor property"),x=o.input.charCodeAt(++o.position),r=o.position;x!==0&&!is_WS_OR_EOL(x)&&!is_FLOW_INDICATOR(x);)x=o.input.charCodeAt(++o.position);return o.position===r&&throwError(o,"name of an anchor node must contain at least one character"),o.anchor=o.input.slice(r,o.position),!0}function readAlias(o){var r,x,O;if(O=o.input.charCodeAt(o.position),O!==42)return!1;for(O=o.input.charCodeAt(++o.position),r=o.position;O!==0&&!is_WS_OR_EOL(O)&&!is_FLOW_INDICATOR(O);)O=o.input.charCodeAt(++o.position);return o.position===r&&throwError(o,"name of an alias node must contain at least one character"),x=o.input.slice(r,o.position),_hasOwnProperty$1.call(o.anchorMap,x)||throwError(o,'unidentified alias "'+x+'"'),o.result=o.anchorMap[x],skipSeparationSpace(o,!0,-1),!0}function composeNode(o,r,x,O,E){var y,S,j,w=1,_=!1,Q=!1,I,M,F,V,te;if(o.listener!==null&&o.listener("open",o),o.tag=null,o.anchor=null,o.kind=null,o.result=null,y=S=j=CONTEXT_BLOCK_OUT===x||CONTEXT_BLOCK_IN===x,O&&skipSeparationSpace(o,!0,-1)&&(_=!0,o.lineIndent>r?w=1:o.lineIndent===r?w=0:o.lineIndent<r&&(w=-1)),w===1)for(;readTagProperty(o)||readAnchorProperty(o);)skipSeparationSpace(o,!0,-1)?(_=!0,j=y,o.lineIndent>r?w=1:o.lineIndent===r?w=0:o.lineIndent<r&&(w=-1)):j=!1;if(j&&(j=_||E),(w===1||CONTEXT_BLOCK_OUT===x)&&(CONTEXT_FLOW_IN===x||CONTEXT_FLOW_OUT===x?V=r:V=r+1,te=o.position-o.lineStart,w===1?j&&(readBlockSequence(o,te)||readBlockMapping(o,te,V))||readFlowCollection(o,V)?Q=!0:(S&&readBlockScalar(o,V)||readSingleQuotedScalar(o,V)||readDoubleQuotedScalar(o,V)?Q=!0:readAlias(o)?(Q=!0,(o.tag!==null||o.anchor!==null)&&throwError(o,"alias node should not have any properties")):readPlainScalar(o,V,CONTEXT_FLOW_IN===x)&&(Q=!0,o.tag===null&&(o.tag="?")),o.anchor!==null&&(o.anchorMap[o.anchor]=o.result)):w===0&&(Q=j&&readBlockSequence(o,te))),o.tag!==null&&o.tag!=="!")if(o.tag==="?"){for(o.result!==null&&o.kind!=="scalar"&&throwError(o,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+o.kind+'"'),I=0,M=o.implicitTypes.length;I<M;I+=1)if(F=o.implicitTypes[I],F.resolve(o.result)){o.result=F.construct(o.result),o.tag=F.tag,o.anchor!==null&&(o.anchorMap[o.anchor]=o.result);break}}else _hasOwnProperty$1.call(o.typeMap[o.kind||"fallback"],o.tag)?(F=o.typeMap[o.kind||"fallback"][o.tag],o.result!==null&&F.kind!==o.kind&&throwError(o,"unacceptable node kind for !<"+o.tag+'> tag; it should be "'+F.kind+'", not "'+o.kind+'"'),F.resolve(o.result)?(o.result=F.construct(o.result),o.anchor!==null&&(o.anchorMap[o.anchor]=o.result)):throwError(o,"cannot resolve a node with !<"+o.tag+"> explicit tag")):throwError(o,"unknown tag !<"+o.tag+">");return o.listener!==null&&o.listener("close",o),o.tag!==null||o.anchor!==null||Q}function readDocument(o){var r=o.position,x,O,E,y=!1,S;for(o.version=null,o.checkLineBreaks=o.legacy,o.tagMap={},o.anchorMap={};(S=o.input.charCodeAt(o.position))!==0&&(skipSeparationSpace(o,!0,-1),S=o.input.charCodeAt(o.position),!(o.lineIndent>0||S!==37));){for(y=!0,S=o.input.charCodeAt(++o.position),x=o.position;S!==0&&!is_WS_OR_EOL(S);)S=o.input.charCodeAt(++o.position);for(O=o.input.slice(x,o.position),E=[],O.length<1&&throwError(o,"directive name must not be less than one character in length");S!==0;){for(;is_WHITE_SPACE(S);)S=o.input.charCodeAt(++o.position);if(S===35){do S=o.input.charCodeAt(++o.position);while(S!==0&&!is_EOL(S));break}if(is_EOL(S))break;for(x=o.position;S!==0&&!is_WS_OR_EOL(S);)S=o.input.charCodeAt(++o.position);E.push(o.input.slice(x,o.position))}S!==0&&readLineBreak(o),_hasOwnProperty$1.call(directiveHandlers,O)?directiveHandlers[O](o,O,E):throwWarning(o,'unknown document directive "'+O+'"')}if(skipSeparationSpace(o,!0,-1),o.lineIndent===0&&o.input.charCodeAt(o.position)===45&&o.input.charCodeAt(o.position+1)===45&&o.input.charCodeAt(o.position+2)===45?(o.position+=3,skipSeparationSpace(o,!0,-1)):y&&throwError(o,"directives end mark is expected"),composeNode(o,o.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(o,!0,-1),o.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(o.input.slice(r,o.position))&&throwWarning(o,"non-ASCII line breaks are interpreted as content"),o.documents.push(o.result),o.position===o.lineStart&&testDocumentSeparator(o)){o.input.charCodeAt(o.position)===46&&(o.position+=3,skipSeparationSpace(o,!0,-1));return}if(o.position<o.length-1)throwError(o,"end of the stream or a document separator is expected");else return}function loadDocuments(o,r){o=String(o),r=r||{},o.length!==0&&(o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o.charCodeAt(0)===65279&&(o=o.slice(1)));var x=new State$2(o,r),O=o.indexOf("\0");for(O!==-1&&(x.position=O,throwError(x,"null byte is not allowed in input")),x.input+="\0";x.input.charCodeAt(x.position)===32;)x.lineIndent+=1,x.position+=1;for(;x.position<x.length-1;)readDocument(x);return x.documents}function loadAll(o,r,x){r!==null&&typeof r=="object"&&typeof x>"u"&&(x=r,r=null);var O=loadDocuments(o,x);if(typeof r!="function")return O;for(var E=0,y=O.length;E<y;E+=1)r(O[E])}function load(o,r){var x=loadDocuments(o,r);if(x.length!==0){if(x.length===1)return x[0];throw new YAMLException$1("expected a single document in the stream, but found more")}}function safeLoadAll(o,r,x){return typeof r=="object"&&r!==null&&typeof x>"u"&&(x=r,r=null),loadAll(o,r,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},x))}function safeLoad(o,r){return load(o,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},r))}loader$1.loadAll=loadAll;loader$1.load=load;loader$1.safeLoadAll=safeLoadAll;loader$1.safeLoad=safeLoad;var dumper$1={},common=common$6,YAMLException=exception,DEFAULT_FULL_SCHEMA=default_full,DEFAULT_SAFE_SCHEMA=default_safe,_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(o,r){var x,O,E,y,S,j,w;if(r===null)return{};for(x={},O=Object.keys(r),E=0,y=O.length;E<y;E+=1)S=O[E],j=String(r[S]),S.slice(0,2)==="!!"&&(S="tag:yaml.org,2002:"+S.slice(2)),w=o.compiledTypeMap.fallback[S],w&&_hasOwnProperty.call(w.styleAliases,j)&&(j=w.styleAliases[j]),x[S]=j;return x}function encodeHex(o){var r,x,O;if(r=o.toString(16).toUpperCase(),o<=255)x="x",O=2;else if(o<=65535)x="u",O=4;else if(o<=4294967295)x="U",O=8;else throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+x+common.repeat("0",O-r.length)+r}function State$1(o){this.schema=o.schema||DEFAULT_FULL_SCHEMA,this.indent=Math.max(1,o.indent||2),this.noArrayIndent=o.noArrayIndent||!1,this.skipInvalid=o.skipInvalid||!1,this.flowLevel=common.isNothing(o.flowLevel)?-1:o.flowLevel,this.styleMap=compileStyleMap(this.schema,o.styles||null),this.sortKeys=o.sortKeys||!1,this.lineWidth=o.lineWidth||80,this.noRefs=o.noRefs||!1,this.noCompatMode=o.noCompatMode||!1,this.condenseFlow=o.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString$1(o,r){for(var x=common.repeat(" ",r),O=0,E=-1,y="",S,j=o.length;O<j;)E=o.indexOf(`
`,O),E===-1?(S=o.slice(O),O=j):(S=o.slice(O,E+1),O=E+1),S.length&&S!==`
`&&(y+=x),y+=S;return y}function generateNextLine(o,r){return`
`+common.repeat(" ",o.indent*r)}function testImplicitResolving(o,r){var x,O,E;for(x=0,O=o.implicitTypes.length;x<O;x+=1)if(E=o.implicitTypes[x],E.resolve(r))return!0;return!1}function isWhitespace$1(o){return o===CHAR_SPACE||o===CHAR_TAB}function isPrintable(o){return 32<=o&&o<=126||161<=o&&o<=55295&&o!==8232&&o!==8233||57344<=o&&o<=65533&&o!==65279||65536<=o&&o<=1114111}function isNsChar(o){return isPrintable(o)&&!isWhitespace$1(o)&&o!==65279&&o!==CHAR_CARRIAGE_RETURN&&o!==CHAR_LINE_FEED}function isPlainSafe(o,r){return isPrintable(o)&&o!==65279&&o!==CHAR_COMMA&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET&&o!==CHAR_COLON&&(o!==CHAR_SHARP||r&&isNsChar(r))}function isPlainSafeFirst(o){return isPrintable(o)&&o!==65279&&!isWhitespace$1(o)&&o!==CHAR_MINUS&&o!==CHAR_QUESTION&&o!==CHAR_COLON&&o!==CHAR_COMMA&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET&&o!==CHAR_SHARP&&o!==CHAR_AMPERSAND&&o!==CHAR_ASTERISK&&o!==CHAR_EXCLAMATION&&o!==CHAR_VERTICAL_LINE&&o!==CHAR_EQUALS&&o!==CHAR_GREATER_THAN&&o!==CHAR_SINGLE_QUOTE&&o!==CHAR_DOUBLE_QUOTE&&o!==CHAR_PERCENT&&o!==CHAR_COMMERCIAL_AT&&o!==CHAR_GRAVE_ACCENT}function needIndentIndicator(o){var r=/^\n* /;return r.test(o)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(o,r,x,O,E){var y,S,j,w=!1,_=!1,Q=O!==-1,I=-1,M=isPlainSafeFirst(o.charCodeAt(0))&&!isWhitespace$1(o.charCodeAt(o.length-1));if(r)for(y=0;y<o.length;y++){if(S=o.charCodeAt(y),!isPrintable(S))return STYLE_DOUBLE;j=y>0?o.charCodeAt(y-1):null,M=M&&isPlainSafe(S,j)}else{for(y=0;y<o.length;y++){if(S=o.charCodeAt(y),S===CHAR_LINE_FEED)w=!0,Q&&(_=_||y-I-1>O&&o[I+1]!==" ",I=y);else if(!isPrintable(S))return STYLE_DOUBLE;j=y>0?o.charCodeAt(y-1):null,M=M&&isPlainSafe(S,j)}_=_||Q&&y-I-1>O&&o[I+1]!==" "}return!w&&!_?M&&!E(o)?STYLE_PLAIN:STYLE_SINGLE:x>9&&needIndentIndicator(o)?STYLE_DOUBLE:_?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(o,r,x,O){o.dump=function(){if(r.length===0)return"''";if(!o.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(r)!==-1)return"'"+r+"'";var E=o.indent*Math.max(1,x),y=o.lineWidth===-1?-1:Math.max(Math.min(o.lineWidth,40),o.lineWidth-E),S=O||o.flowLevel>-1&&x>=o.flowLevel;function j(w){return testImplicitResolving(o,w)}switch(chooseScalarStyle(r,S,o.indent,y,j)){case STYLE_PLAIN:return r;case STYLE_SINGLE:return"'"+r.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(r,o.indent)+dropEndingNewline(indentString$1(r,E));case STYLE_FOLDED:return">"+blockHeader(r,o.indent)+dropEndingNewline(indentString$1(foldString(r,y),E));case STYLE_DOUBLE:return'"'+escapeString(r)+'"';default:throw new YAMLException("impossible error: invalid scalar style")}}()}function blockHeader(o,r){var x=needIndentIndicator(o)?String(r):"",O=o[o.length-1]===`
`,E=O&&(o[o.length-2]===`
`||o===`
`),y=E?"+":O?"":"-";return x+y+`
`}function dropEndingNewline(o){return o[o.length-1]===`
`?o.slice(0,-1):o}function foldString(o,r){for(var x=/(\n+)([^\n]*)/g,O=function(){var _=o.indexOf(`
`);return _=_!==-1?_:o.length,x.lastIndex=_,foldLine(o.slice(0,_),r)}(),E=o[0]===`
`||o[0]===" ",y,S;S=x.exec(o);){var j=S[1],w=S[2];y=w[0]===" ",O+=j+(!E&&!y&&w!==""?`
`:"")+foldLine(w,r),E=y}return O}function foldLine(o,r){if(o===""||o[0]===" ")return o;for(var x=/ [^ ]/g,O,E=0,y,S=0,j=0,w="";O=x.exec(o);)j=O.index,j-E>r&&(y=S>E?S:j,w+=`
`+o.slice(E,y),E=y+1),S=j;return w+=`
`,o.length-E>r&&S>E?w+=o.slice(E,S)+`
`+o.slice(S+1):w+=o.slice(E),w.slice(1)}function escapeString(o){for(var r="",x,O,E,y=0;y<o.length;y++){if(x=o.charCodeAt(y),x>=55296&&x<=56319&&(O=o.charCodeAt(y+1),O>=56320&&O<=57343)){r+=encodeHex((x-55296)*1024+O-56320+65536),y++;continue}E=ESCAPE_SEQUENCES[x],r+=!E&&isPrintable(x)?o[y]:E||encodeHex(x)}return r}function writeFlowSequence(o,r,x){var O="",E=o.tag,y,S;for(y=0,S=x.length;y<S;y+=1)writeNode(o,r,x[y],!1,!1)&&(y!==0&&(O+=","+(o.condenseFlow?"":" ")),O+=o.dump);o.tag=E,o.dump="["+O+"]"}function writeBlockSequence(o,r,x,O){var E="",y=o.tag,S,j;for(S=0,j=x.length;S<j;S+=1)writeNode(o,r+1,x[S],!0,!0)&&((!O||S!==0)&&(E+=generateNextLine(o,r)),o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?E+="-":E+="- ",E+=o.dump);o.tag=y,o.dump=E||"[]"}function writeFlowMapping(o,r,x){var O="",E=o.tag,y=Object.keys(x),S,j,w,_,Q;for(S=0,j=y.length;S<j;S+=1)Q="",S!==0&&(Q+=", "),o.condenseFlow&&(Q+='"'),w=y[S],_=x[w],writeNode(o,r,w,!1,!1)&&(o.dump.length>1024&&(Q+="? "),Q+=o.dump+(o.condenseFlow?'"':"")+":"+(o.condenseFlow?"":" "),writeNode(o,r,_,!1,!1)&&(Q+=o.dump,O+=Q));o.tag=E,o.dump="{"+O+"}"}function writeBlockMapping(o,r,x,O){var E="",y=o.tag,S=Object.keys(x),j,w,_,Q,I,M;if(o.sortKeys===!0)S.sort();else if(typeof o.sortKeys=="function")S.sort(o.sortKeys);else if(o.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(j=0,w=S.length;j<w;j+=1)M="",(!O||j!==0)&&(M+=generateNextLine(o,r)),_=S[j],Q=x[_],writeNode(o,r+1,_,!0,!0,!0)&&(I=o.tag!==null&&o.tag!=="?"||o.dump&&o.dump.length>1024,I&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?M+="?":M+="? "),M+=o.dump,I&&(M+=generateNextLine(o,r)),writeNode(o,r+1,Q,!0,I)&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?M+=":":M+=": ",M+=o.dump,E+=M));o.tag=y,o.dump=E||"{}"}function detectType(o,r,x){var O,E,y,S,j,w;for(E=x?o.explicitTypes:o.implicitTypes,y=0,S=E.length;y<S;y+=1)if(j=E[y],(j.instanceOf||j.predicate)&&(!j.instanceOf||typeof r=="object"&&r instanceof j.instanceOf)&&(!j.predicate||j.predicate(r))){if(o.tag=x?j.tag:"?",j.represent){if(w=o.styleMap[j.tag]||j.defaultStyle,_toString.call(j.represent)==="[object Function]")O=j.represent(r,w);else if(_hasOwnProperty.call(j.represent,w))O=j.represent[w](r,w);else throw new YAMLException("!<"+j.tag+'> tag resolver accepts not "'+w+'" style');o.dump=O}return!0}return!1}function writeNode(o,r,x,O,E,y){o.tag=null,o.dump=x,detectType(o,x,!1)||detectType(o,x,!0);var S=_toString.call(o.dump);O&&(O=o.flowLevel<0||o.flowLevel>r);var j=S==="[object Object]"||S==="[object Array]",w,_;if(j&&(w=o.duplicates.indexOf(x),_=w!==-1),(o.tag!==null&&o.tag!=="?"||_||o.indent!==2&&r>0)&&(E=!1),_&&o.usedDuplicates[w])o.dump="*ref_"+w;else{if(j&&_&&!o.usedDuplicates[w]&&(o.usedDuplicates[w]=!0),S==="[object Object]")O&&Object.keys(o.dump).length!==0?(writeBlockMapping(o,r,o.dump,E),_&&(o.dump="&ref_"+w+o.dump)):(writeFlowMapping(o,r,o.dump),_&&(o.dump="&ref_"+w+" "+o.dump));else if(S==="[object Array]"){var Q=o.noArrayIndent&&r>0?r-1:r;O&&o.dump.length!==0?(writeBlockSequence(o,Q,o.dump,E),_&&(o.dump="&ref_"+w+o.dump)):(writeFlowSequence(o,Q,o.dump),_&&(o.dump="&ref_"+w+" "+o.dump))}else if(S==="[object String]")o.tag!=="?"&&writeScalar(o,o.dump,r,y);else{if(o.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+S)}o.tag!==null&&o.tag!=="?"&&(o.dump="!<"+o.tag+"> "+o.dump)}return!0}function getDuplicateReferences(o,r){var x=[],O=[],E,y;for(inspectNode(o,x,O),E=0,y=O.length;E<y;E+=1)r.duplicates.push(x[O[E]]);r.usedDuplicates=new Array(y)}function inspectNode(o,r,x){var O,E,y;if(o!==null&&typeof o=="object")if(E=r.indexOf(o),E!==-1)x.indexOf(E)===-1&&x.push(E);else if(r.push(o),Array.isArray(o))for(E=0,y=o.length;E<y;E+=1)inspectNode(o[E],r,x);else for(O=Object.keys(o),E=0,y=O.length;E<y;E+=1)inspectNode(o[O[E]],r,x)}function dump(o,r){r=r||{};var x=new State$1(r);return x.noRefs||getDuplicateReferences(o,x),writeNode(x,0,o,!0,!0)?x.dump+`
`:""}function safeDump(o,r){return dump(o,common.extend({schema:DEFAULT_SAFE_SCHEMA},r))}dumper$1.dump=dump;dumper$1.safeDump=safeDump;var loader=loader$1,dumper=dumper$1;function deprecated(o){return function(){throw new Error("Function "+o+" is deprecated and cannot be used.")}}jsYaml$1.Type=type;jsYaml$1.Schema=schema;jsYaml$1.FAILSAFE_SCHEMA=failsafe;jsYaml$1.JSON_SCHEMA=json;jsYaml$1.CORE_SCHEMA=core;jsYaml$1.DEFAULT_SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_FULL_SCHEMA=default_full;jsYaml$1.load=loader.load;jsYaml$1.loadAll=loader.loadAll;jsYaml$1.safeLoad=loader.safeLoad;jsYaml$1.safeLoadAll=loader.safeLoadAll;jsYaml$1.dump=dumper.dump;jsYaml$1.safeDump=dumper.safeDump;jsYaml$1.YAMLException=exception;jsYaml$1.MINIMAL_SCHEMA=failsafe;jsYaml$1.SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_SCHEMA=default_full;jsYaml$1.scan=deprecated("scan");jsYaml$1.parse=deprecated("parse");jsYaml$1.compose=deprecated("compose");jsYaml$1.addConstructor=deprecated("addConstructor");var yaml=jsYaml$1,jsYaml=yaml;(function(module,exports){const yaml=jsYaml,engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(o,r){const x=Object.assign({replacer:null,space:2},r);return JSON.stringify(o,x.replacer,x.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(o){if(wrap!==!1&&/(unexpected|identifier)/i.test(o.message))return parse(str,options,!1);throw new SyntaxError(o)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}})(engines$2);var enginesExports=engines$2.exports,utils$3={};/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var stripBomString=function(o){return typeof o=="string"&&o.charAt(0)==="\uFEFF"?o.slice(1):o};(function(o){const r=stripBomString,x=kindOf;o.define=function(O,E,y){Reflect.defineProperty(O,E,{enumerable:!1,configurable:!0,writable:!0,value:y})},o.isBuffer=function(O){return x(O)==="buffer"},o.isObject=function(O){return x(O)==="object"},o.toBuffer=function(O){return typeof O=="string"?Buffer.from(O):O},o.toString=function(O){if(o.isBuffer(O))return r(String(O));if(typeof O!="string")throw new TypeError("expected input to be a string or buffer");return r(O)},o.arrayify=function(O){return O?Array.isArray(O)?O:[O]:[]},o.startsWith=function(O,E,y){return typeof y!="number"&&(y=E.length),O.slice(0,y)===E}})(utils$3);const engines$1=enginesExports,utils$2=utils$3;var defaults$6=function(o){const r=Object.assign({},o);return r.delimiters=utils$2.arrayify(r.delims||r.delimiters||"---"),r.delimiters.length===1&&r.delimiters.push(r.delimiters[0]),r.language=(r.language||r.lang||"yaml").toLowerCase(),r.engines=Object.assign({},engines$1,r.parsers,r.engines),r},engine=function(o,r){let x=r.engines[o]||r.engines[aliase(o)];if(typeof x>"u")throw new Error('gray-matter engine "'+o+'" is not registered');return typeof x=="function"&&(x={parse:x}),x};function aliase(o){switch(o.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return o}}const typeOf$1=kindOf,getEngine$1=engine,defaults$5=defaults$6;var stringify$2=function(o,r,x){if(r==null&&x==null)switch(typeOf$1(o)){case"object":r=o.data,x={};break;case"string":return o;default:throw new TypeError("expected file to be a string or object")}const O=o.content,E=defaults$5(x);if(r==null){if(!E.data)return o;r=E.data}const y=o.language||E.language,S=getEngine$1(y,E);if(typeof S.stringify!="function")throw new TypeError('expected "'+y+'.stringify" to be a function');r=Object.assign({},o.data,r);const j=E.delimiters[0],w=E.delimiters[1],_=S.stringify(r,x).trim();let Q="";return _!=="{}"&&(Q=newline$3(j)+newline$3(_)+newline$3(w)),typeof o.excerpt=="string"&&o.excerpt!==""&&O.indexOf(o.excerpt.trim())===-1&&(Q+=newline$3(o.excerpt)+newline$3(w)),Q+newline$3(O)};function newline$3(o){return o.slice(-1)!==`
`?o+`
`:o}const defaults$4=defaults$6;var excerpt$1=function(o,r){const x=defaults$4(r);if(o.data==null&&(o.data={}),typeof x.excerpt=="function")return x.excerpt(o,x);const O=o.data.excerpt_separator||x.excerpt_separator;if(O==null&&(x.excerpt===!1||x.excerpt==null))return o;const E=typeof x.excerpt=="string"?x.excerpt:O||x.delimiters[0],y=o.content.indexOf(E);return y!==-1&&(o.excerpt=o.content.slice(0,y)),o};const typeOf=kindOf,stringify$1=stringify$2,utils$1=utils$3;var toFile$1=function(o){return typeOf(o)!=="object"&&(o={content:o}),typeOf(o.data)!=="object"&&(o.data={}),o.contents&&o.content==null&&(o.content=o.contents),utils$1.define(o,"orig",utils$1.toBuffer(o.content)),utils$1.define(o,"language",o.language||""),utils$1.define(o,"matter",o.matter||""),utils$1.define(o,"stringify",function(r,x){return x&&x.language&&(o.language=x.language),stringify$1(o,r,x)}),o.content=utils$1.toString(o.content),o.isEmpty=!1,o.excerpt="",o};const getEngine=engine,defaults$3=defaults$6;var parse$2=function(o,r,x){const O=defaults$3(x),E=getEngine(o,O);if(typeof E.parse!="function")throw new TypeError('expected "'+o+'.parse" to be a function');return E.parse(r,O)};const fs=require$$0,sections=sectionMatter,defaults$2=defaults$6,stringify=stringify$2,excerpt=excerpt$1,engines=enginesExports,toFile=toFile$1,parse$1=parse$2,utils=utils$3;function matter(o,r){if(o==="")return{data:{},content:o,excerpt:"",orig:o};let x=toFile(o);const O=matter.cache[x.content];if(!r){if(O)return x=Object.assign({},O),x.orig=O.orig,x;matter.cache[x.content]=x}return parseMatter(x,r)}function parseMatter(o,r){const x=defaults$2(r),O=x.delimiters[0],E=`
`+x.delimiters[1];let y=o.content;x.language&&(o.language=x.language);const S=O.length;if(!utils.startsWith(y,O,S))return excerpt(o,x),o;if(y.charAt(S)===O.slice(-1))return o;y=y.slice(S);const j=y.length,w=matter.language(y,x);w.name&&(o.language=w.name,y=y.slice(w.raw.length));let _=y.indexOf(E);return _===-1&&(_=j),o.matter=y.slice(0,_),o.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(o.isEmpty=!0,o.empty=o.content,o.data={}):o.data=parse$1(o.language,o.matter,x),_===j?o.content="":(o.content=y.slice(_+E.length),o.content[0]==="\r"&&(o.content=o.content.slice(1)),o.content[0]===`
`&&(o.content=o.content.slice(1))),excerpt(o,x),(x.sections===!0||typeof x.section=="function")&&sections(o,x.section),o}matter.engines=engines;matter.stringify=function(o,r,x){return typeof o=="string"&&(o=matter(o,x)),stringify(o,r,x)};matter.read=function(o,r){const x=fs.readFileSync(o,"utf8"),O=matter(x,r);return O.path=o,O};matter.test=function(o,r){return utils.startsWith(o,defaults$2(r).delimiters[0])};matter.language=function(o,r){const O=defaults$2(r).delimiters[0];matter.test(o)&&(o=o.slice(O.length));const E=o.slice(0,o.search(/\r?\n/));return{raw:E,name:E?E.trim():""}};matter.cache={};matter.clearCache=function(){matter.cache={}};var grayMatter=matter;const matter$1=getDefaultExportFromCjs(grayMatter),gr=class gr{static asString(r){return typeof r=="string"?r:r==null?"":String(r)}static asLower(r){return this.asString(r).toLowerCase()}static getBasePath(){return"/".replace(/\/$/,"")}static buildPageKey(r){const x={...r,tags:(r.tags||[]).slice().sort(),category:r.category||"all",search:this.asString(r.search).trim().toLowerCase(),sort:r.sort||"date"};return JSON.stringify(x)}static applyFiltersAndSort(r,x){const O=this.asString(x.search).trim().toLowerCase(),E=x.category&&x.category!=="all"?x.category:void 0,y=(x.tags||[]).filter(Boolean);let S=r.filter(w=>w.published!==!1);if(E){const w=this.asLower(E);S=S.filter(_=>this.asLower(_.category)===w)}if(y.length){const w=y.map(_=>this.asLower(_));S=S.filter(_=>{const I=(Array.isArray(_.tags)?_.tags:[]).map(M=>this.asLower(M));return w.some(M=>I.includes(M))})}O&&(S=S.filter(w=>this.asLower(w.title).includes(O)||this.asLower(w.description).includes(O)||this.asLower(w.snippet).includes(O)||this.asLower(w.category).includes(O)||(Array.isArray(w.tags)?w.tags:[]).some(_=>this.asLower(_).includes(O))));const j=x.sort||"date";return S.sort((w,_)=>{if(j==="title")return this.asString(w.title).localeCompare(this.asString(_.title));if(j==="readTime"){const Q=I=>I&&parseInt(String(I),10)||0;return Q(w.readingTime)-Q(_.readingTime)}return new Date(this.asString(_.date)).getTime()-new Date(this.asString(w.date)).getTime()}),S}static async getPostsPage(r){const x=Math.max(1,r.page||1),O=Math.max(1,r.pageSize||gr.DEFAULT_PAGE_SIZE),E=this.buildPageKey({...r,page:x,pageSize:O}),y=this.pageCache.get(E);if(y)return y;const S=await this.getManifestItems(),j=this.applyFiltersAndSort(S,r),w=j.length,_=Math.max(1,Math.ceil(w/O)),Q=(x-1)*O,F={items:j.slice(Q,Q+O).map(V=>({id:V.slug,title:this.asString(V.title),description:this.asString(V.description),excerpt:V.snippet||V.description,content:"",date:this.asString(V.date),author:this.asString(V.author)||"Admin",tags:(Array.isArray(V.tags)?V.tags:[]).filter(Boolean).map(te=>this.asString(te)),category:this.asString(V.category),readingTime:V.readingTime,slug:V.slug,year:V.year,published:!0,coverImage:V.coverImage,language:V.language??"ko"})),page:x,pageSize:O,total:w,totalPages:_,hasMore:x<_};return this.pageCache.set(E,F),F}static async prefetchPost(r,x){const E=(await this.getManifestItems()).find(S=>S.year===r&&S.slug===x);if(!E)return;const y=`${r}/${x}`;if(!this.contentCache.has(y))try{const S=await this.loadMarkdownFile(E.path);this.contentCache.set(y,S)}catch{}}static async loadPostsManifest(){try{const x=`${this.getBasePath()}/posts-manifest.json${`?v=${Date.now()}`}`,O=await fetch(x,{cache:"no-cache"});if(!O.ok)throw new Error("Failed to load posts manifest");return await O.json()}catch(r){return console.error("Error loading posts manifest:",r),null}}static async loadMarkdownFile(r){try{const x=this.getBasePath(),O=r.startsWith("/")?r:`/${r}`,E=`${x}${O}`,y=await fetch(E);if(!y.ok)throw new Error(`Failed to load ${r}`);return await y.text()}catch(x){throw console.error(`Error loading markdown file ${r}:`,x),x}}static parseMarkdownContent(r,x){var se;const{data:O,content:E}=matter$1(r),y=E.trim().split(/\s+/).filter(Boolean).length,j=`${Math.max(1,Math.ceil(y/200))} min read`,w=x.match(/\/posts\/(\d{4})\/(.+)\.md$/),_=(w==null?void 0:w[1])??new Date().getFullYear().toString(),Q=(w==null?void 0:w[2])??((se=x.split("/").pop())==null?void 0:se.replace(".md",""))??"post",M=O.defaultLanguage==="en"?"en":"ko",F=ne=>{if(!ne||typeof ne!="object")return;const oe=ne,Oe={title:typeof oe.title=="string"?oe.title:"",description:typeof oe.description=="string"?oe.description:""};return Oe.title||delete Oe.title,Oe.description||delete Oe.description,typeof oe.excerpt=="string"&&(Oe.excerpt=oe.excerpt),typeof oe.content=="string"&&(Oe.content=oe.content),Object.keys(Oe).length?Oe:void 0},V={},te=O.translations;te&&typeof te=="object"&&Object.entries(te).forEach(([ne,oe])=>{const Oe=ne==="en"?"en":ne==="ko"?"ko":null;if(!Oe)return;const ae=F(oe);ae&&(V[Oe]=ae)});const re=Array.from(new Set([M,...Object.keys(V)]));return{id:Q,title:O.title||Q.replace(/-/g," ").replace(/\b\w/g,ne=>ne.toUpperCase()),description:O.description||`${E.substring(0,150)}...`,excerpt:O.excerpt||O.description||`${E.substring(0,150)}...`,content:E,date:O.date||`${_}-01-01`,author:O.author||"Admin",tags:Array.isArray(O.tags)?O.tags:[],category:O.category||"General",readingTime:j,slug:Q,year:_,language:M,published:O.published!==!1,coverImage:O.coverImage||O.cover,defaultLanguage:M,availableLanguages:re,translations:V}}static async getManifestItems(){var E;if(this.manifestCache)return this.manifestCache.items;const r=await this.loadPostsManifest();if(!r)return[];if(r.items)return this.manifestCache=r,this.manifestCache.items;const x=r;if(!((E=x.posts)!=null&&E.length))return[];const O=[];for(const y of x.posts)try{const S=await this.loadMarkdownFile(y),j=this.parseMarkdownContent(S,y);if(j.published===!1)continue;O.push({path:y,year:j.year,slug:j.slug,title:j.title,description:j.description,snippet:j.excerpt||j.description,date:j.date,tags:j.tags||[],category:j.category,author:j.author,readingTime:j.readingTime,published:!0,coverImage:j.coverImage,language:j.language||"ko",url:`/blog/${j.year}/${j.slug}`})}catch(S){console.warn(`Failed to parse legacy post ${y}:`,S)}return O.sort((y,S)=>new Date(S.date).getTime()-new Date(y.date).getTime()),this.manifestCache={total:O.length,items:O,generatedAt:new Date().toISOString(),years:Array.from(new Set(O.map(y=>y.year))).sort().reverse(),format:1},O}static async getAllPosts(){if(this.postsCache)return this.postsCache;const x=(await this.getManifestItems()).filter(O=>O.published!==!1).map(O=>({id:O.slug,title:this.asString(O.title),description:this.asString(O.description),excerpt:O.snippet||O.description,content:"",date:this.asString(O.date),author:this.asString(O.author)||"Admin",tags:(Array.isArray(O.tags)?O.tags:[]).filter(Boolean).map(E=>this.asString(E)),category:this.asString(O.category),readingTime:O.readingTime,slug:O.slug,year:O.year,published:!0,coverImage:O.coverImage,language:O.language??"ko",defaultLanguage:O.defaultLanguage,availableLanguages:O.availableLanguages,translations:O.translations}));return this.postsCache=x,x}static async getPostBySlug(r,x){const O=`${r}/${x}`,y=(await this.getManifestItems()).find(w=>w.year===r&&w.slug===x);if(!y)return null;if(this.contentCache.has(O)){const w=this.contentCache.get(O),_=this.parseMarkdownContent(w,y.path);return{id:_.id,title:_.title,description:_.description,excerpt:_.excerpt,content:_.content,date:_.date,author:_.author,tags:_.tags,category:_.category,readingTime:_.readingTime,slug:_.slug,year:_.year,published:!0,coverImage:_.coverImage??y.coverImage,defaultLanguage:_.defaultLanguage,availableLanguages:_.availableLanguages,translations:_.translations,language:_.language??_.defaultLanguage??"ko"}}const S=await this.loadMarkdownFile(y.path);this.contentCache.set(O,S);const j=this.parseMarkdownContent(S,y.path);return{id:j.id,title:j.title,description:j.description,excerpt:j.excerpt,content:j.content,date:j.date,author:j.author,tags:j.tags,category:j.category,readingTime:j.readingTime,slug:j.slug,year:j.year,published:!0,coverImage:j.coverImage??y.coverImage,language:j.language??j.defaultLanguage??"ko"}}static async getPostsByCategory(r){return(await this.getAllPosts()).filter(O=>O.category.toLowerCase()===r.toLowerCase())}static async getPostsByTag(r){return(await this.getAllPosts()).filter(O=>O.tags.some(E=>E.toLowerCase()===r.toLowerCase()))}static async searchPosts(r){const x=await this.getAllPosts(),O=r.toLowerCase();return x.filter(E=>E.title.toLowerCase().includes(O)||E.description.toLowerCase().includes(O)||E.excerpt&&E.excerpt.toLowerCase().includes(O)||E.tags.some(y=>y.toLowerCase().includes(O))||E.category.toLowerCase().includes(O))}static clearCache(){this.postsCache=null,this.manifestCache=null,this.contentCache.clear(),this.pageCache.clear()}};sr(gr,"postsCache",null),sr(gr,"manifestCache",null),sr(gr,"contentCache",new Map),sr(gr,"pageCache",new Map),sr(gr,"DEFAULT_PAGE_SIZE",12),sr(gr,"SORTS",["date","title","readTime"]);let PostService=gr;const getPosts=async()=>{try{return await PostService.getAllPosts()}catch(o){return console.error("Error loading posts:",o),[]}},getPostBySlug=async(o,r)=>{try{return await PostService.getPostBySlug(o,r)}catch(x){return console.error(`Error loading post ${o}/${r}:`,x),null}},getPostsPage=async o=>{try{return await PostService.getPostsPage(o)}catch(r){return console.error("Error loading paginated posts:",r),{items:[],page:o.page??1,pageSize:o.pageSize??12,total:0,totalPages:1,hasMore:!1}}},prefetchPost=async(o,r)=>{try{await PostService.prefetchPost(o,r)}catch{}},getAllCategories=async()=>{try{const o=await PostService.getAllPosts(),r=new Set(o.map(x=>x.category));return Array.from(r)}catch(o){return console.error("Error loading categories:",o),[]}},getAllTags=async()=>{try{const o=await PostService.getAllPosts(),r=new Set(o.flatMap(x=>x.tags));return Array.from(r)}catch(o){return console.error("Error loading tags:",o),[]}},getPostsBySeries=async o=>{try{return(await PostService.getAllPosts()).filter(x=>x.series&&x.series.toLowerCase()===o.toLowerCase())}catch(r){return console.error(`Error loading posts for series ${o}:`,r),[]}};let postsLoaded=!1;const initializePosts=async()=>{postsLoaded||(await getPosts(),postsLoaded=!0)};initializePosts();let cachedPosts=null,loadingPromise=null;function usePostsIndex(){const[o,r]=reactExports.useState(cachedPosts||[]),[x,O]=reactExports.useState(!cachedPosts),[E,y]=reactExports.useState(null);reactExports.useEffect(()=>{if(cachedPosts){r(cachedPosts),O(!1);return}if(loadingPromise){loadingPromise.then(j=>{r(j),O(!1)}).catch(j=>{y(j),O(!1)});return}O(!0),loadingPromise=getPosts(),loadingPromise.then(j=>{cachedPosts=j,r(j),O(!1)}).catch(j=>{y(j),O(!1),loadingPromise=null})},[]);const S=reactExports.useCallback(async()=>{O(!0);try{const j=await getPosts();cachedPosts=j,r(j)}catch(j){y(j)}finally{O(!1)}},[]);return{posts:o,loading:x,error:E,refresh:S,getPostBySlug:reactExports.useCallback((j,w)=>o.find(_=>_.year===j&&_.slug===w)||null,[o]),searchPosts:reactExports.useCallback(j=>{if(!j.trim())return o;const w=j.toLowerCase();return o.filter(_=>{var Q,I,M;return _.title.toLowerCase().includes(w)||((Q=_.description)==null?void 0:Q.toLowerCase().includes(w))||((I=_.tags)==null?void 0:I.some(F=>F.toLowerCase().includes(w)))||((M=_.category)==null?void 0:M.toLowerCase().includes(w))})},[o])}}const Input=reactExports.forwardRef(({className:o,type:r,...x},O)=>jsxRuntimeExports.jsx("input",{type:r,className:cn("flex h-12 w-full rounded-md border border-input bg-card px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 transition-colors md:h-10 md:text-sm",o),ref:O,...x}));Input.displayName="Input";const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/85",secondary:"border-[hsl(var(--tag-border))] bg-[hsl(var(--tag))] text-[hsl(var(--tag-foreground))] hover:bg-[hsl(var(--tag)/0.88)]",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/85",outline:"text-foreground border-border",muted:"border-[hsl(var(--tag-border)/0.85)] bg-[hsl(var(--tag)/0.7)] text-[hsl(var(--tag-foreground))]"}},defaultVariants:{variant:"default"}});function Badge({className:o,variant:r,...x}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:r}),o),...x})}var POPOVER_NAME="Popover",[createPopoverContext]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope$3=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=o=>{const{__scopePopover:r,children:x,open:O,defaultOpen:E,onOpenChange:y,modal:S=!1}=o,j=usePopperScope$3(r),w=reactExports.useRef(null),[_,Q]=reactExports.useState(!1),[I,M]=useControllableState({prop:O,defaultProp:E??!1,onChange:y,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$9,{...j,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:r,contentId:useId$1(),triggerRef:w,open:I,onOpenChange:M,onOpenToggle:reactExports.useCallback(()=>M(F=>!F),[M]),hasCustomAnchor:_,onCustomAnchorAdd:reactExports.useCallback(()=>Q(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>Q(!1),[]),modal:S,children:x})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((o,r)=>{const{__scopePopover:x,...O}=o,E=usePopoverContext(ANCHOR_NAME,x),y=usePopperScope$3(x),{onCustomAnchorAdd:S,onCustomAnchorRemove:j}=E;return reactExports.useEffect(()=>(S(),()=>j()),[S,j]),jsxRuntimeExports.jsx(Anchor,{...y,...O,ref:r})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME$9="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopePopover:x,...O}=o,E=usePopoverContext(TRIGGER_NAME$9,x),y=usePopperScope$3(x),S=useComposedRefs$1(r,E.triggerRef),j=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":E.open,"aria-controls":E.contentId,"data-state":getState$3(E.open),...O,ref:S,onClick:composeEventHandlers(o.onClick,E.onOpenToggle)});return E.hasCustomAnchor?j:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...y,children:j})});PopoverTrigger$1.displayName=TRIGGER_NAME$9;var PORTAL_NAME$6="PopoverPortal",[PortalProvider$2,usePortalContext$2]=createPopoverContext(PORTAL_NAME$6,{forceMount:void 0}),PopoverPortal=o=>{const{__scopePopover:r,forceMount:x,children:O,container:E}=o,y=usePopoverContext(PORTAL_NAME$6,r);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:r,forceMount:x,children:jsxRuntimeExports.jsx(Presence,{present:x||y.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:E,children:O})})})};PopoverPortal.displayName=PORTAL_NAME$6;var CONTENT_NAME$8="PopoverContent",PopoverContent$1=reactExports.forwardRef((o,r)=>{const x=usePortalContext$2(CONTENT_NAME$8,o.__scopePopover),{forceMount:O=x.forceMount,...E}=o,y=usePopoverContext(CONTENT_NAME$8,o.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:O||y.open,children:y.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...E,ref:r}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...E,ref:r})})});PopoverContent$1.displayName=CONTENT_NAME$8;var Slot$1=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((o,r)=>{const x=usePopoverContext(CONTENT_NAME$8,o.__scopePopover),O=reactExports.useRef(null),E=useComposedRefs$1(r,O),y=reactExports.useRef(!1);return reactExports.useEffect(()=>{const S=O.current;if(S)return hideOthers(S)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...o,ref:E,trapFocus:x.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(o.onCloseAutoFocus,S=>{var j;S.preventDefault(),y.current||(j=x.triggerRef.current)==null||j.focus()}),onPointerDownOutside:composeEventHandlers(o.onPointerDownOutside,S=>{const j=S.detail.originalEvent,w=j.button===0&&j.ctrlKey===!0,_=j.button===2||w;y.current=_},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(o.onFocusOutside,S=>S.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((o,r)=>{const x=usePopoverContext(CONTENT_NAME$8,o.__scopePopover),O=reactExports.useRef(!1),E=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...o,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:y=>{var S,j;(S=o.onCloseAutoFocus)==null||S.call(o,y),y.defaultPrevented||(O.current||(j=x.triggerRef.current)==null||j.focus(),y.preventDefault()),O.current=!1,E.current=!1},onInteractOutside:y=>{var w,_;(w=o.onInteractOutside)==null||w.call(o,y),y.defaultPrevented||(O.current=!0,y.detail.originalEvent.type==="pointerdown"&&(E.current=!0));const S=y.target;((_=x.triggerRef.current)==null?void 0:_.contains(S))&&y.preventDefault(),y.detail.originalEvent.type==="focusin"&&E.current&&y.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((o,r)=>{const{__scopePopover:x,trapFocus:O,onOpenAutoFocus:E,onCloseAutoFocus:y,disableOutsidePointerEvents:S,onEscapeKeyDown:j,onPointerDownOutside:w,onFocusOutside:_,onInteractOutside:Q,...I}=o,M=usePopoverContext(CONTENT_NAME$8,x),F=usePopperScope$3(x);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:O,onMountAutoFocus:E,onUnmountAutoFocus:y,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:S,onInteractOutside:Q,onEscapeKeyDown:j,onPointerDownOutside:w,onFocusOutside:_,onDismiss:()=>M.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$3,{"data-state":getState$3(M.open),role:"dialog",id:M.contentId,...F,...I,ref:r,style:{...I.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME$1="PopoverClose",PopoverClose=reactExports.forwardRef((o,r)=>{const{__scopePopover:x,...O}=o,E=usePopoverContext(CLOSE_NAME$1,x);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...O,ref:r,onClick:composeEventHandlers(o.onClick,()=>E.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME$1;var ARROW_NAME$5="PopoverArrow",PopoverArrow=reactExports.forwardRef((o,r)=>{const{__scopePopover:x,...O}=o,E=usePopperScope$3(x);return jsxRuntimeExports.jsx(Arrow,{...E,...O,ref:r})});PopoverArrow.displayName=ARROW_NAME$5;function getState$3(o){return o?"open":"closed"}var Root2$7=Popover$1,Trigger$5=PopoverTrigger$1,Portal$2=PopoverPortal,Content2$6=PopoverContent$1;const Popover=Root2$7,PopoverTrigger=Trigger$5,PopoverContent=reactExports.forwardRef(({className:o,align:r="center",sideOffset:x=4,...O},E)=>jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsx(Content2$6,{ref:E,align:r,sideOffset:x,className:cn("z-[var(--z-popover)] w-72 rounded-md border border-border bg-popover p-4 text-popover-foreground shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...O})}));PopoverContent.displayName=Content2$6.displayName;function MiniTerminal({className:o,onClose:r}){const[x,O]=reactExports.useState(""),[E,y]=reactExports.useState(['Type "help" for available commands.']),[S,j]=reactExports.useState([]),[w,_]=reactExports.useState(-1),Q=reactExports.useRef(null),I=reactExports.useRef(null),M=useNavigate(),{posts:F,searchPosts:V}=usePostsIndex(),te=reactExports.useCallback(oe=>{const Oe=Array.isArray(oe)?oe:[oe];y(ae=>[...ae,...Oe])},[]),re={help:()=>`Available commands:
  search <query>  - Search posts by keyword
  cat <slug>      - Open a post (e.g., cat hello-world)
  ls              - List recent posts
  ls -tags        - List all tags
  ls -cat         - List all categories
  clear           - Clear terminal output
  exit            - Close terminal`,search:oe=>{const Oe=oe.join(" ");if(!Oe)return"Usage: search <query>";const ae=V(Oe);return ae.length===0?`No results found for "${Oe}"`:[`Found ${ae.length} result(s):`,...ae.slice(0,5).map(ge=>`  ${ge.year}/${ge.slug} - ${ge.title}`),ae.length>5?`  ... and ${ae.length-5} more`:""].filter(Boolean).join(`
`)},cat:oe=>{const Oe=oe[0];if(!Oe)return"Usage: cat <slug>";const ae=F.find(ge=>ge.slug===Oe||`${ge.year}/${ge.slug}`===Oe||ge.title.toLowerCase().includes(Oe.toLowerCase()));return ae?(M(`/blog/${ae.year}/${ae.slug}`),r==null||r(),`Opening: ${ae.title}`):`Post not found: ${Oe}`},ls:oe=>{if(oe.includes("-tags")){const ae=[...new Set(F.flatMap(ge=>ge.tags||[]))].sort();return ae.length===0?"No tags found.":["Tags:",...ae.slice(0,20).map(ge=>`  #${ge}`),ae.length>20?`  ... and ${ae.length-20} more`:""].filter(Boolean).join(`
`)}if(oe.includes("-cat")||oe.includes("-categories")){const ae=[...new Set(F.map(ge=>ge.category))].sort();return ae.length===0?"No categories found.":["Categories:",...ae.map(ge=>`  ${ge}`)].join(`
`)}const Oe=F.slice(0,10);return Oe.length===0?"No posts found.":["Recent posts:",...Oe.map(ae=>`  ${ae.year}/${ae.slug}`)].join(`
`)},clear:()=>{y([])},exit:()=>{r==null||r()},cd:oe=>{const Oe=oe[0];return Oe?Oe==="~"||Oe==="/"?(M("/"),r==null||r(),"Navigating to home..."):Oe==="blog"||Oe==="/blog"?(M("/blog"),r==null||r(),"Navigating to blog..."):`cd: ${Oe}: No such directory`:"Usage: cd <path>"},pwd:()=>window.location.pathname,whoami:()=>"guest@blog",date:()=>new Date().toLocaleString(),echo:oe=>oe.join(" ")},se=reactExports.useCallback(oe=>{const Oe=oe.trim();if(!Oe)return;te(`$ ${Oe}`),j(Ae=>[...Ae,Oe]),_(-1);const[ae,...ge]=Oe.split(/\s+/),je=re[ae.toLowerCase()];if(je){const Ae=je(ge);Ae&&te(Ae)}else te(`Command not found: ${ae}. Type "help" for available commands.`);O("")},[re,te]),ne=reactExports.useCallback(oe=>{switch(oe.key){case"Enter":se(x);break;case"ArrowUp":if(oe.preventDefault(),S.length>0){const Oe=w<S.length-1?w+1:w;_(Oe),O(S[S.length-1-Oe]||"")}break;case"ArrowDown":if(oe.preventDefault(),w>0){const Oe=w-1;_(Oe),O(S[S.length-1-Oe]||"")}else w===0&&(_(-1),O(""));break;case"Tab":{oe.preventDefault();const Oe=x.toLowerCase(),ae=Object.keys(re).filter(ge=>ge.startsWith(Oe));ae.length===1?O(`${ae[0]} `):ae.length>1&&(te(`$ ${x}`),te(ae.join("  ")));break}case"Escape":r==null||r();break;case"l":oe.ctrlKey&&(oe.preventDefault(),y([]));break}},[x,S,w,se,re,te,r]);return reactExports.useEffect(()=>{var oe;(oe=Q.current)==null||oe.focus()},[]),reactExports.useEffect(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},[E]),jsxRuntimeExports.jsxs("div",{className:cn("font-mono text-xs bg-[hsl(var(--terminal-code-bg))] border border-border rounded-lg overflow-hidden",o),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2 border-b border-border bg-[hsl(var(--terminal-titlebar))]",children:[jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-center text-muted-foreground text-[10px]",children:"mini-terminal"})]}),jsxRuntimeExports.jsx("div",{ref:I,className:"h-48 overflow-y-auto overscroll-contain p-3 space-y-0.5",children:E.map((oe,Oe)=>jsxRuntimeExports.jsx("div",{className:cn("whitespace-pre-wrap break-all",oe.startsWith("$")?"text-primary":"text-muted-foreground"),children:oe},Oe))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-t border-border",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"$"}),jsxRuntimeExports.jsx("input",{ref:Q,value:x,onChange:oe=>O(oe.target.value),onKeyDown:ne,className:"flex-1 bg-transparent outline-none text-foreground placeholder:text-muted-foreground/50",placeholder:"Type a command...",autoComplete:"off",spellCheck:!1}),jsxRuntimeExports.jsx("span",{className:"terminal-cursor"})]})]})}const STORAGE_KEY$5="blog.searchHistory",MAX_HISTORY=5;function getSearchHistory(){if(typeof window>"u")return[];try{const o=localStorage.getItem(STORAGE_KEY$5);if(!o)return[];const r=JSON.parse(o);return Array.isArray(r)?r:[]}catch{return[]}}function getRecentQueries(){return getSearchHistory().map(o=>o.query)}function addSearchQuery(o){if(typeof window>"u")return;const r=o.trim();if(!r||r.length<2)return;const O=getSearchHistory().filter(y=>y.query.toLowerCase()!==r.toLowerCase()),E=[{query:r,timestamp:Date.now()},...O].slice(0,MAX_HISTORY);localStorage.setItem(STORAGE_KEY$5,JSON.stringify(E)),window.dispatchEvent(new CustomEvent("searchHistory:update"))}function removeSearchQuery(o){if(typeof window>"u")return;const x=getSearchHistory().filter(O=>O.query.toLowerCase()!==o.toLowerCase());localStorage.setItem(STORAGE_KEY$5,JSON.stringify(x)),window.dispatchEvent(new CustomEvent("searchHistory:update"))}function HeaderSearchBar({posts:o,className:r}){const[x,O]=reactExports.useState(""),[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(0),w=reactExports.useRef(null),_=reactExports.useRef(null),Q=reactExports.useRef(null),[I,M]=reactExports.useState(0),[F,V]=reactExports.useState([]),[te,re]=reactExports.useState(!1),se=useNavigate(),ne=useLocation(),{isTerminal:oe}=useTheme(),Oe=ne.pathname==="/"?"~":`~${ne.pathname}`,ae=reactExports.useMemo(()=>new Fuse(o,{keys:[{name:"title",weight:3},{name:"description",weight:2},{name:"tags",weight:2},{name:"category",weight:1.5}],threshold:.35,includeScore:!0}),[o]),ge=reactExports.useMemo(()=>x.trim()?ae.search(x).slice(0,5).map(Le=>Le.item):[],[x,ae]);reactExports.useEffect(()=>{V(getRecentQueries());const Le=()=>V(getRecentQueries());return window.addEventListener("searchHistory:update",Le),()=>window.removeEventListener("searchHistory:update",Le)},[]);const je=reactExports.useCallback(Le=>{x.trim()&&addSearchQuery(x.trim()),se(`/blog/${Le.year}/${Le.slug}`),O(""),y(!1),re(!1),j(0)},[se,x]),Ae=reactExports.useCallback(Le=>{var Ze;if(!(!E||ge.length===0))switch(Le.key){case"ArrowDown":Le.preventDefault(),j(Be=>(Be+1)%ge.length);break;case"ArrowUp":Le.preventDefault(),j(Be=>(Be-1+ge.length)%ge.length);break;case"Enter":Le.preventDefault(),ge[S]&&je(ge[S]);break;case"Escape":Le.preventDefault(),y(!1),re(!1),O(""),(Ze=w.current)==null||Ze.blur();break}},[E,ge,S,je]),Qe=reactExports.useCallback(Le=>{var Ze;O(Le),re(!1),(Ze=w.current)==null||Ze.focus()},[]),Xe=reactExports.useCallback((Le,Ze)=>{Ze.stopPropagation(),removeSearchQuery(Le)},[]);reactExports.useEffect(()=>{const Le=Ze=>{var Be,Ge;Ze.key==="/"&&!["INPUT","TEXTAREA"].includes((Be=Ze.target)==null?void 0:Be.tagName)&&(Ze.preventDefault(),(Ge=w.current)==null||Ge.focus())};return document.addEventListener("keydown",Le),()=>document.removeEventListener("keydown",Le)},[]),reactExports.useEffect(()=>{const Le=Ze=>{_.current&&!_.current.contains(Ze.target)&&y(!1)};return document.addEventListener("mousedown",Le),()=>document.removeEventListener("mousedown",Le)},[]),reactExports.useEffect(()=>{if(!oe)return;const Le=Q.current;if(!Le)return;const Ze=()=>{M(Le.getBoundingClientRect().width)};Ze();const Be=new ResizeObserver(()=>Ze());return Be.observe(Le),()=>{Be.disconnect()}},[oe,Oe]),reactExports.useEffect(()=>{y(x.trim().length>0),re(!1),j(0)},[x]);const Ue=reactExports.useCallback(()=>{x.trim()?y(!0):F.length>0&&re(!0)},[x,F.length]);return oe?jsxRuntimeExports.jsxs("div",{ref:_,className:cn("relative",r),children:[jsxRuntimeExports.jsxs("div",{className:"relative group font-mono",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center border border-border bg-[hsl(var(--terminal-code-bg))]",children:[jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-2 border-r border-border/50 text-primary select-none shrink-0 hover:bg-primary/10 transition-colors cursor-pointer","aria-label":"Open terminal",children:[jsxRuntimeExports.jsx(Terminal,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold",children:"grep"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-96 p-0",align:"start",children:jsxRuntimeExports.jsx(MiniTerminal,{})})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsxs("div",{ref:Q,className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary flex-shrink-0",children:"user@blog:"}),jsxRuntimeExports.jsx("span",{className:"max-w-[180px] truncate",title:Oe,children:Oe}),jsxRuntimeExports.jsx("span",{className:"terminal-cursor flex-shrink-0"})]}),jsxRuntimeExports.jsx(Input,{ref:w,type:"text",placeholder:"/ to search",value:x,onChange:Le=>O(Le.target.value),onKeyDown:Ae,onFocus:Ue,className:"h-9 border-0 bg-transparent pr-3 text-sm text-foreground placeholder:text-muted-foreground/50 focus-visible:ring-0 focus-visible:ring-offset-0",style:{paddingLeft:I?I+24:void 0}})]}),x&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{O(""),y(!1)},className:"h-7 w-7 p-0 mr-1 text-destructive/70 hover:text-destructive hover:bg-destructive/10 rounded-none",children:jsxRuntimeExports.jsx(X$1,{className:"w-3.5 h-3.5"})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[2px] bg-primary/50 transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300"})]}),E&&ge.length>0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 border border-border bg-[hsl(var(--terminal-code-bg))] shadow-lg z-[var(--z-popover)] max-h-80 overflow-y-auto overscroll-contain",children:[jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 border-b border-border/50 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"$"})," found ",ge.length," result",ge.length!==1&&"s"]}),ge.map((Le,Ze)=>jsxRuntimeExports.jsx("button",{onClick:()=>je(Le),className:cn("w-full text-left px-3 py-3 border-b border-border/30 last:border-0 transition-colors",Ze===S?"bg-primary/20 text-primary":"hover:bg-primary/10"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mt-0.5 shrink-0 text-primary/70"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium truncate",children:Le.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:["[",Le.category,"]"]}),Le.readingTime&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:Le.readingTime})]})]})]}),Ze===S&&jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 text-primary"})]})},`${Le.year}/${Le.slug}`))]}),E&&x.trim()&&ge.length===0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 border border-border bg-[hsl(var(--terminal-code-bg))] shadow-lg z-[var(--z-popover)] px-3 py-4 text-center text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"$"})," grep: no matches found"]}),te&&!E&&F.length>0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 border border-border bg-[hsl(var(--terminal-code-bg))] shadow-lg z-[var(--z-popover)] max-h-60 overflow-y-auto overscroll-contain",children:[jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 border-b border-border/50 text-xs text-muted-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"w-3 h-3 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-primary",children:"$"})," history"]}),F.map((Le,Ze)=>jsxRuntimeExports.jsxs("button",{onClick:()=>Qe(Le),className:"w-full text-left px-3 py-2.5 flex items-center justify-between gap-2 hover:bg-primary/10 transition-colors border-b border-border/30 last:border-0",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-sm truncate",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3.5 h-3.5 text-muted-foreground shrink-0"}),Le]}),jsxRuntimeExports.jsx("button",{onClick:Be=>Xe(Le,Be),className:"p-1 hover:bg-destructive/20 hover:text-destructive rounded transition-colors shrink-0","aria-label":"Remove from history",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]},`recent-${Ze}`))]})]}):jsxRuntimeExports.jsxs("div",{ref:_,className:cn("relative",r),children:[jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 transition-colors group-focus-within:text-primary",children:jsxRuntimeExports.jsx(Search,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Input,{ref:w,type:"text",placeholder:"Search posts... (press /)",value:x,onChange:Le=>O(Le.target.value),onKeyDown:Ae,onFocus:Ue,className:"pl-10 pr-10 h-10 rounded-xl border border-border/60 bg-background shadow-none focus:border-primary/60 focus:ring-0 transition-colors duration-200 placeholder:text-muted-foreground/60"}),x&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{O(""),y(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive transition-colors rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-primary to-accent transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300 rounded-full"})]}),E&&ge.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 rounded-xl border border-border/60 bg-card/95 backdrop-blur-sm shadow-xl z-[var(--z-popover)] max-h-80 overflow-y-auto overscroll-contain",children:ge.map((Le,Ze)=>jsxRuntimeExports.jsx("button",{onClick:()=>je(Le),className:cn("w-full text-left px-4 py-3 border-b border-border/30 last:border-0 transition-colors",Ze===S?"bg-primary/10":"hover:bg-muted/50"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 mt-1",children:jsxRuntimeExports.jsx("div",{className:cn("w-8 h-8 rounded-lg flex items-center justify-center",Ze===S?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-foreground truncate",children:Le.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-[10px] px-2 py-0 h-5",children:Le.category}),Le.readingTime&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),Le.readingTime]})]})]}),Ze===S&&jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 text-primary shrink-0 mt-2"})]})},`${Le.year}/${Le.slug}`))}),E&&x.trim()&&ge.length===0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 rounded-xl border border-border/60 bg-card/95 backdrop-blur-sm shadow-xl z-[var(--z-popover)] px-4 py-6 text-center",children:[jsxRuntimeExports.jsx(Search,{className:"w-8 h-8 mx-auto text-muted-foreground/50 mb-2"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:['No results for "',x,'"']})]}),te&&!E&&F.length>0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 rounded-xl border border-border/60 bg-card/95 backdrop-blur-sm shadow-xl z-[var(--z-popover)] max-h-60 overflow-y-auto overscroll-contain",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b border-border/30 text-xs text-muted-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"w-3.5 h-3.5"}),"Recent Searches"]}),F.map((Le,Ze)=>jsxRuntimeExports.jsxs("button",{onClick:()=>Qe(Le),className:"w-full text-left px-4 py-3 flex items-center justify-between gap-3 hover:bg-muted/50 transition-colors border-b border-border/30 last:border-0",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-3 text-sm truncate",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-muted-foreground shrink-0"}),Le]}),jsxRuntimeExports.jsx("button",{onClick:Be=>Xe(Le,Be),className:"p-1.5 hover:bg-destructive/10 hover:text-destructive rounded-md transition-colors shrink-0","aria-label":"Remove from history",children:jsxRuntimeExports.jsx(X$1,{className:"w-3.5 h-3.5"})})]},`recent-${Ze}`))]})]})}const __vite_import_meta_env__$2={},createStoreImpl=o=>{let r;const x=new Set,O=(Q,I)=>{const M=typeof Q=="function"?Q(r):Q;if(!Object.is(M,r)){const F=r;r=I??(typeof M!="object"||M===null)?M:Object.assign({},r,M),x.forEach(V=>V(r,F))}},E=()=>r,w={setState:O,getState:E,getInitialState:()=>_,subscribe:Q=>(x.add(Q),()=>x.delete(Q)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),x.clear()}},_=r=o(O,E,w);return w},createStore=o=>o?createStoreImpl(o):createStoreImpl;var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(o,r,x,O,E){var y=useRef(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=useMemo(function(){function w(F){if(!_){if(_=!0,Q=F,F=O(F),E!==void 0&&S.hasValue){var V=S.value;if(E(V,F))return I=V}return I=F}if(V=I,objectIs(Q,F))return V;var te=O(F);return E!==void 0&&E(V,te)?(Q=F,V):(Q=F,I=te)}var _=!1,Q,I,M=x===void 0?null:x;return[function(){return w(r())},M===null?void 0:function(){return w(M())}]},[r,x,O,E]);var j=useSyncExternalStore(o,y[0],y[1]);return useEffect(function(){S.hasValue=!0,S.value=j},[j]),useDebugValue$1(j),j};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$1,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=o=>o;function useStore(o,r=identity,x){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&x&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const O=useSyncExternalStoreWithSelector(o.subscribe,o.getState,o.getServerState||o.getInitialState,r,x);return useDebugValue(O),O}const createImpl=o=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof o=="function"?createStore(o):o,x=(O,E)=>useStore(r,O,E);return Object.assign(x,r),x},create$1=o=>o?createImpl(o):createImpl,__vite_import_meta_env__={};function createJSONStorage(o,r){let x;try{x=o()}catch{return}return{getItem:E=>{var y;const S=w=>w===null?null:JSON.parse(w,void 0),j=(y=x.getItem(E))!=null?y:null;return j instanceof Promise?j.then(S):S(j)},setItem:(E,y)=>x.setItem(E,JSON.stringify(y,void 0)),removeItem:E=>x.removeItem(E)}}const toThenable=o=>r=>{try{const x=o(r);return x instanceof Promise?x:{then(O){return toThenable(O)(x)},catch(O){return this}}}catch(x){return{then(O){return this},catch(O){return toThenable(O)(x)}}}},oldImpl=(o,r)=>(x,O,E)=>{let y={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:re=>re,version:0,merge:(re,se)=>({...se,...re}),...r},S=!1;const j=new Set,w=new Set;let _;try{_=y.getStorage()}catch{}if(!_)return o((...re)=>{console.warn(`[zustand persist middleware] Unable to update item '${y.name}', the given storage is currently unavailable.`),x(...re)},O,E);const Q=toThenable(y.serialize),I=()=>{const re=y.partialize({...O()});let se;const ne=Q({state:re,version:y.version}).then(oe=>_.setItem(y.name,oe)).catch(oe=>{se=oe});if(se)throw se;return ne},M=E.setState;E.setState=(re,se)=>{M(re,se),I()};const F=o((...re)=>{x(...re),I()},O,E);let V;const te=()=>{var re;if(!_)return;S=!1,j.forEach(ne=>ne(O()));const se=((re=y.onRehydrateStorage)==null?void 0:re.call(y,O()))||void 0;return toThenable(_.getItem.bind(_))(y.name).then(ne=>{if(ne)return y.deserialize(ne)}).then(ne=>{if(ne)if(typeof ne.version=="number"&&ne.version!==y.version){if(y.migrate)return y.migrate(ne.state,ne.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return ne.state}).then(ne=>{var oe;return V=y.merge(ne,(oe=O())!=null?oe:F),x(V,!0),I()}).then(()=>{se==null||se(V,void 0),S=!0,w.forEach(ne=>ne(V))}).catch(ne=>{se==null||se(void 0,ne)})};return E.persist={setOptions:re=>{y={...y,...re},re.getStorage&&(_=re.getStorage())},clearStorage:()=>{_==null||_.removeItem(y.name)},getOptions:()=>y,rehydrate:()=>te(),hasHydrated:()=>S,onHydrate:re=>(j.add(re),()=>{j.delete(re)}),onFinishHydration:re=>(w.add(re),()=>{w.delete(re)})},te(),V||F},newImpl=(o,r)=>(x,O,E)=>{let y={storage:createJSONStorage(()=>localStorage),partialize:te=>te,version:0,merge:(te,re)=>({...re,...te}),...r},S=!1;const j=new Set,w=new Set;let _=y.storage;if(!_)return o((...te)=>{console.warn(`[zustand persist middleware] Unable to update item '${y.name}', the given storage is currently unavailable.`),x(...te)},O,E);const Q=()=>{const te=y.partialize({...O()});return _.setItem(y.name,{state:te,version:y.version})},I=E.setState;E.setState=(te,re)=>{I(te,re),Q()};const M=o((...te)=>{x(...te),Q()},O,E);E.getInitialState=()=>M;let F;const V=()=>{var te,re;if(!_)return;S=!1,j.forEach(ne=>{var oe;return ne((oe=O())!=null?oe:M)});const se=((re=y.onRehydrateStorage)==null?void 0:re.call(y,(te=O())!=null?te:M))||void 0;return toThenable(_.getItem.bind(_))(y.name).then(ne=>{if(ne)if(typeof ne.version=="number"&&ne.version!==y.version){if(y.migrate)return[!0,y.migrate(ne.state,ne.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ne.state];return[!1,void 0]}).then(ne=>{var oe;const[Oe,ae]=ne;if(F=y.merge(ae,(oe=O())!=null?oe:M),x(F,!0),Oe)return Q()}).then(()=>{se==null||se(F,void 0),F=O(),S=!0,w.forEach(ne=>ne(F))}).catch(ne=>{se==null||se(void 0,ne)})};return E.persist={setOptions:te=>{y={...y,...te},te.storage&&(_=te.storage)},clearStorage:()=>{_==null||_.removeItem(y.name)},getOptions:()=>y,rehydrate:()=>V(),hasHydrated:()=>S,onHydrate:te=>(j.add(te),()=>{j.delete(te)}),onFinishHydration:te=>(w.add(te),()=>{w.delete(te)})},y.skipHydration||V(),F||M},persistImpl=(o,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(o,r)):newImpl(o,r),persist=persistImpl,MAX_NOTIFICATIONS=50;function generateId$1(){return`notif_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}const useNotificationStore=create$1()(persist((o,r)=>({notifications:[],unreadCount:0,addNotification:x=>{const O=generateId$1(),E={...x,id:O,createdAt:new Date().toISOString(),read:!1};return o(y=>{const S=[E,...y.notifications].slice(0,MAX_NOTIFICATIONS);return{notifications:S,unreadCount:S.filter(j=>!j.read).length}}),O},markRead:x=>{o(O=>{const E=O.notifications.map(y=>y.id===x?{...y,read:!0}:y);return{notifications:E,unreadCount:E.filter(y=>!y.read).length}})},markAllRead:()=>{o(x=>({notifications:x.notifications.map(O=>({...O,read:!0})),unreadCount:0}))},removeNotification:x=>{o(O=>{const E=O.notifications.filter(y=>y.id!==x);return{notifications:E,unreadCount:E.filter(y=>!y.read).length}})},clearAll:()=>{o({notifications:[],unreadCount:0})},clearRead:()=>{o(x=>{const O=x.notifications.filter(E=>!E.read);return{notifications:O,unreadCount:O.filter(E=>!E.read).length}})}}),{name:"app-notifications",partialize:o=>({notifications:o.notifications,unreadCount:o.unreadCount})}));function addNotification(o){return useNotificationStore.getState().addNotification(o)}function toDate(o){const r=Object.prototype.toString.call(o);return o instanceof Date||typeof o=="object"&&r==="[object Date]"?new o.constructor(+o):typeof o=="number"||r==="[object Number]"||typeof o=="string"||r==="[object String]"?new Date(o):new Date(NaN)}function constructFrom(o,r){return o instanceof Date?new o.constructor(r):new Date(r)}const minutesInMonth=43200,minutesInDay=1440;let defaultOptions$2={};function getDefaultOptions(){return defaultOptions$2}function getTimezoneOffsetInMilliseconds(o){const r=toDate(o),x=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return x.setUTCFullYear(r.getFullYear()),+o-+x}function compareAsc(o,r){const x=toDate(o),O=toDate(r),E=x.getTime()-O.getTime();return E<0?-1:E>0?1:E}function constructNow(o){return constructFrom(o,Date.now())}function differenceInCalendarMonths(o,r){const x=toDate(o),O=toDate(r),E=x.getFullYear()-O.getFullYear(),y=x.getMonth()-O.getMonth();return E*12+y}function getRoundingMethod(o){return r=>{const O=(o?Math[o]:Math.trunc)(r);return O===0?0:O}}function differenceInMilliseconds(o,r){return+toDate(o)-+toDate(r)}function endOfDay(o){const r=toDate(o);return r.setHours(23,59,59,999),r}function endOfMonth(o){const r=toDate(o),x=r.getMonth();return r.setFullYear(r.getFullYear(),x+1,0),r.setHours(23,59,59,999),r}function isLastDayOfMonth(o){const r=toDate(o);return+endOfDay(r)==+endOfMonth(r)}function differenceInMonths(o,r){const x=toDate(o),O=toDate(r),E=compareAsc(x,O),y=Math.abs(differenceInCalendarMonths(x,O));let S;if(y<1)S=0;else{x.getMonth()===1&&x.getDate()>27&&x.setDate(30),x.setMonth(x.getMonth()-E*y);let j=compareAsc(x,O)===-E;isLastDayOfMonth(toDate(o))&&y===1&&compareAsc(o,O)===1&&(j=!1),S=E*(y-Number(j))}return S===0?0:S}function differenceInSeconds(o,r,x){const O=differenceInMilliseconds(o,r)/1e3;return getRoundingMethod(x==null?void 0:x.roundingMethod)(O)}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$2=(o,r,x)=>{let O;const E=formatDistanceLocale$1[o];return typeof E=="string"?O=E:r===1?O=E.one:O=E.other.replace("{{count}}",r.toString()),x!=null&&x.addSuffix?x.comparison&&x.comparison>0?"in "+O:O+" ago":O};function buildFormatLongFn(o){return(r={})=>{const x=r.width?String(r.width):o.defaultWidth;return o.formats[x]||o.formats[o.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(o,r,x,O)=>formatRelativeLocale$1[o];function buildLocalizeFn(o){return(r,x)=>{const O=x!=null&&x.context?String(x.context):"standalone";let E;if(O==="formatting"&&o.formattingValues){const S=o.defaultFormattingWidth||o.defaultWidth,j=x!=null&&x.width?String(x.width):S;E=o.formattingValues[j]||o.formattingValues[S]}else{const S=o.defaultWidth,j=x!=null&&x.width?String(x.width):o.defaultWidth;E=o.values[j]||o.values[S]}const y=o.argumentCallback?o.argumentCallback(r):r;return E[y]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(o,r)=>{const x=Number(o),O=x%100;if(O>20||O<10)switch(O%10){case 1:return x+"st";case 2:return x+"nd";case 3:return x+"rd"}return x+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:o=>o-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(o){return(r,x={})=>{const O=x.width,E=O&&o.matchPatterns[O]||o.matchPatterns[o.defaultMatchWidth],y=r.match(E);if(!y)return null;const S=y[0],j=O&&o.parsePatterns[O]||o.parsePatterns[o.defaultParseWidth],w=Array.isArray(j)?findIndex(j,I=>I.test(S)):findKey(j,I=>I.test(S));let _;_=o.valueCallback?o.valueCallback(w):w,_=x.valueCallback?x.valueCallback(_):_;const Q=r.slice(S.length);return{value:_,rest:Q}}}function findKey(o,r){for(const x in o)if(Object.prototype.hasOwnProperty.call(o,x)&&r(o[x]))return x}function findIndex(o,r){for(let x=0;x<o.length;x++)if(r(o[x]))return x}function buildMatchPatternFn(o){return(r,x={})=>{const O=r.match(o.matchPattern);if(!O)return null;const E=O[0],y=r.match(o.parsePattern);if(!y)return null;let S=o.valueCallback?o.valueCallback(y[0]):y[0];S=x.valueCallback?x.valueCallback(S):S;const j=r.slice(E.length);return{value:S,rest:j}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:o=>parseInt(o,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:o=>o+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$2,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function formatDistance$1(o,r,x){const O=getDefaultOptions(),E=(x==null?void 0:x.locale)??O.locale??enUS,y=2520,S=compareAsc(o,r);if(isNaN(S))throw new RangeError("Invalid time value");const j=Object.assign({},x,{addSuffix:x==null?void 0:x.addSuffix,comparison:S});let w,_;S>0?(w=toDate(r),_=toDate(o)):(w=toDate(o),_=toDate(r));const Q=differenceInSeconds(_,w),I=(getTimezoneOffsetInMilliseconds(_)-getTimezoneOffsetInMilliseconds(w))/1e3,M=Math.round((Q-I)/60);let F;if(M<2)return x!=null&&x.includeSeconds?Q<5?E.formatDistance("lessThanXSeconds",5,j):Q<10?E.formatDistance("lessThanXSeconds",10,j):Q<20?E.formatDistance("lessThanXSeconds",20,j):Q<40?E.formatDistance("halfAMinute",0,j):Q<60?E.formatDistance("lessThanXMinutes",1,j):E.formatDistance("xMinutes",1,j):M===0?E.formatDistance("lessThanXMinutes",1,j):E.formatDistance("xMinutes",M,j);if(M<45)return E.formatDistance("xMinutes",M,j);if(M<90)return E.formatDistance("aboutXHours",1,j);if(M<minutesInDay){const V=Math.round(M/60);return E.formatDistance("aboutXHours",V,j)}else{if(M<y)return E.formatDistance("xDays",1,j);if(M<minutesInMonth){const V=Math.round(M/minutesInDay);return E.formatDistance("xDays",V,j)}else if(M<minutesInMonth*2)return F=Math.round(M/minutesInMonth),E.formatDistance("aboutXMonths",F,j)}if(F=differenceInMonths(_,w),F<12){const V=Math.round(M/minutesInMonth);return E.formatDistance("xMonths",V,j)}else{const V=F%12,te=Math.trunc(F/12);return V<3?E.formatDistance("aboutXYears",te,j):V<9?E.formatDistance("overXYears",te,j):E.formatDistance("almostXYears",te+1,j)}}function formatDistanceToNow(o,r){return formatDistance$1(o,constructNow(o),r)}const formatDistanceLocale={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},formatDistance=(o,r,x)=>{let O;const E=formatDistanceLocale[o];return typeof E=="string"?O=E:r===1?O=E.one:O=E.other.replace("{{count}}",r.toString()),x!=null&&x.addSuffix?x.comparison&&x.comparison>0?O+" 후":O+" 전":O},dateFormats={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},timeFormats={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},formatRelative=(o,r,x,O)=>formatRelativeLocale[o],eraValues={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},monthValues={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},dayValues={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},dayPeriodValues={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},formattingDayPeriodValues={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},ordinalNumber=(o,r)=>{const x=Number(o);switch(String(r==null?void 0:r.unit)){case"minute":case"second":return String(x);case"date":return x+"일";default:return x+"번째"}},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:o=>o-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)(일|번째)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},parseEraPatterns={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},parseMonthPatterns={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},matchDayPatterns={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},parseDayPatterns={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},matchDayPeriodPatterns={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},parseDayPeriodPatterns={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:o=>parseInt(o,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:o=>o+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},ko={code:"ko",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NotificationIcon({type:o,className:r}){const x=cn("h-4 w-4 shrink-0",r);switch(o){case"ai_task_complete":case"agent_complete":return jsxRuntimeExports.jsx(BotMessageSquare,{className:cn(x,"text-emerald-500")});case"ai_task_error":case"error":return jsxRuntimeExports.jsx(CircleAlert,{className:cn(x,"text-destructive")});case"rag_complete":case"chat_task_complete":return jsxRuntimeExports.jsx(Zap,{className:cn(x,"text-blue-500")});case"success":return jsxRuntimeExports.jsx(CircleCheck,{className:cn(x,"text-emerald-500")});case"info":return jsxRuntimeExports.jsx(Info$1,{className:cn(x,"text-muted-foreground")});default:return jsxRuntimeExports.jsx(Info$1,{className:cn(x,"text-muted-foreground")})}}function NotificationRow({notification:o,isTerminal:r,onMarkRead:x,onRemove:O}){let E="";try{E=formatDistanceToNow(new Date(o.createdAt),{addSuffix:!0,locale:ko})}catch{E=""}return jsxRuntimeExports.jsxs("div",{className:cn("group flex items-start gap-3 px-4 py-3 border-b transition-colors cursor-default",r?"border-primary/10 hover:bg-primary/5":"border-border/40 hover:bg-muted/40",!o.read&&!r&&"bg-primary/[0.03]",!o.read&&r&&"bg-primary/[0.04]"),children:[jsxRuntimeExports.jsx("div",{className:"mt-1 shrink-0 flex items-center justify-center w-5 h-5",children:o.read?jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-transparent"}):jsxRuntimeExports.jsx("span",{className:cn("w-2 h-2 rounded-full","bg-primary")})}),jsxRuntimeExports.jsx(NotificationIcon,{type:o.type,className:"mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[jsxRuntimeExports.jsx("p",{className:cn("text-sm font-medium leading-tight truncate",o.read&&"text-muted-foreground font-normal",r&&!o.read&&"font-mono text-primary"),children:o.title}),o.message&&jsxRuntimeExports.jsx("p",{className:cn("text-xs text-muted-foreground leading-relaxed line-clamp-2",r&&"font-mono text-primary/60"),children:o.message}),E&&jsxRuntimeExports.jsx("p",{className:cn("text-[10px] text-muted-foreground/60 mt-0.5",r&&"font-mono"),children:E})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:[!o.read&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>x(o.id),"aria-label":"읽음 표시",className:cn("flex items-center justify-center h-6 w-6 rounded transition-colors",r?"text-primary/50 hover:text-primary hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:jsxRuntimeExports.jsx(Check,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>O(o.id),"aria-label":"알림 삭제",className:cn("flex items-center justify-center h-6 w-6 rounded transition-colors",r?"text-primary/50 hover:text-destructive hover:bg-destructive/10":"text-muted-foreground hover:text-destructive hover:bg-destructive/10"),children:jsxRuntimeExports.jsx(X$1,{className:"h-3.5 w-3.5"})})]})]})}function NotificationPanel(){const{isTerminal:o}=useTheme(),{notifications:r,unreadCount:x,markRead:O,markAllRead:E,removeNotification:y,clearRead:S}=useNotificationStore(),j=r.some(w=>w.read);return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col",o&&"font-mono"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between px-4 py-3 border-b",o?"border-primary/20 bg-[hsl(var(--terminal-titlebar))]":"border-border/40"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:cn("h-4 w-4",o?"text-primary":"text-foreground")}),jsxRuntimeExports.jsx("span",{className:cn("text-sm font-semibold",o&&"text-primary terminal-glow"),children:o?">_ 알림":"알림"}),x>0&&jsxRuntimeExports.jsx("span",{className:cn("inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 rounded-full text-[10px] font-bold",o?"bg-primary/20 text-primary border border-primary/40":"bg-primary text-primary-foreground"),children:x})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[x>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:E,title:"모두 읽음 표시",className:cn("flex items-center justify-center h-7 w-7 rounded transition-colors",o?"text-primary/60 hover:text-primary hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:jsxRuntimeExports.jsx(CheckCheck,{className:"h-4 w-4"})}),j&&jsxRuntimeExports.jsx("button",{type:"button",onClick:S,title:"읽은 알림 삭제",className:cn("flex items-center justify-center h-7 w-7 rounded transition-colors",o?"text-primary/60 hover:text-destructive hover:bg-destructive/10":"text-muted-foreground hover:text-destructive hover:bg-destructive/10"),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[360px] overflow-y-auto overscroll-contain",children:r.length===0?jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col items-center justify-center gap-3 px-4 py-10 text-center",o?"text-primary/40":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Bell,{className:"h-8 w-8 opacity-30"}),jsxRuntimeExports.jsx("p",{className:cn("text-sm",o&&"font-mono"),children:o?"$ 알림 없음":"알림이 없습니다"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-60",children:"AI 작업 완료 시 여기에 표시됩니다"})]}):r.map(w=>jsxRuntimeExports.jsx(NotificationRow,{notification:w,isTerminal:o,onMarkRead:O,onRemove:y},w.id))}),r.length>0&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-end px-4 py-2 border-t text-xs",o?"border-primary/15 text-primary/40":"border-border/30 text-muted-foreground"),children:["총 ",r.length,"개 · 읽지 않음 ",x,"개"]})]})}const baseNavigation=[{name:"Home",href:"/",icon:House},{name:"Projects ✨",href:"/projects",icon:FolderKanban},{name:"Blog",href:"/blog",icon:BookOpen},{name:"Docs",href:"https://docs.nodove.com/",icon:Library},{name:"About",href:"/about",icon:User}];function TerminalWindowButtons(){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mr-4",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"})]})}function Header(){const[o,r]=reactExports.useState(!1),[x,O]=reactExports.useState(!1),{theme:E,setTheme:y,isTerminal:S}=useTheme(),{language:j,setLanguage:w}=useLanguage(),_=useIsMobile(),{posts:Q}=usePostsIndex(),{unreadCount:I}=useNotificationStore();reactExports.useEffect(()=>{const V=()=>{try{const re=!!localStorage.getItem("admin.auth"),se=!!localStorage.getItem("admin.token");O(re||se)}catch{O(!1)}};V();const te=()=>V();return window.addEventListener("admin-auth-changed",te),window.addEventListener("storage",te),()=>{window.removeEventListener("admin-auth-changed",te),window.removeEventListener("storage",te)}},[]);const M=x?[...baseNavigation,{name:"Admin",href:"/admin/config",icon:Shield}]:baseNavigation,F=()=>r(!1);return jsxRuntimeExports.jsxs("header",{className:cn("sticky top-0 z-[var(--z-fab-bar)] w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",S&&"bg-[hsl(var(--terminal-titlebar))] border-border"),children:[jsxRuntimeExports.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8","aria-label":"Global",children:jsxRuntimeExports.jsxs("div",{className:"flex h-16 items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-x-12",children:[S&&jsxRuntimeExports.jsx(TerminalWindowButtons,{}),jsxRuntimeExports.jsx(Link,{to:"/",className:cn("flex items-center space-x-2 no-terminal-style",S&&"no-underline"),children:jsxRuntimeExports.jsx("span",{className:cn("text-2xl font-bold",S?"font-mono text-primary terminal-glow":"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent"),children:S?">_Nodove":"Nodove"})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex md:gap-x-8",children:M.map(V=>jsxRuntimeExports.jsx(NavigationItem,{name:V.name,href:V.href,icon:V.icon,className:cn(S&&"font-mono text-sm no-terminal-style")},V.name))})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block flex-1 max-w-xs lg:max-w-sm mx-4",children:jsxRuntimeExports.jsx(HeaderSearchBar,{posts:Q})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-x-2 sm:gap-x-4",children:[!_&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LanguageToggle,{}),jsxRuntimeExports.jsx(ThemeToggle,{})]}),_&&jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:cn("h-11 w-11",S&&"text-primary hover:text-primary hover:bg-primary/10"),"aria-label":"설정",children:jsxRuntimeExports.jsx(Settings,{className:"h-5 w-5"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:cn("w-48",S&&"border-primary/40 bg-background/95 backdrop-blur"),children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{className:cn("text-xs text-muted-foreground",S&&"font-mono text-primary/70"),children:S?"$ language":"언어 설정"}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>w("ko"),className:cn("flex items-center justify-between",S&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary",S&&j==="ko"&&"bg-primary/15 text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Globe,{className:"h-4 w-4"}),"한국어"]}),j==="ko"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>w("en"),className:cn("flex items-center justify-between",S&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary",S&&j==="en"&&"bg-primary/15 text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Globe,{className:"h-4 w-4"}),"English"]}),j==="en"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{className:cn(S&&"bg-primary/30")}),jsxRuntimeExports.jsx(DropdownMenuLabel,{className:cn("text-xs text-muted-foreground",S&&"font-mono text-primary/70"),children:S?"$ theme":"테마 설정"}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>y("light"),className:cn("flex items-center justify-between",E==="light"&&"bg-accent",S&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sun,{className:"h-4 w-4"}),"Light"]}),E==="light"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>y("dark"),className:cn("flex items-center justify-between",E==="dark"&&"bg-accent",S&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Moon,{className:"h-4 w-4"}),"Dark"]}),E==="dark"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>y("system"),className:cn("flex items-center justify-between",E==="system"&&"bg-accent",S&&"font-mono hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Monitor,{className:"h-4 w-4"}),"System"]}),E==="system"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>y("terminal"),className:cn("flex items-center justify-between font-mono",E==="terminal"&&"bg-primary/15",S&&"hover:bg-primary/10 hover:text-primary focus:bg-primary/10 focus:text-primary"),children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Terminal,{className:cn("h-4 w-4",E==="terminal"&&"text-primary")}),jsxRuntimeExports.jsx("span",{className:cn(E==="terminal"&&"text-primary"),children:"Terminal"})]}),E==="terminal"&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"✓"})]})]})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",className:cn("relative h-11 w-11",S&&"text-primary hover:text-primary hover:bg-primary/10"),"aria-label":"알림",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),I>0&&jsxRuntimeExports.jsx("span",{className:cn("absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center rounded-full text-[10px] font-bold",S?"bg-primary/80 text-background border border-background":"bg-destructive text-destructive-foreground"),children:I>9?"9+":I})]})}),jsxRuntimeExports.jsx(DropdownMenuContent,{align:"end",className:cn("w-80 p-0",S&&"border-primary/40 bg-background/95 backdrop-blur"),children:jsxRuntimeExports.jsx(NotificationPanel,{})})]}),jsxRuntimeExports.jsx("div",{className:"flex md:hidden",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"icon",onClick:()=>r(!o),"aria-label":"Toggle main menu",className:cn("h-11 w-11",S&&"text-primary hover:text-primary"),children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Open main menu"}),o?jsxRuntimeExports.jsx(X$1,{className:"h-6 w-6","aria-hidden":"true"}):jsxRuntimeExports.jsx(Menu$1,{className:"h-6 w-6","aria-hidden":"true"})]})})]})]})}),jsxRuntimeExports.jsx("div",{className:cn("md:hidden",o?"block":"hidden"),children:jsxRuntimeExports.jsx("div",{className:cn("space-y-1 px-4 pb-3 pt-2",S&&"bg-[hsl(var(--terminal-code-bg))]"),children:M.map(V=>jsxRuntimeExports.jsx(NavigationItem,{name:V.name,href:V.href,icon:V.icon,isMobile:!0,onClick:F,className:cn(S&&"font-mono no-terminal-style")},V.name))})})]})}const site={author:"Nodove",email:"nodove@nodove.com",social:{github:"https://github.com/choisimo",twitter:"https://twitter.com",linkedin:"https://linkedin.com"},featured:[]};function normalizeBaseUrl(o){let r=o.trim();for(r.includes("ai-check.nodove.com")&&(r=r.replace("ai-check.nodove.com","api.nodove.com")),r.includes("blog-b.nodove.com")&&(r=r.replace("blog-b.nodove.com","api.nodove.com"));r.endsWith("/");)r=r.slice(0,-1);return r.endsWith("/api")&&(r=r.slice(0,-4)),r}function getApiBaseUrl(){var y,S,j,w,_,Q;let o,r;const x=typeof window<"u"?window:null,O=((y=x==null?void 0:x.APP_CONFIG)==null?void 0:y.apiBaseUrl)||((S=x==null?void 0:x.__APP_CONFIG)==null?void 0:S.apiBaseUrl);if(typeof O=="string"&&O&&(o=O,r="runtime"),!o){const I=(w=(j=import.meta)==null?void 0:j.env)==null?void 0:w.VITE_API_BASE_URL;typeof I=="string"&&I&&(o=I,r="env")}if(!o)try{const I=localStorage.getItem("aiMemo.backendUrl");if(I){const M=JSON.parse(I);typeof M=="string"&&M&&(o=M,r="localStorage")}}catch{}if(!o)throw new Error("[apiBase] VITE_API_BASE_URL is not configured. Set this environment variable or provide runtime config (APP_CONFIG.apiBaseUrl).");const E=normalizeBaseUrl(o);if(r==="localStorage"&&typeof window<"u"&&E!==o)try{localStorage.setItem("aiMemo.backendUrl",JSON.stringify(E))}catch{}if(r==="runtime"&&typeof window<"u"&&E!==o)try{const I=window;(_=I==null?void 0:I.APP_CONFIG)!=null&&_.apiBaseUrl&&(I.APP_CONFIG.apiBaseUrl=E),(Q=I==null?void 0:I.__APP_CONFIG)!=null&&Q.apiBaseUrl&&(I.__APP_CONFIG.apiBaseUrl=E)}catch{}return E}function Footer(){const o=new Date().getFullYear(),{isTerminal:r}=useTheme(),[x,O]=reactExports.useState(""),[E,y]=reactExports.useState("idle"),[S,j]=reactExports.useState(""),w=async _=>{var Q,I;if(_.preventDefault(),!x||!x.includes("@")){y("error"),j("유효한 이메일 주소를 입력해주세요.");return}y("loading"),j("");try{const M=getApiBaseUrl(),F=await fetch(`${M}/api/v1/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x})}),V=await F.json();if(!F.ok)throw new Error(((Q=V.error)==null?void 0:Q.message)||"Failed to subscribe");y("success"),(I=V.data)!=null&&I.alreadySubscribed?j("이미 구독 중입니다."):(j("확인 이메일을 발송했습니다. 메일함을 확인해주세요!"),O(""))}catch(M){y("error"),j(M instanceof Error?M.message:"구독 처리 중 오류가 발생했습니다.")}};return jsxRuntimeExports.jsx("footer",{className:cn("border-t bg-background",r&&"border-primary/30"),children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"py-10 md:py-14",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 md:grid-cols-4 md:gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:cn("text-lg font-semibold",r&&"font-mono text-primary"),children:r?">_ Nodove Blog":"Nodove Blog"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"최신 기술 트렌드를 놓치지 마세요!"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"유용한 글을 메일로 보내드려요."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",asChild:!0,className:cn(r&&"text-primary hover:text-primary hover:bg-primary/10"),children:jsxRuntimeExports.jsxs("a",{href:site.social.github,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Github,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"GitHub"})]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",asChild:!0,className:cn(r&&"text-primary hover:text-primary hover:bg-primary/10"),children:jsxRuntimeExports.jsxs("a",{href:site.social.twitter,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Twitter,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Twitter"})]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",asChild:!0,className:cn(r&&"text-primary hover:text-primary hover:bg-primary/10"),children:jsxRuntimeExports.jsxs("a",{href:site.social.linkedin,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Linkedin,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"LinkedIn"})]})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",asChild:!0,className:cn(r&&"text-primary hover:text-primary hover:bg-primary/10"),children:jsxRuntimeExports.jsxs("a",{href:`mailto:${site.email}`,children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Email"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:cn("text-sm font-semibold",r&&"font-mono text-primary"),children:r?"$ nav":"Navigation"}),jsxRuntimeExports.jsxs("ul",{className:cn("space-y-2 text-sm",r&&"font-mono"),children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/projects",className:"text-muted-foreground hover:text-primary transition-colors",children:"Projects"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/blog",className:"text-muted-foreground hover:text-primary transition-colors",children:"Blog"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:cn("text-sm font-semibold",r&&"font-mono text-primary"),children:r?"$ categories":"Categories"}),jsxRuntimeExports.jsxs("ul",{className:cn("space-y-2 text-sm",r&&"font-mono"),children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/blog?category=ai",className:"text-muted-foreground hover:text-primary transition-colors",children:"AI & Machine Learning"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/blog?category=web",className:"text-muted-foreground hover:text-primary transition-colors",children:"Web Development"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/blog?category=devops",className:"text-muted-foreground hover:text-primary transition-colors",children:"DevOps"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/blog?category=algorithms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Algorithms"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:cn("text-sm font-semibold",r&&"font-mono text-primary"),children:r?"$ subscribe":"Subscribe"}),jsxRuntimeExports.jsx("p",{className:cn("text-sm text-muted-foreground",r&&"font-mono"),children:"최신 글을 메일로 받아보세요."}),jsxRuntimeExports.jsxs("form",{className:"space-y-2",onSubmit:w,children:[jsxRuntimeExports.jsx("input",{type:"email",value:x,onChange:_=>O(_.target.value),placeholder:r?"email@example.com":"Enter your email",disabled:E==="loading",className:cn("w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50",r&&"font-mono border-primary/40 bg-primary/5 text-primary placeholder:text-primary/50 focus:ring-primary/50 focus:border-primary/60")}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:E==="loading",className:cn("w-full",r&&"font-mono bg-primary/20 text-primary border border-primary/40 hover:bg-primary/30 hover:shadow-[0_0_10px_rgba(0,255,65,0.3)]"),variant:r?"outline":"default",children:E==="loading"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),r?"> Processing...":"Processing..."]}):E==="success"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),r?"> Subscribed!":"Subscribed!"]}):r?"> Subscribe":"Subscribe"}),S&&jsxRuntimeExports.jsx("p",{className:cn("text-xs mt-1",E==="error"?"text-destructive":"text-muted-foreground",r&&E==="success"&&"text-primary"),children:S})]})]})]}),jsxRuntimeExports.jsx("div",{className:cn("mt-8 border-t pt-8",r&&"border-primary/30"),children:jsxRuntimeExports.jsxs("p",{className:cn("text-center text-sm text-muted-foreground",r&&"font-mono"),children:["© ",o," Nodove Blog. All rights reserved."]})})]})})})}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$3="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((o,r)=>jsxRuntimeExports.jsx(Primitive.span,{...o,ref:r,style:{...VISUALLY_HIDDEN_STYLES,...o.style}}));VisuallyHidden.displayName=NAME$3;var Root$7=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection$4,useCollection$4,createCollectionScope$4]=createCollection("Toast"),[createToastContext]=createContextScope("Toast",[createCollectionScope$4]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=o=>{const{__scopeToast:r,label:x="Notification",duration:O=5e3,swipeDirection:E="right",swipeThreshold:y=50,children:S}=o,[j,w]=reactExports.useState(null),[_,Q]=reactExports.useState(0),I=reactExports.useRef(!1),M=reactExports.useRef(!1);return x.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$4.Provider,{scope:r,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:r,label:x,duration:O,swipeDirection:E,swipeThreshold:y,toastCount:_,viewport:j,onViewportChange:w,onToastAdd:reactExports.useCallback(()=>Q(F=>F+1),[]),onToastRemove:reactExports.useCallback(()=>Q(F=>F-1),[]),isFocusedToastEscapeKeyDownRef:I,isClosePausedRef:M,children:S})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME$3="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,hotkey:O=VIEWPORT_DEFAULT_HOTKEY,label:E="Notifications ({hotkey})",...y}=o,S=useToastProviderContext(VIEWPORT_NAME$3,x),j=useCollection$4(x),w=reactExports.useRef(null),_=reactExports.useRef(null),Q=reactExports.useRef(null),I=reactExports.useRef(null),M=useComposedRefs$1(r,I,S.onViewportChange),F=O.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=S.toastCount>0;reactExports.useEffect(()=>{const re=se=>{var oe;O.length!==0&&O.every(Oe=>se[Oe]||se.code===Oe)&&((oe=I.current)==null||oe.focus())};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[O]),reactExports.useEffect(()=>{const re=w.current,se=I.current;if(V&&re&&se){const ne=()=>{if(!S.isClosePausedRef.current){const ge=new CustomEvent(VIEWPORT_PAUSE);se.dispatchEvent(ge),S.isClosePausedRef.current=!0}},oe=()=>{if(S.isClosePausedRef.current){const ge=new CustomEvent(VIEWPORT_RESUME);se.dispatchEvent(ge),S.isClosePausedRef.current=!1}},Oe=ge=>{!re.contains(ge.relatedTarget)&&oe()},ae=()=>{re.contains(document.activeElement)||oe()};return re.addEventListener("focusin",ne),re.addEventListener("focusout",Oe),re.addEventListener("pointermove",ne),re.addEventListener("pointerleave",ae),window.addEventListener("blur",ne),window.addEventListener("focus",oe),()=>{re.removeEventListener("focusin",ne),re.removeEventListener("focusout",Oe),re.removeEventListener("pointermove",ne),re.removeEventListener("pointerleave",ae),window.removeEventListener("blur",ne),window.removeEventListener("focus",oe)}}},[V,S.isClosePausedRef]);const te=reactExports.useCallback(({tabbingDirection:re})=>{const ne=j().map(oe=>{const Oe=oe.ref.current,ae=[Oe,...getTabbableCandidates$1(Oe)];return re==="forwards"?ae:ae.reverse()});return(re==="forwards"?ne.reverse():ne).flat()},[j]);return reactExports.useEffect(()=>{const re=I.current;if(re){const se=ne=>{var ae,ge,je;const oe=ne.altKey||ne.ctrlKey||ne.metaKey;if(ne.key==="Tab"&&!oe){const Ae=document.activeElement,Qe=ne.shiftKey;if(ne.target===re&&Qe){(ae=_.current)==null||ae.focus();return}const Le=te({tabbingDirection:Qe?"backwards":"forwards"}),Ze=Le.findIndex(Be=>Be===Ae);focusFirst$1(Le.slice(Ze+1))?ne.preventDefault():Qe?(ge=_.current)==null||ge.focus():(je=Q.current)==null||je.focus()}};return re.addEventListener("keydown",se),()=>re.removeEventListener("keydown",se)}},[j,te]),jsxRuntimeExports.jsxs(Branch,{ref:w,role:"region","aria-label":E.replace("{hotkey}",F),tabIndex:-1,style:{pointerEvents:V?void 0:"none"},children:[V&&jsxRuntimeExports.jsx(FocusProxy,{ref:_,onFocusFromOutsideViewport:()=>{const re=te({tabbingDirection:"forwards"});focusFirst$1(re)}}),jsxRuntimeExports.jsx(Collection$4.Slot,{scope:x,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...y,ref:M})}),V&&jsxRuntimeExports.jsx(FocusProxy,{ref:Q,onFocusFromOutsideViewport:()=>{const re=te({tabbingDirection:"backwards"});focusFirst$1(re)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$3;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,onFocusFromOutsideViewport:O,...E}=o,y=useToastProviderContext(FOCUS_PROXY_NAME,x);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...E,ref:r,style:{position:"fixed"},onFocus:S=>{var _;const j=S.relatedTarget;!((_=y.viewport)!=null&&_.contains(j))&&O()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((o,r)=>{const{forceMount:x,open:O,defaultOpen:E,onOpenChange:y,...S}=o,[j,w]=useControllableState({prop:O,defaultProp:E??!0,onChange:y,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:x||j,children:jsxRuntimeExports.jsx(ToastImpl,{open:j,...S,ref:r,onClose:()=>w(!1),onPause:useCallbackRef(o.onPause),onResume:useCallbackRef(o.onResume),onSwipeStart:composeEventHandlers(o.onSwipeStart,_=>{_.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(o.onSwipeMove,_=>{const{x:Q,y:I}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","move"),_.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${Q}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${I}px`)}),onSwipeCancel:composeEventHandlers(o.onSwipeCancel,_=>{_.currentTarget.setAttribute("data-swipe","cancel"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(o.onSwipeEnd,_=>{const{x:Q,y:I}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","end"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${Q}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${I}px`),w(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,type:O="foreground",duration:E,open:y,onClose:S,onEscapeKeyDown:j,onPause:w,onResume:_,onSwipeStart:Q,onSwipeMove:I,onSwipeCancel:M,onSwipeEnd:F,...V}=o,te=useToastProviderContext(TOAST_NAME,x),[re,se]=reactExports.useState(null),ne=useComposedRefs$1(r,Be=>se(Be)),oe=reactExports.useRef(null),Oe=reactExports.useRef(null),ae=E||te.duration,ge=reactExports.useRef(0),je=reactExports.useRef(ae),Ae=reactExports.useRef(0),{onToastAdd:Qe,onToastRemove:Xe}=te,Ue=useCallbackRef(()=>{var Ge;(re==null?void 0:re.contains(document.activeElement))&&((Ge=te.viewport)==null||Ge.focus()),S()}),Le=reactExports.useCallback(Be=>{!Be||Be===1/0||(window.clearTimeout(Ae.current),ge.current=new Date().getTime(),Ae.current=window.setTimeout(Ue,Be))},[Ue]);reactExports.useEffect(()=>{const Be=te.viewport;if(Be){const Ge=()=>{Le(je.current),_==null||_()},We=()=>{const at=new Date().getTime()-ge.current;je.current=je.current-at,window.clearTimeout(Ae.current),w==null||w()};return Be.addEventListener(VIEWPORT_PAUSE,We),Be.addEventListener(VIEWPORT_RESUME,Ge),()=>{Be.removeEventListener(VIEWPORT_PAUSE,We),Be.removeEventListener(VIEWPORT_RESUME,Ge)}}},[te.viewport,ae,w,_,Le]),reactExports.useEffect(()=>{y&&!te.isClosePausedRef.current&&Le(ae)},[y,ae,te.isClosePausedRef,Le]),reactExports.useEffect(()=>(Qe(),()=>Xe()),[Qe,Xe]);const Ze=reactExports.useMemo(()=>re?getAnnounceTextContent(re):null,[re]);return te.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ze&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:x,role:"status","aria-live":O==="foreground"?"assertive":"polite",children:Ze}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:x,onClose:Ue,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$4.ItemSlot,{scope:x,children:jsxRuntimeExports.jsx(Root$a,{asChild:!0,onEscapeKeyDown:composeEventHandlers(j,()=>{te.isFocusedToastEscapeKeyDownRef.current||Ue(),te.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{tabIndex:0,"data-state":y?"open":"closed","data-swipe-direction":te.swipeDirection,...V,ref:ne,style:{userSelect:"none",touchAction:"none",...o.style},onKeyDown:composeEventHandlers(o.onKeyDown,Be=>{Be.key==="Escape"&&(j==null||j(Be.nativeEvent),Be.nativeEvent.defaultPrevented||(te.isFocusedToastEscapeKeyDownRef.current=!0,Ue()))}),onPointerDown:composeEventHandlers(o.onPointerDown,Be=>{Be.button===0&&(oe.current={x:Be.clientX,y:Be.clientY})}),onPointerMove:composeEventHandlers(o.onPointerMove,Be=>{if(!oe.current)return;const Ge=Be.clientX-oe.current.x,We=Be.clientY-oe.current.y,at=!!Oe.current,rt=["left","right"].includes(te.swipeDirection),Je=["left","up"].includes(te.swipeDirection)?Math.min:Math.max,mt=rt?Je(0,Ge):0,Ke=rt?0:Je(0,We),ze=Be.pointerType==="touch"?10:2,He={x:mt,y:Ke},tt={originalEvent:Be,delta:He};at?(Oe.current=He,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,I,tt,{discrete:!1})):isDeltaInDirection(He,te.swipeDirection,ze)?(Oe.current=He,handleAndDispatchCustomEvent(TOAST_SWIPE_START,Q,tt,{discrete:!1}),Be.target.setPointerCapture(Be.pointerId)):(Math.abs(Ge)>ze||Math.abs(We)>ze)&&(oe.current=null)}),onPointerUp:composeEventHandlers(o.onPointerUp,Be=>{const Ge=Oe.current,We=Be.target;if(We.hasPointerCapture(Be.pointerId)&&We.releasePointerCapture(Be.pointerId),Oe.current=null,oe.current=null,Ge){const at=Be.currentTarget,rt={originalEvent:Be,delta:Ge};isDeltaInDirection(Ge,te.swipeDirection,te.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,F,rt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,M,rt,{discrete:!0}),at.addEventListener("click",Je=>Je.preventDefault(),{once:!0})}})})})}),te.viewport)})]}):null}),ToastAnnounce=o=>{const{__scopeToast:r,children:x,...O}=o,E=useToastProviderContext(TOAST_NAME,r),[y,S]=reactExports.useState(!1),[j,w]=reactExports.useState(!1);return useNextFrame(()=>S(!0)),reactExports.useEffect(()=>{const _=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(_)},[]),j?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...O,children:y&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[E.label," ",x]})})})},TITLE_NAME$1="ToastTitle",ToastTitle$1=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{...O,ref:r})});ToastTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="ToastDescription",ToastDescription$1=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{...O,ref:r})});ToastDescription$1.displayName=DESCRIPTION_NAME$1;var ACTION_NAME$1="ToastAction",ToastAction$1=reactExports.forwardRef((o,r)=>{const{altText:x,...O}=o;return x.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:x,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...O,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME$1}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME$1;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,...O}=o,E=useToastInteractiveContext(CLOSE_NAME,x);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...O,ref:r,onClick:composeEventHandlers(o.onClick,E.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((o,r)=>{const{__scopeToast:x,altText:O,...E}=o;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":O||void 0,...E,ref:r})});function getAnnounceTextContent(o){const r=[];return Array.from(o.childNodes).forEach(O=>{if(O.nodeType===O.TEXT_NODE&&O.textContent&&r.push(O.textContent),isHTMLElement(O)){const E=O.ariaHidden||O.hidden||O.style.display==="none",y=O.dataset.radixToastAnnounceExclude==="";if(!E)if(y){const S=O.dataset.radixToastAnnounceAlt;S&&r.push(S)}else r.push(...getAnnounceTextContent(O))}}),r}function handleAndDispatchCustomEvent(o,r,x,{discrete:O}){const E=x.originalEvent.currentTarget,y=new CustomEvent(o,{bubbles:!0,cancelable:!0,detail:x});r&&E.addEventListener(o,r,{once:!0}),O?dispatchDiscreteCustomEvent(E,y):E.dispatchEvent(y)}var isDeltaInDirection=(o,r,x=0)=>{const O=Math.abs(o.x),E=Math.abs(o.y),y=O>E;return r==="left"||r==="right"?y&&O>x:!y&&E>x};function useNextFrame(o=()=>{}){const r=useCallbackRef(o);useLayoutEffect2(()=>{let x=0,O=0;return x=window.requestAnimationFrame(()=>O=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(x),window.cancelAnimationFrame(O)}},[r])}function isHTMLElement(o){return o.nodeType===o.ELEMENT_NODE}function getTabbableCandidates$1(o){const r=[],x=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:O=>{const E=O.tagName==="INPUT"&&O.type==="hidden";return O.disabled||O.hidden||E?NodeFilter.FILTER_SKIP:O.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;x.nextNode();)r.push(x.currentNode);return r}function focusFirst$1(o){const r=document.activeElement;return o.some(x=>x===r?!0:(x.focus(),document.activeElement!==r))}var Provider$1=ToastProvider$1,Viewport$4=ToastViewport$1,Root2$6=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$1=ToastAction$1,Close=ToastClose$1;const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Viewport$4,{ref:x,className:cn("fixed top-0 z-[var(--z-toast)] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",o),...r}));ToastViewport.displayName=Viewport$4.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border border-border bg-card p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"bg-card text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-success/50 bg-success/10 text-success [&>svg]:text-success",warning:"border-warning/50 bg-warning/10 text-warning [&>svg]:text-warning"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:o,variant:r,...x},O)=>jsxRuntimeExports.jsx(Root2$6,{ref:O,className:cn(toastVariants({variant:r}),o),...x}));Toast.displayName=Root2$6.displayName;const ToastAction=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Action$1,{ref:x,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",o),...r}));ToastAction.displayName=Action$1.displayName;const ToastClose=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Close,{ref:x,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",o),"toast-close":"",...r,children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Title,{ref:x,className:cn("text-sm font-semibold",o),...r}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Description,{ref:x,className:cn("text-sm opacity-90",o),...r}));ToastDescription.displayName=Description.displayName;function Toaster(){const{toasts:o}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[o.map(function({id:r,title:x,description:O,action:E,...y}){return jsxRuntimeExports.jsxs(Toast,{...y,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[x&&jsxRuntimeExports.jsx(ToastTitle,{children:x}),O&&jsxRuntimeExports.jsx(ToastDescription,{children:O})]}),E,jsxRuntimeExports.jsx(ToastClose,{})]},r)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var[createTooltipContext]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=o=>{const{__scopeTooltip:r,delayDuration:x=DEFAULT_DELAY_DURATION,skipDelayDuration:O=300,disableHoverableContent:E=!1,children:y}=o,S=reactExports.useRef(!0),j=reactExports.useRef(!1),w=reactExports.useRef(0);return reactExports.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:r,isOpenDelayedRef:S,delayDuration:x,onOpen:reactExports.useCallback(()=>{window.clearTimeout(w.current),S.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>S.current=!0,O)},[O]),isPointerInTransitRef:j,onPointerInTransitChange:reactExports.useCallback(_=>{j.current=_},[]),disableHoverableContent:E,children:y})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$1=o=>{const{__scopeTooltip:r,children:x,open:O,defaultOpen:E,onOpenChange:y,disableHoverableContent:S,delayDuration:j}=o,w=useTooltipProviderContext(TOOLTIP_NAME,o.__scopeTooltip),_=usePopperScope$2(r),[Q,I]=reactExports.useState(null),M=useId$1(),F=reactExports.useRef(0),V=S??w.disableHoverableContent,te=j??w.delayDuration,re=reactExports.useRef(!1),[se,ne]=useControllableState({prop:O,defaultProp:E??!1,onChange:je=>{je?(w.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):w.onClose(),y==null||y(je)},caller:TOOLTIP_NAME}),oe=reactExports.useMemo(()=>se?re.current?"delayed-open":"instant-open":"closed",[se]),Oe=reactExports.useCallback(()=>{window.clearTimeout(F.current),F.current=0,re.current=!1,ne(!0)},[ne]),ae=reactExports.useCallback(()=>{window.clearTimeout(F.current),F.current=0,ne(!1)},[ne]),ge=reactExports.useCallback(()=>{window.clearTimeout(F.current),F.current=window.setTimeout(()=>{re.current=!0,ne(!0),F.current=0},te)},[te,ne]);return reactExports.useEffect(()=>()=>{F.current&&(window.clearTimeout(F.current),F.current=0)},[]),jsxRuntimeExports.jsx(Root2$9,{..._,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:r,contentId:M,open:se,stateAttribute:oe,trigger:Q,onTriggerChange:I,onTriggerEnter:reactExports.useCallback(()=>{w.isOpenDelayedRef.current?ge():Oe()},[w.isOpenDelayedRef,ge,Oe]),onTriggerLeave:reactExports.useCallback(()=>{V?ae():(window.clearTimeout(F.current),F.current=0)},[ae,V]),onOpen:Oe,onClose:ae,disableHoverableContent:V,children:x})})};Tooltip$1.displayName=TOOLTIP_NAME;var TRIGGER_NAME$8="TooltipTrigger",TooltipTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeTooltip:x,...O}=o,E=useTooltipContext(TRIGGER_NAME$8,x),y=useTooltipProviderContext(TRIGGER_NAME$8,x),S=usePopperScope$2(x),j=reactExports.useRef(null),w=useComposedRefs$1(r,j,E.onTriggerChange),_=reactExports.useRef(!1),Q=reactExports.useRef(!1),I=reactExports.useCallback(()=>_.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",I),[I]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...S,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":E.open?E.contentId:void 0,"data-state":E.stateAttribute,...O,ref:w,onPointerMove:composeEventHandlers(o.onPointerMove,M=>{M.pointerType!=="touch"&&!Q.current&&!y.isPointerInTransitRef.current&&(E.onTriggerEnter(),Q.current=!0)}),onPointerLeave:composeEventHandlers(o.onPointerLeave,()=>{E.onTriggerLeave(),Q.current=!1}),onPointerDown:composeEventHandlers(o.onPointerDown,()=>{E.open&&E.onClose(),_.current=!0,document.addEventListener("pointerup",I,{once:!0})}),onFocus:composeEventHandlers(o.onFocus,()=>{_.current||E.onOpen()}),onBlur:composeEventHandlers(o.onBlur,E.onClose),onClick:composeEventHandlers(o.onClick,E.onClose)})})});TooltipTrigger$1.displayName=TRIGGER_NAME$8;var PORTAL_NAME$5="TooltipPortal",[PortalProvider$1,usePortalContext$1]=createTooltipContext(PORTAL_NAME$5,{forceMount:void 0}),CONTENT_NAME$7="TooltipContent",TooltipContent$1=reactExports.forwardRef((o,r)=>{const x=usePortalContext$1(CONTENT_NAME$7,o.__scopeTooltip),{forceMount:O=x.forceMount,side:E="top",...y}=o,S=useTooltipContext(CONTENT_NAME$7,o.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:O||S.open,children:S.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:E,...y,ref:r}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:E,...y,ref:r})})}),TooltipContentHoverable=reactExports.forwardRef((o,r)=>{const x=useTooltipContext(CONTENT_NAME$7,o.__scopeTooltip),O=useTooltipProviderContext(CONTENT_NAME$7,o.__scopeTooltip),E=reactExports.useRef(null),y=useComposedRefs$1(r,E),[S,j]=reactExports.useState(null),{trigger:w,onClose:_}=x,Q=E.current,{onPointerInTransitChange:I}=O,M=reactExports.useCallback(()=>{j(null),I(!1)},[I]),F=reactExports.useCallback((V,te)=>{const re=V.currentTarget,se={x:V.clientX,y:V.clientY},ne=getExitSideFromRect(se,re.getBoundingClientRect()),oe=getPaddedExitPoints(se,ne),Oe=getPointsFromRect(te.getBoundingClientRect()),ae=getHull([...oe,...Oe]);j(ae),I(!0)},[I]);return reactExports.useEffect(()=>()=>M(),[M]),reactExports.useEffect(()=>{if(w&&Q){const V=re=>F(re,Q),te=re=>F(re,w);return w.addEventListener("pointerleave",V),Q.addEventListener("pointerleave",te),()=>{w.removeEventListener("pointerleave",V),Q.removeEventListener("pointerleave",te)}}},[w,Q,F,M]),reactExports.useEffect(()=>{if(S){const V=te=>{const re=te.target,se={x:te.clientX,y:te.clientY},ne=(w==null?void 0:w.contains(re))||(Q==null?void 0:Q.contains(re)),oe=!isPointInPolygon(se,S);ne?M():oe&&(M(),_())};return document.addEventListener("pointermove",V),()=>document.removeEventListener("pointermove",V)}},[w,Q,S,_,M]),jsxRuntimeExports.jsx(TooltipContentImpl,{...o,ref:y})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable$1=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((o,r)=>{const{__scopeTooltip:x,children:O,"aria-label":E,onEscapeKeyDown:y,onPointerDownOutside:S,...j}=o,w=useTooltipContext(CONTENT_NAME$7,x),_=usePopperScope$2(x),{onClose:Q}=w;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,Q),()=>document.removeEventListener(TOOLTIP_OPEN,Q)),[Q]),reactExports.useEffect(()=>{if(w.trigger){const I=M=>{const F=M.target;F!=null&&F.contains(w.trigger)&&Q()};return window.addEventListener("scroll",I,{capture:!0}),()=>window.removeEventListener("scroll",I,{capture:!0})}},[w.trigger,Q]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:y,onPointerDownOutside:S,onFocusOutside:I=>I.preventDefault(),onDismiss:Q,children:jsxRuntimeExports.jsxs(Content$3,{"data-state":w.stateAttribute,..._,...j,ref:r,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable$1,{children:O}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:x,isInside:!0,children:jsxRuntimeExports.jsx(Root$7,{id:w.contentId,role:"tooltip",children:E||O})})]})})});TooltipContent$1.displayName=CONTENT_NAME$7;var ARROW_NAME$4="TooltipArrow",TooltipArrow=reactExports.forwardRef((o,r)=>{const{__scopeTooltip:x,...O}=o,E=usePopperScope$2(x);return useVisuallyHiddenContentContext(ARROW_NAME$4,x).isInside?null:jsxRuntimeExports.jsx(Arrow,{...E,...O,ref:r})});TooltipArrow.displayName=ARROW_NAME$4;function getExitSideFromRect(o,r){const x=Math.abs(r.top-o.y),O=Math.abs(r.bottom-o.y),E=Math.abs(r.right-o.x),y=Math.abs(r.left-o.x);switch(Math.min(x,O,E,y)){case y:return"left";case E:return"right";case x:return"top";case O:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(o,r,x=5){const O=[];switch(r){case"top":O.push({x:o.x-x,y:o.y+x},{x:o.x+x,y:o.y+x});break;case"bottom":O.push({x:o.x-x,y:o.y-x},{x:o.x+x,y:o.y-x});break;case"left":O.push({x:o.x+x,y:o.y-x},{x:o.x+x,y:o.y+x});break;case"right":O.push({x:o.x-x,y:o.y-x},{x:o.x-x,y:o.y+x});break}return O}function getPointsFromRect(o){const{top:r,right:x,bottom:O,left:E}=o;return[{x:E,y:r},{x,y:r},{x,y:O},{x:E,y:O}]}function isPointInPolygon(o,r){const{x,y:O}=o;let E=!1;for(let y=0,S=r.length-1;y<r.length;S=y++){const j=r[y],w=r[S],_=j.x,Q=j.y,I=w.x,M=w.y;Q>O!=M>O&&x<(I-_)*(O-Q)/(M-Q)+_&&(E=!E)}return E}function getHull(o){const r=o.slice();return r.sort((x,O)=>x.x<O.x?-1:x.x>O.x?1:x.y<O.y?-1:x.y>O.y?1:0),getHullPresorted(r)}function getHullPresorted(o){if(o.length<=1)return o.slice();const r=[];for(let O=0;O<o.length;O++){const E=o[O];for(;r.length>=2;){const y=r[r.length-1],S=r[r.length-2];if((y.x-S.x)*(E.y-S.y)>=(y.y-S.y)*(E.x-S.x))r.pop();else break}r.push(E)}r.pop();const x=[];for(let O=o.length-1;O>=0;O--){const E=o[O];for(;x.length>=2;){const y=x[x.length-1],S=x[x.length-2];if((y.x-S.x)*(E.y-S.y)>=(y.y-S.y)*(E.x-S.x))x.pop();else break}x.push(E)}return x.pop(),r.length===1&&x.length===1&&r[0].x===x[0].x&&r[0].y===x[0].y?r:r.concat(x)}var Provider=TooltipProvider$1,Root3$1=Tooltip$1,Trigger$4=TooltipTrigger$1,Content2$5=TooltipContent$1;const TooltipProvider=Provider,Tooltip=Root3$1,TooltipTrigger=Trigger$4,TooltipContent=reactExports.forwardRef(({className:o,sideOffset:r=4,...x},O)=>jsxRuntimeExports.jsx(Content2$5,{ref:O,sideOffset:r,className:cn("z-[var(--z-tooltip)] overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...x}));TooltipContent.displayName=Content2$5.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(o){return this.listeners.add(o),this.onSubscribe(),()=>{this.listeners.delete(o),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(o,r)=>setTimeout(o,r),clearTimeout:o=>clearTimeout(o),setInterval:(o,r)=>setInterval(o,r),clearInterval:o=>clearInterval(o)},jr,bs,Cs,TimeoutManager=(Cs=class{constructor(){Dt(this,jr,defaultTimeoutProvider);Dt(this,bs,!1)}setTimeoutProvider(o){Qt(this,jr,o)}setTimeout(o,r){return st(this,jr).setTimeout(o,r)}clearTimeout(o){st(this,jr).clearTimeout(o)}setInterval(o,r){return st(this,jr).setInterval(o,r)}clearInterval(o){st(this,jr).clearInterval(o)}},jr=new WeakMap,bs=new WeakMap,Cs),timeoutManager=new TimeoutManager;function systemSetTimeoutZero(o){setTimeout(o,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(o,r){return typeof o=="function"?o(r):o}function isValidTimeout(o){return typeof o=="number"&&o>=0&&o!==1/0}function timeUntilStale(o,r){return Math.max(o+(r||0)-Date.now(),0)}function resolveStaleTime(o,r){return typeof o=="function"?o(r):o}function resolveEnabled(o,r){return typeof o=="function"?o(r):o}function matchQuery(o,r){const{type:x="all",exact:O,fetchStatus:E,predicate:y,queryKey:S,stale:j}=o;if(S){if(O){if(r.queryHash!==hashQueryKeyByOptions(S,r.options))return!1}else if(!partialMatchKey(r.queryKey,S))return!1}if(x!=="all"){const w=r.isActive();if(x==="active"&&!w||x==="inactive"&&w)return!1}return!(typeof j=="boolean"&&r.isStale()!==j||E&&E!==r.state.fetchStatus||y&&!y(r))}function matchMutation(o,r){const{exact:x,status:O,predicate:E,mutationKey:y}=o;if(y){if(!r.options.mutationKey)return!1;if(x){if(hashKey(r.options.mutationKey)!==hashKey(y))return!1}else if(!partialMatchKey(r.options.mutationKey,y))return!1}return!(O&&r.state.status!==O||E&&!E(r))}function hashQueryKeyByOptions(o,r){return((r==null?void 0:r.queryKeyHashFn)||hashKey)(o)}function hashKey(o){return JSON.stringify(o,(r,x)=>isPlainObject(x)?Object.keys(x).sort().reduce((O,E)=>(O[E]=x[E],O),{}):x)}function partialMatchKey(o,r){return o===r?!0:typeof o!=typeof r?!1:o&&r&&typeof o=="object"&&typeof r=="object"?Object.keys(r).every(x=>partialMatchKey(o[x],r[x])):!1}var hasOwn=Object.prototype.hasOwnProperty;function replaceEqualDeep(o,r){if(o===r)return o;const x=isPlainArray(o)&&isPlainArray(r);if(!x&&!(isPlainObject(o)&&isPlainObject(r)))return r;const E=(x?o:Object.keys(o)).length,y=x?r:Object.keys(r),S=y.length,j=x?new Array(S):{};let w=0;for(let _=0;_<S;_++){const Q=x?_:y[_],I=o[Q],M=r[Q];if(I===M){j[Q]=I,(x?_<E:hasOwn.call(o,Q))&&w++;continue}if(I===null||M===null||typeof I!="object"||typeof M!="object"){j[Q]=M;continue}const F=replaceEqualDeep(I,M);j[Q]=F,F===I&&w++}return E===S&&w===E?o:j}function shallowEqualObjects(o,r){if(!r||Object.keys(o).length!==Object.keys(r).length)return!1;for(const x in o)if(o[x]!==r[x])return!1;return!0}function isPlainArray(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;const r=o.constructor;if(r===void 0)return!0;const x=r.prototype;return!(!hasObjectPrototype(x)||!x.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(o)!==Object.prototype)}function hasObjectPrototype(o){return Object.prototype.toString.call(o)==="[object Object]"}function sleep(o){return new Promise(r=>{timeoutManager.setTimeout(r,o)})}function replaceData(o,r,x){return typeof x.structuralSharing=="function"?x.structuralSharing(o,r):x.structuralSharing!==!1?replaceEqualDeep(o,r):r}function addToEnd(o,r,x=0){const O=[...o,r];return x&&O.length>x?O.slice(1):O}function addToStart(o,r,x=0){const O=[r,...o];return x&&O.length>x?O.slice(0,-1):O}var skipToken=Symbol();function ensureQueryFn(o,r){return!o.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!o.queryFn||o.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${o.queryHash}'`)):o.queryFn}function shouldThrowError(o,r){return typeof o=="function"?o(...r):!!o}var kr,Tr,Yr,$s,FocusManager=($s=class extends Subscribable{constructor(){super();Dt(this,kr);Dt(this,Tr);Dt(this,Yr);Qt(this,Yr,r=>{if(!isServer&&window.addEventListener){const x=()=>r();return window.addEventListener("visibilitychange",x,!1),()=>{window.removeEventListener("visibilitychange",x)}}})}onSubscribe(){st(this,Tr)||this.setEventListener(st(this,Yr))}onUnsubscribe(){var r;this.hasListeners()||((r=st(this,Tr))==null||r.call(this),Qt(this,Tr,void 0))}setEventListener(r){var x;Qt(this,Yr,r),(x=st(this,Tr))==null||x.call(this),Qt(this,Tr,r(O=>{typeof O=="boolean"?this.setFocused(O):this.onFocus()}))}setFocused(r){st(this,kr)!==r&&(Qt(this,kr,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(x=>{x(r)})}isFocused(){var r;return typeof st(this,kr)=="boolean"?st(this,kr):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},kr=new WeakMap,Tr=new WeakMap,Yr=new WeakMap,$s),focusManager=new FocusManager;function pendingThenable(){let o,r;const x=new Promise((E,y)=>{o=E,r=y});x.status="pending",x.catch(()=>{});function O(E){Object.assign(x,E),delete x.resolve,delete x.reject}return x.resolve=E=>{O({status:"fulfilled",value:E}),o(E)},x.reject=E=>{O({status:"rejected",reason:E}),r(E)},x}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let o=[],r=0,x=j=>{j()},O=j=>{j()},E=defaultScheduler;const y=j=>{r?o.push(j):E(()=>{x(j)})},S=()=>{const j=o;o=[],j.length&&E(()=>{O(()=>{j.forEach(w=>{x(w)})})})};return{batch:j=>{let w;r++;try{w=j()}finally{r--,r||S()}return w},batchCalls:j=>(...w)=>{y(()=>{j(...w)})},schedule:y,setNotifyFunction:j=>{x=j},setBatchNotifyFunction:j=>{O=j},setScheduler:j=>{E=j}}}var notifyManager=createNotifyManager(),Fr,wr,Gr,Ps,OnlineManager=(Ps=class extends Subscribable{constructor(){super();Dt(this,Fr,!0);Dt(this,wr);Dt(this,Gr);Qt(this,Gr,r=>{if(!isServer&&window.addEventListener){const x=()=>r(!0),O=()=>r(!1);return window.addEventListener("online",x,!1),window.addEventListener("offline",O,!1),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",O)}}})}onSubscribe(){st(this,wr)||this.setEventListener(st(this,Gr))}onUnsubscribe(){var r;this.hasListeners()||((r=st(this,wr))==null||r.call(this),Qt(this,wr,void 0))}setEventListener(r){var x;Qt(this,Gr,r),(x=st(this,wr))==null||x.call(this),Qt(this,wr,r(this.setOnline.bind(this)))}setOnline(r){st(this,Fr)!==r&&(Qt(this,Fr,r),this.listeners.forEach(O=>{O(r)}))}isOnline(){return st(this,Fr)}},Fr=new WeakMap,wr=new WeakMap,Gr=new WeakMap,Ps),onlineManager=new OnlineManager;function defaultRetryDelay(o){return Math.min(1e3*2**o,3e4)}function canFetch(o){return(o??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(o){super("CancelledError"),this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent}};function createRetryer(o){let r=!1,x=0,O;const E=pendingThenable(),y=()=>E.status!=="pending",S=te=>{var re;if(!y()){const se=new CancelledError(te);M(se),(re=o.onCancel)==null||re.call(o,se)}},j=()=>{r=!0},w=()=>{r=!1},_=()=>focusManager.isFocused()&&(o.networkMode==="always"||onlineManager.isOnline())&&o.canRun(),Q=()=>canFetch(o.networkMode)&&o.canRun(),I=te=>{y()||(O==null||O(),E.resolve(te))},M=te=>{y()||(O==null||O(),E.reject(te))},F=()=>new Promise(te=>{var re;O=se=>{(y()||_())&&te(se)},(re=o.onPause)==null||re.call(o)}).then(()=>{var te;O=void 0,y()||(te=o.onContinue)==null||te.call(o)}),V=()=>{if(y())return;let te;const re=x===0?o.initialPromise:void 0;try{te=re??o.fn()}catch(se){te=Promise.reject(se)}Promise.resolve(te).then(I).catch(se=>{var ge;if(y())return;const ne=o.retry??(isServer?0:3),oe=o.retryDelay??defaultRetryDelay,Oe=typeof oe=="function"?oe(x,se):oe,ae=ne===!0||typeof ne=="number"&&x<ne||typeof ne=="function"&&ne(x,se);if(r||!ae){M(se);return}x++,(ge=o.onFail)==null||ge.call(o,x,se),sleep(Oe).then(()=>_()?void 0:F()).then(()=>{r?M(se):V()})})};return{promise:E,status:()=>E.status,cancel:S,continue:()=>(O==null||O(),E),cancelRetry:j,continueRetry:w,canStart:Q,start:()=>(Q()?V():F().then(V),E)}}var Qr,_s,Removable=(_s=class{constructor(){Dt(this,Qr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Qt(this,Qr,timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(o){this.gcTime=Math.max(this.gcTime||0,o??(isServer?1/0:5*60*1e3))}clearGcTimeout(){st(this,Qr)&&(timeoutManager.clearTimeout(st(this,Qr)),Qt(this,Qr,void 0))}},Qr=new WeakMap,_s),Ir,zr,dr,Dr,nr,rs,Mr,pr,Or,Ns,Query=(Ns=class extends Removable{constructor(r){super();Dt(this,pr);Dt(this,Ir);Dt(this,zr);Dt(this,dr);Dt(this,Dr);Dt(this,nr);Dt(this,rs);Dt(this,Mr);Qt(this,Mr,!1),Qt(this,rs,r.defaultOptions),this.setOptions(r.options),this.observers=[],Qt(this,Dr,r.client),Qt(this,dr,st(this,Dr).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Qt(this,Ir,getDefaultState$1(this.options)),this.state=r.state??st(this,Ir),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=st(this,nr))==null?void 0:r.promise}setOptions(r){if(this.options={...st(this,rs),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const x=getDefaultState$1(this.options);x.data!==void 0&&(this.setState(successState(x.data,x.dataUpdatedAt)),Qt(this,Ir,x))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&st(this,dr).remove(this)}setData(r,x){const O=replaceData(this.state.data,r,this.options);return Ft(this,pr,Or).call(this,{data:O,type:"success",dataUpdatedAt:x==null?void 0:x.updatedAt,manual:x==null?void 0:x.manual}),O}setState(r,x){Ft(this,pr,Or).call(this,{type:"setState",state:r,setStateOptions:x})}cancel(r){var O,E;const x=(O=st(this,nr))==null?void 0:O.promise;return(E=st(this,nr))==null||E.cancel(r),x?x.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(st(this,Ir))}isActive(){return this.observers.some(r=>resolveEnabled(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>resolveStaleTime(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,r)}onFocus(){var x;const r=this.observers.find(O=>O.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(x=st(this,nr))==null||x.continue()}onOnline(){var x;const r=this.observers.find(O=>O.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(x=st(this,nr))==null||x.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),st(this,dr).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(x=>x!==r),this.observers.length||(st(this,nr)&&(st(this,Mr)?st(this,nr).cancel({revert:!0}):st(this,nr).cancelRetry()),this.scheduleGc()),st(this,dr).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,pr,Or).call(this,{type:"invalidate"})}async fetch(r,x){var w,_,Q,I,M,F,V,te,re,se,ne,oe;if(this.state.fetchStatus!=="idle"&&((w=st(this,nr))==null?void 0:w.status())!=="rejected"){if(this.state.data!==void 0&&(x!=null&&x.cancelRefetch))this.cancel({silent:!0});else if(st(this,nr))return st(this,nr).continueRetry(),st(this,nr).promise}if(r&&this.setOptions(r),!this.options.queryFn){const Oe=this.observers.find(ae=>ae.options.queryFn);Oe&&this.setOptions(Oe.options)}const O=new AbortController,E=Oe=>{Object.defineProperty(Oe,"signal",{enumerable:!0,get:()=>(Qt(this,Mr,!0),O.signal)})},y=()=>{const Oe=ensureQueryFn(this.options,x),ge=(()=>{const je={client:st(this,Dr),queryKey:this.queryKey,meta:this.meta};return E(je),je})();return Qt(this,Mr,!1),this.options.persister?this.options.persister(Oe,ge,this):Oe(ge)},j=(()=>{const Oe={fetchOptions:x,options:this.options,queryKey:this.queryKey,client:st(this,Dr),state:this.state,fetchFn:y};return E(Oe),Oe})();(_=this.options.behavior)==null||_.onFetch(j,this),Qt(this,zr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((Q=j.fetchOptions)==null?void 0:Q.meta))&&Ft(this,pr,Or).call(this,{type:"fetch",meta:(I=j.fetchOptions)==null?void 0:I.meta}),Qt(this,nr,createRetryer({initialPromise:x==null?void 0:x.initialPromise,fn:j.fetchFn,onCancel:Oe=>{Oe instanceof CancelledError&&Oe.revert&&this.setState({...st(this,zr),fetchStatus:"idle"}),O.abort()},onFail:(Oe,ae)=>{Ft(this,pr,Or).call(this,{type:"failed",failureCount:Oe,error:ae})},onPause:()=>{Ft(this,pr,Or).call(this,{type:"pause"})},onContinue:()=>{Ft(this,pr,Or).call(this,{type:"continue"})},retry:j.options.retry,retryDelay:j.options.retryDelay,networkMode:j.options.networkMode,canRun:()=>!0}));try{const Oe=await st(this,nr).start();if(Oe===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(Oe),(F=(M=st(this,dr).config).onSuccess)==null||F.call(M,Oe,this),(te=(V=st(this,dr).config).onSettled)==null||te.call(V,Oe,this.state.error,this),Oe}catch(Oe){if(Oe instanceof CancelledError){if(Oe.silent)return st(this,nr).promise;if(Oe.revert){if(this.state.data===void 0)throw Oe;return this.state.data}}throw Ft(this,pr,Or).call(this,{type:"error",error:Oe}),(se=(re=st(this,dr).config).onError)==null||se.call(re,Oe,this),(oe=(ne=st(this,dr).config).onSettled)==null||oe.call(ne,this.state.data,Oe,this),Oe}finally{this.scheduleGc()}}},Ir=new WeakMap,zr=new WeakMap,dr=new WeakMap,Dr=new WeakMap,nr=new WeakMap,rs=new WeakMap,Mr=new WeakMap,pr=new WeakSet,Or=function(r){const x=O=>{switch(r.type){case"failed":return{...O,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...O,fetchStatus:"paused"};case"continue":return{...O,fetchStatus:"fetching"};case"fetch":return{...O,...fetchState(O.data,this.options),fetchMeta:r.meta??null};case"success":const E={...O,...successState(r.data,r.dataUpdatedAt),dataUpdateCount:O.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Qt(this,zr,r.manual?E:void 0),E;case"error":const y=r.error;return{...O,error:y,errorUpdateCount:O.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:O.fetchFailureCount+1,fetchFailureReason:y,fetchStatus:"idle",status:"error"};case"invalidate":return{...O,isInvalidated:!0};case"setState":return{...O,...r.state}}};this.state=x(this.state),notifyManager.batch(()=>{this.observers.forEach(O=>{O.onQueryUpdate()}),st(this,dr).notify({query:this,type:"updated",action:r})})},Ns);function fetchState(o,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(r.networkMode)?"fetching":"paused",...o===void 0&&{error:null,status:"pending"}}}function successState(o,r){return{data:o,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function getDefaultState$1(o){const r=typeof o.initialData=="function"?o.initialData():o.initialData,x=r!==void 0,O=x?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:x?O??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:x?"success":"pending",fetchStatus:"idle"}}var lr,Vt,ss,ir,Lr,Vr,Er,Cr,ns,Zr,qr,Xr,Ur,$r,Wr,Ht,ts,ds,ps,ms,hs,xs,Os,gs,Ls,As,QueryObserver=(As=class extends Subscribable{constructor(r,x){super();Dt(this,Ht);Dt(this,lr);Dt(this,Vt);Dt(this,ss);Dt(this,ir);Dt(this,Lr);Dt(this,Vr);Dt(this,Er);Dt(this,Cr);Dt(this,ns);Dt(this,Zr);Dt(this,qr);Dt(this,Xr);Dt(this,Ur);Dt(this,$r);Dt(this,Wr,new Set);this.options=x,Qt(this,lr,r),Qt(this,Cr,null),Qt(this,Er,pendingThenable()),this.bindMethods(),this.setOptions(x)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(st(this,Vt).addObserver(this),shouldFetchOnMount(st(this,Vt),this.options)?Ft(this,Ht,ts).call(this):this.updateResult(),Ft(this,Ht,hs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(st(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(st(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ft(this,Ht,xs).call(this),Ft(this,Ht,Os).call(this),st(this,Vt).removeObserver(this)}setOptions(r){const x=this.options,O=st(this,Vt);if(this.options=st(this,lr).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,st(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ft(this,Ht,gs).call(this),st(this,Vt).setOptions(this.options),x._defaulted&&!shallowEqualObjects(this.options,x)&&st(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:st(this,Vt),observer:this});const E=this.hasListeners();E&&shouldFetchOptionally(st(this,Vt),O,this.options,x)&&Ft(this,Ht,ts).call(this),this.updateResult(),E&&(st(this,Vt)!==O||resolveEnabled(this.options.enabled,st(this,Vt))!==resolveEnabled(x.enabled,st(this,Vt))||resolveStaleTime(this.options.staleTime,st(this,Vt))!==resolveStaleTime(x.staleTime,st(this,Vt)))&&Ft(this,Ht,ds).call(this);const y=Ft(this,Ht,ps).call(this);E&&(st(this,Vt)!==O||resolveEnabled(this.options.enabled,st(this,Vt))!==resolveEnabled(x.enabled,st(this,Vt))||y!==st(this,$r))&&Ft(this,Ht,ms).call(this,y)}getOptimisticResult(r){const x=st(this,lr).getQueryCache().build(st(this,lr),r),O=this.createResult(x,r);return shouldAssignObserverCurrentProperties(this,O)&&(Qt(this,ir,O),Qt(this,Vr,this.options),Qt(this,Lr,st(this,Vt).state)),O}getCurrentResult(){return st(this,ir)}trackResult(r,x){return new Proxy(r,{get:(O,E)=>(this.trackProp(E),x==null||x(E),E==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&st(this,Er).status==="pending"&&st(this,Er).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(O,E))})}trackProp(r){st(this,Wr).add(r)}getCurrentQuery(){return st(this,Vt)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const x=st(this,lr).defaultQueryOptions(r),O=st(this,lr).getQueryCache().build(st(this,lr),x);return O.fetch().then(()=>this.createResult(O,x))}fetch(r){return Ft(this,Ht,ts).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),st(this,ir)))}createResult(r,x){var Qe;const O=st(this,Vt),E=this.options,y=st(this,ir),S=st(this,Lr),j=st(this,Vr),_=r!==O?r.state:st(this,ss),{state:Q}=r;let I={...Q},M=!1,F;if(x._optimisticResults){const Xe=this.hasListeners(),Ue=!Xe&&shouldFetchOnMount(r,x),Le=Xe&&shouldFetchOptionally(r,O,x,E);(Ue||Le)&&(I={...I,...fetchState(Q.data,r.options)}),x._optimisticResults==="isRestoring"&&(I.fetchStatus="idle")}let{error:V,errorUpdatedAt:te,status:re}=I;F=I.data;let se=!1;if(x.placeholderData!==void 0&&F===void 0&&re==="pending"){let Xe;y!=null&&y.isPlaceholderData&&x.placeholderData===(j==null?void 0:j.placeholderData)?(Xe=y.data,se=!0):Xe=typeof x.placeholderData=="function"?x.placeholderData((Qe=st(this,qr))==null?void 0:Qe.state.data,st(this,qr)):x.placeholderData,Xe!==void 0&&(re="success",F=replaceData(y==null?void 0:y.data,Xe,x),M=!0)}if(x.select&&F!==void 0&&!se)if(y&&F===(S==null?void 0:S.data)&&x.select===st(this,ns))F=st(this,Zr);else try{Qt(this,ns,x.select),F=x.select(F),F=replaceData(y==null?void 0:y.data,F,x),Qt(this,Zr,F),Qt(this,Cr,null)}catch(Xe){Qt(this,Cr,Xe)}st(this,Cr)&&(V=st(this,Cr),F=st(this,Zr),te=Date.now(),re="error");const ne=I.fetchStatus==="fetching",oe=re==="pending",Oe=re==="error",ae=oe&&ne,ge=F!==void 0,Ae={status:re,fetchStatus:I.fetchStatus,isPending:oe,isSuccess:re==="success",isError:Oe,isInitialLoading:ae,isLoading:ae,data:F,dataUpdatedAt:I.dataUpdatedAt,error:V,errorUpdatedAt:te,failureCount:I.fetchFailureCount,failureReason:I.fetchFailureReason,errorUpdateCount:I.errorUpdateCount,isFetched:I.dataUpdateCount>0||I.errorUpdateCount>0,isFetchedAfterMount:I.dataUpdateCount>_.dataUpdateCount||I.errorUpdateCount>_.errorUpdateCount,isFetching:ne,isRefetching:ne&&!oe,isLoadingError:Oe&&!ge,isPaused:I.fetchStatus==="paused",isPlaceholderData:M,isRefetchError:Oe&&ge,isStale:isStale(r,x),refetch:this.refetch,promise:st(this,Er),isEnabled:resolveEnabled(x.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const Xe=Ze=>{Ae.status==="error"?Ze.reject(Ae.error):Ae.data!==void 0&&Ze.resolve(Ae.data)},Ue=()=>{const Ze=Qt(this,Er,Ae.promise=pendingThenable());Xe(Ze)},Le=st(this,Er);switch(Le.status){case"pending":r.queryHash===O.queryHash&&Xe(Le);break;case"fulfilled":(Ae.status==="error"||Ae.data!==Le.value)&&Ue();break;case"rejected":(Ae.status!=="error"||Ae.error!==Le.reason)&&Ue();break}}return Ae}updateResult(){const r=st(this,ir),x=this.createResult(st(this,Vt),this.options);if(Qt(this,Lr,st(this,Vt).state),Qt(this,Vr,this.options),st(this,Lr).data!==void 0&&Qt(this,qr,st(this,Vt)),shallowEqualObjects(x,r))return;Qt(this,ir,x);const O=()=>{if(!r)return!0;const{notifyOnChangeProps:E}=this.options,y=typeof E=="function"?E():E;if(y==="all"||!y&&!st(this,Wr).size)return!0;const S=new Set(y??st(this,Wr));return this.options.throwOnError&&S.add("error"),Object.keys(st(this,ir)).some(j=>{const w=j;return st(this,ir)[w]!==r[w]&&S.has(w)})};Ft(this,Ht,Ls).call(this,{listeners:O()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ft(this,Ht,hs).call(this)}},lr=new WeakMap,Vt=new WeakMap,ss=new WeakMap,ir=new WeakMap,Lr=new WeakMap,Vr=new WeakMap,Er=new WeakMap,Cr=new WeakMap,ns=new WeakMap,Zr=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Ur=new WeakMap,$r=new WeakMap,Wr=new WeakMap,Ht=new WeakSet,ts=function(r){Ft(this,Ht,gs).call(this);let x=st(this,Vt).fetch(this.options,r);return r!=null&&r.throwOnError||(x=x.catch(noop$1)),x},ds=function(){Ft(this,Ht,xs).call(this);const r=resolveStaleTime(this.options.staleTime,st(this,Vt));if(isServer||st(this,ir).isStale||!isValidTimeout(r))return;const O=timeUntilStale(st(this,ir).dataUpdatedAt,r)+1;Qt(this,Xr,timeoutManager.setTimeout(()=>{st(this,ir).isStale||this.updateResult()},O))},ps=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(st(this,Vt)):this.options.refetchInterval)??!1},ms=function(r){Ft(this,Ht,Os).call(this),Qt(this,$r,r),!(isServer||resolveEnabled(this.options.enabled,st(this,Vt))===!1||!isValidTimeout(st(this,$r))||st(this,$r)===0)&&Qt(this,Ur,timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Ft(this,Ht,ts).call(this)},st(this,$r)))},hs=function(){Ft(this,Ht,ds).call(this),Ft(this,Ht,ms).call(this,Ft(this,Ht,ps).call(this))},xs=function(){st(this,Xr)&&(timeoutManager.clearTimeout(st(this,Xr)),Qt(this,Xr,void 0))},Os=function(){st(this,Ur)&&(timeoutManager.clearInterval(st(this,Ur)),Qt(this,Ur,void 0))},gs=function(){const r=st(this,lr).getQueryCache().build(st(this,lr),this.options);if(r===st(this,Vt))return;const x=st(this,Vt);Qt(this,Vt,r),Qt(this,ss,r.state),this.hasListeners()&&(x==null||x.removeObserver(this),r.addObserver(this))},Ls=function(r){notifyManager.batch(()=>{r.listeners&&this.listeners.forEach(x=>{x(st(this,ir))}),st(this,lr).getQueryCache().notify({query:st(this,Vt),type:"observerResultsUpdated"})})},As);function shouldLoadOnMount(o,r){return resolveEnabled(r.enabled,o)!==!1&&o.state.data===void 0&&!(o.state.status==="error"&&r.retryOnMount===!1)}function shouldFetchOnMount(o,r){return shouldLoadOnMount(o,r)||o.state.data!==void 0&&shouldFetchOn(o,r,r.refetchOnMount)}function shouldFetchOn(o,r,x){if(resolveEnabled(r.enabled,o)!==!1&&resolveStaleTime(r.staleTime,o)!=="static"){const O=typeof x=="function"?x(o):x;return O==="always"||O!==!1&&isStale(o,r)}return!1}function shouldFetchOptionally(o,r,x,O){return(o!==r||resolveEnabled(O.enabled,o)===!1)&&(!x.suspense||o.state.status!=="error")&&isStale(o,x)}function isStale(o,r){return resolveEnabled(r.enabled,o)!==!1&&o.isStaleByTime(resolveStaleTime(r.staleTime,o))}function shouldAssignObserverCurrentProperties(o,r){return!shallowEqualObjects(o.getCurrentResult(),r)}function infiniteQueryBehavior(o){return{onFetch:(r,x)=>{var Q,I,M,F,V;const O=r.options,E=(M=(I=(Q=r.fetchOptions)==null?void 0:Q.meta)==null?void 0:I.fetchMore)==null?void 0:M.direction,y=((F=r.state.data)==null?void 0:F.pages)||[],S=((V=r.state.data)==null?void 0:V.pageParams)||[];let j={pages:[],pageParams:[]},w=0;const _=async()=>{let te=!1;const re=oe=>{Object.defineProperty(oe,"signal",{enumerable:!0,get:()=>(r.signal.aborted?te=!0:r.signal.addEventListener("abort",()=>{te=!0}),r.signal)})},se=ensureQueryFn(r.options,r.fetchOptions),ne=async(oe,Oe,ae)=>{if(te)return Promise.reject();if(Oe==null&&oe.pages.length)return Promise.resolve(oe);const je=(()=>{const Ue={client:r.client,queryKey:r.queryKey,pageParam:Oe,direction:ae?"backward":"forward",meta:r.options.meta};return re(Ue),Ue})(),Ae=await se(je),{maxPages:Qe}=r.options,Xe=ae?addToStart:addToEnd;return{pages:Xe(oe.pages,Ae,Qe),pageParams:Xe(oe.pageParams,Oe,Qe)}};if(E&&y.length){const oe=E==="backward",Oe=oe?getPreviousPageParam:getNextPageParam,ae={pages:y,pageParams:S},ge=Oe(O,ae);j=await ne(ae,ge,oe)}else{const oe=o??y.length;do{const Oe=w===0?S[0]??O.initialPageParam:getNextPageParam(O,j);if(w>0&&Oe==null)break;j=await ne(j,Oe),w++}while(w<oe)}return j};r.options.persister?r.fetchFn=()=>{var te,re;return(re=(te=r.options).persister)==null?void 0:re.call(te,_,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},x)}:r.fetchFn=_}}}function getNextPageParam(o,{pages:r,pageParams:x}){const O=r.length-1;return r.length>0?o.getNextPageParam(r[O],r,x[O],x):void 0}function getPreviousPageParam(o,{pages:r,pageParams:x}){var O;return r.length>0?(O=o.getPreviousPageParam)==null?void 0:O.call(o,r[0],r,x[0],x):void 0}var os,hr,ar,Br,fr,vr,ks,Mutation=(ks=class extends Removable{constructor(r){super();Dt(this,fr);Dt(this,os);Dt(this,hr);Dt(this,ar);Dt(this,Br);Qt(this,os,r.client),this.mutationId=r.mutationId,Qt(this,ar,r.mutationCache),Qt(this,hr,[]),this.state=r.state||getDefaultState(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){st(this,hr).includes(r)||(st(this,hr).push(r),this.clearGcTimeout(),st(this,ar).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Qt(this,hr,st(this,hr).filter(x=>x!==r)),this.scheduleGc(),st(this,ar).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){st(this,hr).length||(this.state.status==="pending"?this.scheduleGc():st(this,ar).remove(this))}continue(){var r;return((r=st(this,Br))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var S,j,w,_,Q,I,M,F,V,te,re,se,ne,oe,Oe,ae,ge,je,Ae,Qe;const x=()=>{Ft(this,fr,vr).call(this,{type:"continue"})},O={client:st(this,os),meta:this.options.meta,mutationKey:this.options.mutationKey};Qt(this,Br,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(r,O):Promise.reject(new Error("No mutationFn found")),onFail:(Xe,Ue)=>{Ft(this,fr,vr).call(this,{type:"failed",failureCount:Xe,error:Ue})},onPause:()=>{Ft(this,fr,vr).call(this,{type:"pause"})},onContinue:x,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>st(this,ar).canRun(this)}));const E=this.state.status==="pending",y=!st(this,Br).canStart();try{if(E)x();else{Ft(this,fr,vr).call(this,{type:"pending",variables:r,isPaused:y}),await((j=(S=st(this,ar).config).onMutate)==null?void 0:j.call(S,r,this,O));const Ue=await((_=(w=this.options).onMutate)==null?void 0:_.call(w,r,O));Ue!==this.state.context&&Ft(this,fr,vr).call(this,{type:"pending",context:Ue,variables:r,isPaused:y})}const Xe=await st(this,Br).start();return await((I=(Q=st(this,ar).config).onSuccess)==null?void 0:I.call(Q,Xe,r,this.state.context,this,O)),await((F=(M=this.options).onSuccess)==null?void 0:F.call(M,Xe,r,this.state.context,O)),await((te=(V=st(this,ar).config).onSettled)==null?void 0:te.call(V,Xe,null,this.state.variables,this.state.context,this,O)),await((se=(re=this.options).onSettled)==null?void 0:se.call(re,Xe,null,r,this.state.context,O)),Ft(this,fr,vr).call(this,{type:"success",data:Xe}),Xe}catch(Xe){try{throw await((oe=(ne=st(this,ar).config).onError)==null?void 0:oe.call(ne,Xe,r,this.state.context,this,O)),await((ae=(Oe=this.options).onError)==null?void 0:ae.call(Oe,Xe,r,this.state.context,O)),await((je=(ge=st(this,ar).config).onSettled)==null?void 0:je.call(ge,void 0,Xe,this.state.variables,this.state.context,this,O)),await((Qe=(Ae=this.options).onSettled)==null?void 0:Qe.call(Ae,void 0,Xe,r,this.state.context,O)),Xe}finally{Ft(this,fr,vr).call(this,{type:"error",error:Xe})}}finally{st(this,ar).runNext(this)}}},os=new WeakMap,hr=new WeakMap,ar=new WeakMap,Br=new WeakMap,fr=new WeakSet,vr=function(r){const x=O=>{switch(r.type){case"failed":return{...O,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...O,isPaused:!0};case"continue":return{...O,isPaused:!1};case"pending":return{...O,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...O,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...O,data:void 0,error:r.error,failureCount:O.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=x(this.state),notifyManager.batch(()=>{st(this,hr).forEach(O=>{O.onMutationUpdate(r)}),st(this,ar).notify({mutation:this,type:"updated",action:r})})},ks);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var br,mr,as,Qs,MutationCache=(Qs=class extends Subscribable{constructor(r={}){super();Dt(this,br);Dt(this,mr);Dt(this,as);this.config=r,Qt(this,br,new Set),Qt(this,mr,new Map),Qt(this,as,0)}build(r,x,O){const E=new Mutation({client:r,mutationCache:this,mutationId:++ls(this,as)._,options:r.defaultMutationOptions(x),state:O});return this.add(E),E}add(r){st(this,br).add(r);const x=scopeFor(r);if(typeof x=="string"){const O=st(this,mr).get(x);O?O.push(r):st(this,mr).set(x,[r])}this.notify({type:"added",mutation:r})}remove(r){if(st(this,br).delete(r)){const x=scopeFor(r);if(typeof x=="string"){const O=st(this,mr).get(x);if(O)if(O.length>1){const E=O.indexOf(r);E!==-1&&O.splice(E,1)}else O[0]===r&&st(this,mr).delete(x)}}this.notify({type:"removed",mutation:r})}canRun(r){const x=scopeFor(r);if(typeof x=="string"){const O=st(this,mr).get(x),E=O==null?void 0:O.find(y=>y.state.status==="pending");return!E||E===r}else return!0}runNext(r){var O;const x=scopeFor(r);if(typeof x=="string"){const E=(O=st(this,mr).get(x))==null?void 0:O.find(y=>y!==r&&y.state.isPaused);return(E==null?void 0:E.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{st(this,br).forEach(r=>{this.notify({type:"removed",mutation:r})}),st(this,br).clear(),st(this,mr).clear()})}getAll(){return Array.from(st(this,br))}find(r){const x={exact:!0,...r};return this.getAll().find(O=>matchMutation(x,O))}findAll(r={}){return this.getAll().filter(x=>matchMutation(r,x))}notify(r){notifyManager.batch(()=>{this.listeners.forEach(x=>{x(r)})})}resumePausedMutations(){const r=this.getAll().filter(x=>x.state.isPaused);return notifyManager.batch(()=>Promise.all(r.map(x=>x.continue().catch(noop$1))))}},br=new WeakMap,mr=new WeakMap,as=new WeakMap,Qs);function scopeFor(o){var r;return(r=o.options.scope)==null?void 0:r.id}var yr,Pr,cr,Sr,Rr,cs,Es,Is,MutationObserver$1=(Is=class extends Subscribable{constructor(x,O){super();Dt(this,Rr);Dt(this,yr);Dt(this,Pr);Dt(this,cr);Dt(this,Sr);Qt(this,yr,x),this.setOptions(O),this.bindMethods(),Ft(this,Rr,cs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(x){var E;const O=this.options;this.options=st(this,yr).defaultMutationOptions(x),shallowEqualObjects(this.options,O)||st(this,yr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:st(this,cr),observer:this}),O!=null&&O.mutationKey&&this.options.mutationKey&&hashKey(O.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((E=st(this,cr))==null?void 0:E.state.status)==="pending"&&st(this,cr).setOptions(this.options)}onUnsubscribe(){var x;this.hasListeners()||(x=st(this,cr))==null||x.removeObserver(this)}onMutationUpdate(x){Ft(this,Rr,cs).call(this),Ft(this,Rr,Es).call(this,x)}getCurrentResult(){return st(this,Pr)}reset(){var x;(x=st(this,cr))==null||x.removeObserver(this),Qt(this,cr,void 0),Ft(this,Rr,cs).call(this),Ft(this,Rr,Es).call(this)}mutate(x,O){var E;return Qt(this,Sr,O),(E=st(this,cr))==null||E.removeObserver(this),Qt(this,cr,st(this,yr).getMutationCache().build(st(this,yr),this.options)),st(this,cr).addObserver(this),st(this,cr).execute(x)}},yr=new WeakMap,Pr=new WeakMap,cr=new WeakMap,Sr=new WeakMap,Rr=new WeakSet,cs=function(){var O;const x=((O=st(this,cr))==null?void 0:O.state)??getDefaultState();Qt(this,Pr,{...x,isPending:x.status==="pending",isSuccess:x.status==="success",isError:x.status==="error",isIdle:x.status==="idle",mutate:this.mutate,reset:this.reset})},Es=function(x){notifyManager.batch(()=>{var O,E,y,S,j,w,_,Q;if(st(this,Sr)&&this.hasListeners()){const I=st(this,Pr).variables,M=st(this,Pr).context,F={client:st(this,yr),meta:this.options.meta,mutationKey:this.options.mutationKey};(x==null?void 0:x.type)==="success"?((E=(O=st(this,Sr)).onSuccess)==null||E.call(O,x.data,I,M,F),(S=(y=st(this,Sr)).onSettled)==null||S.call(y,x.data,null,I,M,F)):(x==null?void 0:x.type)==="error"&&((w=(j=st(this,Sr)).onError)==null||w.call(j,x.error,I,M,F),(Q=(_=st(this,Sr)).onSettled)==null||Q.call(_,void 0,x.error,I,M,F))}this.listeners.forEach(I=>{I(st(this,Pr))})})},Is),xr,Ds,QueryCache=(Ds=class extends Subscribable{constructor(r={}){super();Dt(this,xr);this.config=r,Qt(this,xr,new Map)}build(r,x,O){const E=x.queryKey,y=x.queryHash??hashQueryKeyByOptions(E,x);let S=this.get(y);return S||(S=new Query({client:r,queryKey:E,queryHash:y,options:r.defaultQueryOptions(x),state:O,defaultOptions:r.getQueryDefaults(E)}),this.add(S)),S}add(r){st(this,xr).has(r.queryHash)||(st(this,xr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const x=st(this,xr).get(r.queryHash);x&&(r.destroy(),x===r&&st(this,xr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return st(this,xr).get(r)}getAll(){return[...st(this,xr).values()]}find(r){const x={exact:!0,...r};return this.getAll().find(O=>matchQuery(x,O))}findAll(r={}){const x=this.getAll();return Object.keys(r).length>0?x.filter(O=>matchQuery(r,O)):x}notify(r){notifyManager.batch(()=>{this.listeners.forEach(x=>{x(r)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},xr=new WeakMap,Ds),tr,_r,Nr,Hr,Kr,Ar,Jr,es,Ms,QueryClient=(Ms=class{constructor(o={}){Dt(this,tr);Dt(this,_r);Dt(this,Nr);Dt(this,Hr);Dt(this,Kr);Dt(this,Ar);Dt(this,Jr);Dt(this,es);Qt(this,tr,o.queryCache||new QueryCache),Qt(this,_r,o.mutationCache||new MutationCache),Qt(this,Nr,o.defaultOptions||{}),Qt(this,Hr,new Map),Qt(this,Kr,new Map),Qt(this,Ar,0)}mount(){ls(this,Ar)._++,st(this,Ar)===1&&(Qt(this,Jr,focusManager.subscribe(async o=>{o&&(await this.resumePausedMutations(),st(this,tr).onFocus())})),Qt(this,es,onlineManager.subscribe(async o=>{o&&(await this.resumePausedMutations(),st(this,tr).onOnline())})))}unmount(){var o,r;ls(this,Ar)._--,st(this,Ar)===0&&((o=st(this,Jr))==null||o.call(this),Qt(this,Jr,void 0),(r=st(this,es))==null||r.call(this),Qt(this,es,void 0))}isFetching(o){return st(this,tr).findAll({...o,fetchStatus:"fetching"}).length}isMutating(o){return st(this,_r).findAll({...o,status:"pending"}).length}getQueryData(o){var x;const r=this.defaultQueryOptions({queryKey:o});return(x=st(this,tr).get(r.queryHash))==null?void 0:x.state.data}ensureQueryData(o){const r=this.defaultQueryOptions(o),x=st(this,tr).build(this,r),O=x.state.data;return O===void 0?this.fetchQuery(o):(o.revalidateIfStale&&x.isStaleByTime(resolveStaleTime(r.staleTime,x))&&this.prefetchQuery(r),Promise.resolve(O))}getQueriesData(o){return st(this,tr).findAll(o).map(({queryKey:r,state:x})=>{const O=x.data;return[r,O]})}setQueryData(o,r,x){const O=this.defaultQueryOptions({queryKey:o}),E=st(this,tr).get(O.queryHash),y=E==null?void 0:E.state.data,S=functionalUpdate(r,y);if(S!==void 0)return st(this,tr).build(this,O).setData(S,{...x,manual:!0})}setQueriesData(o,r,x){return notifyManager.batch(()=>st(this,tr).findAll(o).map(({queryKey:O})=>[O,this.setQueryData(O,r,x)]))}getQueryState(o){var x;const r=this.defaultQueryOptions({queryKey:o});return(x=st(this,tr).get(r.queryHash))==null?void 0:x.state}removeQueries(o){const r=st(this,tr);notifyManager.batch(()=>{r.findAll(o).forEach(x=>{r.remove(x)})})}resetQueries(o,r){const x=st(this,tr);return notifyManager.batch(()=>(x.findAll(o).forEach(O=>{O.reset()}),this.refetchQueries({type:"active",...o},r)))}cancelQueries(o,r={}){const x={revert:!0,...r},O=notifyManager.batch(()=>st(this,tr).findAll(o).map(E=>E.cancel(x)));return Promise.all(O).then(noop$1).catch(noop$1)}invalidateQueries(o,r={}){return notifyManager.batch(()=>(st(this,tr).findAll(o).forEach(x=>{x.invalidate()}),(o==null?void 0:o.refetchType)==="none"?Promise.resolve():this.refetchQueries({...o,type:(o==null?void 0:o.refetchType)??(o==null?void 0:o.type)??"active"},r)))}refetchQueries(o,r={}){const x={...r,cancelRefetch:r.cancelRefetch??!0},O=notifyManager.batch(()=>st(this,tr).findAll(o).filter(E=>!E.isDisabled()&&!E.isStatic()).map(E=>{let y=E.fetch(void 0,x);return x.throwOnError||(y=y.catch(noop$1)),E.state.fetchStatus==="paused"?Promise.resolve():y}));return Promise.all(O).then(noop$1)}fetchQuery(o){const r=this.defaultQueryOptions(o);r.retry===void 0&&(r.retry=!1);const x=st(this,tr).build(this,r);return x.isStaleByTime(resolveStaleTime(r.staleTime,x))?x.fetch(r):Promise.resolve(x.state.data)}prefetchQuery(o){return this.fetchQuery(o).then(noop$1).catch(noop$1)}fetchInfiniteQuery(o){return o.behavior=infiniteQueryBehavior(o.pages),this.fetchQuery(o)}prefetchInfiniteQuery(o){return this.fetchInfiniteQuery(o).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(o){return o.behavior=infiniteQueryBehavior(o.pages),this.ensureQueryData(o)}resumePausedMutations(){return onlineManager.isOnline()?st(this,_r).resumePausedMutations():Promise.resolve()}getQueryCache(){return st(this,tr)}getMutationCache(){return st(this,_r)}getDefaultOptions(){return st(this,Nr)}setDefaultOptions(o){Qt(this,Nr,o)}setQueryDefaults(o,r){st(this,Hr).set(hashKey(o),{queryKey:o,defaultOptions:r})}getQueryDefaults(o){const r=[...st(this,Hr).values()],x={};return r.forEach(O=>{partialMatchKey(o,O.queryKey)&&Object.assign(x,O.defaultOptions)}),x}setMutationDefaults(o,r){st(this,Kr).set(hashKey(o),{mutationKey:o,defaultOptions:r})}getMutationDefaults(o){const r=[...st(this,Kr).values()],x={};return r.forEach(O=>{partialMatchKey(o,O.mutationKey)&&Object.assign(x,O.defaultOptions)}),x}defaultQueryOptions(o){if(o._defaulted)return o;const r={...st(this,Nr).queries,...this.getQueryDefaults(o.queryKey),...o,_defaulted:!0};return r.queryHash||(r.queryHash=hashQueryKeyByOptions(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===skipToken&&(r.enabled=!1),r}defaultMutationOptions(o){return o!=null&&o._defaulted?o:{...st(this,Nr).mutations,...(o==null?void 0:o.mutationKey)&&this.getMutationDefaults(o.mutationKey),...o,_defaulted:!0}}clear(){st(this,tr).clear(),st(this,_r).clear()}},tr=new WeakMap,_r=new WeakMap,Nr=new WeakMap,Hr=new WeakMap,Kr=new WeakMap,Ar=new WeakMap,Jr=new WeakMap,es=new WeakMap,Ms),QueryClientContext=reactExports.createContext(void 0),useQueryClient=o=>{const r=reactExports.useContext(QueryClientContext);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},QueryClientProvider=({client:o,children:r})=>(reactExports.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:o,children:r})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let o=!1;return{clearReset:()=>{o=!1},reset:()=>{o=!0},isReset:()=>o}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(o,r)=>{(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&(r.isReset()||(o.retryOnMount=!1))},useClearResetErrorBoundary=o=>{reactExports.useEffect(()=>{o.clearReset()},[o])},getHasError=({result:o,errorResetBoundary:r,throwOnError:x,query:O,suspense:E})=>o.isError&&!r.isReset()&&!o.isFetching&&O&&(E&&o.data===void 0||shouldThrowError(x,[o.error,O])),ensureSuspenseTimers=o=>{if(o.suspense){const x=E=>E==="static"?E:Math.max(E??1e3,1e3),O=o.staleTime;o.staleTime=typeof O=="function"?(...E)=>x(O(...E)):x(O),typeof o.gcTime=="number"&&(o.gcTime=Math.max(o.gcTime,1e3))}},willFetch=(o,r)=>o.isLoading&&o.isFetching&&!r,shouldSuspend=(o,r)=>(o==null?void 0:o.suspense)&&r.isPending,fetchOptimistic=(o,r,x)=>r.fetchOptimistic(o).catch(()=>{x.clearReset()});function useBaseQuery(o,r,x){var I,M,F,V,te;const O=useIsRestoring(),E=useQueryErrorResetBoundary(),y=useQueryClient(),S=y.defaultQueryOptions(o);(M=(I=y.getDefaultOptions().queries)==null?void 0:I._experimental_beforeQuery)==null||M.call(I,S),S._optimisticResults=O?"isRestoring":"optimistic",ensureSuspenseTimers(S),ensurePreventErrorBoundaryRetry(S,E),useClearResetErrorBoundary(E);const j=!y.getQueryCache().get(S.queryHash),[w]=reactExports.useState(()=>new r(y,S)),_=w.getOptimisticResult(S),Q=!O&&o.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(re=>{const se=Q?w.subscribe(notifyManager.batchCalls(re)):noop$1;return w.updateResult(),se},[w,Q]),()=>w.getCurrentResult(),()=>w.getCurrentResult()),reactExports.useEffect(()=>{w.setOptions(S)},[S,w]),shouldSuspend(S,_))throw fetchOptimistic(S,w,E);if(getHasError({result:_,errorResetBoundary:E,throwOnError:S.throwOnError,query:y.getQueryCache().get(S.queryHash),suspense:S.suspense}))throw _.error;if((V=(F=y.getDefaultOptions().queries)==null?void 0:F._experimental_afterQuery)==null||V.call(F,S,_),S.experimental_prefetchInRender&&!isServer&&willFetch(_,O)){const re=j?fetchOptimistic(S,w,E):(te=y.getQueryCache().get(S.queryHash))==null?void 0:te.promise;re==null||re.catch(noop$1).finally(()=>{w.updateResult()})}return S.notifyOnChangeProps?_:w.trackResult(_)}function useQuery(o,r){return useBaseQuery(o,QueryObserver)}function useMutation(o,r){const x=useQueryClient(),[O]=reactExports.useState(()=>new MutationObserver$1(x,o));reactExports.useEffect(()=>{O.setOptions(o)},[O,o]);const E=reactExports.useSyncExternalStore(reactExports.useCallback(S=>O.subscribe(notifyManager.batchCalls(S)),[O]),()=>O.getCurrentResult(),()=>O.getCurrentResult()),y=reactExports.useCallback((S,j)=>{O.mutate(S,j).catch(noop$1)},[O]);if(E.error&&shouldThrowError(O.options.throwOnError,[E.error]))throw E.error;return{...E,mutate:y,mutateAsync:E.mutate}}const Card=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("rounded-lg border border-border bg-card text-card-foreground shadow-sm transition-shadow hover:shadow-md",o),...r}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("flex flex-col space-y-1.5 p-6",o),...r}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("h3",{ref:x,className:cn("text-2xl font-semibold leading-none tracking-tight",o),...r}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("p",{ref:x,className:cn("text-sm text-muted-foreground",o),...r}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("p-6 pt-0",o),...r}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("flex items-center p-6 pt-0",o),...r}));CardFooter.displayName="CardFooter";function DateDisplay({date:o,showIcon:r=!0,className:x=""}){return jsxRuntimeExports.jsxs("div",{className:`flex items-center text-sm text-muted-foreground ${x}`,children:[r&&jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3 mr-1"}),o]})}function TagList({tags:o,maxVisible:r=2,showIcon:x=!0,variant:O="secondary",className:E="",size:y="default"}){if(!o||o.length===0)return null;const S=o.slice(0,r),j=o.length-r,w={sm:"text-xs px-2 py-0.5 rounded-full",default:"text-xs px-2.5 py-0.5 rounded-full",lg:"text-sm px-3 py-1 rounded-full"},_={sm:"h-2.5 w-2.5",default:"h-3 w-3",lg:"h-3.5 w-3.5"};return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 flex-wrap ${E}`,children:[x&&jsxRuntimeExports.jsx(Tag$1,{className:_[y]}),S.map(Q=>jsxRuntimeExports.jsx(Badge,{variant:O,className:`${w[y]} whitespace-nowrap bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200`,children:Q},Q)),j>0&&jsxRuntimeExports.jsxs("span",{className:`${w[y]} text-muted-foreground`,children:["+",j]})]})}const formatDate$2=(o,r="ko")=>{const x=new Date(o),O=r==="en"?"en-US":"ko-KR";return x.toLocaleDateString(O,{year:"numeric",month:"long",day:"numeric"})},getFallbackLanguage=o=>o.defaultLanguage??"ko",resolveLocalizedPost=(o,r)=>{var y;const x=getFallbackLanguage(o),O={title:o.title,description:o.description,excerpt:o.excerpt,content:o.content};if(r===x)return O;const E=(y=o.translations)==null?void 0:y[r];return E?{title:E.title||O.title,description:E.description||O.description,excerpt:E.excerpt||O.excerpt,content:E.content||O.content}:O},parseDescriptionMarkdown=o=>o?o.replace(/!\[([^\]]*)\]\([^)]*\)/g,"").replace(/!\[[^\]]*\]/g,"").replace(/\(\/images\/[^)]+\)/g,"").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/__([^_]+)__/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/_([^_]+)_/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1 py-0.5 rounded text-sm">$1</code>').replace(/^#{1,6}\s+(.+)$/gm,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-primary hover:underline">$1</a>').replace(/\s{2,}/g," ").trim():"",stripMarkdown=(o,r=150)=>{if(!o)return"";let x=o.replace(/!\[.*?\]\(.*?\)/g,"").replace(/!\[.*?\]\[.*?\]/g,"").replace(/\[([^\]]*)\]\([^)]*\)/g,"$1").replace(/\[([^\]]*)\]\[[^\]]*\]/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`([^`]+)`/g,"$1").replace(/^#{1,6}\s+/gm,"").replace(/\*\*\*(.+?)\*\*\*/g,"$1").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/___(.+?)___/g,"$1").replace(/__(.+?)__/g,"$1").replace(/_(.+?)_/g,"$1").replace(/~~(.+?)~~/g,"$1").replace(/^>\s?/gm,"").replace(/^[-*_]{3,}\s*$/gm,"").replace(/^[\s]*[-*+]\s+/gm,"").replace(/^[\s]*\d+\.\s+/gm,"").replace(/<[^>]*>/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim();return x.length>r&&(x=`${x.slice(0,r).trim()}...`),x},BlogCard=reactExports.memo(({post:o})=>{const r=useLocation(),{language:x}=useLanguage(),O=reactExports.useMemo(()=>resolveLocalizedPost(o,x),[x,o]),E=r.search,y={pathname:r.pathname,search:E},S=`/blog/${o.year}/${o.slug}`,j=reactExports.useMemo(()=>{const I=O.excerpt||O.description||"";return stripMarkdown(I,150)},[O.excerpt,O.description]),w=reactExports.useMemo(()=>{const I=o.readingTime||(o.readTime?`${o.readTime} min read`:"");if(!I)return"";const M=I.match(/(\d+)/);if(x==="ko"){const F=M?M[1]:"";return F?`${F}분 읽기`:I.includes("분")?I:I.replace("min read","분 읽기")}if(I.includes("분")){const F=M?M[1]:"";if(F)return`${F} min read`}return I},[x,o.readTime,o.readingTime]),_=x==="ko"?"더 읽기":"Read more",Q=formatDate$2(o.date,x);return jsxRuntimeExports.jsxs(Card,{className:"h-full flex flex-col hover:shadow-lg transition-all duration-300 group border-border/50 hover:border-border",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video overflow-hidden bg-muted/40",children:o.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:o.coverImage,alt:O.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-muted to-muted/50",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-muted-foreground/50",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),jsxRuntimeExports.jsxs(CardHeader,{className:"pb-0 px-6 pt-6 md:px-8 md:pt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-2 mb-3",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:o.category}),jsxRuntimeExports.jsx(DateDisplay,{date:Q})]}),jsxRuntimeExports.jsx(CardTitle,{className:"line-clamp-2 group-hover:text-primary transition-colors leading-tight font-extrabold",children:jsxRuntimeExports.jsx(Link,{to:{pathname:S,search:E||void 0},state:{from:y},className:"hover:underline",onMouseEnter:()=>prefetchPost(o.year,o.slug),onFocus:()=>prefetchPost(o.year,o.slug),children:O.title})})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex-1 pt-3 px-6 md:px-8",children:jsxRuntimeExports.jsx(CardDescription,{className:"line-clamp-3 text-sm leading-relaxed text-slate-600 dark:text-slate-400",children:j})}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex flex-col gap-3 pt-3 px-6 pb-6 md:px-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full text-xs text-muted-foreground",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[(o.readingTime||o.readTime)&&w&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:w})]}),o.author&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:o.author})]})]})}),o.tags&&o.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(TagList,{tags:o.tags,maxVisible:3,size:"sm",showIcon:!1,variant:"secondary"})}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"ghost",className:"w-full group/button mt-2",children:jsxRuntimeExports.jsxs(Link,{to:{pathname:S,search:E||void 0},state:{from:y},onMouseEnter:()=>prefetchPost(o.year,o.slug),onFocus:()=>prefetchPost(o.year,o.slug),children:[_,jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-4 w-4 transition-transform group-hover/button:translate-x-1"})]})})]})]})});BlogCard.displayName="BlogCard";function Skeleton({className:o,...r}){return jsxRuntimeExports.jsx("div",{className:cn("animate-pulse rounded-md bg-muted/80 dark:bg-muted/50",o),...r})}const BlogCardSkeleton=()=>jsxRuntimeExports.jsxs(Card,{className:"h-full flex flex-col border-border/50",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video overflow-hidden bg-muted/40",children:jsxRuntimeExports.jsx(Skeleton,{className:"w-full h-full rounded-none"})}),jsxRuntimeExports.jsxs(CardHeader,{className:"pb-0 px-6 pt-6 md:px-8 md:pt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-2 mb-3",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-5 w-16"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-24"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-full mb-2"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-3/4"})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex-1 pt-3 px-6 md:px-8",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-2/3"})]})}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex flex-col gap-3 pt-3 px-6 pb-6 md:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 w-full",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-3 w-20"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-3 w-16"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 w-full",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-14"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-18"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-12"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-full mt-2"})]})]}),atomOneDark={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#abb2bf",background:"#282c34"},"hljs-comment":{color:"#5c6370",fontStyle:"italic"},"hljs-quote":{color:"#5c6370",fontStyle:"italic"},"hljs-doctag":{color:"#c678dd"},"hljs-keyword":{color:"#c678dd"},"hljs-formula":{color:"#c678dd"},"hljs-section":{color:"#e06c75"},"hljs-name":{color:"#e06c75"},"hljs-selector-tag":{color:"#e06c75"},"hljs-deletion":{color:"#e06c75"},"hljs-subst":{color:"#e06c75"},"hljs-literal":{color:"#56b6c2"},"hljs-string":{color:"#98c379"},"hljs-regexp":{color:"#98c379"},"hljs-addition":{color:"#98c379"},"hljs-attribute":{color:"#98c379"},"hljs-meta-string":{color:"#98c379"},"hljs-built_in":{color:"#e6c07b"},"hljs-class .hljs-title":{color:"#e6c07b"},"hljs-attr":{color:"#d19a66"},"hljs-variable":{color:"#d19a66"},"hljs-template-variable":{color:"#d19a66"},"hljs-type":{color:"#d19a66"},"hljs-selector-class":{color:"#d19a66"},"hljs-selector-attr":{color:"#d19a66"},"hljs-selector-pseudo":{color:"#d19a66"},"hljs-number":{color:"#d19a66"},"hljs-symbol":{color:"#61aeee"},"hljs-bullet":{color:"#61aeee"},"hljs-link":{color:"#61aeee",textDecoration:"underline"},"hljs-meta":{color:"#61aeee"},"hljs-selector-id":{color:"#61aeee"},"hljs-title":{color:"#61aeee"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}},search=/[#.]/g;function parseSelector(o,r){const x=o||"",O={};let E=0,y,S;for(;E<x.length;){search.lastIndex=E;const j=search.exec(x),w=x.slice(E,j?j.index:x.length);w&&(y?y==="#"?O.id=w:Array.isArray(O.className)?O.className.push(w):O.className=[w]:S=w,E+=w.length),j&&(y=j[0],E++)}return{type:"element",tagName:S||r||"div",properties:O,children:[]}}function createH(o,r,x){const O=x?createAdjustMap(x):void 0;function E(y,S,...j){let w;if(y==null){w={type:"root",children:[]};const _=S;j.unshift(_)}else{w=parseSelector(y,r);const _=w.tagName.toLowerCase(),Q=O?O.get(_):void 0;if(w.tagName=Q||_,isChild(S))j.unshift(S);else for(const[I,M]of Object.entries(S))addProperty(o,w.properties,I,M)}for(const _ of j)addChild(w.children,_);return w.type==="element"&&w.tagName==="template"&&(w.content={type:"root",children:w.children},w.children=[]),w}return E}function isChild(o){if(o===null||typeof o!="object"||Array.isArray(o))return!0;if(typeof o.type!="string")return!1;const r=o,x=Object.keys(o);for(const O of x){const E=r[O];if(E&&typeof E=="object"){if(!Array.isArray(E))return!0;const y=E;for(const S of y)if(typeof S!="number"&&typeof S!="string")return!0}}return!!("children"in o&&Array.isArray(o.children))}function addProperty(o,r,x,O){const E=find$2(o,x);let y;if(O!=null){if(typeof O=="number"){if(Number.isNaN(O))return;y=O}else typeof O=="boolean"?y=O:typeof O=="string"?E.spaceSeparated?y=parse$3(O):E.commaSeparated?y=parse$4(O):E.commaOrSpaceSeparated?y=parse$3(parse$4(O).join(" ")):y=parsePrimitive(E,E.property,O):Array.isArray(O)?y=[...O]:y=E.property==="style"?style(O):String(O);if(Array.isArray(y)){const S=[];for(const j of y)S.push(parsePrimitive(E,E.property,j));y=S}E.property==="className"&&Array.isArray(r.className)&&(y=r.className.concat(y)),r[E.property]=y}}function addChild(o,r){if(r!=null)if(typeof r=="number"||typeof r=="string")o.push({type:"text",value:String(r)});else if(Array.isArray(r))for(const x of r)addChild(o,x);else if(typeof r=="object"&&"type"in r)r.type==="root"?addChild(o,r.children):o.push(r);else throw new Error("Expected node, nodes, or string, got `"+r+"`")}function parsePrimitive(o,r,x){if(typeof x=="string"){if(o.number&&x&&!Number.isNaN(Number(x)))return Number(x);if((o.boolean||o.overloadedBoolean)&&(x===""||normalize$1(x)===normalize$1(r)))return!0}return x}function style(o){const r=[];for(const[x,O]of Object.entries(o))r.push([x,O].join(": "));return r.join("; ")}function createAdjustMap(o){const r=new Map;for(const x of o)r.set(x.toLowerCase(),x);return r}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h$1=createH(html$2,"div"),s=createH(svg$3,"g",svgCaseSensitiveTagNames);function location(o){const r=String(o),x=[];return{toOffset:E,toPoint:O};function O(y){if(typeof y=="number"&&y>-1&&y<=r.length){let S=0;for(;;){let j=x[S];if(j===void 0){const w=next(r,x[S-1]);j=w===-1?r.length+1:w+1,x[S]=j}if(j>y)return{line:S+1,column:y-(S>0?x[S-1]:0)+1,offset:y};S++}}}function E(y){if(y&&typeof y.line=="number"&&typeof y.column=="number"&&!Number.isNaN(y.line)&&!Number.isNaN(y.column)){for(;x.length<y.line;){const j=x[x.length-1],w=next(r,j),_=w===-1?r.length+1:w+1;if(j===_)break;x.push(_)}const S=(y.line>1?x[y.line-2]:0)+y.column-1;if(S<x[y.line-1])return S}}}function next(o,r){const x=o.indexOf("\r",r),O=o.indexOf(`
`,r);return O===-1?x:x===-1||x+1===O?O:x<O?x:O}const webNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},own$2={}.hasOwnProperty,proto=Object.prototype;function fromParse5(o,r){const x=r||{};return one$1({file:x.file||void 0,location:!1,schema:x.space==="svg"?svg$3:html$2,verbose:x.verbose||!1},o)}function one$1(o,r){let x;switch(r.nodeName){case"#comment":{const O=r;return x={type:"comment",value:O.data},patch$1(o,O,x),x}case"#document":case"#document-fragment":{const O=r,E="mode"in O?O.mode==="quirks"||O.mode==="limited-quirks":!1;if(x={type:"root",children:all$2(o,r.childNodes),data:{quirksMode:E}},o.file&&o.location){const y=String(o.file),S=location(y),j=S.toPoint(0),w=S.toPoint(y.length);x.position={start:j,end:w}}return x}case"#documentType":{const O=r;return x={type:"doctype"},patch$1(o,O,x),x}case"#text":{const O=r;return x={type:"text",value:O.value},patch$1(o,O,x),x}default:return x=element$2(o,r),x}}function all$2(o,r){let x=-1;const O=[];for(;++x<r.length;){const E=one$1(o,r[x]);O.push(E)}return O}function element$2(o,r){const x=o.schema;o.schema=r.namespaceURI===webNamespaces.svg?svg$3:html$2;let O=-1;const E={};for(;++O<r.attrs.length;){const j=r.attrs[O],w=(j.prefix?j.prefix+":":"")+j.name;own$2.call(proto,w)||(E[w]=j.value)}const S=(o.schema.space==="svg"?s:h$1)(r.tagName,E,all$2(o,r.childNodes));if(patch$1(o,r,S),S.tagName==="template"){const j=r,w=j.sourceCodeLocation,_=w&&w.startTag&&position(w.startTag),Q=w&&w.endTag&&position(w.endTag),I=one$1(o,j.content);_&&Q&&o.file&&(I.position={start:_.end,end:Q.start}),S.content=I}return o.schema=x,S}function patch$1(o,r,x){if("sourceCodeLocation"in r&&r.sourceCodeLocation&&o.file){const O=createLocation(o,x,r.sourceCodeLocation);O&&(o.location=!0,x.position=O)}}function createLocation(o,r,x){const O=position(x);if(r.type==="element"){const E=r.children[r.children.length-1];if(O&&!x.endTag&&E&&E.position&&E.position.end&&(O.end=Object.assign({},E.position.end)),o.verbose){const y={};let S;if(x.attrs)for(S in x.attrs)own$2.call(x.attrs,S)&&(y[find$2(o.schema,S).property]=position(x.attrs[S]));ok(x.startTag);const j=position(x.startTag),w=x.endTag?position(x.endTag):void 0,_={opening:j};w&&(_.closing=w),_.properties=y,r.data={position:_}}}return O}function position(o){const r=point({line:o.startLine,column:o.startCol,offset:o.startOffset}),x=point({line:o.endLine,column:o.endCol,offset:o.endOffset});return r||x?{start:r,end:x}:void 0}function point(o){return o.line&&o.column?o:void 0}class Schema{constructor(r,x,O){this.property=r,this.normal=x,O&&(this.space=O)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(o,r){const x={},O={};let E=-1;for(;++E<o.length;)Object.assign(x,o[E].property),Object.assign(O,o[E].normal);return new Schema(x,O,r)}function normalize(o){return o.toLowerCase()}class Info{constructor(r,x){this.property=r,this.attribute=x}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number$1=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types$1=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number:number$1,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types$1);class DefinedInfo extends Info{constructor(r,x,O,E){let y=-1;if(super(r,x),mark(this,"space",E),typeof O=="number")for(;++y<checks.length;){const S=checks[y];mark(this,checks[y],(O&types$1[S])===types$1[S])}}}DefinedInfo.prototype.defined=!0;function mark(o,r,x){x&&(o[r]=x)}const own$1={}.hasOwnProperty;function create(o){const r={},x={};let O;for(O in o.properties)if(own$1.call(o.properties,O)){const E=o.properties[O],y=new DefinedInfo(O,o.transform(o.attributes||{},O),E,o.space);o.mustUseProperty&&o.mustUseProperty.includes(O)&&(y.mustUseProperty=!0),r[O]=y,x[normalize(O)]=O,x[normalize(y.attribute)]=O}return new Schema(r,x,o.space)}const xlink=create({space:"xlink",transform(o,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(o,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(o,r){return r in o?o[r]:r}function caseInsensitiveTransform(o,r){return caseSensitiveTransform(o,r.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(o,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number$1,ariaColIndex:number$1,ariaColSpan:number$1,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number$1,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number$1,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number$1,ariaRowIndex:number$1,ariaRowSpan:number$1,ariaSelected:booleanish,ariaSetSize:number$1,ariaSort:null,ariaValueMax:number$1,ariaValueMin:number$1,ariaValueNow:number$1,ariaValueText:null,role:null}}),html$1=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number$1,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number$1|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number$1,hidden:boolean,high:number$1,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number$1,manifest:null,max:null,maxLength:number$1,media:null,method:null,min:null,minLength:number$1,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number$1,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number$1,rowSpan:number$1,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number$1,sizes:null,slot:null,span:number$1,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$1,step:null,style:null,tabIndex:number$1,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number$1,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number$1,borderColor:null,bottomMargin:number$1,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number$1,leftMargin:number$1,link:null,longDesc:null,lowSrc:null,marginHeight:number$1,marginWidth:number$1,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number$1,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number$1,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$1,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number$1,security:null,unselectable:null}}),svg$2=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number$1,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$1,amplitude:number$1,arabicForm:null,ascent:number$1,attributeName:null,attributeType:null,azimuth:number$1,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$1,by:null,calcMode:null,capHeight:number$1,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$1,diffuseConstant:number$1,direction:null,display:null,dur:null,divisor:number$1,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$1,enableBackground:null,end:null,event:null,exponent:number$1,externalResourcesRequired:null,fill:null,fillOpacity:number$1,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$1,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$1,horizOriginX:number$1,horizOriginY:number$1,id:null,ideographic:number$1,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$1,k:number$1,k1:number$1,k2:number$1,k3:number$1,k4:number$1,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$1,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$1,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$1,overlineThickness:number$1,paintOrder:null,panose1:null,path:null,pathLength:number$1,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$1,pointsAtY:number$1,pointsAtZ:number$1,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$1,specularExponent:number$1,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$1,strikethroughThickness:number$1,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$1,strokeOpacity:number$1,strokeWidth:null,style:null,surfaceScale:number$1,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number$1,tableValues:null,target:null,targetX:number$1,targetY:number$1,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$1,underlineThickness:number$1,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$1,values:null,vAlphabetic:number$1,vMathematical:number$1,vectorEffect:null,vHanging:number$1,vIdeographic:number$1,version:null,vertAdvY:number$1,vertOriginX:number$1,vertOriginY:number$1,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$1,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find$1(o,r){const x=normalize(r);let O=r,E=Info;if(x in o.normal)return o.property[o.normal[x]];if(x.length>4&&x.slice(0,4)==="data"&&valid.test(r)){if(r.charAt(4)==="-"){const y=r.slice(5).replace(dash,camelcase);O="data"+y.charAt(0).toUpperCase()+y.slice(1)}else{const y=r.slice(4);if(!dash.test(y)){let S=y.replace(cap,kebab);S.charAt(0)!=="-"&&(S="-"+S),r="data"+S}}E=DefinedInfo}return new E(O,r)}function kebab(o){return"-"+o.toLowerCase()}function camelcase(o){return o.charAt(1).toUpperCase()}const html=merge([xml,xlink,xmlns,aria,html$1],"html"),svg$1=merge([xml,xlink,xmlns,aria,svg$2],"svg"),emptyOptions={},own={}.hasOwnProperty,one=zwitch("type",{handlers:{root:root$6,element:element$1,text:text$1,comment:comment$2,doctype:doctype$1}});function toParse5(o,r){const O=(r||emptyOptions).space;return one(o,O==="svg"?svg$1:html)}function root$6(o,r){const x={nodeName:"#document",mode:(o.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return x.childNodes=all$1(o.children,x,r),patch(o,x),x}function fragment(o,r){const x={nodeName:"#document-fragment",childNodes:[]};return x.childNodes=all$1(o.children,x,r),patch(o,x),x}function doctype$1(o){const r={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return patch(o,r),r}function text$1(o){const r={nodeName:"#text",value:o.value,parentNode:null};return patch(o,r),r}function comment$2(o){const r={nodeName:"#comment",data:o.value,parentNode:null};return patch(o,r),r}function element$1(o,r){const x=r;let O=x;o.type==="element"&&o.tagName.toLowerCase()==="svg"&&x.space==="html"&&(O=svg$1);const E=[];let y;if(o.properties){for(y in o.properties)if(y!=="children"&&own.call(o.properties,y)){const w=createProperty(O,y,o.properties[y]);w&&E.push(w)}}const S=O.space,j={nodeName:o.tagName,tagName:o.tagName,attrs:E,namespaceURI:webNamespaces[S],childNodes:[],parentNode:null};return j.childNodes=all$1(o.children,j,O),patch(o,j),o.tagName==="template"&&o.content&&(j.content=fragment(o.content,O)),j}function createProperty(o,r,x){const O=find$1(o,r);if(x===!1||x===null||x===void 0||typeof x=="number"&&Number.isNaN(x)||!x&&O.boolean)return;Array.isArray(x)&&(x=O.commaSeparated?stringify$3(x):stringify$4(x));const E={name:O.attribute,value:x===!0?"":String(x)};if(O.space&&O.space!=="html"&&O.space!=="svg"){const y=E.name.indexOf(":");y<0?E.prefix="":(E.name=E.name.slice(y+1),E.prefix=O.attribute.slice(0,y)),E.namespace=webNamespaces[O.space]}return E}function all$1(o,r,x){let O=-1;const E=[];if(o)for(;++O<o.length;){const y=one(o[O],x);y.parentNode=r,E.push(y)}return E}function patch(o,r){const x=o.position;x&&x.start&&x.end&&(ok(typeof x.start.offset=="number"),ok(typeof x.end.offset=="number"),r.sourceCodeLocation={startLine:x.start.line,startCol:x.start.column,startOffset:x.start.offset,endLine:x.end.line,endCol:x.end.column,endOffset:x.end.offset})}const htmlVoidElements=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="�";var CODE_POINTS;(function(o){o[o.EOF=-1]="EOF",o[o.NULL=0]="NULL",o[o.TABULATION=9]="TABULATION",o[o.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",o[o.LINE_FEED=10]="LINE_FEED",o[o.FORM_FEED=12]="FORM_FEED",o[o.SPACE=32]="SPACE",o[o.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",o[o.QUOTATION_MARK=34]="QUOTATION_MARK",o[o.AMPERSAND=38]="AMPERSAND",o[o.APOSTROPHE=39]="APOSTROPHE",o[o.HYPHEN_MINUS=45]="HYPHEN_MINUS",o[o.SOLIDUS=47]="SOLIDUS",o[o.DIGIT_0=48]="DIGIT_0",o[o.DIGIT_9=57]="DIGIT_9",o[o.SEMICOLON=59]="SEMICOLON",o[o.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",o[o.EQUALS_SIGN=61]="EQUALS_SIGN",o[o.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",o[o.QUESTION_MARK=63]="QUESTION_MARK",o[o.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",o[o.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",o[o.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",o[o.GRAVE_ACCENT=96]="GRAVE_ACCENT",o[o.LATIN_SMALL_A=97]="LATIN_SMALL_A",o[o.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(o){return o>=55296&&o<=57343}function isSurrogatePair(o){return o>=56320&&o<=57343}function getSurrogatePairCodePoint(o,r){return(o-55296)*1024+9216+r}function isControlCodePoint(o){return o!==32&&o!==10&&o!==13&&o!==9&&o!==12&&o>=1&&o<=31||o>=127&&o<=159}function isUndefinedCodePoint(o){return o>=64976&&o<=65007||UNDEFINED_CODE_POINTS.has(o)}var ERR;(function(o){o.controlCharacterInInputStream="control-character-in-input-stream",o.noncharacterInInputStream="noncharacter-in-input-stream",o.surrogateInInputStream="surrogate-in-input-stream",o.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",o.endTagWithAttributes="end-tag-with-attributes",o.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",o.unexpectedSolidusInTag="unexpected-solidus-in-tag",o.unexpectedNullCharacter="unexpected-null-character",o.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",o.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",o.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",o.missingEndTagName="missing-end-tag-name",o.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",o.unknownNamedCharacterReference="unknown-named-character-reference",o.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",o.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",o.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",o.eofBeforeTagName="eof-before-tag-name",o.eofInTag="eof-in-tag",o.missingAttributeValue="missing-attribute-value",o.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",o.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",o.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",o.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",o.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",o.missingDoctypePublicIdentifier="missing-doctype-public-identifier",o.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",o.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",o.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",o.cdataInHtmlContent="cdata-in-html-content",o.incorrectlyOpenedComment="incorrectly-opened-comment",o.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",o.eofInDoctype="eof-in-doctype",o.nestedComment="nested-comment",o.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",o.eofInComment="eof-in-comment",o.incorrectlyClosedComment="incorrectly-closed-comment",o.eofInCdata="eof-in-cdata",o.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",o.nullCharacterReference="null-character-reference",o.surrogateCharacterReference="surrogate-character-reference",o.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",o.controlCharacterReference="control-character-reference",o.noncharacterCharacterReference="noncharacter-character-reference",o.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",o.missingDoctypeName="missing-doctype-name",o.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",o.duplicateAttribute="duplicate-attribute",o.nonConformingDoctype="non-conforming-doctype",o.missingDoctype="missing-doctype",o.misplacedDoctype="misplaced-doctype",o.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",o.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",o.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",o.openElementsLeftAfterEof="open-elements-left-after-eof",o.abandonedHeadElementChild="abandoned-head-element-child",o.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",o.nestedNoscriptInHead="nested-noscript-in-head",o.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(r){this.handler=r,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(r,x){const{line:O,col:E,offset:y}=this,S=E+x,j=y+x;return{code:r,startLine:O,endLine:O,startCol:S,endCol:S,startOffset:j,endOffset:j}}_err(r){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(r,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(r){if(this.pos!==this.html.length-1){const x=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(x))return this.pos++,this._addGap(),getSurrogatePairCodePoint(r,x)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),r}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(r,x){this.html.length>0?this.html+=r:this.html=r,this.endOfChunkHit=!1,this.lastChunkWritten=x}insertHtmlAtCurrentPos(r){this.html=this.html.substring(0,this.pos+1)+r+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(r,x){if(this.pos+r.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(x)return this.html.startsWith(r,this.pos);for(let O=0;O<r.length;O++)if((this.html.charCodeAt(this.pos+O)|32)!==r.charCodeAt(O))return!1;return!0}peek(r){const x=this.pos+r;if(x>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const O=this.html.charCodeAt(x);return O===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:O}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let r=this.html.charCodeAt(this.pos);return r===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):r===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(r)&&(r=this._processSurrogate(r)),this.handler.onParseError===null||r>31&&r<127||r===CODE_POINTS.LINE_FEED||r===CODE_POINTS.CARRIAGE_RETURN||r>159&&r<64976||this._checkForProblematicCharacters(r),r)}_checkForProblematicCharacters(r){isControlCodePoint(r)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(r)&&this._err(ERR.noncharacterInInputStream)}retreat(r){for(this.pos-=r;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(o){o[o.CHARACTER=0]="CHARACTER",o[o.NULL_CHARACTER=1]="NULL_CHARACTER",o[o.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",o[o.START_TAG=3]="START_TAG",o[o.END_TAG=4]="END_TAG",o[o.COMMENT=5]="COMMENT",o[o.DOCTYPE=6]="DOCTYPE",o[o.EOF=7]="EOF",o[o.HIBERNATION=8]="HIBERNATION"})(TokenType||(TokenType={}));function getTokenAttr(o,r){for(let x=o.attrs.length-1;x>=0;x--)if(o.attrs[x].name===r)return o.attrs[x].value;return null}const htmlDecodeTree=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(o=>o.charCodeAt(0))),decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function replaceCodePoint(o){var r;return o>=55296&&o<=57343||o>1114111?65533:(r=decodeMap.get(o))!==null&&r!==void 0?r:o}var CharCodes;(function(o){o[o.NUM=35]="NUM",o[o.SEMI=59]="SEMI",o[o.EQUALS=61]="EQUALS",o[o.ZERO=48]="ZERO",o[o.NINE=57]="NINE",o[o.LOWER_A=97]="LOWER_A",o[o.LOWER_F=102]="LOWER_F",o[o.LOWER_X=120]="LOWER_X",o[o.LOWER_Z=122]="LOWER_Z",o[o.UPPER_A=65]="UPPER_A",o[o.UPPER_F=70]="UPPER_F",o[o.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(o){o[o.VALUE_LENGTH=49152]="VALUE_LENGTH",o[o.BRANCH_LENGTH=16256]="BRANCH_LENGTH",o[o.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber$2(o){return o>=CharCodes.ZERO&&o<=CharCodes.NINE}function isHexadecimalCharacter(o){return o>=CharCodes.UPPER_A&&o<=CharCodes.UPPER_F||o>=CharCodes.LOWER_A&&o<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(o){return o>=CharCodes.UPPER_A&&o<=CharCodes.UPPER_Z||o>=CharCodes.LOWER_A&&o<=CharCodes.LOWER_Z||isNumber$2(o)}function isEntityInAttributeInvalidEnd(o){return o===CharCodes.EQUALS||isAsciiAlphaNumeric$1(o)}var EntityDecoderState;(function(o){o[o.EntityStart=0]="EntityStart",o[o.NumericStart=1]="NumericStart",o[o.NumericDecimal=2]="NumericDecimal",o[o.NumericHex=3]="NumericHex",o[o.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(o){o[o.Legacy=0]="Legacy",o[o.Strict=1]="Strict",o[o.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(r,x,O){this.decodeTree=r,this.emitCodePoint=x,this.errors=O,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(r){this.decodeMode=r,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,x){switch(this.state){case EntityDecoderState.EntityStart:return r.charCodeAt(x)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(r,x+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(r,x));case EntityDecoderState.NumericStart:return this.stateNumericStart(r,x);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(r,x);case EntityDecoderState.NumericHex:return this.stateNumericHex(r,x);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(r,x)}}stateNumericStart(r,x){return x>=r.length?-1:(r.charCodeAt(x)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(r,x+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(r,x))}addToNumericResult(r,x,O,E){if(x!==O){const y=O-x;this.result=this.result*Math.pow(E,y)+Number.parseInt(r.substr(x,y),E),this.consumed+=y}}stateNumericHex(r,x){const O=x;for(;x<r.length;){const E=r.charCodeAt(x);if(isNumber$2(E)||isHexadecimalCharacter(E))x+=1;else return this.addToNumericResult(r,O,x,16),this.emitNumericEntity(E,3)}return this.addToNumericResult(r,O,x,16),-1}stateNumericDecimal(r,x){const O=x;for(;x<r.length;){const E=r.charCodeAt(x);if(isNumber$2(E))x+=1;else return this.addToNumericResult(r,O,x,10),this.emitNumericEntity(E,2)}return this.addToNumericResult(r,O,x,10),-1}emitNumericEntity(r,x){var O;if(this.consumed<=x)return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(r!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,x){const{decodeTree:O}=this;let E=O[this.treeIndex],y=(E&BinTrieFlags.VALUE_LENGTH)>>14;for(;x<r.length;x++,this.excess++){const S=r.charCodeAt(x);if(this.treeIndex=determineBranch(O,E,this.treeIndex+Math.max(1,y),S),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(y===0||isEntityInAttributeInvalidEnd(S))?0:this.emitNotTerminatedNamedEntity();if(E=O[this.treeIndex],y=(E&BinTrieFlags.VALUE_LENGTH)>>14,y!==0){if(S===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,y,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:x,decodeTree:O}=this,E=(O[x]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(x,E,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,x,O){const{decodeTree:E}=this;return this.emitCodePoint(x===1?E[r]&~BinTrieFlags.VALUE_LENGTH:E[r+1],O),x===3&&this.emitCodePoint(E[r+2],O),O}end(){var r;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function determineBranch(o,r,x,O){const E=(r&BinTrieFlags.BRANCH_LENGTH)>>7,y=r&BinTrieFlags.JUMP_TABLE;if(E===0)return y!==0&&O===y?x:-1;if(y){const w=O-y;return w<0||w>=E?-1:o[x+w]-1}let S=x,j=S+E-1;for(;S<=j;){const w=S+j>>>1,_=o[w];if(_<O)S=w+1;else if(_>O)j=w-1;else return o[w+E]}return-1}var NS;(function(o){o.HTML="http://www.w3.org/1999/xhtml",o.MATHML="http://www.w3.org/1998/Math/MathML",o.SVG="http://www.w3.org/2000/svg",o.XLINK="http://www.w3.org/1999/xlink",o.XML="http://www.w3.org/XML/1998/namespace",o.XMLNS="http://www.w3.org/2000/xmlns/"})(NS||(NS={}));var ATTRS;(function(o){o.TYPE="type",o.ACTION="action",o.ENCODING="encoding",o.PROMPT="prompt",o.NAME="name",o.COLOR="color",o.FACE="face",o.SIZE="size"})(ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(o){o.NO_QUIRKS="no-quirks",o.QUIRKS="quirks",o.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES;(function(o){o.A="a",o.ADDRESS="address",o.ANNOTATION_XML="annotation-xml",o.APPLET="applet",o.AREA="area",o.ARTICLE="article",o.ASIDE="aside",o.B="b",o.BASE="base",o.BASEFONT="basefont",o.BGSOUND="bgsound",o.BIG="big",o.BLOCKQUOTE="blockquote",o.BODY="body",o.BR="br",o.BUTTON="button",o.CAPTION="caption",o.CENTER="center",o.CODE="code",o.COL="col",o.COLGROUP="colgroup",o.DD="dd",o.DESC="desc",o.DETAILS="details",o.DIALOG="dialog",o.DIR="dir",o.DIV="div",o.DL="dl",o.DT="dt",o.EM="em",o.EMBED="embed",o.FIELDSET="fieldset",o.FIGCAPTION="figcaption",o.FIGURE="figure",o.FONT="font",o.FOOTER="footer",o.FOREIGN_OBJECT="foreignObject",o.FORM="form",o.FRAME="frame",o.FRAMESET="frameset",o.H1="h1",o.H2="h2",o.H3="h3",o.H4="h4",o.H5="h5",o.H6="h6",o.HEAD="head",o.HEADER="header",o.HGROUP="hgroup",o.HR="hr",o.HTML="html",o.I="i",o.IMG="img",o.IMAGE="image",o.INPUT="input",o.IFRAME="iframe",o.KEYGEN="keygen",o.LABEL="label",o.LI="li",o.LINK="link",o.LISTING="listing",o.MAIN="main",o.MALIGNMARK="malignmark",o.MARQUEE="marquee",o.MATH="math",o.MENU="menu",o.META="meta",o.MGLYPH="mglyph",o.MI="mi",o.MO="mo",o.MN="mn",o.MS="ms",o.MTEXT="mtext",o.NAV="nav",o.NOBR="nobr",o.NOFRAMES="noframes",o.NOEMBED="noembed",o.NOSCRIPT="noscript",o.OBJECT="object",o.OL="ol",o.OPTGROUP="optgroup",o.OPTION="option",o.P="p",o.PARAM="param",o.PLAINTEXT="plaintext",o.PRE="pre",o.RB="rb",o.RP="rp",o.RT="rt",o.RTC="rtc",o.RUBY="ruby",o.S="s",o.SCRIPT="script",o.SEARCH="search",o.SECTION="section",o.SELECT="select",o.SOURCE="source",o.SMALL="small",o.SPAN="span",o.STRIKE="strike",o.STRONG="strong",o.STYLE="style",o.SUB="sub",o.SUMMARY="summary",o.SUP="sup",o.TABLE="table",o.TBODY="tbody",o.TEMPLATE="template",o.TEXTAREA="textarea",o.TFOOT="tfoot",o.TD="td",o.TH="th",o.THEAD="thead",o.TITLE="title",o.TR="tr",o.TRACK="track",o.TT="tt",o.U="u",o.UL="ul",o.SVG="svg",o.VAR="var",o.WBR="wbr",o.XMP="xmp"})(TAG_NAMES||(TAG_NAMES={}));var TAG_ID;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.A=1]="A",o[o.ADDRESS=2]="ADDRESS",o[o.ANNOTATION_XML=3]="ANNOTATION_XML",o[o.APPLET=4]="APPLET",o[o.AREA=5]="AREA",o[o.ARTICLE=6]="ARTICLE",o[o.ASIDE=7]="ASIDE",o[o.B=8]="B",o[o.BASE=9]="BASE",o[o.BASEFONT=10]="BASEFONT",o[o.BGSOUND=11]="BGSOUND",o[o.BIG=12]="BIG",o[o.BLOCKQUOTE=13]="BLOCKQUOTE",o[o.BODY=14]="BODY",o[o.BR=15]="BR",o[o.BUTTON=16]="BUTTON",o[o.CAPTION=17]="CAPTION",o[o.CENTER=18]="CENTER",o[o.CODE=19]="CODE",o[o.COL=20]="COL",o[o.COLGROUP=21]="COLGROUP",o[o.DD=22]="DD",o[o.DESC=23]="DESC",o[o.DETAILS=24]="DETAILS",o[o.DIALOG=25]="DIALOG",o[o.DIR=26]="DIR",o[o.DIV=27]="DIV",o[o.DL=28]="DL",o[o.DT=29]="DT",o[o.EM=30]="EM",o[o.EMBED=31]="EMBED",o[o.FIELDSET=32]="FIELDSET",o[o.FIGCAPTION=33]="FIGCAPTION",o[o.FIGURE=34]="FIGURE",o[o.FONT=35]="FONT",o[o.FOOTER=36]="FOOTER",o[o.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",o[o.FORM=38]="FORM",o[o.FRAME=39]="FRAME",o[o.FRAMESET=40]="FRAMESET",o[o.H1=41]="H1",o[o.H2=42]="H2",o[o.H3=43]="H3",o[o.H4=44]="H4",o[o.H5=45]="H5",o[o.H6=46]="H6",o[o.HEAD=47]="HEAD",o[o.HEADER=48]="HEADER",o[o.HGROUP=49]="HGROUP",o[o.HR=50]="HR",o[o.HTML=51]="HTML",o[o.I=52]="I",o[o.IMG=53]="IMG",o[o.IMAGE=54]="IMAGE",o[o.INPUT=55]="INPUT",o[o.IFRAME=56]="IFRAME",o[o.KEYGEN=57]="KEYGEN",o[o.LABEL=58]="LABEL",o[o.LI=59]="LI",o[o.LINK=60]="LINK",o[o.LISTING=61]="LISTING",o[o.MAIN=62]="MAIN",o[o.MALIGNMARK=63]="MALIGNMARK",o[o.MARQUEE=64]="MARQUEE",o[o.MATH=65]="MATH",o[o.MENU=66]="MENU",o[o.META=67]="META",o[o.MGLYPH=68]="MGLYPH",o[o.MI=69]="MI",o[o.MO=70]="MO",o[o.MN=71]="MN",o[o.MS=72]="MS",o[o.MTEXT=73]="MTEXT",o[o.NAV=74]="NAV",o[o.NOBR=75]="NOBR",o[o.NOFRAMES=76]="NOFRAMES",o[o.NOEMBED=77]="NOEMBED",o[o.NOSCRIPT=78]="NOSCRIPT",o[o.OBJECT=79]="OBJECT",o[o.OL=80]="OL",o[o.OPTGROUP=81]="OPTGROUP",o[o.OPTION=82]="OPTION",o[o.P=83]="P",o[o.PARAM=84]="PARAM",o[o.PLAINTEXT=85]="PLAINTEXT",o[o.PRE=86]="PRE",o[o.RB=87]="RB",o[o.RP=88]="RP",o[o.RT=89]="RT",o[o.RTC=90]="RTC",o[o.RUBY=91]="RUBY",o[o.S=92]="S",o[o.SCRIPT=93]="SCRIPT",o[o.SEARCH=94]="SEARCH",o[o.SECTION=95]="SECTION",o[o.SELECT=96]="SELECT",o[o.SOURCE=97]="SOURCE",o[o.SMALL=98]="SMALL",o[o.SPAN=99]="SPAN",o[o.STRIKE=100]="STRIKE",o[o.STRONG=101]="STRONG",o[o.STYLE=102]="STYLE",o[o.SUB=103]="SUB",o[o.SUMMARY=104]="SUMMARY",o[o.SUP=105]="SUP",o[o.TABLE=106]="TABLE",o[o.TBODY=107]="TBODY",o[o.TEMPLATE=108]="TEMPLATE",o[o.TEXTAREA=109]="TEXTAREA",o[o.TFOOT=110]="TFOOT",o[o.TD=111]="TD",o[o.TH=112]="TH",o[o.THEAD=113]="THEAD",o[o.TITLE=114]="TITLE",o[o.TR=115]="TR",o[o.TRACK=116]="TRACK",o[o.TT=117]="TT",o[o.U=118]="U",o[o.UL=119]="UL",o[o.SVG=120]="SVG",o[o.VAR=121]="VAR",o[o.WBR=122]="WBR",o[o.XMP=123]="XMP"})(TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES.A,TAG_ID.A],[TAG_NAMES.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES.APPLET,TAG_ID.APPLET],[TAG_NAMES.AREA,TAG_ID.AREA],[TAG_NAMES.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES.ASIDE,TAG_ID.ASIDE],[TAG_NAMES.B,TAG_ID.B],[TAG_NAMES.BASE,TAG_ID.BASE],[TAG_NAMES.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES.BIG,TAG_ID.BIG],[TAG_NAMES.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES.BODY,TAG_ID.BODY],[TAG_NAMES.BR,TAG_ID.BR],[TAG_NAMES.BUTTON,TAG_ID.BUTTON],[TAG_NAMES.CAPTION,TAG_ID.CAPTION],[TAG_NAMES.CENTER,TAG_ID.CENTER],[TAG_NAMES.CODE,TAG_ID.CODE],[TAG_NAMES.COL,TAG_ID.COL],[TAG_NAMES.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES.DD,TAG_ID.DD],[TAG_NAMES.DESC,TAG_ID.DESC],[TAG_NAMES.DETAILS,TAG_ID.DETAILS],[TAG_NAMES.DIALOG,TAG_ID.DIALOG],[TAG_NAMES.DIR,TAG_ID.DIR],[TAG_NAMES.DIV,TAG_ID.DIV],[TAG_NAMES.DL,TAG_ID.DL],[TAG_NAMES.DT,TAG_ID.DT],[TAG_NAMES.EM,TAG_ID.EM],[TAG_NAMES.EMBED,TAG_ID.EMBED],[TAG_NAMES.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES.FIGURE,TAG_ID.FIGURE],[TAG_NAMES.FONT,TAG_ID.FONT],[TAG_NAMES.FOOTER,TAG_ID.FOOTER],[TAG_NAMES.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES.FORM,TAG_ID.FORM],[TAG_NAMES.FRAME,TAG_ID.FRAME],[TAG_NAMES.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES.H1,TAG_ID.H1],[TAG_NAMES.H2,TAG_ID.H2],[TAG_NAMES.H3,TAG_ID.H3],[TAG_NAMES.H4,TAG_ID.H4],[TAG_NAMES.H5,TAG_ID.H5],[TAG_NAMES.H6,TAG_ID.H6],[TAG_NAMES.HEAD,TAG_ID.HEAD],[TAG_NAMES.HEADER,TAG_ID.HEADER],[TAG_NAMES.HGROUP,TAG_ID.HGROUP],[TAG_NAMES.HR,TAG_ID.HR],[TAG_NAMES.HTML,TAG_ID.HTML],[TAG_NAMES.I,TAG_ID.I],[TAG_NAMES.IMG,TAG_ID.IMG],[TAG_NAMES.IMAGE,TAG_ID.IMAGE],[TAG_NAMES.INPUT,TAG_ID.INPUT],[TAG_NAMES.IFRAME,TAG_ID.IFRAME],[TAG_NAMES.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES.LABEL,TAG_ID.LABEL],[TAG_NAMES.LI,TAG_ID.LI],[TAG_NAMES.LINK,TAG_ID.LINK],[TAG_NAMES.LISTING,TAG_ID.LISTING],[TAG_NAMES.MAIN,TAG_ID.MAIN],[TAG_NAMES.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES.MATH,TAG_ID.MATH],[TAG_NAMES.MENU,TAG_ID.MENU],[TAG_NAMES.META,TAG_ID.META],[TAG_NAMES.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES.MI,TAG_ID.MI],[TAG_NAMES.MO,TAG_ID.MO],[TAG_NAMES.MN,TAG_ID.MN],[TAG_NAMES.MS,TAG_ID.MS],[TAG_NAMES.MTEXT,TAG_ID.MTEXT],[TAG_NAMES.NAV,TAG_ID.NAV],[TAG_NAMES.NOBR,TAG_ID.NOBR],[TAG_NAMES.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES.OBJECT,TAG_ID.OBJECT],[TAG_NAMES.OL,TAG_ID.OL],[TAG_NAMES.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES.OPTION,TAG_ID.OPTION],[TAG_NAMES.P,TAG_ID.P],[TAG_NAMES.PARAM,TAG_ID.PARAM],[TAG_NAMES.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES.PRE,TAG_ID.PRE],[TAG_NAMES.RB,TAG_ID.RB],[TAG_NAMES.RP,TAG_ID.RP],[TAG_NAMES.RT,TAG_ID.RT],[TAG_NAMES.RTC,TAG_ID.RTC],[TAG_NAMES.RUBY,TAG_ID.RUBY],[TAG_NAMES.S,TAG_ID.S],[TAG_NAMES.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES.SEARCH,TAG_ID.SEARCH],[TAG_NAMES.SECTION,TAG_ID.SECTION],[TAG_NAMES.SELECT,TAG_ID.SELECT],[TAG_NAMES.SOURCE,TAG_ID.SOURCE],[TAG_NAMES.SMALL,TAG_ID.SMALL],[TAG_NAMES.SPAN,TAG_ID.SPAN],[TAG_NAMES.STRIKE,TAG_ID.STRIKE],[TAG_NAMES.STRONG,TAG_ID.STRONG],[TAG_NAMES.STYLE,TAG_ID.STYLE],[TAG_NAMES.SUB,TAG_ID.SUB],[TAG_NAMES.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES.SUP,TAG_ID.SUP],[TAG_NAMES.TABLE,TAG_ID.TABLE],[TAG_NAMES.TBODY,TAG_ID.TBODY],[TAG_NAMES.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES.TFOOT,TAG_ID.TFOOT],[TAG_NAMES.TD,TAG_ID.TD],[TAG_NAMES.TH,TAG_ID.TH],[TAG_NAMES.THEAD,TAG_ID.THEAD],[TAG_NAMES.TITLE,TAG_ID.TITLE],[TAG_NAMES.TR,TAG_ID.TR],[TAG_NAMES.TRACK,TAG_ID.TRACK],[TAG_NAMES.TT,TAG_ID.TT],[TAG_NAMES.U,TAG_ID.U],[TAG_NAMES.UL,TAG_ID.UL],[TAG_NAMES.SVG,TAG_ID.SVG],[TAG_NAMES.VAR,TAG_ID.VAR],[TAG_NAMES.WBR,TAG_ID.WBR],[TAG_NAMES.XMP,TAG_ID.XMP]]);function getTagID(o){var r;return(r=TAG_NAME_TO_ID.get(o))!==null&&r!==void 0?r:TAG_ID.UNKNOWN}const $$2=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$$2.ADDRESS,$$2.APPLET,$$2.AREA,$$2.ARTICLE,$$2.ASIDE,$$2.BASE,$$2.BASEFONT,$$2.BGSOUND,$$2.BLOCKQUOTE,$$2.BODY,$$2.BR,$$2.BUTTON,$$2.CAPTION,$$2.CENTER,$$2.COL,$$2.COLGROUP,$$2.DD,$$2.DETAILS,$$2.DIR,$$2.DIV,$$2.DL,$$2.DT,$$2.EMBED,$$2.FIELDSET,$$2.FIGCAPTION,$$2.FIGURE,$$2.FOOTER,$$2.FORM,$$2.FRAME,$$2.FRAMESET,$$2.H1,$$2.H2,$$2.H3,$$2.H4,$$2.H5,$$2.H6,$$2.HEAD,$$2.HEADER,$$2.HGROUP,$$2.HR,$$2.HTML,$$2.IFRAME,$$2.IMG,$$2.INPUT,$$2.LI,$$2.LINK,$$2.LISTING,$$2.MAIN,$$2.MARQUEE,$$2.MENU,$$2.META,$$2.NAV,$$2.NOEMBED,$$2.NOFRAMES,$$2.NOSCRIPT,$$2.OBJECT,$$2.OL,$$2.P,$$2.PARAM,$$2.PLAINTEXT,$$2.PRE,$$2.SCRIPT,$$2.SECTION,$$2.SELECT,$$2.SOURCE,$$2.STYLE,$$2.SUMMARY,$$2.TABLE,$$2.TBODY,$$2.TD,$$2.TEMPLATE,$$2.TEXTAREA,$$2.TFOOT,$$2.TH,$$2.THEAD,$$2.TITLE,$$2.TR,$$2.TRACK,$$2.UL,$$2.WBR,$$2.XMP]),[NS.MATHML]:new Set([$$2.MI,$$2.MO,$$2.MN,$$2.MS,$$2.MTEXT,$$2.ANNOTATION_XML]),[NS.SVG]:new Set([$$2.TITLE,$$2.FOREIGN_OBJECT,$$2.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set},NUMBERED_HEADERS=new Set([$$2.H1,$$2.H2,$$2.H3,$$2.H4,$$2.H5,$$2.H6]);TAG_NAMES.STYLE,TAG_NAMES.SCRIPT,TAG_NAMES.XMP,TAG_NAMES.IFRAME,TAG_NAMES.NOEMBED,TAG_NAMES.NOFRAMES,TAG_NAMES.PLAINTEXT;var State;(function(o){o[o.DATA=0]="DATA",o[o.RCDATA=1]="RCDATA",o[o.RAWTEXT=2]="RAWTEXT",o[o.SCRIPT_DATA=3]="SCRIPT_DATA",o[o.PLAINTEXT=4]="PLAINTEXT",o[o.TAG_OPEN=5]="TAG_OPEN",o[o.END_TAG_OPEN=6]="END_TAG_OPEN",o[o.TAG_NAME=7]="TAG_NAME",o[o.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",o[o.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",o[o.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",o[o.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",o[o.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",o[o.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",o[o.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",o[o.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",o[o.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",o[o.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",o[o.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",o[o.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",o[o.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",o[o.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",o[o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",o[o.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",o[o.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",o[o.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",o[o.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",o[o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",o[o.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",o[o.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",o[o.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",o[o.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",o[o.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",o[o.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",o[o.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",o[o.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",o[o.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",o[o.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",o[o.BOGUS_COMMENT=40]="BOGUS_COMMENT",o[o.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",o[o.COMMENT_START=42]="COMMENT_START",o[o.COMMENT_START_DASH=43]="COMMENT_START_DASH",o[o.COMMENT=44]="COMMENT",o[o.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",o[o.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",o[o.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",o[o.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",o[o.COMMENT_END_DASH=49]="COMMENT_END_DASH",o[o.COMMENT_END=50]="COMMENT_END",o[o.COMMENT_END_BANG=51]="COMMENT_END_BANG",o[o.DOCTYPE=52]="DOCTYPE",o[o.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",o[o.DOCTYPE_NAME=54]="DOCTYPE_NAME",o[o.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",o[o.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",o[o.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",o[o.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",o[o.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",o[o.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",o[o.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",o[o.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",o[o.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",o[o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",o[o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",o[o.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",o[o.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",o[o.CDATA_SECTION=68]="CDATA_SECTION",o[o.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",o[o.CDATA_SECTION_END=70]="CDATA_SECTION_END",o[o.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",o[o.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(State||(State={}));const TokenizerMode={DATA:State.DATA,RCDATA:State.RCDATA,RAWTEXT:State.RAWTEXT,SCRIPT_DATA:State.SCRIPT_DATA,PLAINTEXT:State.PLAINTEXT,CDATA_SECTION:State.CDATA_SECTION};function isAsciiDigit(o){return o>=CODE_POINTS.DIGIT_0&&o<=CODE_POINTS.DIGIT_9}function isAsciiUpper(o){return o>=CODE_POINTS.LATIN_CAPITAL_A&&o<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(o){return o>=CODE_POINTS.LATIN_SMALL_A&&o<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(o){return isAsciiLower(o)||isAsciiUpper(o)}function isAsciiAlphaNumeric(o){return isAsciiLetter(o)||isAsciiDigit(o)}function toAsciiLower(o){return o+32}function isWhitespace(o){return o===CODE_POINTS.SPACE||o===CODE_POINTS.LINE_FEED||o===CODE_POINTS.TABULATION||o===CODE_POINTS.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(o){return isWhitespace(o)||o===CODE_POINTS.SOLIDUS||o===CODE_POINTS.GREATER_THAN_SIGN}function getErrorForNumericCharacterReference(o){return o===CODE_POINTS.NULL?ERR.nullCharacterReference:o>1114111?ERR.characterReferenceOutsideUnicodeRange:isSurrogate(o)?ERR.surrogateCharacterReference:isUndefinedCodePoint(o)?ERR.noncharacterCharacterReference:isControlCodePoint(o)||o===CODE_POINTS.CARRIAGE_RETURN?ERR.controlCharacterReference:null}class Tokenizer{constructor(r,x){this.options=r,this.handler=x,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State.DATA,this.returnState=State.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(x),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new EntityDecoder(htmlDecodeTree,(O,E)=>{this.preprocessor.pos=this.entityStartPos+E-1,this._flushCodePointConsumedAsCharacterReference(O)},x.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:O=>{this._err(ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+O)},validateNumericCharacterReference:O=>{const E=getErrorForNumericCharacterReference(O);E&&this._err(E,1)}}:void 0)}_err(r,x=0){var O,E;(E=(O=this.handler).onParseError)===null||E===void 0||E.call(O,this.preprocessor.getError(r,x))}getCurrentLocation(r){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-r,startOffset:this.preprocessor.offset-r,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const r=this._consume();this._ensureHibernation()||this._callState(r)}this.inLoop=!1}}pause(){this.paused=!0}resume(r){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||r==null||r())}write(r,x,O){this.active=!0,this.preprocessor.write(r,x),this._runParsingLoop(),this.paused||O==null||O()}insertHtmlAtCurrentPos(r){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(r),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(r){this.consumedAfterSnapshot+=r;for(let x=0;x<r;x++)this.preprocessor.advance()}_consumeSequenceIfMatch(r,x){return this.preprocessor.startsWith(r,x)?(this._advanceBy(r.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(r){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(r)}}_createDoctypeToken(r){this.currentToken={type:TokenType.DOCTYPE,name:r,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(r,x){this.currentCharacterToken={type:r,chars:x,location:this.currentLocation}}_createAttr(r){this.currentAttr={name:r,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var r,x;const O=this.currentToken;if(getTokenAttr(O,this.currentAttr.name)===null){if(O.attrs.push(this.currentAttr),O.location&&this.currentLocation){const E=(r=(x=O.location).attrs)!==null&&r!==void 0?r:x.attrs=Object.create(null);E[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(r){this._emitCurrentCharacterToken(r.location),this.currentToken=null,r.location&&(r.location.endLine=this.preprocessor.line,r.location.endCol=this.preprocessor.col+1,r.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const r=this.currentToken;this.prepareToken(r),r.tagID=getTagID(r.tagName),r.type===TokenType.START_TAG?(this.lastStartTagName=r.tagName,this.handler.onStartTag(r)):(r.attrs.length>0&&this._err(ERR.endTagWithAttributes),r.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(r)),this.preprocessor.dropParsedChunk()}emitCurrentComment(r){this.prepareToken(r),this.handler.onComment(r),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(r){this.prepareToken(r),this.handler.onDoctype(r),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(r){if(this.currentCharacterToken){switch(r&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const r=this.getCurrentLocation(0);r&&(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset),this._emitCurrentCharacterToken(r),this.handler.onEof({type:TokenType.EOF,location:r}),this.active=!1}_appendCharToCurrentCharacterToken(r,x){if(this.currentCharacterToken)if(this.currentCharacterToken.type===r){this.currentCharacterToken.chars+=x;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(r,x)}_emitCodePoint(r){const x=isWhitespace(r)?TokenType.WHITESPACE_CHARACTER:r===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(x,String.fromCodePoint(r))}_emitChars(r){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,r)}_startCharacterReference(){this.returnState=this.state,this.state=State.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?DecodingMode.Attribute:DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===State.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(r){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(r):this._emitCodePoint(r)}_callState(r){switch(this.state){case State.DATA:{this._stateData(r);break}case State.RCDATA:{this._stateRcdata(r);break}case State.RAWTEXT:{this._stateRawtext(r);break}case State.SCRIPT_DATA:{this._stateScriptData(r);break}case State.PLAINTEXT:{this._statePlaintext(r);break}case State.TAG_OPEN:{this._stateTagOpen(r);break}case State.END_TAG_OPEN:{this._stateEndTagOpen(r);break}case State.TAG_NAME:{this._stateTagName(r);break}case State.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(r);break}case State.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(r);break}case State.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(r);break}case State.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(r);break}case State.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(r);break}case State.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(r);break}case State.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(r);break}case State.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(r);break}case State.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(r);break}case State.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(r);break}case State.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(r);break}case State.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(r);break}case State.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(r);break}case State.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(r);break}case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(r);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(r);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(r);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(r);break}case State.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(r);break}case State.ATTRIBUTE_NAME:{this._stateAttributeName(r);break}case State.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(r);break}case State.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(r);break}case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(r);break}case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(r);break}case State.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(r);break}case State.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(r);break}case State.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(r);break}case State.BOGUS_COMMENT:{this._stateBogusComment(r);break}case State.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(r);break}case State.COMMENT_START:{this._stateCommentStart(r);break}case State.COMMENT_START_DASH:{this._stateCommentStartDash(r);break}case State.COMMENT:{this._stateComment(r);break}case State.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(r);break}case State.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(r);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(r);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(r);break}case State.COMMENT_END_DASH:{this._stateCommentEndDash(r);break}case State.COMMENT_END:{this._stateCommentEnd(r);break}case State.COMMENT_END_BANG:{this._stateCommentEndBang(r);break}case State.DOCTYPE:{this._stateDoctype(r);break}case State.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(r);break}case State.DOCTYPE_NAME:{this._stateDoctypeName(r);break}case State.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(r);break}case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(r);break}case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(r);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(r);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(r);break}case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(r);break}case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(r);break}case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(r);break}case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(r);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(r);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(r);break}case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(r);break}case State.BOGUS_DOCTYPE:{this._stateBogusDoctype(r);break}case State.CDATA_SECTION:{this._stateCdataSection(r);break}case State.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(r);break}case State.CDATA_SECTION_END:{this._stateCdataSectionEnd(r);break}case State.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case State.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(r);break}default:throw new Error("Unknown state")}}_stateData(r){switch(r){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(r);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateRcdata(r){switch(r){case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateRawtext(r){switch(r){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateScriptData(r){switch(r){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}_statePlaintext(r){switch(r){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateTagOpen(r){if(isAsciiLetter(r))this._createStartTagToken(),this.state=State.TAG_NAME,this._stateTagName(r);else switch(r){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State.BOGUS_COMMENT,this._stateBogusComment(r);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State.DATA,this._stateData(r)}}_stateEndTagOpen(r){if(isAsciiLetter(r))this._createEndTagToken(),this.state=State.TAG_NAME,this._stateTagName(r);else switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(r)}}_stateTagName(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:x.tagName+=String.fromCodePoint(isAsciiUpper(r)?toAsciiLower(r):r)}}_stateRcdataLessThanSign(r){r===CODE_POINTS.SOLIDUS?this.state=State.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RCDATA,this._stateRcdata(r))}_stateRcdataEndTagOpen(r){isAsciiLetter(r)?(this.state=State.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(r)):(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(r))}handleSpecialEndTag(r){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const x=this.currentToken;switch(x.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(r))}_stateRawtextLessThanSign(r){r===CODE_POINTS.SOLIDUS?this.state=State.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RAWTEXT,this._stateRawtext(r))}_stateRawtextEndTagOpen(r){isAsciiLetter(r)?(this.state=State.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(r)):(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(r))}_stateRawtextEndTagName(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(r))}_stateScriptDataLessThanSign(r){switch(r){case CODE_POINTS.SOLIDUS:{this.state=State.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State.SCRIPT_DATA,this._stateScriptData(r)}}_stateScriptDataEndTagOpen(r){isAsciiLetter(r)?(this.state=State.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(r)):(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(r))}_stateScriptDataEndTagName(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(r))}_stateScriptDataEscapeStart(r){r===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(r))}_stateScriptDataEscapeStartDash(r){r===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(r))}_stateScriptDataEscaped(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateScriptDataEscapedDash(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}_stateScriptDataEscapedDashDash(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(r)}}_stateScriptDataEscapedLessThanSign(r){r===CODE_POINTS.SOLIDUS?this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(r)?(this._emitChars("<"),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(r)):(this._emitChars("<"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}_stateScriptDataEscapedEndTagOpen(r){isAsciiLetter(r)?(this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(r)):(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}_stateScriptDataEscapedEndTagName(r){this.handleSpecialEndTag(r)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}_stateScriptDataDoubleEscapeStart(r){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let x=0;x<SEQUENCES.SCRIPT.length;x++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(r))}_stateScriptDataDoubleEscaped(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateScriptDataDoubleEscapedDash(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}_stateScriptDataDoubleEscapedDashDash(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(r)}}_stateScriptDataDoubleEscapedLessThanSign(r){r===CODE_POINTS.SOLIDUS?(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}_stateScriptDataDoubleEscapeEnd(r){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(r);for(let x=0;x<SEQUENCES.SCRIPT.length;x++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(r))}_stateBeforeAttributeName(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(r)}}_stateAttributeName(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(r);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(r);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(r)?toAsciiLower(r):r)}}_stateAfterAttributeName(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(r)}}_stateBeforeAttributeValue(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State.DATA,this.emitCurrentTagToken();break}default:this.state=State.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(r)}}_stateAttributeValueDoubleQuoted(r){switch(r){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}_stateAttributeValueSingleQuoted(r){switch(r){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}_stateAttributeValueUnquoted(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(r);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(r)}}_stateAfterAttributeValueQuoted(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}_stateSelfClosingStartTag(r){switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{const x=this.currentToken;x.selfClosing=!0,this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(r)}}_stateBogusComment(r){const x=this.currentToken;switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(x);break}case CODE_POINTS.EOF:{this.emitCurrentComment(x),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.data+=REPLACEMENT_CHARACTER;break}default:x.data+=String.fromCodePoint(r)}}_stateMarkupDeclarationOpen(r){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(r))}_stateCommentStart(r){switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA;const x=this.currentToken;this.emitCurrentComment(x);break}default:this.state=State.COMMENT,this._stateComment(r)}}_stateCommentStartDash(r){const x=this.currentToken;switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA,this.emitCurrentComment(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(x),this._emitEOFToken();break}default:x.data+="-",this.state=State.COMMENT,this._stateComment(r)}}_stateComment(r){const x=this.currentToken;switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{x.data+="<",this.state=State.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(x),this._emitEOFToken();break}default:x.data+=String.fromCodePoint(r)}}_stateCommentLessThanSign(r){const x=this.currentToken;switch(r){case CODE_POINTS.EXCLAMATION_MARK:{x.data+="!",this.state=State.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{x.data+="<";break}default:this.state=State.COMMENT,this._stateComment(r)}}_stateCommentLessThanSignBang(r){r===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State.COMMENT,this._stateComment(r))}_stateCommentLessThanSignBangDash(r){r===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State.COMMENT_END_DASH,this._stateCommentEndDash(r))}_stateCommentLessThanSignBangDashDash(r){r!==CODE_POINTS.GREATER_THAN_SIGN&&r!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State.COMMENT_END,this._stateCommentEnd(r)}_stateCommentEndDash(r){const x=this.currentToken;switch(r){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(x),this._emitEOFToken();break}default:x.data+="-",this.state=State.COMMENT,this._stateComment(r)}}_stateCommentEnd(r){const x=this.currentToken;switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(x);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{x.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(x),this._emitEOFToken();break}default:x.data+="--",this.state=State.COMMENT,this._stateComment(r)}}_stateCommentEndBang(r){const x=this.currentToken;switch(r){case CODE_POINTS.HYPHEN_MINUS:{x.data+="--!",this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State.DATA,this.emitCurrentComment(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(x),this._emitEOFToken();break}default:x.data+="--!",this.state=State.COMMENT,this._stateComment(r)}}_stateDoctype(r){switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const x=this.currentToken;x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(r)}}_stateBeforeDoctypeName(r){if(isAsciiUpper(r))this._createDoctypeToken(String.fromCharCode(toAsciiLower(r))),this.state=State.DOCTYPE_NAME;else switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const x=this.currentToken;x.forceQuirks=!0,this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const x=this.currentToken;x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(r)),this.state=State.DOCTYPE_NAME}}_stateDoctypeName(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:x.name+=String.fromCodePoint(isAsciiUpper(r)?toAsciiLower(r):r)}}_stateAfterDoctypeName(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r))}}_stateAfterDoctypePublicKeyword(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),x.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),x.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),x.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateBeforeDoctypePublicIdentifier(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{x.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{x.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),x.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateDoctypePublicIdentifierDoubleQuoted(r){const x=this.currentToken;switch(r){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),x.forceQuirks=!0,this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:x.publicId+=String.fromCodePoint(r)}}_stateDoctypePublicIdentifierSingleQuoted(r){const x=this.currentToken;switch(r){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),x.forceQuirks=!0,this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:x.publicId+=String.fromCodePoint(r)}}_stateAfterDoctypePublicIdentifier(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateBetweenDoctypePublicAndSystemIdentifiers(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.QUOTATION_MARK:{x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateAfterDoctypeSystemKeyword(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateBeforeDoctypeSystemIdentifier(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{x.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(x);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),x.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateDoctypeSystemIdentifierDoubleQuoted(r){const x=this.currentToken;switch(r){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),x.forceQuirks=!0,this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:x.systemId+=String.fromCodePoint(r)}}_stateDoctypeSystemIdentifierSingleQuoted(r){const x=this.currentToken;switch(r){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),x.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),x.forceQuirks=!0,this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:x.systemId+=String.fromCodePoint(r)}}_stateAfterDoctypeSystemIdentifier(r){const x=this.currentToken;switch(r){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),x.forceQuirks=!0,this.emitCurrentDoctype(x),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(r)}}_stateBogusDoctype(r){const x=this.currentToken;switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(x),this.state=State.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(x),this._emitEOFToken();break}}}_stateCdataSection(r){switch(r){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(r)}}_stateCdataSectionBracket(r){r===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State.CDATA_SECTION_END:(this._emitChars("]"),this.state=State.CDATA_SECTION,this._stateCdataSection(r))}_stateCdataSectionEnd(r){switch(r){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State.CDATA_SECTION,this._stateCdataSection(r)}}_stateCharacterReference(){let r=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(r<0)if(this.preprocessor.lastChunkWritten)r=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}r===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&isAsciiAlphaNumeric(this.preprocessor.peek(1))?State.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(r){isAsciiAlphaNumeric(r)?this._flushCodePointConsumedAsCharacterReference(r):(r===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(r))}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENTS_HTML=new Set([TAG_ID.APPLET,TAG_ID.CAPTION,TAG_ID.HTML,TAG_ID.MARQUEE,TAG_ID.OBJECT,TAG_ID.TABLE,TAG_ID.TD,TAG_ID.TEMPLATE,TAG_ID.TH]),SCOPING_ELEMENTS_HTML_LIST=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.OL,TAG_ID.UL]),SCOPING_ELEMENTS_HTML_BUTTON=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.BUTTON]),SCOPING_ELEMENTS_MATHML=new Set([TAG_ID.ANNOTATION_XML,TAG_ID.MI,TAG_ID.MN,TAG_ID.MO,TAG_ID.MS,TAG_ID.MTEXT]),SCOPING_ELEMENTS_SVG=new Set([TAG_ID.DESC,TAG_ID.FOREIGN_OBJECT,TAG_ID.TITLE]),TABLE_ROW_CONTEXT=new Set([TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_BODY_CONTEXT=new Set([TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CONTEXT=new Set([TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CELLS=new Set([TAG_ID.TD,TAG_ID.TH]);class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(r,x,O){this.treeAdapter=x,this.handler=O,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=r}_indexOf(r){return this.items.lastIndexOf(r,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(r,x){this.stackTop++,this.items[this.stackTop]=r,this.current=r,this.tagIDs[this.stackTop]=x,this.currentTagId=x,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(r,x,!0)}pop(){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!0)}replace(r,x){const O=this._indexOf(r);this.items[O]=x,O===this.stackTop&&(this.current=x)}insertAfter(r,x,O){const E=this._indexOf(r)+1;this.items.splice(E,0,x),this.tagIDs.splice(E,0,O),this.stackTop++,E===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,E===this.stackTop)}popUntilTagNamePopped(r){let x=this.stackTop+1;do x=this.tagIDs.lastIndexOf(r,x-1);while(x>0&&this.treeAdapter.getNamespaceURI(this.items[x])!==NS.HTML);this.shortenToLength(Math.max(x,0))}shortenToLength(r){for(;this.stackTop>=r;){const x=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(x,this.stackTop<r)}}popUntilElementPopped(r){const x=this._indexOf(r);this.shortenToLength(Math.max(x,0))}popUntilPopped(r,x){const O=this._indexOfTagNames(r,x);this.shortenToLength(Math.max(O,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(NUMBERED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(r,x){for(let O=this.stackTop;O>=0;O--)if(r.has(this.tagIDs[O])&&this.treeAdapter.getNamespaceURI(this.items[O])===x)return O;return-1}clearBackTo(r,x){const O=this._indexOfTagNames(r,x);this.shortenToLength(O+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(r){const x=this._indexOf(r);x>=0&&(x===this.stackTop?this.pop():(this.items.splice(x,1),this.tagIDs.splice(x,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(r){return this._indexOf(r)>-1}getCommonAncestor(r){const x=this._indexOf(r)-1;return x>=0?this.items[x]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInDynamicScope(r,x){for(let O=this.stackTop;O>=0;O--){const E=this.tagIDs[O];switch(this.treeAdapter.getNamespaceURI(this.items[O])){case NS.HTML:{if(E===r)return!0;if(x.has(E))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(E))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(E))return!1;break}}}return!0}hasInScope(r){return this.hasInDynamicScope(r,SCOPING_ELEMENTS_HTML)}hasInListItemScope(r){return this.hasInDynamicScope(r,SCOPING_ELEMENTS_HTML_LIST)}hasInButtonScope(r){return this.hasInDynamicScope(r,SCOPING_ELEMENTS_HTML_BUTTON)}hasNumberedHeaderInScope(){for(let r=this.stackTop;r>=0;r--){const x=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case NS.HTML:{if(NUMBERED_HEADERS.has(x))return!0;if(SCOPING_ELEMENTS_HTML.has(x))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(x))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(x))return!1;break}}}return!0}hasInTableScope(r){for(let x=this.stackTop;x>=0;x--)if(this.treeAdapter.getNamespaceURI(this.items[x])===NS.HTML)switch(this.tagIDs[x]){case r:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===NS.HTML)switch(this.tagIDs[r]){case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasInSelectScope(r){for(let x=this.stackTop;x>=0;x--)if(this.treeAdapter.getNamespaceURI(this.items[x])===NS.HTML)switch(this.tagIDs[x]){case r:return!0;case TAG_ID.OPTION:case TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(r){for(;this.currentTagId!==void 0&&this.currentTagId!==r&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(o){o[o.Marker=0]="Marker",o[o.Element=1]="Element"})(EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(r){this.treeAdapter=r,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(r,x){const O=[],E=x.length,y=this.treeAdapter.getTagName(r),S=this.treeAdapter.getNamespaceURI(r);for(let j=0;j<this.entries.length;j++){const w=this.entries[j];if(w.type===EntryType.Marker)break;const{element:_}=w;if(this.treeAdapter.getTagName(_)===y&&this.treeAdapter.getNamespaceURI(_)===S){const Q=this.treeAdapter.getAttrList(_);Q.length===E&&O.push({idx:j,attrs:Q})}}return O}_ensureNoahArkCondition(r){if(this.entries.length<NOAH_ARK_CAPACITY)return;const x=this.treeAdapter.getAttrList(r),O=this._getNoahArkConditionCandidates(r,x);if(O.length<NOAH_ARK_CAPACITY)return;const E=new Map(x.map(S=>[S.name,S.value]));let y=0;for(let S=0;S<O.length;S++){const j=O[S];j.attrs.every(w=>E.get(w.name)===w.value)&&(y+=1,y>=NOAH_ARK_CAPACITY&&this.entries.splice(j.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(r,x){this._ensureNoahArkCondition(r),this.entries.unshift({type:EntryType.Element,element:r,token:x})}insertElementAfterBookmark(r,x){const O=this.entries.indexOf(this.bookmark);this.entries.splice(O,0,{type:EntryType.Element,element:r,token:x})}removeEntry(r){const x=this.entries.indexOf(r);x!==-1&&this.entries.splice(x,1)}clearToLastMarker(){const r=this.entries.indexOf(MARKER);r===-1?this.entries.length=0:this.entries.splice(0,r+1)}getElementEntryInScopeWithTagName(r){const x=this.entries.find(O=>O.type===EntryType.Marker||this.treeAdapter.getTagName(O.element)===r);return x&&x.type===EntryType.Element?x:null}getElementEntry(r){return this.entries.find(x=>x.type===EntryType.Element&&x.element===r)}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(o,r,x){return{nodeName:o,tagName:o,attrs:x,namespaceURI:r,childNodes:[],parentNode:null}},createCommentNode(o){return{nodeName:"#comment",data:o,parentNode:null}},createTextNode(o){return{nodeName:"#text",value:o,parentNode:null}},appendChild(o,r){o.childNodes.push(r),r.parentNode=o},insertBefore(o,r,x){const O=o.childNodes.indexOf(x);o.childNodes.splice(O,0,r),r.parentNode=o},setTemplateContent(o,r){o.content=r},getTemplateContent(o){return o.content},setDocumentType(o,r,x,O){const E=o.childNodes.find(y=>y.nodeName==="#documentType");if(E)E.name=r,E.publicId=x,E.systemId=O;else{const y={nodeName:"#documentType",name:r,publicId:x,systemId:O,parentNode:null};defaultTreeAdapter.appendChild(o,y)}},setDocumentMode(o,r){o.mode=r},getDocumentMode(o){return o.mode},detachNode(o){if(o.parentNode){const r=o.parentNode.childNodes.indexOf(o);o.parentNode.childNodes.splice(r,1),o.parentNode=null}},insertText(o,r){if(o.childNodes.length>0){const x=o.childNodes[o.childNodes.length-1];if(defaultTreeAdapter.isTextNode(x)){x.value+=r;return}}defaultTreeAdapter.appendChild(o,defaultTreeAdapter.createTextNode(r))},insertTextBefore(o,r,x){const O=o.childNodes[o.childNodes.indexOf(x)-1];O&&defaultTreeAdapter.isTextNode(O)?O.value+=r:defaultTreeAdapter.insertBefore(o,defaultTreeAdapter.createTextNode(r),x)},adoptAttributes(o,r){const x=new Set(o.attrs.map(O=>O.name));for(let O=0;O<r.length;O++)x.has(r[O].name)||o.attrs.push(r[O])},getFirstChild(o){return o.childNodes[0]},getChildNodes(o){return o.childNodes},getParentNode(o){return o.parentNode},getAttrList(o){return o.attrs},getTagName(o){return o.tagName},getNamespaceURI(o){return o.namespaceURI},getTextNodeContent(o){return o.value},getCommentNodeContent(o){return o.data},getDocumentTypeNodeName(o){return o.name},getDocumentTypeNodePublicId(o){return o.publicId},getDocumentTypeNodeSystemId(o){return o.systemId},isTextNode(o){return o.nodeName==="#text"},isCommentNode(o){return o.nodeName==="#comment"},isDocumentTypeNode(o){return o.nodeName==="#documentType"},isElementNode(o){return Object.prototype.hasOwnProperty.call(o,"tagName")},setNodeSourceCodeLocation(o,r){o.sourceCodeLocation=r},getNodeSourceCodeLocation(o){return o.sourceCodeLocation},updateNodeSourceCodeLocation(o,r){o.sourceCodeLocation={...o.sourceCodeLocation,...r}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(o,r){return r.some(x=>o.startsWith(x))}function isConforming(o){return o.name===VALID_DOCTYPE_NAME&&o.publicId===null&&(o.systemId===null||o.systemId===VALID_SYSTEM_ID)}function getDocumentMode(o){if(o.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:r}=o;if(r&&r.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:x}=o;if(x!==null){if(x=x.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(x))return DOCUMENT_MODE.QUIRKS;let O=r===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(x,O))return DOCUMENT_MODE.QUIRKS;if(O=r===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(x,O))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(o=>[o.toLowerCase(),o])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(o=>[o.toLowerCase(),o])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(o){const r=o.tagID;return r===TAG_ID.FONT&&o.attrs.some(({name:O})=>O===ATTRS.COLOR||O===ATTRS.SIZE||O===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(r)}function adjustTokenMathMLAttrs(o){for(let r=0;r<o.attrs.length;r++)if(o.attrs[r].name===DEFINITION_URL_ATTR){o.attrs[r].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(o){for(let r=0;r<o.attrs.length;r++){const x=SVG_ATTRS_ADJUSTMENT_MAP.get(o.attrs[r].name);x!=null&&(o.attrs[r].name=x)}}function adjustTokenXMLAttrs(o){for(let r=0;r<o.attrs.length;r++){const x=XML_ATTRS_ADJUSTMENT_MAP.get(o.attrs[r].name);x&&(o.attrs[r].prefix=x.prefix,o.attrs[r].name=x.name,o.attrs[r].namespace=x.namespace)}}function adjustTokenSVGTagName(o){const r=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(o.tagName);r!=null&&(o.tagName=r,o.tagID=getTagID(o.tagName))}function isMathMLTextIntegrationPoint(o,r){return r===NS.MATHML&&(o===TAG_ID.MI||o===TAG_ID.MO||o===TAG_ID.MN||o===TAG_ID.MS||o===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(o,r,x){if(r===NS.MATHML&&o===TAG_ID.ANNOTATION_XML){for(let O=0;O<x.length;O++)if(x[O].name===ATTRS.ENCODING){const E=x[O].value.toLowerCase();return E===MIME_TYPES.TEXT_HTML||E===MIME_TYPES.APPLICATION_XML}}return r===NS.SVG&&(o===TAG_ID.FOREIGN_OBJECT||o===TAG_ID.DESC||o===TAG_ID.TITLE)}function isIntegrationPoint(o,r,x,O){return(!O||O===NS.HTML)&&isHtmlIntegrationPoint(o,r,x)||(!O||O===NS.MATHML)&&isMathMLTextIntegrationPoint(o,r)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(o){o[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};let Parser$1=class{constructor(r,x,O=null,E=null){this.fragmentContext=O,this.scriptHandler=E,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...r},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=x??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=O?getTagID(this.treeAdapter.getTagName(O)):TAG_ID.UNKNOWN,this._setContextModes(O??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(r,x){const O=new this(x);return O.tokenizer.write(r,!0),O.document}static getFragmentParser(r,x){const O={...defaultParserOptions,...x};r??(r=O.treeAdapter.createElement(TAG_NAMES.TEMPLATE,NS.HTML,[]));const E=O.treeAdapter.createElement("documentmock",NS.HTML,[]),y=new this(O,E,r);return y.fragmentContextID===TAG_ID.TEMPLATE&&y.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),y._initTokenizerForFragmentParsing(),y._insertFakeRootElement(),y._resetInsertionMode(),y._findFormInFragmentContext(),y}getFragment(){const r=this.treeAdapter.getFirstChild(this.document),x=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,x),x}_err(r,x,O){var E;if(!this.onParseError)return;const y=(E=r.location)!==null&&E!==void 0?E:BASE_LOC,S={code:x,startLine:y.startLine,startCol:y.startCol,startOffset:y.startOffset,endLine:O?y.startLine:y.endLine,endCol:O?y.startCol:y.endCol,endOffset:O?y.startOffset:y.endOffset};this.onParseError(S)}onItemPush(r,x,O){var E,y;(y=(E=this.treeAdapter).onItemPush)===null||y===void 0||y.call(E,r),O&&this.openElements.stackTop>0&&this._setContextModes(r,x)}onItemPop(r,x){var O,E;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(r,this.currentToken),(E=(O=this.treeAdapter).onItemPop)===null||E===void 0||E.call(O,r,this.openElements.current),x){let y,S;this.openElements.stackTop===0&&this.fragmentContext?(y=this.fragmentContext,S=this.fragmentContextID):{current:y,currentTagId:S}=this.openElements,this._setContextModes(y,S)}}_setContextModes(r,x){const O=r===this.document||r&&this.treeAdapter.getNamespaceURI(r)===NS.HTML;this.currentNotInHTML=!O,this.tokenizer.inForeignNode=!O&&r!==void 0&&x!==void 0&&!this._isIntegrationPoint(x,r)}_switchToTextParsing(r,x){this._insertElement(r,NS.HTML),this.tokenizer.state=x,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let r=this.fragmentContext;for(;r;){if(this.treeAdapter.getTagName(r)===TAG_NAMES.FORM){this.formElement=r;break}r=this.treeAdapter.getParentNode(r)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(r){const x=r.name||"",O=r.publicId||"",E=r.systemId||"";if(this.treeAdapter.setDocumentType(this.document,x,O,E),r.location){const S=this.treeAdapter.getChildNodes(this.document).find(j=>this.treeAdapter.isDocumentTypeNode(j));S&&this.treeAdapter.setNodeSourceCodeLocation(S,r.location)}}_attachElementToTree(r,x){if(this.options.sourceCodeLocationInfo){const O=x&&{...x,startTag:x};this.treeAdapter.setNodeSourceCodeLocation(r,O)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(r);else{const O=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(O??this.document,r)}}_appendElement(r,x){const O=this.treeAdapter.createElement(r.tagName,x,r.attrs);this._attachElementToTree(O,r.location)}_insertElement(r,x){const O=this.treeAdapter.createElement(r.tagName,x,r.attrs);this._attachElementToTree(O,r.location),this.openElements.push(O,r.tagID)}_insertFakeElement(r,x){const O=this.treeAdapter.createElement(r,NS.HTML,[]);this._attachElementToTree(O,null),this.openElements.push(O,x)}_insertTemplate(r){const x=this.treeAdapter.createElement(r.tagName,NS.HTML,r.attrs),O=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(x,O),this._attachElementToTree(x,r.location),this.openElements.push(x,r.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(O,null)}_insertFakeRootElement(){const r=this.treeAdapter.createElement(TAG_NAMES.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null),this.treeAdapter.appendChild(this.openElements.current,r),this.openElements.push(r,TAG_ID.HTML)}_appendCommentNode(r,x){const O=this.treeAdapter.createCommentNode(r.data);this.treeAdapter.appendChild(x,O),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(O,r.location)}_insertCharacters(r){let x,O;if(this._shouldFosterParentOnInsertion()?({parent:x,beforeElement:O}=this._findFosterParentingLocation(),O?this.treeAdapter.insertTextBefore(x,r.chars,O):this.treeAdapter.insertText(x,r.chars)):(x=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(x,r.chars)),!r.location)return;const E=this.treeAdapter.getChildNodes(x),y=O?E.lastIndexOf(O):E.length,S=E[y-1];if(this.treeAdapter.getNodeSourceCodeLocation(S)){const{endLine:w,endCol:_,endOffset:Q}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(S,{endLine:w,endCol:_,endOffset:Q})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(S,r.location)}_adoptNodes(r,x){for(let O=this.treeAdapter.getFirstChild(r);O;O=this.treeAdapter.getFirstChild(r))this.treeAdapter.detachNode(O),this.treeAdapter.appendChild(x,O)}_setEndLocation(r,x){if(this.treeAdapter.getNodeSourceCodeLocation(r)&&x.location){const O=x.location,E=this.treeAdapter.getTagName(r),y=x.type===TokenType.END_TAG&&E===x.tagName?{endTag:{...O},endLine:O.endLine,endCol:O.endCol,endOffset:O.endOffset}:{endLine:O.startLine,endCol:O.startCol,endOffset:O.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(r,y)}}shouldProcessStartTagTokenInForeignContent(r){if(!this.currentNotInHTML)return!1;let x,O;return this.openElements.stackTop===0&&this.fragmentContext?(x=this.fragmentContext,O=this.fragmentContextID):{current:x,currentTagId:O}=this.openElements,r.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(x)===TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(x)===NS.MATHML?!1:this.tokenizer.inForeignNode||(r.tagID===TAG_ID.MGLYPH||r.tagID===TAG_ID.MALIGNMARK)&&O!==void 0&&!this._isIntegrationPoint(O,x,NS.HTML)}_processToken(r){switch(r.type){case TokenType.CHARACTER:{this.onCharacter(r);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(r);break}case TokenType.COMMENT:{this.onComment(r);break}case TokenType.DOCTYPE:{this.onDoctype(r);break}case TokenType.START_TAG:{this._processStartTag(r);break}case TokenType.END_TAG:{this.onEndTag(r);break}case TokenType.EOF:{this.onEof(r);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(r);break}}}_isIntegrationPoint(r,x,O){const E=this.treeAdapter.getNamespaceURI(x),y=this.treeAdapter.getAttrList(x);return isIntegrationPoint(r,E,y,O)}_reconstructActiveFormattingElements(){const r=this.activeFormattingElements.entries.length;if(r){const x=this.activeFormattingElements.entries.findIndex(E=>E.type===EntryType.Marker||this.openElements.contains(E.element)),O=x===-1?r-1:x-1;for(let E=O;E>=0;E--){const y=this.activeFormattingElements.entries[E];this._insertElement(y.token,this.treeAdapter.getNamespaceURI(y.element)),y.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let r=this.openElements.stackTop;r>=0;r--)switch(r===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[r]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(r);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(r>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(r>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(r){if(r>0)for(let x=r-1;x>0;x--){const O=this.openElements.tagIDs[x];if(O===TAG_ID.TEMPLATE)break;if(O===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(r){return TABLE_STRUCTURE_TAGS.has(r)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let r=this.openElements.stackTop;r>=0;r--){const x=this.openElements.items[r];switch(this.openElements.tagIDs[r]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(x)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(x),beforeElement:null};break}case TAG_ID.TABLE:{const O=this.treeAdapter.getParentNode(x);return O?{parent:O,beforeElement:x}:{parent:this.openElements.items[r-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(r){const x=this._findFosterParentingLocation();x.beforeElement?this.treeAdapter.insertBefore(x.parent,r,x.beforeElement):this.treeAdapter.appendChild(x.parent,r)}_isSpecialElement(r,x){const O=this.treeAdapter.getNamespaceURI(r);return SPECIAL_ELEMENTS[O].has(x)}onCharacter(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,r);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,r);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,r);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,r);break}case InsertionMode.IN_HEAD:{tokenInHead(this,r);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,r);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,r);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,r);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(r);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,r);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,r);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,r);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,r);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,r);break}}}onNullCharacter(r){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,r);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,r);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,r);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,r);break}case InsertionMode.IN_HEAD:{tokenInHead(this,r);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,r);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,r);break}case InsertionMode.TEXT:{this._insertCharacters(r);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,r);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,r);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,r);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,r);break}}}onComment(r){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,r);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,r);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,r);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,r);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,r);break}}}onDoctype(r){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,r);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(r,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,r);break}}}onStartTag(r){this.skipNextNewLine=!1,this.currentToken=r,this._processStartTag(r),r.selfClosing&&!r.ackSelfClosing&&this._err(r,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(r){this.shouldProcessStartTagTokenInForeignContent(r)?startTagInForeignContent(this,r):this._startTagOutsideForeignContent(r)}_startTagOutsideForeignContent(r){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,r);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,r);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,r);break}case InsertionMode.IN_HEAD:{startTagInHead(this,r);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,r);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,r);break}case InsertionMode.IN_BODY:{startTagInBody(this,r);break}case InsertionMode.IN_TABLE:{startTagInTable(this,r);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,r);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,r);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,r);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,r);break}case InsertionMode.IN_ROW:{startTagInRow(this,r);break}case InsertionMode.IN_CELL:{startTagInCell(this,r);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,r);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,r);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,r);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,r);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,r);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,r);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,r);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,r);break}}}onEndTag(r){this.skipNextNewLine=!1,this.currentToken=r,this.currentNotInHTML?endTagInForeignContent(this,r):this._endTagOutsideForeignContent(r)}_endTagOutsideForeignContent(r){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,r);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,r);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,r);break}case InsertionMode.IN_HEAD:{endTagInHead(this,r);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,r);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,r);break}case InsertionMode.IN_BODY:{endTagInBody(this,r);break}case InsertionMode.TEXT:{endTagInText(this,r);break}case InsertionMode.IN_TABLE:{endTagInTable(this,r);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,r);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,r);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,r);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,r);break}case InsertionMode.IN_ROW:{endTagInRow(this,r);break}case InsertionMode.IN_CELL:{endTagInCell(this,r);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,r);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,r);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,r);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,r);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,r);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,r);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,r);break}}}onEof(r){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,r);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,r);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,r);break}case InsertionMode.IN_HEAD:{tokenInHead(this,r);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,r);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,r);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,r);break}case InsertionMode.TEXT:{eofInText(this,r);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,r);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,r);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,r);break}}}onWhitespaceCharacter(r){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,r.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(r.chars.length===1)return;r.chars=r.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(r);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(r);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,r);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,r);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,r);break}}}};function aaObtainFormattingElementEntry(o,r){let x=o.activeFormattingElements.getElementEntryInScopeWithTagName(r.tagName);return x?o.openElements.contains(x.element)?o.openElements.hasInScope(r.tagID)||(x=null):(o.activeFormattingElements.removeEntry(x),x=null):genericEndTagInBody(o,r),x}function aaObtainFurthestBlock(o,r){let x=null,O=o.openElements.stackTop;for(;O>=0;O--){const E=o.openElements.items[O];if(E===r.element)break;o._isSpecialElement(E,o.openElements.tagIDs[O])&&(x=E)}return x||(o.openElements.shortenToLength(Math.max(O,0)),o.activeFormattingElements.removeEntry(r)),x}function aaInnerLoop(o,r,x){let O=r,E=o.openElements.getCommonAncestor(r);for(let y=0,S=E;S!==x;y++,S=E){E=o.openElements.getCommonAncestor(S);const j=o.activeFormattingElements.getElementEntry(S),w=j&&y>=AA_INNER_LOOP_ITER;!j||w?(w&&o.activeFormattingElements.removeEntry(j),o.openElements.remove(S)):(S=aaRecreateElementFromEntry(o,j),O===r&&(o.activeFormattingElements.bookmark=j),o.treeAdapter.detachNode(O),o.treeAdapter.appendChild(S,O),O=S)}return O}function aaRecreateElementFromEntry(o,r){const x=o.treeAdapter.getNamespaceURI(r.element),O=o.treeAdapter.createElement(r.token.tagName,x,r.token.attrs);return o.openElements.replace(r.element,O),r.element=O,O}function aaInsertLastNodeInCommonAncestor(o,r,x){const O=o.treeAdapter.getTagName(r),E=getTagID(O);if(o._isElementCausesFosterParenting(E))o._fosterParentElement(x);else{const y=o.treeAdapter.getNamespaceURI(r);E===TAG_ID.TEMPLATE&&y===NS.HTML&&(r=o.treeAdapter.getTemplateContent(r)),o.treeAdapter.appendChild(r,x)}}function aaReplaceFormattingElement(o,r,x){const O=o.treeAdapter.getNamespaceURI(x.element),{token:E}=x,y=o.treeAdapter.createElement(E.tagName,O,E.attrs);o._adoptNodes(r,y),o.treeAdapter.appendChild(r,y),o.activeFormattingElements.insertElementAfterBookmark(y,E),o.activeFormattingElements.removeEntry(x),o.openElements.remove(x.element),o.openElements.insertAfter(r,y,E.tagID)}function callAdoptionAgency(o,r){for(let x=0;x<AA_OUTER_LOOP_ITER;x++){const O=aaObtainFormattingElementEntry(o,r);if(!O)break;const E=aaObtainFurthestBlock(o,O);if(!E)break;o.activeFormattingElements.bookmark=O;const y=aaInnerLoop(o,E,O.element),S=o.openElements.getCommonAncestor(O.element);o.treeAdapter.detachNode(y),S&&aaInsertLastNodeInCommonAncestor(o,S,y),aaReplaceFormattingElement(o,E,O)}}function appendComment(o,r){o._appendCommentNode(r,o.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(o,r){o._appendCommentNode(r,o.openElements.items[0])}function appendCommentToDocument(o,r){o._appendCommentNode(r,o.document)}function stopParsing(o,r){if(o.stopped=!0,r.location){const x=o.fragmentContext?0:2;for(let O=o.openElements.stackTop;O>=x;O--)o._setEndLocation(o.openElements.items[O],r);if(!o.fragmentContext&&o.openElements.stackTop>=0){const O=o.openElements.items[0],E=o.treeAdapter.getNodeSourceCodeLocation(O);if(E&&!E.endTag&&(o._setEndLocation(O,r),o.openElements.stackTop>=1)){const y=o.openElements.items[1],S=o.treeAdapter.getNodeSourceCodeLocation(y);S&&!S.endTag&&o._setEndLocation(y,r)}}}}function doctypeInInitialMode(o,r){o._setDocumentType(r);const x=r.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(r);isConforming(r)||o._err(r,ERR.nonConformingDoctype),o.treeAdapter.setDocumentMode(o.document,x),o.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(o,r){o._err(r,ERR.missingDoctype,!0),o.treeAdapter.setDocumentMode(o.document,DOCUMENT_MODE.QUIRKS),o.insertionMode=InsertionMode.BEFORE_HTML,o._processToken(r)}function startTagBeforeHtml(o,r){r.tagID===TAG_ID.HTML?(o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(o,r)}function endTagBeforeHtml(o,r){const x=r.tagID;(x===TAG_ID.HTML||x===TAG_ID.HEAD||x===TAG_ID.BODY||x===TAG_ID.BR)&&tokenBeforeHtml(o,r)}function tokenBeforeHtml(o,r){o._insertFakeRootElement(),o.insertionMode=InsertionMode.BEFORE_HEAD,o._processToken(r)}function startTagBeforeHead(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.HEAD:{o._insertElement(r,NS.HTML),o.headElement=o.openElements.current,o.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(o,r)}}function endTagBeforeHead(o,r){const x=r.tagID;x===TAG_ID.HEAD||x===TAG_ID.BODY||x===TAG_ID.HTML||x===TAG_ID.BR?tokenBeforeHead(o,r):o._err(r,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(o,r){o._insertFakeElement(TAG_NAMES.HEAD,TAG_ID.HEAD),o.headElement=o.openElements.current,o.insertionMode=InsertionMode.IN_HEAD,o._processToken(r)}function startTagInHead(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{o._appendElement(r,NS.HTML),r.ackSelfClosing=!0;break}case TAG_ID.TITLE:{o._switchToTextParsing(r,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{o.options.scriptingEnabled?o._switchToTextParsing(r,TokenizerMode.RAWTEXT):(o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{o._switchToTextParsing(r,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{o._switchToTextParsing(r,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{o._insertTemplate(r),o.activeFormattingElements.insertMarker(),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_TEMPLATE,o.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{o._err(r,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(o,r)}}function endTagInHead(o,r){switch(r.tagID){case TAG_ID.HEAD:{o.openElements.pop(),o.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(o,r);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}default:o._err(r,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(o,r){o.openElements.tmplCount>0?(o.openElements.generateImpliedEndTagsThoroughly(),o.openElements.currentTagId!==TAG_ID.TEMPLATE&&o._err(r,ERR.closingOfElementWithOpenChildElements),o.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),o.activeFormattingElements.clearToLastMarker(),o.tmplInsertionModeStack.shift(),o._resetInsertionMode()):o._err(r,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(o,r){o.openElements.pop(),o.insertionMode=InsertionMode.AFTER_HEAD,o._processToken(r)}function startTagInHeadNoScript(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(o,r);break}case TAG_ID.NOSCRIPT:{o._err(r,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(o,r)}}function endTagInHeadNoScript(o,r){switch(r.tagID){case TAG_ID.NOSCRIPT:{o.openElements.pop(),o.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(o,r);break}default:o._err(r,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(o,r){const x=r.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;o._err(r,x),o.openElements.pop(),o.insertionMode=InsertionMode.IN_HEAD,o._processToken(r)}function startTagAfterHead(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.BODY:{o._insertElement(r,NS.HTML),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{o._err(r,ERR.abandonedHeadElementChild),o.openElements.push(o.headElement,TAG_ID.HEAD),startTagInHead(o,r),o.openElements.remove(o.headElement);break}case TAG_ID.HEAD:{o._err(r,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(o,r)}}function endTagAfterHead(o,r){switch(r.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(o,r);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}default:o._err(r,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(o,r){o._insertFakeElement(TAG_NAMES.BODY,TAG_ID.BODY),o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,r)}function modeInBody(o,r){switch(r.type){case TokenType.CHARACTER:{characterInBody(o,r);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(o,r);break}case TokenType.COMMENT:{appendComment(o,r);break}case TokenType.START_TAG:{startTagInBody(o,r);break}case TokenType.END_TAG:{endTagInBody(o,r);break}case TokenType.EOF:{eofInBody(o,r);break}}}function whitespaceCharacterInBody(o,r){o._reconstructActiveFormattingElements(),o._insertCharacters(r)}function characterInBody(o,r){o._reconstructActiveFormattingElements(),o._insertCharacters(r),o.framesetOk=!1}function htmlStartTagInBody(o,r){o.openElements.tmplCount===0&&o.treeAdapter.adoptAttributes(o.openElements.items[0],r.attrs)}function bodyStartTagInBody(o,r){const x=o.openElements.tryPeekProperlyNestedBodyElement();x&&o.openElements.tmplCount===0&&(o.framesetOk=!1,o.treeAdapter.adoptAttributes(x,r.attrs))}function framesetStartTagInBody(o,r){const x=o.openElements.tryPeekProperlyNestedBodyElement();o.framesetOk&&x&&(o.treeAdapter.detachNode(x),o.openElements.popAllUpToHtmlElement(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML)}function numberedHeaderStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o.openElements.currentTagId!==void 0&&NUMBERED_HEADERS.has(o.openElements.currentTagId)&&o.openElements.pop(),o._insertElement(r,NS.HTML)}function preStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML),o.skipNextNewLine=!0,o.framesetOk=!1}function formStartTagInBody(o,r){const x=o.openElements.tmplCount>0;(!o.formElement||x)&&(o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML),x||(o.formElement=o.openElements.current))}function listItemStartTagInBody(o,r){o.framesetOk=!1;const x=r.tagID;for(let O=o.openElements.stackTop;O>=0;O--){const E=o.openElements.tagIDs[O];if(x===TAG_ID.LI&&E===TAG_ID.LI||(x===TAG_ID.DD||x===TAG_ID.DT)&&(E===TAG_ID.DD||E===TAG_ID.DT)){o.openElements.generateImpliedEndTagsWithExclusion(E),o.openElements.popUntilTagNamePopped(E);break}if(E!==TAG_ID.ADDRESS&&E!==TAG_ID.DIV&&E!==TAG_ID.P&&o._isSpecialElement(o.openElements.items[O],E))break}o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML)}function plaintextStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML),o.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(o,r){o.openElements.hasInScope(TAG_ID.BUTTON)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML),o.framesetOk=!1}function aStartTagInBody(o,r){const x=o.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES.A);x&&(callAdoptionAgency(o,r),o.openElements.remove(x.element),o.activeFormattingElements.removeEntry(x)),o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,r)}function bStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,r)}function nobrStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(o,r),o._reconstructActiveFormattingElements()),o._insertElement(r,NS.HTML),o.activeFormattingElements.pushElement(o.openElements.current,r)}function appletStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML),o.activeFormattingElements.insertMarker(),o.framesetOk=!1}function tableStartTagInBody(o,r){o.treeAdapter.getDocumentMode(o.document)!==DOCUMENT_MODE.QUIRKS&&o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._insertElement(r,NS.HTML),o.framesetOk=!1,o.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._appendElement(r,NS.HTML),o.framesetOk=!1,r.ackSelfClosing=!0}function isHiddenInput(o){const r=getTokenAttr(o,ATTRS.TYPE);return r!=null&&r.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._appendElement(r,NS.HTML),isHiddenInput(r)||(o.framesetOk=!1),r.ackSelfClosing=!0}function paramStartTagInBody(o,r){o._appendElement(r,NS.HTML),r.ackSelfClosing=!0}function hrStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._appendElement(r,NS.HTML),o.framesetOk=!1,r.ackSelfClosing=!0}function imageStartTagInBody(o,r){r.tagName=TAG_NAMES.IMG,r.tagID=TAG_ID.IMG,areaStartTagInBody(o,r)}function textareaStartTagInBody(o,r){o._insertElement(r,NS.HTML),o.skipNextNewLine=!0,o.tokenizer.state=TokenizerMode.RCDATA,o.originalInsertionMode=o.insertionMode,o.framesetOk=!1,o.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(o,r){o.openElements.hasInButtonScope(TAG_ID.P)&&o._closePElement(),o._reconstructActiveFormattingElements(),o.framesetOk=!1,o._switchToTextParsing(r,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(o,r){o.framesetOk=!1,o._switchToTextParsing(r,TokenizerMode.RAWTEXT)}function rawTextStartTagInBody(o,r){o._switchToTextParsing(r,TokenizerMode.RAWTEXT)}function selectStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML),o.framesetOk=!1,o.insertionMode=o.insertionMode===InsertionMode.IN_TABLE||o.insertionMode===InsertionMode.IN_CAPTION||o.insertionMode===InsertionMode.IN_TABLE_BODY||o.insertionMode===InsertionMode.IN_ROW||o.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(o,r){o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML)}function rbStartTagInBody(o,r){o.openElements.hasInScope(TAG_ID.RUBY)&&o.openElements.generateImpliedEndTags(),o._insertElement(r,NS.HTML)}function rtStartTagInBody(o,r){o.openElements.hasInScope(TAG_ID.RUBY)&&o.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),o._insertElement(r,NS.HTML)}function mathStartTagInBody(o,r){o._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(r),adjustTokenXMLAttrs(r),r.selfClosing?o._appendElement(r,NS.MATHML):o._insertElement(r,NS.MATHML),r.ackSelfClosing=!0}function svgStartTagInBody(o,r){o._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(r),adjustTokenXMLAttrs(r),r.selfClosing?o._appendElement(r,NS.SVG):o._insertElement(r,NS.SVG),r.ackSelfClosing=!0}function genericStartTagInBody(o,r){o._reconstructActiveFormattingElements(),o._insertElement(r,NS.HTML)}function startTagInBody(o,r){switch(r.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(o,r);break}case TAG_ID.A:{aStartTagInBody(o,r);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(o,r);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(o,r);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(o,r);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(o,r);break}case TAG_ID.HR:{hrStartTagInBody(o,r);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(o,r);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(o,r);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(o,r);break}case TAG_ID.XMP:{xmpStartTagInBody(o,r);break}case TAG_ID.SVG:{svgStartTagInBody(o,r);break}case TAG_ID.HTML:{htmlStartTagInBody(o,r);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(o,r);break}case TAG_ID.BODY:{bodyStartTagInBody(o,r);break}case TAG_ID.FORM:{formStartTagInBody(o,r);break}case TAG_ID.NOBR:{nobrStartTagInBody(o,r);break}case TAG_ID.MATH:{mathStartTagInBody(o,r);break}case TAG_ID.TABLE:{tableStartTagInBody(o,r);break}case TAG_ID.INPUT:{inputStartTagInBody(o,r);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(o,r);break}case TAG_ID.IMAGE:{imageStartTagInBody(o,r);break}case TAG_ID.BUTTON:{buttonStartTagInBody(o,r);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(o,r);break}case TAG_ID.IFRAME:{iframeStartTagInBody(o,r);break}case TAG_ID.SELECT:{selectStartTagInBody(o,r);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(o,r);break}case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:{rawTextStartTagInBody(o,r);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(o,r);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(o,r);break}case TAG_ID.NOSCRIPT:{o.options.scriptingEnabled?rawTextStartTagInBody(o,r):genericStartTagInBody(o,r);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(o,r);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(o,r)}}function bodyEndTagInBody(o,r){if(o.openElements.hasInScope(TAG_ID.BODY)&&(o.insertionMode=InsertionMode.AFTER_BODY,o.options.sourceCodeLocationInfo)){const x=o.openElements.tryPeekProperlyNestedBodyElement();x&&o._setEndLocation(x,r)}}function htmlEndTagInBody(o,r){o.openElements.hasInScope(TAG_ID.BODY)&&(o.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(o,r))}function addressEndTagInBody(o,r){const x=r.tagID;o.openElements.hasInScope(x)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(x))}function formEndTagInBody(o){const r=o.openElements.tmplCount>0,{formElement:x}=o;r||(o.formElement=null),(x||r)&&o.openElements.hasInScope(TAG_ID.FORM)&&(o.openElements.generateImpliedEndTags(),r?o.openElements.popUntilTagNamePopped(TAG_ID.FORM):x&&o.openElements.remove(x))}function pEndTagInBody(o){o.openElements.hasInButtonScope(TAG_ID.P)||o._insertFakeElement(TAG_NAMES.P,TAG_ID.P),o._closePElement()}function liEndTagInBody(o){o.openElements.hasInListItemScope(TAG_ID.LI)&&(o.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),o.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(o,r){const x=r.tagID;o.openElements.hasInScope(x)&&(o.openElements.generateImpliedEndTagsWithExclusion(x),o.openElements.popUntilTagNamePopped(x))}function numberedHeaderEndTagInBody(o){o.openElements.hasNumberedHeaderInScope()&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(o,r){const x=r.tagID;o.openElements.hasInScope(x)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(x),o.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(o){o._reconstructActiveFormattingElements(),o._insertFakeElement(TAG_NAMES.BR,TAG_ID.BR),o.openElements.pop(),o.framesetOk=!1}function genericEndTagInBody(o,r){const x=r.tagName,O=r.tagID;for(let E=o.openElements.stackTop;E>0;E--){const y=o.openElements.items[E],S=o.openElements.tagIDs[E];if(O===S&&(O!==TAG_ID.UNKNOWN||o.treeAdapter.getTagName(y)===x)){o.openElements.generateImpliedEndTagsWithExclusion(O),o.openElements.stackTop>=E&&o.openElements.shortenToLength(E);break}if(o._isSpecialElement(y,S))break}}function endTagInBody(o,r){switch(r.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(o,r);break}case TAG_ID.P:{pEndTagInBody(o);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(o,r);break}case TAG_ID.LI:{liEndTagInBody(o);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(o,r);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(o);break}case TAG_ID.BR:{brEndTagInBody(o);break}case TAG_ID.BODY:{bodyEndTagInBody(o,r);break}case TAG_ID.HTML:{htmlEndTagInBody(o,r);break}case TAG_ID.FORM:{formEndTagInBody(o);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(o,r);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}default:genericEndTagInBody(o,r)}}function eofInBody(o,r){o.tmplInsertionModeStack.length>0?eofInTemplate(o,r):stopParsing(o,r)}function endTagInText(o,r){var x;r.tagID===TAG_ID.SCRIPT&&((x=o.scriptHandler)===null||x===void 0||x.call(o,o.openElements.current)),o.openElements.pop(),o.insertionMode=o.originalInsertionMode}function eofInText(o,r){o._err(r,ERR.eofInElementThatCanContainOnlyText),o.openElements.pop(),o.insertionMode=o.originalInsertionMode,o.onEof(r)}function characterInTable(o,r){if(o.openElements.currentTagId!==void 0&&TABLE_STRUCTURE_TAGS.has(o.openElements.currentTagId))switch(o.pendingCharacterTokens.length=0,o.hasNonWhitespacePendingCharacterToken=!1,o.originalInsertionMode=o.insertionMode,o.insertionMode=InsertionMode.IN_TABLE_TEXT,r.type){case TokenType.CHARACTER:{characterInTableText(o,r);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(o,r);break}}else tokenInTable(o,r)}function captionStartTagInTable(o,r){o.openElements.clearBackToTableContext(),o.activeFormattingElements.insertMarker(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(o,r){o.openElements.clearBackToTableContext(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(o,r){o.openElements.clearBackToTableContext(),o._insertFakeElement(TAG_NAMES.COLGROUP,TAG_ID.COLGROUP),o.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(o,r)}function tbodyStartTagInTable(o,r){o.openElements.clearBackToTableContext(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(o,r){o.openElements.clearBackToTableContext(),o._insertFakeElement(TAG_NAMES.TBODY,TAG_ID.TBODY),o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,r)}function tableStartTagInTable(o,r){o.openElements.hasInTableScope(TAG_ID.TABLE)&&(o.openElements.popUntilTagNamePopped(TAG_ID.TABLE),o._resetInsertionMode(),o._processStartTag(r))}function inputStartTagInTable(o,r){isHiddenInput(r)?o._appendElement(r,NS.HTML):tokenInTable(o,r),r.ackSelfClosing=!0}function formStartTagInTable(o,r){!o.formElement&&o.openElements.tmplCount===0&&(o._insertElement(r,NS.HTML),o.formElement=o.openElements.current,o.openElements.pop())}function startTagInTable(o,r){switch(r.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(o,r);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(o,r);break}case TAG_ID.COL:{colStartTagInTable(o,r);break}case TAG_ID.FORM:{formStartTagInTable(o,r);break}case TAG_ID.TABLE:{tableStartTagInTable(o,r);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(o,r);break}case TAG_ID.INPUT:{inputStartTagInTable(o,r);break}case TAG_ID.CAPTION:{captionStartTagInTable(o,r);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(o,r);break}default:tokenInTable(o,r)}}function endTagInTable(o,r){switch(r.tagID){case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.TABLE)&&(o.openElements.popUntilTagNamePopped(TAG_ID.TABLE),o._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(o,r)}}function tokenInTable(o,r){const x=o.fosterParentingEnabled;o.fosterParentingEnabled=!0,modeInBody(o,r),o.fosterParentingEnabled=x}function whitespaceCharacterInTableText(o,r){o.pendingCharacterTokens.push(r)}function characterInTableText(o,r){o.pendingCharacterTokens.push(r),o.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(o,r){let x=0;if(o.hasNonWhitespacePendingCharacterToken)for(;x<o.pendingCharacterTokens.length;x++)tokenInTable(o,o.pendingCharacterTokens[x]);else for(;x<o.pendingCharacterTokens.length;x++)o._insertCharacters(o.pendingCharacterTokens[x]);o.insertionMode=o.originalInsertionMode,o._processToken(r)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(o,r){const x=r.tagID;TABLE_VOID_ELEMENTS.has(x)?o.openElements.hasInTableScope(TAG_ID.CAPTION)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,r)):startTagInBody(o,r)}function endTagInCaption(o,r){const x=r.tagID;switch(x){case TAG_ID.CAPTION:case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.CAPTION)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_TABLE,x===TAG_ID.TABLE&&endTagInTable(o,r));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(o,r)}}function startTagInColumnGroup(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.COL:{o._appendElement(r,NS.HTML),r.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(o,r);break}default:tokenInColumnGroup(o,r)}}function endTagInColumnGroup(o,r){switch(r.tagID){case TAG_ID.COLGROUP:{o.openElements.currentTagId===TAG_ID.COLGROUP&&(o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}case TAG_ID.COL:break;default:tokenInColumnGroup(o,r)}}function tokenInColumnGroup(o,r){o.openElements.currentTagId===TAG_ID.COLGROUP&&(o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,o._processToken(r))}function startTagInTableBody(o,r){switch(r.tagID){case TAG_ID.TR:{o.openElements.clearBackToTableBodyContext(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{o.openElements.clearBackToTableBodyContext(),o._insertFakeElement(TAG_NAMES.TR,TAG_ID.TR),o.insertionMode=InsertionMode.IN_ROW,startTagInRow(o,r);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.openElements.hasTableBodyContextInTableScope()&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,r));break}default:startTagInTable(o,r)}}function endTagInTableBody(o,r){const x=r.tagID;switch(r.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.openElements.hasInTableScope(x)&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{o.openElements.hasTableBodyContextInTableScope()&&(o.openElements.clearBackToTableBodyContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE,endTagInTable(o,r));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(o,r)}}function startTagInRow(o,r){switch(r.tagID){case TAG_ID.TH:case TAG_ID.TD:{o.openElements.clearBackToTableRowContext(),o._insertElement(r,NS.HTML),o.insertionMode=InsertionMode.IN_CELL,o.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,r));break}default:startTagInTable(o,r)}}function endTagInRow(o,r){switch(r.tagID){case TAG_ID.TR:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{o.openElements.hasInTableScope(TAG_ID.TR)&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(o,r));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(o.openElements.hasInTableScope(r.tagID)||o.openElements.hasInTableScope(TAG_ID.TR))&&(o.openElements.clearBackToTableRowContext(),o.openElements.pop(),o.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(o,r));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(o,r)}}function startTagInCell(o,r){const x=r.tagID;TABLE_VOID_ELEMENTS.has(x)?(o.openElements.hasInTableScope(TAG_ID.TD)||o.openElements.hasInTableScope(TAG_ID.TH))&&(o._closeTableCell(),startTagInRow(o,r)):startTagInBody(o,r)}function endTagInCell(o,r){const x=r.tagID;switch(x){case TAG_ID.TD:case TAG_ID.TH:{o.openElements.hasInTableScope(x)&&(o.openElements.generateImpliedEndTags(),o.openElements.popUntilTagNamePopped(x),o.activeFormattingElements.clearToLastMarker(),o.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{o.openElements.hasInTableScope(x)&&(o._closeTableCell(),endTagInRow(o,r));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(o,r)}}function startTagInSelect(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.OPTION:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o._insertElement(r,NS.HTML);break}case TAG_ID.OPTGROUP:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o.openElements.currentTagId===TAG_ID.OPTGROUP&&o.openElements.pop(),o._insertElement(r,NS.HTML);break}case TAG_ID.HR:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop(),o.openElements.currentTagId===TAG_ID.OPTGROUP&&o.openElements.pop(),o._appendElement(r,NS.HTML),r.ackSelfClosing=!0;break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{o.openElements.hasInSelectScope(TAG_ID.SELECT)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),r.tagID!==TAG_ID.SELECT&&o._processStartTag(r));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(o,r);break}}}function endTagInSelect(o,r){switch(r.tagID){case TAG_ID.OPTGROUP:{o.openElements.stackTop>0&&o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.tagIDs[o.openElements.stackTop-1]===TAG_ID.OPTGROUP&&o.openElements.pop(),o.openElements.currentTagId===TAG_ID.OPTGROUP&&o.openElements.pop();break}case TAG_ID.OPTION:{o.openElements.currentTagId===TAG_ID.OPTION&&o.openElements.pop();break}case TAG_ID.SELECT:{o.openElements.hasInSelectScope(TAG_ID.SELECT)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(o,r);break}}}function startTagInSelectInTable(o,r){const x=r.tagID;x===TAG_ID.CAPTION||x===TAG_ID.TABLE||x===TAG_ID.TBODY||x===TAG_ID.TFOOT||x===TAG_ID.THEAD||x===TAG_ID.TR||x===TAG_ID.TD||x===TAG_ID.TH?(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),o._processStartTag(r)):startTagInSelect(o,r)}function endTagInSelectInTable(o,r){const x=r.tagID;x===TAG_ID.CAPTION||x===TAG_ID.TABLE||x===TAG_ID.TBODY||x===TAG_ID.TFOOT||x===TAG_ID.THEAD||x===TAG_ID.TR||x===TAG_ID.TD||x===TAG_ID.TH?o.openElements.hasInTableScope(x)&&(o.openElements.popUntilTagNamePopped(TAG_ID.SELECT),o._resetInsertionMode(),o.onEndTag(r)):endTagInSelect(o,r)}function startTagInTemplate(o,r){switch(r.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(o,r);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{o.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,o.insertionMode=InsertionMode.IN_TABLE,startTagInTable(o,r);break}case TAG_ID.COL:{o.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,o.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(o,r);break}case TAG_ID.TR:{o.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,o.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(o,r);break}case TAG_ID.TD:case TAG_ID.TH:{o.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,o.insertionMode=InsertionMode.IN_ROW,startTagInRow(o,r);break}default:o.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,o.insertionMode=InsertionMode.IN_BODY,startTagInBody(o,r)}}function endTagInTemplate(o,r){r.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(o,r)}function eofInTemplate(o,r){o.openElements.tmplCount>0?(o.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),o.activeFormattingElements.clearToLastMarker(),o.tmplInsertionModeStack.shift(),o._resetInsertionMode(),o.onEof(r)):stopParsing(o,r)}function startTagAfterBody(o,r){r.tagID===TAG_ID.HTML?startTagInBody(o,r):tokenAfterBody(o,r)}function endTagAfterBody(o,r){var x;if(r.tagID===TAG_ID.HTML){if(o.fragmentContext||(o.insertionMode=InsertionMode.AFTER_AFTER_BODY),o.options.sourceCodeLocationInfo&&o.openElements.tagIDs[0]===TAG_ID.HTML){o._setEndLocation(o.openElements.items[0],r);const O=o.openElements.items[1];O&&!(!((x=o.treeAdapter.getNodeSourceCodeLocation(O))===null||x===void 0)&&x.endTag)&&o._setEndLocation(O,r)}}else tokenAfterBody(o,r)}function tokenAfterBody(o,r){o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,r)}function startTagInFrameset(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.FRAMESET:{o._insertElement(r,NS.HTML);break}case TAG_ID.FRAME:{o._appendElement(r,NS.HTML),r.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(o,r);break}}}function endTagInFrameset(o,r){r.tagID===TAG_ID.FRAMESET&&!o.openElements.isRootHtmlElementCurrent()&&(o.openElements.pop(),!o.fragmentContext&&o.openElements.currentTagId!==TAG_ID.FRAMESET&&(o.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.NOFRAMES:{startTagInHead(o,r);break}}}function endTagAfterFrameset(o,r){r.tagID===TAG_ID.HTML&&(o.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(o,r){r.tagID===TAG_ID.HTML?startTagInBody(o,r):tokenAfterAfterBody(o,r)}function tokenAfterAfterBody(o,r){o.insertionMode=InsertionMode.IN_BODY,modeInBody(o,r)}function startTagAfterAfterFrameset(o,r){switch(r.tagID){case TAG_ID.HTML:{startTagInBody(o,r);break}case TAG_ID.NOFRAMES:{startTagInHead(o,r);break}}}function nullCharacterInForeignContent(o,r){r.chars=REPLACEMENT_CHARACTER,o._insertCharacters(r)}function characterInForeignContent(o,r){o._insertCharacters(r),o.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(o){for(;o.treeAdapter.getNamespaceURI(o.openElements.current)!==NS.HTML&&o.openElements.currentTagId!==void 0&&!o._isIntegrationPoint(o.openElements.currentTagId,o.openElements.current);)o.openElements.pop()}function startTagInForeignContent(o,r){if(causesExit(r))popUntilHtmlOrIntegrationPoint(o),o._startTagOutsideForeignContent(r);else{const x=o._getAdjustedCurrentElement(),O=o.treeAdapter.getNamespaceURI(x);O===NS.MATHML?adjustTokenMathMLAttrs(r):O===NS.SVG&&(adjustTokenSVGTagName(r),adjustTokenSVGAttrs(r)),adjustTokenXMLAttrs(r),r.selfClosing?o._appendElement(r,O):o._insertElement(r,O),r.ackSelfClosing=!0}}function endTagInForeignContent(o,r){if(r.tagID===TAG_ID.P||r.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(o),o._endTagOutsideForeignContent(r);return}for(let x=o.openElements.stackTop;x>0;x--){const O=o.openElements.items[x];if(o.treeAdapter.getNamespaceURI(O)===NS.HTML){o._endTagOutsideForeignContent(r);break}const E=o.treeAdapter.getTagName(O);if(E.toLowerCase()===r.tagName){r.tagName=E,o.openElements.shortenToLength(x);break}}}TAG_NAMES.AREA,TAG_NAMES.BASE,TAG_NAMES.BASEFONT,TAG_NAMES.BGSOUND,TAG_NAMES.BR,TAG_NAMES.COL,TAG_NAMES.EMBED,TAG_NAMES.FRAME,TAG_NAMES.HR,TAG_NAMES.IMG,TAG_NAMES.INPUT,TAG_NAMES.KEYGEN,TAG_NAMES.LINK,TAG_NAMES.META,TAG_NAMES.PARAM,TAG_NAMES.SOURCE,TAG_NAMES.TRACK,TAG_NAMES.WBR;const gfmTagfilterExpression=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,knownMdxNames=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),parseOptions={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(o,r){const x=documentMode(o),O=zwitch("type",{handlers:{root:root$5,element,text,comment:comment$1,doctype,raw:handleRaw},unknown}),E={parser:x?new Parser$1(parseOptions):Parser$1.getFragmentParser(void 0,parseOptions),handle(j){O(j,E)},stitches:!1,options:r||{}};O(o,E),resetTokenizer(E,pointStart());const y=x?E.parser.document:E.parser.getFragment(),S=fromParse5(y,{file:E.options.file});return E.stitches&&visit(S,"comment",function(j,w,_){const Q=j;if(Q.value.stitch&&_&&w!==void 0){const I=_.children;return I[w]=Q.value.stitch,w}}),S.type==="root"&&S.children.length===1&&S.children[0].type===o.type?S.children[0]:S}function all(o,r){let x=-1;if(o)for(;++x<o.length;)r.handle(o[x])}function root$5(o,r){all(o.children,r)}function element(o,r){startTag(o,r),all(o.children,r),endTag(o,r)}function text(o,r){r.parser.tokenizer.state>4&&(r.parser.tokenizer.state=0);const x={type:TokenType.CHARACTER,chars:o.value,location:createParse5Location(o)};resetTokenizer(r,pointStart(o)),r.parser.currentToken=x,r.parser._processToken(r.parser.currentToken)}function doctype(o,r){const x={type:TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(o)};resetTokenizer(r,pointStart(o)),r.parser.currentToken=x,r.parser._processToken(r.parser.currentToken)}function stitch(o,r){r.stitches=!0;const x=cloneWithoutChildren(o);if("children"in o&&"children"in x){const O=raw({type:"root",children:o.children},r.options);x.children=O.children}comment$1({type:"comment",value:{stitch:x}},r)}function comment$1(o,r){const x=o.value,O={type:TokenType.COMMENT,data:x,location:createParse5Location(o)};resetTokenizer(r,pointStart(o)),r.parser.currentToken=O,r.parser._processToken(r.parser.currentToken)}function handleRaw(o,r){if(r.parser.tokenizer.preprocessor.html="",r.parser.tokenizer.preprocessor.pos=-1,r.parser.tokenizer.preprocessor.lastGapPos=-2,r.parser.tokenizer.preprocessor.gapStack=[],r.parser.tokenizer.preprocessor.skipNextNewLine=!1,r.parser.tokenizer.preprocessor.lastChunkWritten=!1,r.parser.tokenizer.preprocessor.endOfChunkHit=!1,r.parser.tokenizer.preprocessor.isEol=!1,setPoint(r,pointStart(o)),r.parser.tokenizer.write(r.options.tagfilter?o.value.replace(gfmTagfilterExpression,"&lt;$1$2"):o.value,!1),r.parser.tokenizer._runParsingLoop(),r.parser.tokenizer.state===72||r.parser.tokenizer.state===78){r.parser.tokenizer.preprocessor.lastChunkWritten=!0;const x=r.parser.tokenizer._consume();r.parser.tokenizer._callState(x)}}function unknown(o,r){const x=o;if(r.options.passThrough&&r.options.passThrough.includes(x.type))stitch(x,r);else{let O="";throw knownMdxNames.has(x.type)&&(O=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+x.type+"` node"+O)}}function resetTokenizer(o,r){setPoint(o,r);const x=o.parser.tokenizer.currentCharacterToken;x&&x.location&&(x.location.endLine=o.parser.tokenizer.preprocessor.line,x.location.endCol=o.parser.tokenizer.preprocessor.col+1,x.location.endOffset=o.parser.tokenizer.preprocessor.offset+1,o.parser.currentToken=x,o.parser._processToken(o.parser.currentToken)),o.parser.tokenizer.paused=!1,o.parser.tokenizer.inLoop=!1,o.parser.tokenizer.active=!1,o.parser.tokenizer.returnState=TokenizerMode.DATA,o.parser.tokenizer.charRefCode=-1,o.parser.tokenizer.consumedAfterSnapshot=-1,o.parser.tokenizer.currentLocation=null,o.parser.tokenizer.currentCharacterToken=null,o.parser.tokenizer.currentToken=null,o.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(o,r){if(r&&r.offset!==void 0){const x={startLine:r.line,startCol:r.column,startOffset:r.offset,endLine:-1,endCol:-1,endOffset:-1};o.parser.tokenizer.preprocessor.lineStartPos=-r.column+1,o.parser.tokenizer.preprocessor.droppedBufferSize=r.offset,o.parser.tokenizer.preprocessor.line=r.line,o.parser.tokenizer.currentLocation=x}}function startTag(o,r){const x=o.tagName.toLowerCase();if(r.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(r,pointStart(o));const O=r.parser.openElements.current;let E="namespaceURI"in O?O.namespaceURI:webNamespaces.html;E===webNamespaces.html&&x==="svg"&&(E=webNamespaces.svg);const y=toParse5({...o,children:[]},{space:E===webNamespaces.svg?"svg":"html"}),S={type:TokenType.START_TAG,tagName:x,tagID:getTagID(x),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in y?y.attrs:[],location:createParse5Location(o)};r.parser.currentToken=S,r.parser._processToken(r.parser.currentToken),r.parser.tokenizer.lastStartTagName=x}function endTag(o,r){const x=o.tagName.toLowerCase();if(!r.parser.tokenizer.inForeignNode&&htmlVoidElements.includes(x)||r.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(r,pointEnd(o));const O={type:TokenType.END_TAG,tagName:x,tagID:getTagID(x),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(o)};r.parser.currentToken=O,r.parser._processToken(r.parser.currentToken),x===r.parser.tokenizer.lastStartTagName&&(r.parser.tokenizer.state===TokenizerMode.RCDATA||r.parser.tokenizer.state===TokenizerMode.RAWTEXT||r.parser.tokenizer.state===TokenizerMode.SCRIPT_DATA)&&(r.parser.tokenizer.state=TokenizerMode.DATA)}function documentMode(o){const r=o.type==="root"?o.children[0]:o;return!!(r&&(r.type==="doctype"||r.type==="element"&&r.tagName.toLowerCase()==="html"))}function createParse5Location(o){const r=pointStart(o)||{line:void 0,column:void 0,offset:void 0},x=pointEnd(o)||{line:void 0,column:void 0,offset:void 0};return{startLine:r.line,startCol:r.column,startOffset:r.offset,endLine:x.line,endCol:x.column,endOffset:x.offset}}function cloneWithoutChildren(o){return"children"in o?structuredClone({...o,children:[]}):structuredClone(o)}function rehypeRaw(o){return function(r,x){return raw(r,{...o,file:x})}}class ChatError extends Error{constructor(x,O,E){super(x);sr(this,"code");sr(this,"status");sr(this,"response");sr(this,"isRetryable");sr(this,"originalCause");this.name="ChatError",this.code=O,this.status=E==null?void 0:E.status,this.response=E==null?void 0:E.response,this.originalCause=E==null?void 0:E.cause,this.isRetryable=["NETWORK_ERROR","TIMEOUT","SERVER_ERROR","RATE_LIMITED"].includes(O)}static fromResponse(x,O){const E=extractErrorMessage(O)||`HTTP ${x}`;return x===401||x===403?new ChatError(E,"UNAUTHORIZED",{status:x,response:O}):x===429?new ChatError(E,"RATE_LIMITED",{status:x,response:O}):x>=400&&x<500?new ChatError(E,"VALIDATION_ERROR",{status:x,response:O}):x>=500?new ChatError(E,"SERVER_ERROR",{status:x,response:O}):new ChatError(E,"UNKNOWN",{status:x,response:O})}static fromNetworkError(x){if(x instanceof DOMException&&x.name==="AbortError")return new ChatError("Request aborted","ABORTED",{cause:x});if(x instanceof TypeError&&x.message.includes("fetch"))return new ChatError("Network request failed","NETWORK_ERROR",{cause:x});const O=x instanceof Error?x.message:"Unknown error";return new ChatError(O,"UNKNOWN",{cause:x})}}function extractErrorMessage(o){if(!o||typeof o!="object")return null;const r=o;if(typeof r.error=="string")return r.error;if(typeof r.message=="string")return r.message;if(r.error&&typeof r.error=="object"){const x=r.error;if(typeof x.message=="string")return x.message}return null}function getChatBaseUrl(){var O,E,y,S;const o=typeof window<"u"?window:null,r=((O=o==null?void 0:o.APP_CONFIG)==null?void 0:O.chatBaseUrl)??((E=o==null?void 0:o.__APP_CONFIG)==null?void 0:E.chatBaseUrl);if(typeof r=="string"&&r)return r;const x=(S=(y=import.meta)==null?void 0:y.env)==null?void 0:S.VITE_CHAT_BASE_URL;return typeof x=="string"&&x?x:getApiBaseUrl()}function getChatWebSocketBaseUrl(){var O,E,y,S;if(typeof window<"u")try{const j=localStorage.getItem("aiMemo.chatWsBaseUrl");if(j){const w=JSON.parse(j);if(typeof w=="string"&&w)return w}}catch{}const o=typeof window<"u"?window:null,r=((O=o==null?void 0:o.APP_CONFIG)==null?void 0:O.chatWsBaseUrl)??((E=o==null?void 0:o.__APP_CONFIG)==null?void 0:E.chatWsBaseUrl);if(typeof r=="string"&&r)return r;const x=(S=(y=import.meta)==null?void 0:y.env)==null?void 0:S.VITE_CHAT_WS_URL;return typeof x=="string"&&x?x:null}function shouldUseChatWebSocket(){if(getChatWebSocketBaseUrl())return!0;try{const o=getChatBaseUrl(),r=new URL(o);return["localhost","127.0.0.1"].includes(r.hostname)}catch{return!1}}function getBooleanFromUnknown(o){if(typeof o=="boolean")return o;if(typeof o=="number")return o!==0;if(typeof o=="string"){const r=o.trim().toLowerCase();return r==="1"||r==="true"||r==="yes"||r==="on"}return!1}function isUnifiedTasksEnabled(){var O,E,y,S;const o=typeof window<"u"?window:null,r=((O=o==null?void 0:o.APP_CONFIG)==null?void 0:O.aiUnified)??((E=o==null?void 0:o.__APP_CONFIG)==null?void 0:E.aiUnified)??void 0;if(r!==void 0)return getBooleanFromUnknown(r);const x=(S=(y=import.meta)==null?void 0:y.env)==null?void 0:S.VITE_AI_UNIFIED;return getBooleanFromUnknown(x)}function buildChatUrl(o,r){const x=getChatBaseUrl().replace(/\/$/,"");return r?`${x}/api/v1/chat/session/${encodeURIComponent(r)}${o}`:`${x}/api/v1/chat${o}`}function buildChatWebSocketUrl(o){const O=(getChatWebSocketBaseUrl()||getChatBaseUrl()).replace(/\/$/,"").replace(/^http:\/\//,"ws://").replace(/^https:\/\//,"wss://"),E=new URL(`${O}/api/v1/chat/ws`);return o&&E.searchParams.set("sessionId",o),E.toString()}function buildChatHeaders(o="json"){const r={"Content-Type":"application/json"};return o==="stream"?r.Accept="text/event-stream, application/x-ndjson, text/plain":r.Accept="application/json, text/plain",r}const SESSION_ID_KEY="nodove_chat_session_id",SESSIONS_INDEX_KEY="ai_chat_sessions_index",SESSION_MESSAGES_PREFIX="ai_chat_history_v2_",PERSIST_OPTIN_KEY="ai_chat_persist_optin",LEGACY_SESSION_KEY="ai_chat_current_session_key";function generateLocalSessionId(){return`sess_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function getStoredSessionId(){try{const o=localStorage.getItem(SESSION_ID_KEY);if(o&&typeof o=="string"&&o.trim())return o;const r=localStorage.getItem(LEGACY_SESSION_KEY);if(r&&typeof r=="string"&&r.trim())return localStorage.setItem(SESSION_ID_KEY,r),localStorage.removeItem(LEGACY_SESSION_KEY),r}catch{}return null}function storeSessionId(o){try{localStorage.setItem(SESSION_ID_KEY,o),localStorage.removeItem(LEGACY_SESSION_KEY)}catch{}}function clearStoredSessionId(){try{localStorage.removeItem(SESSION_ID_KEY),localStorage.removeItem(LEGACY_SESSION_KEY)}catch{}}function getSessionMessagesKey(o){return`${SESSION_MESSAGES_PREFIX}${o}`}function loadSessionMessages(o){try{const r=localStorage.getItem(getSessionMessagesKey(o));if(r){const x=JSON.parse(r);if(Array.isArray(x))return x}}catch{}return[]}function loadSessionsIndex(){try{const o=localStorage.getItem(SESSIONS_INDEX_KEY);if(o){const r=JSON.parse(o);if(Array.isArray(r))return r}}catch{}return[]}function storeSessionsIndex(o){try{localStorage.setItem(SESSIONS_INDEX_KEY,JSON.stringify(o))}catch{}}async function createBackendSession(o){var S,j;const r=buildChatUrl("/session"),x=buildChatHeaders("json"),O=await fetch(r,{method:"POST",headers:x,body:JSON.stringify({title:"Nodove Blog Visitor Session"})});if(!O.ok){const w=await O.text().catch(()=>"");throw new Error(`Failed to create session: ${O.status} ${w.slice(0,180)}`)}const E=await O.json().catch(()=>({})),y=(E==null?void 0:E.sessionID)||(E==null?void 0:E.id)||((S=E==null?void 0:E.data)==null?void 0:S.sessionID)||((j=E==null?void 0:E.data)==null?void 0:j.id);if(!y||typeof y!="string")throw new Error("Invalid session response");return y}async function ensureSession(o=!1){o&&clearStoredSessionId();const r=getStoredSessionId();if(r)return r;try{const x=await createBackendSession();return storeSessionId(x),x}catch(x){console.warn("Backend session creation failed, using local ID:",x);const O=generateLocalSessionId();return storeSessionId(O),O}}async function startNewSession(){clearStoredSessionId();try{const o=await createBackendSession();return storeSessionId(o),o}catch(o){console.warn("Backend session creation failed, using local ID:",o);const r=generateLocalSessionId();return storeSessionId(r),r}}function switchToSession(o){storeSessionId(o)}function getPageContext(){var O,E;const o=typeof window<"u"?window:null,r=(O=o==null?void 0:o.location)==null?void 0:O.href,x=(E=o==null?void 0:o.document)==null?void 0:E.title;return{url:r,title:x}}function getArticleTextSnippet(o=4e3){var r;if(typeof document>"u")return null;try{const x=y=>{const S=document.querySelector(y);if(!S)return null;const j=(S.innerText||"").trim();return j&&j.length>40?j:null},O=["article","main article","article.prose",".prose article",".prose","#content"];for(const y of O){const S=x(y);if(S)return S.length<=o?S:`${S.slice(0,o)}
…(truncated)`}const E=(((r=document.body)==null?void 0:r.innerText)||"").trim();return E?E.length<=o?E:`${E.slice(0,o)}
…(truncated)`:null}catch{return null}}const CHAT_STYLE_PROMPT=`다음 지침을 따르세요:
1. 말투는 귀엽고 상냥한 애니메이션 여캐릭터(botchi)처럼, 존댓말을 유지하고 과하지 않게 가벼운 말끝(예: ~에요, ~일까요?)과 가끔 이모지(^_^, ✨)를 섞습니다.
2. 응답은 간결하고 핵심만 전합니다.
3. [관련 블로그 문서] 섹션이 있으면, 해당 문서들의 내용을 기반으로 답변하세요. 블로그 전체에서 관련 글을 찾은 결과입니다.
4. 사용자가 특정 주제의 게시글을 찾아달라고 하면, 제공된 문서 목록에서 해당 주제와 관련된 모든 글을 나열해주세요.
5. [페이지 본문]은 사용자가 현재 보고 있는 페이지입니다. 질문이 현재 페이지와 관련된 것 같으면 참고하되, 블로그 전체에 대한 질문이면 [관련 블로그 문서]를 우선시하세요.`;function buildContextPrompt(o){return o?["현재 보고 있는 페이지의 본문 일부를 함께 전달할게요.","이 내용을 참고해서 사용자의 질문에 더 정확하게 답변해 주세요.","","[페이지 본문]",o,"","---",""].join(`
`):""}function buildImageContext(o,r,x){let O="";return r&&(O+=`[첨부된 이미지 분석 결과]
${r}

`),O+=`[이미지 링크: ${o}]

`,O+=x||"이 이미지에 대해 설명해 주세요.",O}function buildRAGContextPrompt(o){return o?["[관련 블로그 문서]","다음은 블로그 전체에서 질문과 관련된 글들을 검색한 결과입니다.","이 문서들을 기반으로 답변하세요. 관련 글이 여러 개 있으면 모두 언급해주세요:","",o,"","---",""].join(`
`):""}function buildMemoryContextPrompt(o){return o?["[사용자 정보]","다음은 이전 대화에서 파악한 사용자에 대한 정보입니다.","답변 시 이 정보를 자연스럽게 활용하되, 명시적으로 언급하지는 마세요:","",o,"","---",""].join(`
`):""}function extractTexts(o){var x,O;const r=[];if(!o||typeof o!="object")return r;if(typeof o.text=="string"&&r.push(o.text),typeof o.content=="string"&&r.push(o.content),Array.isArray(o.parts))for(const E of o.parts)E&&(typeof E.text=="string"?r.push(E.text):typeof E.content=="string"&&r.push(E.content));if(o.message&&typeof o.message.content=="string"&&r.push(o.message.content),Array.isArray(o.choices))for(const E of o.choices){const y=((x=E==null?void 0:E.delta)==null?void 0:x.content)??((O=E==null?void 0:E.message)==null?void 0:O.content);typeof y=="string"&&r.push(y)}return typeof o.delta=="string"&&r.push(o.delta),r}function parseStreamObject(o){const r=[];if((o==null?void 0:o.type)==="session"&&typeof(o==null?void 0:o.sessionId)=="string"&&r.push({type:"session",sessionId:o.sessionId}),(o==null?void 0:o.type)==="error"){const S=typeof(o==null?void 0:o.error)=="string"&&o.error||typeof(o==null?void 0:o.message)=="string"&&o.message||"Chat failed",j=typeof(o==null?void 0:o.code)=="string"?o.code:void 0;r.push({type:"error",message:S,code:j})}(o==null?void 0:o.type)==="done"&&r.push({type:"done"});const x=extractTexts(o);for(const S of x)S&&r.push({type:"text",text:S});const O=o==null?void 0:o.sources;Array.isArray(O)&&r.push({type:"sources",sources:O});const E=(o==null?void 0:o.followups)||(o==null?void 0:o.suggestions);Array.isArray(E)&&r.push({type:"followups",questions:E});const y=o==null?void 0:o.context;return y&&typeof y=="object"&&r.push({type:"context",page:y.page||y}),r}function parseSSEFrame(o){const r=o.split(/\r?\n/),x=[];let O;for(const y of r){const S=y.replace(/\r$/,"");if(!S||S.startsWith(":"))continue;const j=S.indexOf(":"),w=j>=0?S.slice(0,j):S;let _=j>=0?S.slice(j+1):"";_.startsWith(" ")&&(_=_.slice(1)),w==="data"?x.push(_):w==="event"&&(O=_)}const E=x.join(`
`);return E?{data:E,event:O}:null}function findSSEFrameBoundary(o){const r=o.indexOf(`

`),x=o.indexOf(`\r
\r
`);return r<0&&x<0?null:r<0?{index:x,size:4}:x<0?{index:r,size:2}:r<x?{index:r,size:2}:{index:x,size:4}}function createFirstTokenTracker(o){const r=typeof performance<"u"&&performance.now?performance.now():Date.now();let x=!1;return()=>{if(!x){x=!0;const O=typeof performance<"u"&&performance.now?performance.now():Date.now();typeof o=="function"&&o(Math.max(0,Math.round(O-r)))}}}function createSSEParser(){let o="";const r=x=>{const O=parseSSEFrame(x);if(!O)return[];const{data:E,event:y}=O;if(E==="[DONE]"||y==="done")return[{type:"done"}];if(y==="error")return[{type:"error",message:E||"Chat failed"}];try{const S=JSON.parse(E);return parseStreamObject(S)}catch{return[{type:"text",text:E}]}};return{processChunk(x){o+=x;const O=[];for(;;){const E=findSSEFrameBoundary(o);if(!E)break;const y=o.slice(0,E.index);o=o.slice(E.index+E.size),O.push(...r(y))}return O},flush(){const x=o.trim();return o="",x?r(x):[]}}}function createNDJSONParser(){let o="";return{processChunk(r){o+=r;const x=[];for(;;){const O=o.indexOf(`
`);if(O<0)break;const E=o.slice(0,O).trim();if(o=o.slice(O+1),!!E){if(E==="[DONE]"){x.push({type:"done"});continue}try{const y=JSON.parse(E);x.push(...parseStreamObject(y))}catch{x.push({type:"text",text:E})}}}return x},flush(){const r=[],x=o.split(`
`);for(const O of x){const E=O.trim();if(E){if(E==="[DONE]"){r.push({type:"done"});continue}try{const y=JSON.parse(E);r.push(...parseStreamObject(y))}catch{r.push({type:"text",text:E})}}}return o="",r}}}function createJSONParser(){let o="";return{processChunk(r){return o+=r,[]},flush(){if(!o)return[];try{const r=JSON.parse(o);return parseStreamObject(r)}catch{return[{type:"text",text:o}]}}}}function createPlainTextParser(){return{processChunk(o){return[{type:"text",text:o}]},flush(){return[]}}}function getParserForContentType(o){const r=o.toLowerCase();return r.includes("text/event-stream")?createSSEParser():r.includes("ndjson")||r.includes("jsonl")?createNDJSONParser():r.includes("application/json")?createJSONParser():r.includes("text/plain")?createPlainTextParser():createSSEParser()}async function invokeChatTask(o){if(!isUnifiedTasksEnabled())throw new Error("Unified chat task API is disabled");const r=await ensureSession(),x=buildChatUrl("/task",r),O=buildChatHeaders("json");o.headers&&Object.assign(O,o.headers);const E={mode:o.mode,prompt:o.prompt??"",payload:o.payload??{},context:o.context??getPageContext()},y=await fetch(x,{method:"POST",headers:O,body:JSON.stringify(E),signal:o.signal}),S=await y.text().catch(()=>"");let j=null;if(S)try{j=JSON.parse(S)}catch{j=S}if(!y.ok)throw ChatError.fromResponse(y.status,j);const w=j&&typeof j=="object"?j.data??j.result??j.output??j.payload??j:j;return{ok:!0,status:y.status,data:w??null,raw:j}}async function*streamChatEvents(o){var F;const r=await ensureSession(),{page:x,parts:O,enableRag:E}=buildStreamPayload(o);if(shouldUseChatWebSocket()){let V=!1;try{for await(const te of streamChatEventsWebSocket({sessionId:r,parts:O,page:x,signal:o.signal,onFirstToken:o.onFirstToken,enableRag:E}))V=!0,yield te;return}catch(te){if((F=o.signal)!=null&&F.aborted||V)throw te;console.warn("[Chat] WebSocket failed, falling back to SSE:",te)}}const y=buildChatUrl("/message",r),S=buildChatHeaders("stream"),j=await fetch(y,{method:"POST",headers:S,body:JSON.stringify({parts:O,context:{page:x},enableRag:E}),signal:o.signal});if(!j.ok||!j.body){const V=await j.text().catch(()=>"");let te=null;try{te=JSON.parse(V)}catch{}throw ChatError.fromResponse(j.status,te||V)}const w=j.headers.get("content-type")||"",_=getParserForContentType(w),Q=createFirstTokenTracker(o.onFirstToken),I=j.body.getReader(),M=new TextDecoder;try{for(;;){const{value:te,done:re}=await I.read();if(re)break;const se=M.decode(te,{stream:!0});if(!se)continue;const ne=_.processChunk(se);for(const oe of ne){if(oe.type==="session"&&storeSessionId(oe.sessionId),oe.type==="error")throw new ChatError(oe.message||"Chat failed","SERVER_ERROR");oe.type==="text"&&Q(),yield oe}}const V=_.flush();for(const te of V){if(te.type==="session"&&storeSessionId(te.sessionId),te.type==="error")throw new ChatError(te.message||"Chat failed","SERVER_ERROR");te.type==="text"&&Q(),yield te}}finally{I.releaseLock()}}function buildStreamPayload(o){const r=o.page||getPageContext(),O=(o.useArticleContext!==void 0?o.useArticleContext:!0)?getArticleTextSnippet(4e3):null,E=[{type:"text",text:CHAT_STYLE_PROMPT}];if(o.ragContext){const S=buildRAGContextPrompt(o.ragContext);S&&E.push({type:"text",text:S})}if(o.memoryContext){const S=buildMemoryContextPrompt(o.memoryContext);S&&E.push({type:"text",text:S})}const y=buildContextPrompt(O);if(y&&E.push({type:"text",text:y}),o.imageUrl){const S=buildImageContext(o.imageUrl,o.imageAnalysis,o.text);E.push({type:"text",text:S})}else E.push({type:"text",text:o.text});return{page:r,parts:E,enableRag:o.enableRag??!1}}async function*streamChatEventsWebSocket(o){const r=buildChatWebSocketUrl(o.sessionId),x=new WebSocket(r),O=[];let E=null,y=!1,S=null;const j=createFirstTokenTracker(o.onFirstToken),w=()=>{E&&(E(),E=null)},_=M=>{M.type==="text"&&j(),O.push(M),w()},Q=M=>{if(!y){y=!0,S=M??null;try{(x.readyState===WebSocket.OPEN||x.readyState===WebSocket.CONNECTING)&&x.close(1e3,"stream end")}catch{}w()}},I=()=>{Q(new ChatError("Request aborted","ABORTED"))};o.signal&&(o.signal.aborted?I():o.signal.addEventListener("abort",I,{once:!0})),x.onopen=()=>{x.send(JSON.stringify({type:"message",sessionId:o.sessionId,parts:o.parts,context:{page:o.page},enableRag:o.enableRag}))},x.onmessage=M=>{const F=typeof M.data=="string"?M.data:"";if(F)try{const V=JSON.parse(F);if((V==null?void 0:V.type)==="session"&&typeof V.sessionId=="string"){storeSessionId(V.sessionId);return}if((V==null?void 0:V.type)==="done"){_({type:"done"}),Q();return}if((V==null?void 0:V.type)==="error"){Q(new ChatError(V.error||"Chat failed","SERVER_ERROR"));return}const te=parseStreamObject(V);if(te.length===0&&(V!=null&&V.text)){_({type:"text",text:V.text});return}for(const re of te)_(re)}catch{}},x.onerror=()=>{Q(new ChatError("WebSocket error","NETWORK_ERROR"))},x.onclose=()=>{Q()};try{for(;;){if(O.length>0){const M=O.shift();if(M){if(yield M,M.type==="done")return;continue}}if(y){if(S)throw S;return}await new Promise(M=>{E=M})}}finally{o.signal&&o.signal.removeEventListener("abort",I)}}async function uploadChatImage(o,r){const O=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/images/chat-upload`,E=new FormData;E.append("file",o);const y=await fetch(O,{method:"POST",body:E,signal:r}),S=await y.text().catch(()=>"");let j=null;if(S)try{j=JSON.parse(S)}catch{j=null}if(!y.ok||!(j!=null&&j.ok))throw ChatError.fromResponse(y.status,j||S);const w=j.data;if(!w||typeof w.url!="string")throw new ChatError("Invalid chat image upload response","PARSE_ERROR");return w}async function invokeChatAggregate(o){const x=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/chat/aggregate`,O=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o.prompt}),signal:o.signal}),E=await O.text().catch(()=>"");let y=null;if(E)try{y=JSON.parse(E)}catch{y=null}if(!O.ok||!(y!=null&&y.ok))throw ChatError.fromResponse(O.status,y||E);const S=y.data,j=S&&typeof S.text=="string"&&S.text||(typeof S=="string"?S:null);if(!j)throw new ChatError("Invalid chat aggregate response","PARSE_ERROR");return j}function getLiveChatBaseUrl(){return getApiBaseUrl().replace(/\/$/,"")}function toSSEHttpUrl(o){return`${getLiveChatBaseUrl()}${o}`}function connectLiveChatStream(o){var y,S;const r=((y=o.room)==null?void 0:y.trim())||"global",x=((S=o.name)==null?void 0:S.trim())||"",O=new URL(toSSEHttpUrl("/api/v1/chat/live/stream"));O.searchParams.set("sessionId",o.sessionId),O.searchParams.set("room",r),x&&O.searchParams.set("name",x);const E=new EventSource(O.toString(),{withCredentials:!0});return E.onmessage=j=>{if(j.data)try{const w=JSON.parse(j.data);if(!w||typeof w!="object"||!("type"in w))return;o.onEvent(w)}catch{}},E.onerror=j=>{var w;(w=o.onError)==null||w.call(o,j)},()=>{E.close()}}async function sendLiveChatMessage(o){const r=await fetch(toSSEHttpUrl("/api/v1/chat/live/message"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o.sessionId,text:o.text,room:o.room||"global",name:o.name||"",senderType:o.senderType||"client"})});if(!r.ok){const x=await r.text().catch(()=>"");throw new Error(x||`Failed to send live chat message (${r.status})`)}}async function getLiveRoomStats(o){const r=new URL(toSSEHttpUrl("/api/v1/chat/live/room-stats"));r.searchParams.set("room",o);const x=await fetch(r.toString(),{method:"GET",credentials:"include"}),O=await x.json().catch(()=>null);if(!x.ok||!(O!=null&&O.ok)||!(O!=null&&O.data))throw new Error((O==null?void 0:O.error)||"Failed to load live room stats");return O.data}async function getLiveRooms(){var x;const o=await fetch(toSSEHttpUrl("/api/v1/chat/live/rooms"),{method:"GET",credentials:"include"}),r=await o.json().catch(()=>null);if(!o.ok||!(r!=null&&r.ok)||!Array.isArray((x=r==null?void 0:r.data)==null?void 0:x.rooms))throw new Error((r==null?void 0:r.error)||"Failed to load live rooms");return r.data.rooms}const TEXT_LIMITS={SKETCH_BULLET:100,PRISM_TRUNCATE:140},FALLBACK_DATA={MOOD:"reflective",SKETCH:{BULLETS_ERROR:["내용을 분석할 수 없습니다."]},PRISM:{FACETS:[{title:"핵심 요점",points:["분석 중 오류 발생"]},{title:"생각해볼 점",points:["다양한 관점에서 검토 필요","추가 맥락 확인 권장"]}]},CHAIN:{QUESTIONS:[{q:"이 주장의 핵심 근거는 무엇인가?",why:"논리적 기반 확인"},{q:"어떤 전제나 가정이 깔려 있는가?",why:"숨겨진 전제 파악"},{q:"실제로 어떻게 적용할 수 있는가?",why:"실용적 가치 탐색"}]}},RAG_DEFAULTS={CONTEXT_MAX_TOKENS:2e3,CONTEXT_TIMEOUT_MS:8e3},MEMORY_DEFAULTS={CONTEXT_MAX_TOKENS:1500,CHARS_PER_TOKEN:4,SIMILARITY_THRESHOLD:.3};function isRecord$1(o){return o!==null&&typeof o=="object"}function tryParseJson$1(o){if(!o||typeof o!="string")return null;try{return JSON.parse(o)}catch{}const r=o.match(/```(?:json)?\s*([\s\S]*?)```/i);if(r!=null&&r[1])try{return JSON.parse(r[1].trim())}catch{}const x=o.indexOf("{"),O=o.lastIndexOf("}");if(x>=0&&O>x)try{return JSON.parse(o.slice(x,O+1))}catch{}return null}function safeTruncate(o,r){return o?o.length>r?`${o.slice(0,r-1)}...`:o:""}async function invokeTask(o,r){const x=await ensureSession(),E=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/chat/session/${encodeURIComponent(x)}/task`,y={mode:o,payload:r,context:{url:typeof window<"u"?window.location.href:void 0,title:typeof document<"u"?document.title:void 0}},S=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(y)});if(!S.ok){const Q=await S.text().catch(()=>"");throw new Error(`AI task error: ${S.status} ${Q.slice(0,180)}`)}const j=await S.json();if(isRecord$1(j)&&j._fallback===!0)throw new Error("AI server returned fallback: backend unavailable");const w=(isRecord$1(j)&&("data"in j?j.data:void 0))??(isRecord$1(j)&&("result"in j?j.result:void 0))??j,_=(isRecord$1(w)&&"data"in w?w.data:void 0)??w;if(!_)throw new Error("Invalid AI task response: no data");return _}function normalizeResponse(o,r){if(r(o))return o;if(isRecord$1(o)&&"data"in o&&r(o.data))return o.data;if(isRecord$1(o)&&"_raw"in o){const x=o._raw;if(typeof x=="string"){const O=tryParseJson$1(x);if(O&&r(O))return O}if(isRecord$1(x)&&typeof x.text=="string"){const O=tryParseJson$1(x.text);if(O&&r(O))return O}}if(isRecord$1(o)&&"data"in o&&isRecord$1(o.data)&&"_raw"in o.data){const x=o.data._raw;if(typeof x=="string"){const O=tryParseJson$1(x);if(O&&r(O))return O}if(isRecord$1(x)&&typeof x.text=="string"){const O=tryParseJson$1(x.text);if(O&&r(O))return O}}if(typeof o=="string"){const x=tryParseJson$1(o);if(x&&r(x))return x}return null}function isSketchResult(o){return isRecord$1(o)&&typeof o.mood=="string"&&Array.isArray(o.bullets)}function isPrismResult(o){return isRecord$1(o)&&Array.isArray(o.facets)}function isChainResult(o){return isRecord$1(o)&&Array.isArray(o.questions)}function createSketchFallback(o){const r=(o||"").replace(/\n+/g," ").split(/[.!?]\s+/).map(x=>x.trim()).filter(x=>x.length>10).slice(0,4);return{mood:FALLBACK_DATA.MOOD,bullets:r.length>0?r.map(x=>safeTruncate(x,TEXT_LIMITS.SKETCH_BULLET)):[...FALLBACK_DATA.SKETCH.BULLETS_ERROR]}}function createPrismFallback(o){return{facets:[{title:FALLBACK_DATA.PRISM.FACETS[0].title,points:[safeTruncate(o,TEXT_LIMITS.PRISM_TRUNCATE)||FALLBACK_DATA.PRISM.FACETS[0].points[0]]},{title:FALLBACK_DATA.PRISM.FACETS[1].title,points:[...FALLBACK_DATA.PRISM.FACETS[1].points]}]}}function createChainFallback(){return{questions:FALLBACK_DATA.CHAIN.QUESTIONS.map(o=>({...o}))}}async function sketch(o){const{paragraph:r,postTitle:x,persona:O}=o;try{const E=await invokeTask("sketch",{paragraph:r,postTitle:x,persona:O}),y=normalizeResponse(E,isSketchResult);if(y)return{mood:y.mood,bullets:y.bullets.slice(0,10)};throw new Error("Invalid sketch response format")}catch(E){return console.error("Sketch AI call failed:",E),createSketchFallback(r)}}async function prism(o){const{paragraph:r,postTitle:x}=o;try{const O=await invokeTask("prism",{paragraph:r,postTitle:x}),E=normalizeResponse(O,isPrismResult);if(E)return{facets:E.facets.slice(0,4)};throw new Error("Invalid prism response format")}catch(O){return console.error("Prism AI call failed:",O),createPrismFallback(r)}}async function chain$1(o){const{paragraph:r,postTitle:x}=o;try{const O=await invokeTask("chain",{paragraph:r,postTitle:x}),E=normalizeResponse(O,isChainResult);if(E)return{questions:E.questions.slice(0,6)};throw new Error("Invalid chain response format")}catch(O){return console.error("Chain AI call failed:",O),createChainFallback()}}const QUIZ_TYPES=["fill_blank","multiple_choice","transform","explain"];function normalizeQuizType(o){if(typeof o!="string")return"explain";const r=o.trim().toLowerCase().replace(/[\s-]+/g,"_");return r==="fillblank"?"fill_blank":r==="multiplechoice"?"multiple_choice":r==="code_transform"?"transform":QUIZ_TYPES.includes(r)?r:"explain"}function toNormalizedText(o){return typeof o=="string"?o.trim():typeof o=="number"||typeof o=="boolean"?String(o):""}function pickObjectRecord(...o){for(const r of o)if(isRecord$1(r))return r;return null}function clampVisualizationHeight(o){if(!(typeof o!="number"||!Number.isFinite(o)))return Math.max(160,Math.min(560,Math.floor(o)))}function buildVisualizationFence(o){const r=pickObjectRecord(o.visualization,o.visual,o.graph,o.chart),x=toNormalizedText(o.html??o.markup??o.template??o.renderHtml??(r==null?void 0:r.html)??(r==null?void 0:r.markup)??(r==null?void 0:r.template)),O=toNormalizedText(o.js??o.javascript??o.script??o.renderJs??(r==null?void 0:r.js)??(r==null?void 0:r.javascript)??(r==null?void 0:r.script)),E=toNormalizedText(o.css??o.style??o.styles??o.renderCss??(r==null?void 0:r.css)??(r==null?void 0:r.style)??(r==null?void 0:r.styles)),y=toNormalizedText(o.visualizationTitle??o.chartTitle??(r==null?void 0:r.title)),S=toNormalizedText(o.visualizationType??o.chartType??(r==null?void 0:r.type)),j=o.chartData??o.graphData??(r==null?void 0:r.data),w=clampVisualizationHeight(o.visualizationHeight??o.chartHeight)??clampVisualizationHeight((r==null?void 0:r.height)??(r==null?void 0:r.minHeight)),_={};return x&&(_.html=x),O&&(_.js=O),E&&(_.css=E),y&&(_.title=y),w!==void 0&&(_.height=w),S&&(_.type=S),Array.isArray(j)&&j.length>0&&(_.data=j),Object.keys(_).length===0?null:`\`\`\`viz
${JSON.stringify(_,null,2)}
\`\`\``}function normalizeQuizQuestion(o){if(!isRecord$1(o))return null;const r=toNormalizedText(o.question??o.q??o.prompt??o.title),x=toNormalizedText(o.answer??o.correctAnswer??o.correct??o.solution??o.a);if(!r||!x)return null;const O=(Array.isArray(o.options)?o.options:void 0)??(Array.isArray(o.choices)?o.choices:void 0)??(Array.isArray(o.candidates)?o.candidates:void 0),E=Array.isArray(O)?O.map(toNormalizedText).filter(Boolean).slice(0,6):[],y=toNormalizedText(o.explanation??o.reason??o.why??o.hint),S=normalizeQuizType(o.type??(E.length>0?"multiple_choice":"explain")),j=buildVisualizationFence(o),w=j&&!r.includes("```viz")&&!r.includes("```html")&&!r.includes("```html+js")?`${r}

${j}`:r,_={type:S,question:w,answer:x};return E.length>0&&(_.options=E),y&&(_.explanation=y),_}function clampQuizCount(o,r=2){return typeof o!="number"||!Number.isFinite(o)?r:Math.max(1,Math.min(6,Math.floor(o)))}function normalizeQuizTags(o){return Array.isArray(o)?o.map(r=>typeof r=="string"?r.trim().toLowerCase():"").filter(Boolean).slice(0,12):[]}function extractQuizItems(o){if(Array.isArray(o))return o;if(typeof o=="string"){const r=tryParseJson$1(o);return r?extractQuizItems(r):[]}if(!isRecord$1(o))return[];if(Array.isArray(o.quiz))return o.quiz;if(Array.isArray(o.questions))return o.questions;if(Array.isArray(o.items))return o.items;if("data"in o)return extractQuizItems(o.data);if("result"in o)return extractQuizItems(o.result);if("_raw"in o){const r=o._raw;if(typeof r=="string")return extractQuizItems(r);if(isRecord$1(r)&&typeof r.text=="string")return extractQuizItems(r.text)}return Array.isArray(o.problems)?o.problems.map(r=>isRecord$1(r)?{type:"explain",question:r.description??r.title??r.problem??`문제 ${r.number??""}`.trim(),answer:r.python_function??r.java_method??r.solution??r.answer??"위 내용을 참고하세요.",explanation:r.example_input!=null?`예시 입력: ${r.example_input} → 출력: ${r.example_output??"?"}`:void 0}:r):[]}function normalizeQuizResult(o,r=2){const x=extractQuizItems(o);if(x.length===0)return null;const O=x.map(normalizeQuizQuestion).filter(E=>E!==null).slice(0,Math.max(1,r));return O.length===0?null:{quiz:O}}function isQuizResult(o){return normalizeQuizResult(o,6)!==null}function createQuizFallback(o=2){const r=clampQuizCount(o);return{quiz:[{type:"multiple_choice",question:"이 문서의 주요 주제는 무엇인가요?",answer:"위 내용을 다시 읽어보세요.",options:["개념 이해","실습 예제","이론 설명","사례 연구"],explanation:"AI 서버가 일시적으로 응답하지 않아 기본 퀴즈가 표시됩니다."},{type:"fill_blank",question:"핵심 코드 흐름에서 가장 중요한 조건문/반복문을 빈칸으로 설명해보세요.",answer:"문서의 코드 예제 핵심 조건",explanation:"핵심 분기/반복 조건을 다시 확인하면 이해에 도움이 됩니다."},{type:"explain",question:"본문의 핵심 로직을 한 문단으로 요약해 설명해보세요.",answer:"핵심 로직을 단계별로 요약해보세요.",explanation:"정답보다 사고 과정을 정리하는 것이 중요합니다."}].slice(0,r)}}async function quiz(o){const{paragraph:r,postTitle:x,batchIndex:O=0,previousQuestions:E=[],quizCount:y=2,studyMode:S=!1,postTags:j=[],wrongQuestions:w=[]}=o,_=clampQuizCount(y),Q=normalizeQuizTags(j);try{const I=await invokeTask("quiz",{paragraph:r,postTitle:x,batchIndex:O,previousQuestions:E,quizCount:_,studyMode:S,postTags:Q,wrongQuestions:w}),M=normalizeQuizResult(normalizeResponse(I,isQuizResult)??I,_);if(M)return{quiz:M.quiz.slice(0,_)};const F=isRecord$1(I)?Object.keys(I).join(", "):typeof I;return console.warn(`Quiz AI response could not be normalized, using fallback. Response keys: [${F}]`),createQuizFallback(_)}catch(I){return console.error("Quiz AI call failed:",I),createQuizFallback(_)}}SyntaxHighlighter.registerLanguage("bash",bash);SyntaxHighlighter.registerLanguage("css",css);SyntaxHighlighter.registerLanguage("go",go);SyntaxHighlighter.registerLanguage("java",java$1);SyntaxHighlighter.registerLanguage("javascript",javascript$1);SyntaxHighlighter.registerLanguage("js",javascript$1);SyntaxHighlighter.registerLanguage("json",json$1);SyntaxHighlighter.registerLanguage("jsx",javascript$1);SyntaxHighlighter.registerLanguage("kotlin",kotlin);SyntaxHighlighter.registerLanguage("markdown",markdown);SyntaxHighlighter.registerLanguage("python",python$1);SyntaxHighlighter.registerLanguage("py",python$1);SyntaxHighlighter.registerLanguage("rust",rust);SyntaxHighlighter.registerLanguage("sql",sql);SyntaxHighlighter.registerLanguage("tsx",typescript);SyntaxHighlighter.registerLanguage("typescript",typescript);SyntaxHighlighter.registerLanguage("ts",typescript);SyntaxHighlighter.registerLanguage("yaml",yaml$1);const terminalChatTheme={...atomOneDark,hljs:{...atomOneDark.hljs,color:"#c6f7d4",background:"hsl(200 50% 3%)",fontFamily:"'JetBrains Mono', 'Fira Code', monospace"},"hljs-comment":{color:"#4e5953",fontStyle:"italic"},"hljs-keyword":{color:"#3cff96"},"hljs-string":{color:"#3cb8ff"},"hljs-title":{color:"#3cff96"},"hljs-number":{color:"#ffb02e"}};function sanitizeStreamingMarkdown(o){let r=o;const x=r.match(/```/g);x&&x.length%2===1&&(r=`${r}
\`\`\``);const O=r.match(new RegExp("(?<!`)`(?!`)","g"));return O&&O.length%2===1&&(r=`${r}\``),/\*\*[^*]+$/.test(r)&&!/\*\*[^*]+\*\*/.test(r.slice(-50))&&(r=`${r}**`),new RegExp("(?<!\\*)\\*[^*]+$").test(r)&&!new RegExp("(?<!\\*)\\*[^*]+\\*(?!\\*)").test(r.slice(-30))&&(r=`${r}*`),r}const ChatCodeBlock=reactExports.memo(function o({language:r,codeString:x,isTerminal:O}){const[E,y]=reactExports.useState(!1),S=reactExports.useCallback(()=>{navigator!=null&&navigator.clipboard&&navigator.clipboard.writeText(x).then(()=>{y(!0),window.setTimeout(()=>y(!1),2e3)}).catch(()=>{})},[x]);return jsxRuntimeExports.jsxs("div",{className:cn("relative my-3 overflow-hidden rounded-lg bg-[#0b1020] dark:bg-[#050a1a] group",O&&"bg-[hsl(var(--terminal-code-bg))] border border-border"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between px-3 py-1.5 border-b text-xs",O?"border-border bg-[hsl(var(--terminal-code-bg))]":"border-white/10 bg-white/5"),children:[jsxRuntimeExports.jsx("span",{className:cn("font-mono uppercase tracking-wide",O?"text-primary/70":"text-white/60"),children:r}),jsxRuntimeExports.jsx("button",{type:"button",className:cn("inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-[11px] font-medium transition","opacity-0 group-hover:opacity-100 focus:opacity-100","sm:opacity-100",O?"bg-primary/20 text-primary hover:bg-primary/30 font-mono":"bg-white/10 text-white hover:bg-white/20 backdrop-blur"),onClick:S,children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Copied"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Copy"})]})})]}),jsxRuntimeExports.jsx(SyntaxHighlighter,{style:O?terminalChatTheme:atomOneDark,language:r,PreTag:"div",className:"!bg-transparent !p-4 text-[12px] !m-0 overflow-auto overscroll-contain max-h-[400px]",wrapLongLines:!1,children:x})]})}),ChatPlainCodeBlock=reactExports.memo(function o({codeString:r,isTerminal:x}){const[O,E]=reactExports.useState(!1),y=reactExports.useCallback(()=>{navigator!=null&&navigator.clipboard&&navigator.clipboard.writeText(r).then(()=>{E(!0),window.setTimeout(()=>E(!1),2e3)}).catch(()=>{})},[r]);return jsxRuntimeExports.jsxs("div",{className:cn("relative my-3 overflow-hidden rounded-lg bg-[#0b1020] dark:bg-[#050a1a] group",x&&"bg-[hsl(var(--terminal-code-bg))] border border-border"),children:[jsxRuntimeExports.jsx("button",{type:"button",className:cn("absolute right-2 top-2 inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-[11px] font-medium transition z-10","opacity-0 group-hover:opacity-100 focus:opacity-100 sm:opacity-100",x?"bg-primary/20 text-primary hover:bg-primary/30 font-mono":"bg-white/10 text-white hover:bg-white/20 backdrop-blur"),onClick:y,children:O?jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"}):jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx("pre",{className:cn("p-4 text-[12px] overflow-auto overscroll-contain max-h-[400px]",x?"text-primary/90 font-mono":"text-white/90"),children:r})]})}),ChatMarkdown=reactExports.memo(({content:o,isStreaming:r})=>{const{isTerminal:x}=useTheme(),O=r?sanitizeStreamingMarkdown(o):o,E=reactExports.useMemo(()=>({h1:({children:y})=>jsxRuntimeExports.jsx("h3",{className:cn("mt-4 mb-2 text-base font-semibold",x&&"font-mono text-primary"),children:y}),h2:({children:y})=>jsxRuntimeExports.jsx("h4",{className:cn("mt-3 mb-1.5 text-sm font-semibold",x&&"font-mono text-primary"),children:y}),h3:({children:y})=>jsxRuntimeExports.jsx("h5",{className:cn("mt-2 mb-1 text-sm font-semibold",x&&"font-mono"),children:y}),h4:({children:y})=>jsxRuntimeExports.jsx("h6",{className:cn("mt-2 mb-1 text-[13px] font-semibold",x&&"font-mono"),children:y}),h5:({children:y})=>jsxRuntimeExports.jsx("h6",{className:cn("mt-2 mb-1 text-[13px] font-medium",x&&"font-mono"),children:y}),h6:({children:y})=>jsxRuntimeExports.jsx("strong",{className:cn("text-[13px] font-semibold",x&&"font-mono"),children:y}),p:({children:y})=>jsxRuntimeExports.jsx("p",{className:"text-[13px] leading-relaxed break-words [overflow-wrap:anywhere]",children:y}),ul:({children:y})=>jsxRuntimeExports.jsx("ul",{className:cn("pl-4 text-[13px] leading-relaxed list-disc space-y-1",x&&"list-none"),children:y}),ol:({children:y})=>jsxRuntimeExports.jsx("ol",{className:cn("pl-4 text-[13px] leading-relaxed list-decimal space-y-1",x&&"font-mono"),children:y}),li:({children:y})=>jsxRuntimeExports.jsx("li",{className:cn("leading-relaxed break-words [overflow-wrap:anywhere]",x&&'before:content-["-_"] before:text-primary'),children:y}),blockquote:({children:y})=>jsxRuntimeExports.jsx("blockquote",{className:cn("rounded-md border-l-4 border-primary/40 bg-muted/40 pl-3 py-1 text-[13px] italic",x&&"bg-[hsl(var(--terminal-code-bg))] border-primary/60 not-italic font-mono"),children:y}),code({inline:y,className:S,children:j,...w}){const _=/language-(\w+)/.exec(S||""),Q=String(j).replace(/\n$/,"");return!y&&_?jsxRuntimeExports.jsx(ChatCodeBlock,{language:_[1],codeString:Q,isTerminal:x}):!y&&!_&&Q.includes(`
`)?jsxRuntimeExports.jsx(ChatPlainCodeBlock,{codeString:Q,isTerminal:x}):jsxRuntimeExports.jsx("code",{className:cn("rounded bg-muted px-1.5 py-0.5 text-[12px] font-mono",x&&"bg-[hsl(var(--terminal-code-bg))] text-primary"),...w,children:j})},a:({children:y,href:S})=>jsxRuntimeExports.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:cn("text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 break-all",x&&"hover:decoration-solid"),children:y}),table:({children:y})=>jsxRuntimeExports.jsxs("div",{className:cn("my-4 overflow-hidden rounded-lg border",x?"border-border bg-[hsl(var(--terminal-code-bg))]":"border-border/60 bg-muted/20"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 px-3 py-2 border-b text-xs font-medium",x?"border-border text-primary/70":"border-border/60 text-muted-foreground"),children:[jsxRuntimeExports.jsx(Table2,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{className:x?"font-mono uppercase tracking-wide":"",children:"Table"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsx("table",{className:cn("w-full text-left text-sm min-w-max",x&&"font-mono text-xs"),children:y})})]}),thead:({children:y})=>jsxRuntimeExports.jsx("thead",{className:cn(x?"bg-[hsl(var(--terminal-code-bg))]":"bg-muted/50"),children:y}),tbody:({children:y})=>jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-border/50",children:y}),tr:({children:y})=>jsxRuntimeExports.jsx("tr",{className:cn("transition-colors",x?"hover:bg-primary/5":"hover:bg-muted/30"),children:y}),th:({children:y})=>jsxRuntimeExports.jsx("th",{className:cn("px-4 py-2.5 text-xs font-semibold uppercase tracking-wide whitespace-nowrap",x?"text-primary border-b border-border":"text-foreground border-b border-border/60"),children:y}),td:({children:y})=>jsxRuntimeExports.jsx("td",{className:cn("px-4 py-2.5 text-[13px] align-top",x&&"text-foreground/90"),children:y}),hr:()=>jsxRuntimeExports.jsx("hr",{className:cn("my-4 border-t",x?"border-primary/20":"border-border")})}),[x]);return O.trim()?jsxRuntimeExports.jsx("div",{className:cn("chat-markdown prose prose-sm prose-neutral max-w-none dark:prose-invert","break-words [overflow-wrap:anywhere]","[&>p]:mb-3 [&>p:last-child]:mb-0","[&>ul]:my-2 [&>ol]:my-2","[&_pre]:!overflow-auto",x&&"prose-headings:font-mono"),children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:E,children:O})}):null});ChatMarkdown.displayName="ChatMarkdown";const THINKING_MESSAGES=["생각하는 중...","관점을 정리하고 있어요...","답변을 구성하는 중...","맥락을 분석하고 있어요..."],DEBATE_STARTERS=[{label:"이 부분이 특히 신경 쓰여요",stance:"agree",icon:ThumbsUp},{label:"이 부분이 조금 불편해요",stance:"disagree",icon:ThumbsDown},{label:"조금 더 이해하고 정리하고 싶어요",stance:"neutral",icon:Lightbulb}],DEFAULT_FOLLOW_UP_PROMPTS=["내 상황에 맞게 풀어서 설명해줘","다른 관점에서 보면 어떻게 느낄 수 있을까?","앞으로 내가 어떤 선택을 할 수 있을지 같이 정리해줘","지금 내가 놓치고 있는 포인트가 있다면 알려줘"];function normalizePrompt(o){return o.replace(/\s+/g," ").trim()}function pickUniquePrompts(o,r=3){const x=new Set,O=[];for(const E of o){const y=normalizePrompt(E);if(!y)continue;const S=y.toLowerCase();if(!x.has(S)&&(x.add(S),O.push(y),O.length>=r))break}return O}function extractChainQuestions(o){if(!o||typeof o!="object")return[];const r=o;return Array.isArray(r.questions)?r.questions.map(x=>typeof(x==null?void 0:x.q)=="string"?x.q:"").map(normalizePrompt).filter(Boolean):[]}function derivePromptsFromResponse(o){const r=normalizePrompt(o);if(!r)return[];const x=r.split(new RegExp("(?<=[.!?。！？])\\s+")).map(normalizePrompt).filter(Boolean).slice(0,3).map(O=>O.endsWith("?")||O.endsWith("？")?O:`${O.replace(/[.!。]+$/,"")}에 대해 더 자세히 설명해줄래?`);return pickUniquePrompts(x,3)}const AI_PERSONAS=[{id:"mentor",name:"멘토",icon:GraduationCap,description:"경험과 지혜로 조언하는 따뜻한 멘토",systemPromptPrefix:"당신은 10년 이상의 경험을 가진 따뜻한 멘토입니다. 사용자의 고민에 공감하면서도 경험에서 우러나온 실질적인 조언을 제공합니다. 격려와 지지를 아끼지 않으며, 사용자가 스스로 답을 찾을 수 있도록 안내합니다.",color:"from-amber-500 to-orange-500"},{id:"debater",name:"토론자",icon:Swords,description:"논리적으로 반박하며 생각을 날카롭게",systemPromptPrefix:"당신은 소크라테스식 문답을 하는 날카로운 토론자입니다. 사용자의 주장에 건설적인 반론을 제기하고, 논리의 허점을 부드럽게 지적합니다. 목표는 이기는 것이 아니라 더 깊은 이해에 도달하는 것입니다.",color:"from-red-500 to-pink-500"},{id:"explorer",name:"탐험가",icon:Compass,description:"새로운 관점과 가능성을 제시하는 호기심쟁이",systemPromptPrefix:'당신은 창의적인 관점을 제시하는 호기심 많은 탐험가입니다. 주제를 다양한 각도에서 바라보고, 예상치 못한 연결고리를 찾아냅니다. "만약에...?" 질문을 통해 사용자의 상상력을 자극합니다.',color:"from-blue-500 to-cyan-500"},{id:"analyst",name:"분석가",icon:ChartColumn,description:"데이터와 논리로 상황을 분석하는 냉철한 분석가",systemPromptPrefix:"당신은 데이터와 논리를 기반으로 상황을 분석하는 냉철한 분석가입니다. 감정보다는 사실에 집중하고, 장단점을 객관적으로 정리합니다. 복잡한 문제를 구조화하여 명확하게 설명합니다.",color:"from-emerald-500 to-teal-500"}];function buildDebateSystemPrompt(o,r,x){const E=[(x==null?void 0:x.systemPromptPrefix)||"당신은 사려 깊은 상담 파트너입니다.","","다음 지침을 따르세요:","1. 사용자의 감정과 생각을 먼저 공감하고, 차분하게 응답합니다.","2. 옳고 그름을 판단하기보다, 사용자가 스스로 정리하고 선택할 수 있도록 도와줍니다.","3. 조언이 필요할 때에는 예의 바르게, 구체적인 예시와 함께 제안합니다.","4. 사용자가 새로운 관점이나 선택지를 발견하도록 부드럽게 질문을 던집니다.","5. 말투는 친근하고 따뜻하게 유지하되, 과도하게 가볍지 않게 균형을 잡습니다.","6. 응답은 2~4문장 정도로 간결하게, 지금 대화에서 가장 중요한 한두 가지에 집중합니다.","","---","","[상담 주제]",o.title,"","[맥락]",o.context];return o.facets&&o.facets.length>0&&(E.push("","[참고할 수 있는 관점들]"),o.facets.forEach((y,S)=>{E.push(`${S+1}. ${y.title}`),y.points.forEach(j=>E.push(`   - ${j}`))})),r==="agree"?E.push("","사용자는 이 내용에 어느 정도 공감하고 있습니다. 그 공감을 바탕으로 조금 더 깊이 이해하고 정리할 수 있도록 도와주세요."):r==="disagree"&&E.push("","사용자는 이 내용에 대해 불편함 또는 다른 시각을 가지고 있습니다. 그 감정을 존중하면서 안전한 분위기에서 생각을 풀어낼 수 있도록 도와주세요."),E.join(`
`)}function StepProgress({step:o,isTerminal:r}){const x=[{key:"persona",label:"AI 선택"},{key:"stance",label:"마음"},{key:"chat",label:"대화"}],O=x.findIndex(E=>E.key===o);return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-0 mb-5",children:x.map((E,y)=>{const S=y<O,j=y===O;return jsxRuntimeExports.jsxs(React$1.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold transition-all duration-200",S&&!r&&"bg-primary text-primary-foreground",S&&r&&"bg-primary/80 text-background",j&&!r&&"bg-primary text-primary-foreground ring-2 ring-primary/30 ring-offset-1",j&&r&&"bg-primary/20 text-primary border border-primary/60 ring-2 ring-primary/20 ring-offset-1",!S&&!j&&!r&&"bg-muted text-muted-foreground",!S&&!j&&r&&"bg-primary/5 text-primary/30 border border-primary/15"),children:S?jsxRuntimeExports.jsx(Check,{className:"h-3.5 w-3.5"}):y+1}),jsxRuntimeExports.jsx("span",{className:cn("text-[10px] font-medium",j&&!r&&"text-primary",j&&r&&"text-primary",!j&&"text-muted-foreground"),children:E.label})]}),y<x.length-1&&jsxRuntimeExports.jsx("div",{className:cn("h-0.5 w-8 mb-4 transition-all duration-300",y<O?r?"bg-primary/60":"bg-primary/50":r?"bg-primary/10":"bg-border")})]},E.key)})})}function DebateRoom({topic:o,onClose:r}){var mt;const{isTerminal:x}=useTheme(),[O,E]=reactExports.useState([]),[y,S]=reactExports.useState(""),[j,w]=reactExports.useState(!1),[_,Q]=reactExports.useState(0),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(null),[te,re]=reactExports.useState("persona"),[se,ne]=reactExports.useState(null),[oe,Oe]=reactExports.useState(!1),[ae,ge]=reactExports.useState(DEFAULT_FOLLOW_UP_PROMPTS.slice(0,3)),je=reactExports.useRef(null),Ae=reactExports.useRef(null),Qe=reactExports.useRef(null),Xe=y.trim().length>0&&!j;reactExports.useEffect(()=>{je.current&&(je.current.scrollTop=je.current.scrollHeight)},[O,j]),reactExports.useEffect(()=>{setTimeout(()=>{var Ke;return(Ke=Ae.current)==null?void 0:Ke.focus()},100)},[]),reactExports.useEffect(()=>{if(!j){Q(0);return}const Ke=setInterval(()=>{Q(ze=>(ze+1)%THINKING_MESSAGES.length)},2e3);return()=>clearInterval(Ke)},[j]);const Ue=reactExports.useCallback(Ke=>{E(ze=>[...ze,Ke])},[]),Le=reactExports.useCallback(async(Ke,ze)=>{const He=pickUniquePrompts(ze||[],3);if(He.length>0){ge(He);return}try{const ct=await invokeChatTask({mode:"chain",payload:{paragraph:`${o.title}

${Ke}`.slice(0,1600),postTitle:o.title}}),ut=pickUniquePrompts(extractChainQuestions(ct.data),3);if(ut.length>0){ge(ut);return}}catch{}const tt=derivePromptsFromResponse(Ke);tt.length>0?ge(tt):ge(DEFAULT_FOLLOW_UP_PROMPTS.slice(0,3))},[o.title]),Ze=reactExports.useCallback(Ke=>{V(Ke),re("stance"),ne(null),Oe(!0),invokeChatTask({mode:"chain",payload:{paragraph:`다음 주제로 AI 상담을 시작하려고 합니다: ${o.title}

${o.context}`.slice(0,1200),postTitle:o.title}}).then(ze=>{const He=extractChainQuestions(ze.data).slice(0,3);He.length===3&&ne([{label:He[0],stance:"agree",icon:ThumbsUp},{label:He[1],stance:"disagree",icon:ThumbsDown},{label:He[2],stance:"neutral",icon:Lightbulb}])}).catch(()=>{}).finally(()=>Oe(!1))},[o]),Be=reactExports.useCallback(async Ke=>{var ct,ut;M(Ke),re("chat"),w(!0);const ze={id:`user_${Date.now()}`,role:"user",content:((ct=(se??DEBATE_STARTERS).find(it=>it.stance===Ke))==null?void 0:ct.label)||"",stance:Ke,timestamp:Date.now()};Ue(ze);const He=`ai_${Date.now()}`;Ue({id:He,role:"ai",content:"",timestamp:Date.now()});const tt={current:null};try{(ut=Qe.current)==null||ut.abort();const it=new AbortController;Qe.current=it,tt.current=setTimeout(()=>it.abort(),12e4);const yt=buildDebateSystemPrompt(o,Ke,F||void 0),et=Ke==="agree"?"이 부분이 특히 신경 쓰여요. 조금 더 이해하고 정리하고 싶어요.":Ke==="disagree"?"이 부분이 조금 불편해요. 다른 관점에서 생각해볼 수 있을까요?":"조금 더 이해하고 정리하고 싶어요. 핵심 논점이 무엇인가요?";let qe="";const ot=[];for await(const pt of streamChatEvents({text:`${yt}

---

사용자: ${et}`,signal:it.signal,useArticleContext:!1}))pt.type==="text"?(qe+=pt.text,E(Ve=>Ve.map(dt=>dt.id===He?{...dt,content:qe}:dt))):pt.type==="followups"&&ot.push(...pt.questions);qe.trim()&&Le(qe,ot)}catch(it){if(it.name==="AbortError"){const et=O.find(qe=>qe.id===He);et!=null&&et.content||E(qe=>qe.map(ot=>ot.id===He?{...ot,content:"응답 시간이 초과되었어요. 다시 시도해주세요."}:ot))}else E(et=>et.map(qe=>qe.id===He?{...qe,content:"죄송해요, 응답을 생성하지 못했어요. 다시 시도해주세요."}:qe))}finally{tt.current&&clearTimeout(tt.current),w(!1)}},[o,Ue,F,Le,se,O]),Ge=reactExports.useCallback(async()=>{var ct;if(!Xe)return;const Ke=y.trim();S(""),Ae.current&&(Ae.current.style.height="auto");const ze={id:`user_${Date.now()}`,role:"user",content:Ke,timestamp:Date.now()};Ue(ze);const He=`ai_${Date.now()}`;Ue({id:He,role:"ai",content:"",timestamp:Date.now()}),w(!0);const tt={current:null};try{(ct=Qe.current)==null||ct.abort();const ut=new AbortController;Qe.current=ut,tt.current=setTimeout(()=>ut.abort(),12e4);const it=O.filter(pt=>pt.role!=="system").map(pt=>`${pt.role==="user"?"사용자":"AI"}: ${pt.content}`).join(`

`),et=[buildDebateSystemPrompt(o,I||void 0,F||void 0),"","---","","[대화 기록]",it,"",`사용자: ${Ke}`].join(`
`);let qe="";const ot=[];for await(const pt of streamChatEvents({text:et,signal:ut.signal,useArticleContext:!1}))pt.type==="text"?(qe+=pt.text,E(Ve=>Ve.map(dt=>dt.id===He?{...dt,content:qe}:dt))):pt.type==="followups"&&ot.push(...pt.questions);qe.trim()&&Le(qe,ot)}catch(ut){ut.name==="AbortError"?E(yt=>{const et=yt.find(qe=>qe.id===He);return et!=null&&et.content?yt:yt.map(qe=>qe.id===He?{...qe,content:"응답 시간이 초과되었어요. 다시 시도해주세요."}:qe)}):E(yt=>yt.map(et=>et.id===He?{...et,content:"죄송해요, 응답을 생성하지 못했어요."}:et))}finally{tt.current&&clearTimeout(tt.current),w(!1)}},[Xe,y,O,o,I,F,Ue,Le]),We=reactExports.useCallback(Ke=>{Ke.key==="Enter"&&!Ke.shiftKey&&(Ke.preventDefault(),Xe&&Ge())},[Xe,Ge]),at=reactExports.useCallback(()=>{var Ke;(Ke=Qe.current)==null||Ke.abort(),E([]),M(null),V(null),re("persona"),S(""),ge(DEFAULT_FOLLOW_UP_PROMPTS.slice(0,3)),ne(null),w(!1)},[]),rt=reactExports.useCallback(Ke=>{var ze;S(Ke),(ze=Ae.current)==null||ze.focus()},[]),Je=reactExports.useCallback(Ke=>{const ze=Ke.currentTarget;ze.style.height="auto",ze.style.height=`${Math.min(ze.scrollHeight,120)}px`},[]);return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col h-full max-h-[80vh] sm:max-h-[600px] overflow-hidden rounded-2xl border shadow-xl",x?"bg-[hsl(var(--terminal-code-bg))] border-primary/30 font-mono shadow-[0_0_30px_hsl(var(--terminal-glow)/0.15)]":"bg-card border-border"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between px-4 py-3.5 border-b shrink-0",x?"border-primary/20 bg-[hsl(var(--terminal-titlebar))]":"border-border/40 bg-muted/40"),children:[x&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mr-3",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-10 w-10 rounded-full shrink-0",x?"bg-primary/20 border border-primary/30":"bg-primary/10"),children:jsxRuntimeExports.jsx(Users,{className:cn("h-5 w-5","text-primary")})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("h3",{className:cn("font-semibold text-base truncate",x&&"font-mono text-primary terminal-glow"),children:[x?">_ AI 상담실":"AI 상담실",j&&jsxRuntimeExports.jsx("span",{className:"inline-flex items-center gap-1 ml-2",children:jsxRuntimeExports.jsx("span",{className:cn("w-1.5 h-1.5 rounded-full animate-pulse",x?"bg-primary":"bg-emerald-500")})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px] sm:max-w-[280px]",children:o.title})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[O.length>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:at,className:cn("flex items-center justify-center h-9 w-9 rounded-full transition-colors",x?"hover:bg-primary/20 text-primary/70 hover:text-primary":"hover:bg-muted text-muted-foreground hover:text-foreground"),"aria-label":"상담 초기화",children:jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:cn("flex items-center justify-center h-9 w-9 rounded-full transition-colors",x?"hover:bg-primary/20 text-primary/70 hover:text-primary":"hover:bg-muted text-muted-foreground hover:text-foreground"),"aria-label":"닫기",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{ref:je,className:"flex-1 overflow-y-auto overscroll-contain px-4 py-5 space-y-5",children:[te==="persona"&&jsxRuntimeExports.jsxs("div",{className:"space-y-5 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[jsxRuntimeExports.jsx(StepProgress,{step:"persona",isTerminal:x}),jsxRuntimeExports.jsx("div",{className:cn("rounded-xl px-4 py-4 border",x?"bg-primary/5 border-primary/30":"bg-muted/40 border-border/60"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-9 w-9 rounded-lg shrink-0 mt-0.5",x?"bg-primary/20":"bg-primary/10"),children:jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4 text-primary"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-2",children:o.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.context.length>200?`${o.context.slice(0,200)}...`:o.context})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4 text-primary"}),jsxRuntimeExports.jsx("span",{children:"어떤 AI와 상담할까요?"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"각 AI는 다른 관점과 스타일로 대화합니다"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:AI_PERSONAS.map(Ke=>{const ze=Ke.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ze(Ke),className:cn("group flex flex-col items-center gap-2 px-4 py-4 rounded-xl border transition-all","hover:scale-[1.02] active:scale-[0.98]",x?"border-primary/30 hover:border-primary/60 hover:bg-primary/10":"border-border hover:border-primary/40 hover:bg-muted/50 hover:shadow-sm"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br",Ke.color,"text-white shadow-lg transition-transform group-hover:scale-110 duration-200"),children:jsxRuntimeExports.jsx(ze,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium block",children:Ke.name}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground line-clamp-2",children:Ke.description})]})]},Ke.id)})})]})]}),te==="stance"&&F&&jsxRuntimeExports.jsxs("div",{className:"space-y-5 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[jsxRuntimeExports.jsx(StepProgress,{step:"stance",isTerminal:x}),jsxRuntimeExports.jsx("div",{className:cn("rounded-xl px-4 py-4 border",x?"bg-primary/5 border-primary/30":"bg-muted/40 border-border/60"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-10 w-10 rounded-full bg-gradient-to-br shrink-0",F.color,"text-white shadow-md"),children:jsxRuntimeExports.jsx(F.icon,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-sm",children:[F.name,"와 상담"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:F.description})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>re("persona"),className:cn("flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg transition-colors",x?"text-primary/70 hover:text-primary hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"h-3.5 w-3.5"}),"뒤로가기"]})]})}),o.facets&&o.facets.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground px-1",children:"관련 관점들:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:o.facets.slice(0,3).map((Ke,ze)=>jsxRuntimeExports.jsx("span",{className:cn("inline-flex items-center px-3 py-1.5 rounded-full text-xs",x?"bg-primary/10 text-primary border border-primary/20":"bg-secondary text-secondary-foreground"),children:Ke.title},ze))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"어떤 마음으로 상담을 시작할까요?"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-2.5",children:oe?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"주제에 맞는 시작 모드를 생성하는 중..."})]}):(se??DEBATE_STARTERS).map(Ke=>{const ze=Ke.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Be(Ke.stance),disabled:j,className:cn("flex items-center gap-3 px-4 py-3.5 rounded-xl border transition-all","hover:scale-[1.01] active:scale-[0.99]",x?"border-primary/30 hover:border-primary/50 hover:bg-primary/10":"border-border hover:border-primary/40 hover:bg-muted/50",j&&"opacity-50 cursor-not-allowed"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center h-9 w-9 rounded-lg shrink-0",Ke.stance==="agree"&&"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400",Ke.stance==="disagree"&&"bg-orange-500/15 text-orange-600 dark:text-orange-400",Ke.stance==="neutral"&&"bg-blue-500/15 text-blue-600 dark:text-blue-400"),children:jsxRuntimeExports.jsx(ze,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 text-left line-clamp-2",children:Ke.label}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 text-muted-foreground shrink-0"})]},Ke.stance)})})]})]}),O.map(Ke=>jsxRuntimeExports.jsx("div",{className:cn("flex",Ke.role==="user"?"justify-end":"justify-start"),children:Ke.role==="ai"?jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2.5 max-w-[88%]",children:[F&&jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-full bg-gradient-to-br mt-1 shadow-sm",F.color,"text-white"),children:jsxRuntimeExports.jsx(F.icon,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx("div",{className:cn("rounded-2xl px-4 py-3 min-w-0",x?"bg-primary/10 border border-primary/30 rounded-bl-md":"bg-secondary text-secondary-foreground rounded-bl-md"),children:Ke.content?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChatMarkdown,{content:Ke.content}),j&&jsxRuntimeExports.jsx("span",{className:"inline-block w-0.5 h-4 bg-current ml-0.5 animate-pulse align-middle opacity-70"})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground min-h-[44px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current animate-bounce [animation-delay:0ms]"}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current animate-bounce [animation-delay:150ms]"}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current animate-bounce [animation-delay:300ms]"})]}),jsxRuntimeExports.jsx("span",{className:"text-xs transition-all duration-500",children:THINKING_MESSAGES[_]})]})})]}):jsxRuntimeExports.jsxs("div",{className:cn("max-w-[88%] rounded-2xl px-4 py-3",Ke.role==="user"&&"bg-primary text-primary-foreground rounded-br-md",Ke.role==="system"&&"bg-muted text-muted-foreground"),children:[jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:Ke.content}),Ke.role==="user"&&Ke.stance&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-2 pt-2 border-t border-primary-foreground/20",children:[Ke.stance==="agree"&&jsxRuntimeExports.jsx(ThumbsUp,{className:"h-3 w-3"}),Ke.stance==="disagree"&&jsxRuntimeExports.jsx(ThumbsDown,{className:"h-3 w-3"}),Ke.stance==="neutral"&&jsxRuntimeExports.jsx(Lightbulb,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{className:"text-xs opacity-80",children:[Ke.stance==="agree"&&"동의",Ke.stance==="disagree"&&"반대",Ke.stance==="neutral"&&"탐구"]})]})]})},Ke.id)),!j&&O.length>0&&((mt=O[O.length-1])==null?void 0:mt.role)==="ai"&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 pt-3",children:ae.map((Ke,ze)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rt(Ke),className:cn("inline-flex items-center gap-1.5 text-xs px-3 py-2 rounded-full transition-colors",x?"bg-primary/15 text-primary/90 hover:bg-primary/25 hover:text-primary border border-primary/30":"bg-muted hover:bg-muted/80 text-muted-foreground hover:text-foreground"),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"h-3 w-3 shrink-0"}),Ke]},ze))})]}),te==="chat"&&jsxRuntimeExports.jsxs("div",{className:cn("border-t px-4 py-4 shrink-0",x?"border-primary/20 bg-primary/5":"border-border/40 bg-muted/30"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-end gap-2.5 rounded-xl border px-3 py-2.5",x?"border-primary/30 bg-background/60":"border-border bg-background"),children:[jsxRuntimeExports.jsx("textarea",{ref:Ae,value:y,onChange:Ke=>S(Ke.target.value),onKeyDown:We,onInput:Je,placeholder:"생각을 나눠보세요...",rows:1,className:cn("flex-1 resize-none border-0 bg-transparent py-2 text-sm focus:outline-none focus:ring-0","placeholder:text-muted-foreground/50",x&&"font-mono"),style:{maxHeight:"120px"}}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ge,disabled:!Xe,className:cn("flex items-center justify-center h-10 w-10 rounded-lg transition-colors shrink-0",Xe?x?"bg-primary/25 text-primary hover:bg-primary/35 border border-primary/40":"bg-primary text-primary-foreground hover:bg-primary/90":"bg-muted text-muted-foreground cursor-not-allowed"),"aria-label":"보내기",children:j?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/50 text-right mt-1.5",children:"Enter로 전송 · Shift+Enter 줄바꿈"})]})]})}function logEvent(o){try{const r="aiMemo.events",x=JSON.parse(localStorage.getItem(r)||"[]");x.push({t:Date.now(),...o}),localStorage.setItem(r,JSON.stringify(x.slice(-500)))}catch{}}function emitAiMemoLog(o){if(!(typeof window>"u"))try{window.dispatchEvent(new CustomEvent("aiMemo:log",{detail:o}))}catch{}}function extractText(o){const r=[],x=O=>{if(!(O==null||O===!1)){if(typeof O=="string"||typeof O=="number"){r.push(String(O));return}if(Array.isArray(O)){O.forEach(x);return}React$1.isValidElement(O)&&x(O.props.children)}};return x(o),r.join(" ").replace(/\s+/g," ").trim()}const ModeConfig={idle:{label:"Idle",icon:Sparkles,activeColor:"text-muted-foreground",description:""},sketch:{label:"Sketch",icon:Lightbulb,activeColor:"text-amber-500 dark:text-amber-400",description:"감정과 핵심 포인트"},prism:{label:"Prism",icon:Layers,activeColor:"text-violet-500 dark:text-violet-400",description:"다각도 분석"},chain:{label:"Chain",icon:Link2,activeColor:"text-emerald-500 dark:text-emerald-400",description:"연쇄 질문"}},MOOD_EMOJI={설명적:"📖",분석적:"🔍",정보적:"💡",교육적:"🎓",흥미로운:"✨",흥미:"✨",호기심:"🤔",탐구적:"🧭",비판적:"⚡",논쟁적:"🔥",도전적:"💪",철학적:"🌀",서사적:"📜",감성적:"💫",실용적:"🔧",창의적:"🎨"};function getMoodEmoji(o){for(const[r,x]of Object.entries(MOOD_EMOJI))if(o.includes(r))return x;return"💡"}const FACET_COLORS=[{bar:"bg-violet-500",text:"text-violet-700 dark:text-violet-300",bg:"bg-violet-50/60 dark:bg-violet-900/15",border:"border-violet-200/60 dark:border-violet-800/30",dot:"bg-violet-400/60"},{bar:"bg-blue-500",text:"text-blue-700 dark:text-blue-300",bg:"bg-blue-50/60 dark:bg-blue-900/15",border:"border-blue-200/60 dark:border-blue-800/30",dot:"bg-blue-400/60"},{bar:"bg-emerald-500",text:"text-emerald-700 dark:text-emerald-300",bg:"bg-emerald-50/60 dark:bg-emerald-900/15",border:"border-emerald-200/60 dark:border-emerald-800/30",dot:"bg-emerald-400/60"},{bar:"bg-amber-500",text:"text-amber-700 dark:text-amber-300",bg:"bg-amber-50/60 dark:bg-amber-900/15",border:"border-amber-200/60 dark:border-amber-800/30",dot:"bg-amber-400/60"}];function formatSketchResult(o){const r=o.bullets.map(x=>`- ${x}`).join(`
`);return[`**Mood:** ${o.mood}`,"",r].join(`
`)}function formatPrismResult(o){return o.facets.map(r=>`### ${r.title}
${r.points.map(x=>`- ${x}`).join(`
`)}`).join(`

`)}function formatChainResult(o){return o.questions.map(r=>`- **${r.q}**${r.why?` — ${r.why}`:""}`).join(`
`)}function SparkInline({children:o,postTitle:r}){var Ze;const[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState("idle"),[S,j]=reactExports.useState(null),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState(null),[M,F]=reactExports.useState(null),[V,te]=reactExports.useState("idle"),[re,se]=reactExports.useState(!1),[ne,oe]=reactExports.useState(null),{isTerminal:Oe}=useTheme(),{language:ae}=useLanguage(),ge=reactExports.useMemo(()=>extractText(o),[o]),je=ge&&ge.length>0,Ae=async Be=>{if(je){O(!0),j(null),y(Be),te(Be),_(null),I(null),F(null);try{if(Be==="sketch"){const Ge=await sketch({paragraph:ge,postTitle:r});_(Ge),logEvent({type:"sketch",len:ge.length}),emitAiMemoLog({type:"ai_qna",mode:"sketch",question:ge,answer:formatSketchResult(Ge),postTitle:r})}else if(Be==="prism"){const Ge=await prism({paragraph:ge,postTitle:r});I(Ge),logEvent({type:"prism",len:ge.length}),emitAiMemoLog({type:"ai_qna",mode:"prism",question:ge,answer:formatPrismResult(Ge),postTitle:r})}else if(Be==="chain"){const Ge=await chain$1({paragraph:ge,postTitle:r});F(Ge),logEvent({type:"chain",len:ge.length}),emitAiMemoLog({type:"ai_qna",mode:"chain",question:ge,answer:formatChainResult(Ge),postTitle:r})}}catch(Ge){const We=Ge instanceof Error?Ge.message:"AI 호출 실패";j(We)}finally{y("idle")}}},Qe=w||Q||M,Xe=ModeConfig[V],Ue=ae==="ko"?"AI 설명 보기":"View AI explanation",Le=ae==="ko"?"AI로 문단 분석하기":"Analyze paragraph with AI";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"mb-4 leading-relaxed inline-block w-full group/spark relative",children:[o,je&&jsxRuntimeExports.jsxs(Tooltip,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("button",{type:"button",title:Ue,"aria-label":Ue,"aria-expanded":x,onClick:()=>O(Be=>!Be),className:cn("ml-2 inline-flex items-center justify-center rounded-full transition-all duration-200","min-h-[36px] min-w-[36px] md:min-h-[28px] md:min-w-[28px]","opacity-50 hover:opacity-100 group-hover/spark:opacity-80","hover:bg-primary/10 hover:scale-110","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-background",Oe&&"text-primary"),children:[jsxRuntimeExports.jsx(Sparkles,{className:cn("h-4 w-4 md:h-3.5 md:w-3.5",x&&"text-primary")}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:Le})]})}),jsxRuntimeExports.jsx(TooltipContent,{side:"top",children:Ue})]})]}),jsxRuntimeExports.jsx("div",{className:cn("grid transition-[grid-template-rows,opacity] duration-300 ease-in-out",x?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0","-mt-2 mb-6"),"aria-hidden":!x,children:jsxRuntimeExports.jsx("div",{className:"overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:cn("rounded-2xl border shadow-sm",Oe?"bg-[hsl(var(--terminal-code-bg))] border-primary/20":"bg-card/80 backdrop-blur-sm border-border/60"),role:"region","aria-label":"AI 분석 패널",children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between px-4 py-3 border-b",Oe?"border-primary/10 bg-primary/5":"border-border/40 bg-muted/30"),children:[jsxRuntimeExports.jsx("div",{className:cn("inline-flex rounded-xl p-1 gap-1",Oe?"bg-primary/10":"bg-muted/60"),children:["sketch","prism","chain"].map(Be=>{const Ge=ModeConfig[Be],We=Ge.icon,at=V===Be&&(Qe!==null||E===Be),rt=E===Be;return jsxRuntimeExports.jsxs("button",{className:cn("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200","min-h-[32px] min-w-[70px] justify-center","disabled:opacity-50 disabled:cursor-not-allowed",at&&!Oe&&"bg-background shadow-sm text-foreground",at&&Oe&&"bg-primary/20 text-primary shadow-sm",!at&&"text-muted-foreground hover:text-foreground hover:bg-background/50",rt&&"animate-pulse"),disabled:E!=="idle",onClick:()=>Ae(Be),children:[rt?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3.5 w-3.5 animate-spin"}):jsxRuntimeExports.jsx(We,{className:cn("h-3.5 w-3.5",at&&Ge.activeColor)}),jsxRuntimeExports.jsx("span",{children:Ge.label})]},Be)})}),jsxRuntimeExports.jsx("button",{className:cn("flex items-center justify-center rounded-full transition-all duration-200","h-8 w-8 hover:bg-muted/80",Oe&&"hover:bg-primary/10 text-primary/60 hover:text-primary"),onClick:()=>O(!1),"aria-label":"닫기",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-4",children:[E!=="idle"&&jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col items-center gap-3 py-8 justify-center"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center w-12 h-12 rounded-2xl",Oe?"bg-primary/10":"bg-muted"),children:jsxRuntimeExports.jsx(LoaderCircle,{className:cn("h-6 w-6 animate-spin",Oe?"text-primary":"text-muted-foreground")})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("p",{className:cn("text-sm font-medium",Oe?"text-primary":"text-foreground"),children:[Xe.label," 분석 중..."]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"잠시만 기다려 주세요..."})]})]}),S&&jsxRuntimeExports.jsx("div",{className:cn("rounded-xl px-4 py-3 text-sm","bg-destructive/10 text-destructive border border-destructive/20"),children:S}),w&&E==="idle"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("span",{className:cn("inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium",Oe?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300"),children:[jsxRuntimeExports.jsx("span",{className:"text-base mr-0.5",role:"img","aria-label":"mood",children:getMoodEmoji(w.mood)}),w.mood]})}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:w.bullets.map((Be,Ge)=>jsxRuntimeExports.jsxs("li",{className:cn("flex items-start gap-3 text-sm leading-relaxed",Oe?"text-foreground/90":"text-foreground"),children:[jsxRuntimeExports.jsx("span",{className:cn("flex-shrink-0 w-1.5 h-1.5 rounded-full mt-2",Oe?"bg-primary/60":"bg-amber-500/60")}),jsxRuntimeExports.jsx("span",{children:Be})]},Ge))})]}),Q&&E==="idle"&&jsxRuntimeExports.jsxs("div",{className:"space-y-3 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[Q.facets.map((Be,Ge)=>{const We=FACET_COLORS[Ge%FACET_COLORS.length];return jsxRuntimeExports.jsx("div",{className:cn("rounded-xl overflow-hidden border",Oe?"bg-primary/5 border-primary/20":`${We.bg} ${We.border}`),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:cn("w-1 self-stretch rounded-full shrink-0",Oe?"bg-primary/50":We.bar)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:cn("font-medium text-sm mb-2",Oe?"text-primary":We.text),children:Be.title}),jsxRuntimeExports.jsx("ul",{className:"space-y-1.5",children:Be.points.map((at,rt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2 text-sm leading-relaxed text-foreground/80",children:[jsxRuntimeExports.jsx("span",{className:cn("flex-shrink-0 w-1 h-1 rounded-full mt-2",Oe?"bg-primary/40":We.dot)}),jsxRuntimeExports.jsx("span",{children:at})]},rt))})]})]})},Ge)}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{var Be;oe({title:((Be=Q.facets[0])==null?void 0:Be.title)||"다각도 분석",context:ge,facets:Q.facets,originalParagraph:ge}),se(!0)},className:cn("group w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-all","hover:scale-[1.01] active:scale-[0.99]",Oe?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-violet-100/50 border-violet-300/50 text-violet-700 hover:bg-violet-100 dark:bg-violet-900/20 dark:border-violet-700/30 dark:text-violet-300 dark:hover:bg-violet-900/30"),children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 text-left",children:"이 주제로 상담 시작하기"}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]}),M&&E==="idle"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2.5 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[M.questions.map((Be,Ge)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{oe({title:Be.q,context:`${ge}

질문: ${Be.q}${Be.why?`
이유: ${Be.why}`:""}`,originalParagraph:ge}),se(!0)},className:cn("w-full text-left rounded-xl px-4 py-3 border transition-all","hover:-translate-y-0.5 hover:shadow-sm active:scale-[0.99]",Oe?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-emerald-50/50 border-emerald-200/50 dark:bg-emerald-900/10 dark:border-emerald-800/30 hover:bg-emerald-50 dark:hover:bg-emerald-900/20"),children:[jsxRuntimeExports.jsxs("div",{className:cn("font-medium text-sm flex items-start gap-2",Oe?"text-primary":"text-emerald-700 dark:text-emerald-300"),children:[jsxRuntimeExports.jsx("span",{className:cn("flex-shrink-0 flex items-center justify-center w-5 h-5 rounded-full text-[10px] font-bold mt-0.5",Oe?"bg-primary/30 text-primary":"bg-emerald-500 text-white"),children:Ge+1}),jsxRuntimeExports.jsx("span",{children:Be.q})]}),Be.why&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 ml-7",children:Be.why})]},Ge)),jsxRuntimeExports.jsx("p",{className:"text-xs text-center text-muted-foreground pt-2",children:"질문을 클릭하여 AI와 상담을 시작하세요"})]}),!Qe&&E==="idle"&&!S&&jsxRuntimeExports.jsxs("div",{className:"py-8 flex flex-col items-center justify-center min-h-[180px]",children:[jsxRuntimeExports.jsxs("div",{className:cn("relative flex items-center justify-center w-14 h-14 rounded-2xl mb-4",Oe?"bg-primary/10":"bg-muted"),children:[jsxRuntimeExports.jsx("span",{className:"absolute inset-0 rounded-2xl animate-ping opacity-20 bg-primary/40"}),jsxRuntimeExports.jsx(Sparkles,{className:cn("h-6 w-6 relative z-10",Oe?"text-primary":"text-muted-foreground")})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"위 버튼을 눌러 AI 분석을 시작하세요"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4 text-xs text-muted-foreground/70",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Sketch"})," - 핵심 포인트"]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Prism"})," - 다각도 분석"]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Chain"})," - 연쇄 질문"]})]})]})]})]})})}),re&&(ne||Q)&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[var(--z-modal-overlay)] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in-0 duration-200",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:jsxRuntimeExports.jsx(DebateRoom,{topic:ne||{title:((Ze=Q==null?void 0:Q.facets[0])==null?void 0:Ze.title)||"다각도 분석",context:ge,facets:Q==null?void 0:Q.facets,originalParagraph:ge},postTitle:r,onClose:()=>{se(!1),oe(null)}})})}),document.body)]})}const Dialog=Root$b,DialogPortal=Portal$5,DialogOverlay=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Overlay$1,{ref:x,className:cn("fixed inset-0 z-[var(--z-modal-overlay)] bg-black/50 dark:bg-black/70 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...r}));DialogOverlay.displayName=Overlay$1.displayName;const DialogContent=reactExports.forwardRef(({className:o,children:r,hideClose:x,...O},E)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$4,{ref:E,className:cn("fixed left-[50%] top-[50%] z-[var(--z-dialog)] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o),...O,children:[r,!x&&jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$4.displayName;const DialogHeader=({className:o,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",o),...r});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:o,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",o),...r});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Title$1,{ref:x,className:cn("text-lg font-semibold leading-none tracking-tight",o),...r}));DialogTitle.displayName=Title$1.displayName;const DialogDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Description$1,{ref:x,className:cn("text-sm text-muted-foreground",o),...r}));DialogDescription.displayName=Description$1.displayName;function getThumbSrc(o){if(!o||/^(https?:)?\/\//i.test(o)||/^(data|blob):/i.test(o)||o.includes(".thumb."))return o;const r=o.lastIndexOf(".");return r===-1?o:o.substring(0,r)+".thumb.webp"}function ImageLightbox({src:o,alt:r,open:x,onOpenChange:O}){const[E,y]=reactExports.useState(1),[S,j]=reactExports.useState(0),[w,_]=reactExports.useState(!1),[Q,I]=reactExports.useState({x:0,y:0}),M=reactExports.useRef(!1),F=reactExports.useRef({x:0,y:0,tx:0,ty:0}),V=reactExports.useRef(!1),te=reactExports.useRef(E),re=reactExports.useRef(Q);reactExports.useEffect(()=>{te.current=E},[E]),reactExports.useEffect(()=>{re.current=Q},[Q]);const se=reactExports.useCallback(()=>{y(Xe=>Math.min(Xe+.25,4))},[]),ne=reactExports.useCallback(()=>{y(Xe=>{const Ue=Math.max(Xe-.25,.5);return Ue<=1&&I({x:0,y:0}),Ue})},[]),oe=reactExports.useCallback(()=>{j(Xe=>(Xe+90)%360)},[]),Oe=reactExports.useCallback(()=>{y(1),j(0),I({x:0,y:0}),_(!1)},[]),ae=reactExports.useCallback(Xe=>{Xe||Oe(),O(Xe)},[O,Oe]),ge=reactExports.useCallback(Xe=>{if(!Xe)return;const Ue=Le=>{Le.preventDefault();const Ze=Le.deltaY<0?.15:-.15;y(Be=>{const Ge=Math.min(Math.max(Be+Ze,.5),4);return Ge<=1&&I({x:0,y:0}),Ge})};Xe.addEventListener("wheel",Ue,{passive:!1})},[]),je=reactExports.useCallback(Xe=>{te.current<=1||(M.current=!0,V.current=!1,F.current={x:Xe.clientX,y:Xe.clientY,tx:re.current.x,ty:re.current.y},Xe.currentTarget.setPointerCapture(Xe.pointerId))},[]),Ae=reactExports.useCallback(Xe=>{if(!M.current)return;const Ue=Xe.clientX-F.current.x,Le=Xe.clientY-F.current.y;(Math.abs(Ue)>5||Math.abs(Le)>5)&&(V.current=!0),V.current&&I({x:F.current.tx+Ue,y:F.current.ty+Le})},[]),Qe=reactExports.useCallback(Xe=>{M.current&&(M.current=!1,!V.current&&te.current<=1&&ae(!1))},[ae]);return reactExports.useEffect(()=>{if(x&&o){const Xe=new Image;Xe.onload=()=>_(!0),Xe.src=o}},[x,o]),jsxRuntimeExports.jsx(Dialog,{open:x,onOpenChange:ae,children:jsxRuntimeExports.jsxs(DialogContent,{hideClose:!0,className:"w-[100vw] h-[100vh] max-w-[100vw] max-h-[100vh] sm:w-auto sm:h-auto sm:max-w-[95vw] sm:max-h-[95vh] p-0 bg-black/95 border-none overflow-hidden rounded-none sm:rounded-lg",onPointerDownOutside:()=>ae(!1),children:[jsxRuntimeExports.jsxs(VisuallyHidden,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:r||"Image preview"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Click outside or press Escape to close. Scroll to zoom. Drag to pan when zoomed."})]}),jsxRuntimeExports.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:ne,className:"h-9 w-9 rounded-full bg-white/10 text-white hover:bg-white/20",disabled:E<=.5,children:jsxRuntimeExports.jsx(ZoomOut,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:se,className:"h-9 w-9 rounded-full bg-white/10 text-white hover:bg-white/20",disabled:E>=4,children:jsxRuntimeExports.jsx(ZoomIn,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:oe,className:"h-9 w-9 rounded-full bg-white/10 text-white hover:bg-white/20",children:jsxRuntimeExports.jsx(RotateCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>ae(!1),className:"h-9 w-9 rounded-full bg-white/10 text-white hover:bg-white/20",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{ref:ge,"data-testid":"lightbox-container",className:cn("flex items-center justify-center w-full h-full min-h-[50vh] p-3 sm:p-8",E>1?"cursor-grab active:cursor-grabbing":"cursor-zoom-out"),onPointerDown:je,onPointerMove:Ae,onPointerUp:Qe,children:[!w&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-white/70"})}),jsxRuntimeExports.jsx("img",{src:o,alt:r||"","data-testid":"lightbox-image",className:cn("max-w-full max-h-[85vh] sm:max-h-[85vh] object-contain transition-[opacity] duration-300","select-none pointer-events-none",w?"opacity-100":"opacity-0"),style:{transform:`translate(${Q.x}px, ${Q.y}px) scale(${E}) rotate(${S}deg)`},draggable:!1})]}),r&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:jsxRuntimeExports.jsx("p",{className:"text-white/90 text-sm text-center",children:r})})]})})}function ClickableImage({src:o,alt:r,className:x,isTerminal:O,postPath:E}){const[y,S]=reactExports.useState(!1),[j,w]=reactExports.useState(!1),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(!1),F=reactExports.useRef(null);let V=o;o&&(o.startsWith("../../images/")?V=o.replace("../../images/","/images/"):o.startsWith("../images/")?V=o.replace("../images/","/images/"):o.startsWith("./images/")?V=o.replace("./images/","/images/"):o.startsWith("image/")&&(V=`/posts/${(E==null?void 0:E.split("/")[0])||"2025"}/${o}`));const te=getThumbSrc(V);reactExports.useEffect(()=>{const oe=new IntersectionObserver(([ae])=>{ae.isIntersecting&&(M(!0),oe.disconnect())},{rootMargin:"100px",threshold:.01}),Oe=F.current;return Oe&&oe.observe(Oe),()=>{Oe&&oe.unobserve(Oe)}},[]);const re=reactExports.useCallback(()=>{Q(!0)},[]),se=reactExports.useCallback(()=>{w(!0)},[]),ne=_?V:te;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{className:"my-8 text-center block",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>S(!0),className:"cursor-zoom-in focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-xl inline-block relative overflow-hidden","aria-label":`View ${r||"image"} in full size`,children:[!j&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-muted/50 animate-pulse rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin text-muted-foreground/50"})}),jsxRuntimeExports.jsx("img",{ref:F,src:I?ne:void 0,"data-src":ne,alt:r||"",loading:"lazy",decoding:"async",onLoad:se,onError:re,className:cn("rounded-xl shadow-lg mx-auto max-w-full h-auto transition-all duration-300","hover:scale-[1.02]",j?"opacity-100 blur-0":"opacity-0",O&&"rounded-lg border border-border",x)}),jsxRuntimeExports.jsx("div",{className:cn("absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity","bg-black/20 rounded-xl"),children:jsxRuntimeExports.jsx(ZoomIn,{className:"h-8 w-8 text-white drop-shadow-lg"})})]}),r&&jsxRuntimeExports.jsx("span",{className:cn("text-sm text-muted-foreground mt-2 italic",O&&"font-mono not-italic"),children:O?`// ${r}`:r})]}),jsxRuntimeExports.jsx(ImageLightbox,{src:V,alt:r,open:y,onOpenChange:S})]})}function normalizeHeadingText(o){return o.replace(/!\[[^\]]*\]\([^)]*\)/g," ").replace(/\[([^\]]+)\]\([^)]*\)/g,"$1").replace(/`{1,3}([^`]+)`{1,3}/g,"$1").replace(/<[^>]+>/g," ").replace(/[*_~]/g,"").replace(/&[a-z0-9#]+;/gi," ").replace(/\s+/g," ").trim()}function createHeadingSlug(o){return normalizeHeadingText(o).toLowerCase().replace(/[^\p{L}\p{N}\s-]/gu,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"section"}function buildMarkdownToc(o,r){const x=/^(#{1,6})\s+(.+)$/gm,O=[],E=new Map,y=r?normalizeHeadingText(r).toLowerCase():"";let S=!1,j;for(;(j=x.exec(o))!==null;){const w=j[1].length,_=j[2].trim(),Q=normalizeHeadingText(_);if(!Q)continue;if(y&&!S&&Q.toLowerCase()===y){S=!0;continue}const I=createHeadingSlug(Q),M=E.get(I)??0;E.set(I,M+1),O.push({id:M===0?I:`${I}-${M}`,title:Q,level:w})}return O}SyntaxHighlighter.registerLanguage("bash",bash);SyntaxHighlighter.registerLanguage("css",css);SyntaxHighlighter.registerLanguage("go",go);SyntaxHighlighter.registerLanguage("java",java$1);SyntaxHighlighter.registerLanguage("javascript",javascript$1);SyntaxHighlighter.registerLanguage("js",javascript$1);SyntaxHighlighter.registerLanguage("json",json$1);SyntaxHighlighter.registerLanguage("jsx",javascript$1);SyntaxHighlighter.registerLanguage("kotlin",kotlin);SyntaxHighlighter.registerLanguage("markdown",markdown);SyntaxHighlighter.registerLanguage("python",python$1);SyntaxHighlighter.registerLanguage("py",python$1);SyntaxHighlighter.registerLanguage("rust",rust);SyntaxHighlighter.registerLanguage("sql",sql);SyntaxHighlighter.registerLanguage("tsx",typescript);SyntaxHighlighter.registerLanguage("typescript",typescript);SyntaxHighlighter.registerLanguage("ts",typescript);SyntaxHighlighter.registerLanguage("yaml",yaml$1);const terminalTheme={...atomOneDark,hljs:{...atomOneDark.hljs,color:"#c6f7d4",background:"hsl(200 50% 3%)",border:"1px solid hsl(200 30% 12%)",fontFamily:"'JetBrains Mono', 'Fira Code', monospace"},"hljs-comment":{color:"#4e5953",fontStyle:"italic"},"hljs-keyword":{color:"#3cff96"},"hljs-string":{color:"#3cb8ff"},"hljs-title":{color:"#3cff96"},"hljs-number":{color:"#ffb02e"},"hljs-operator":{color:"#3cff96"},"hljs-punctuation":{color:"#7f8f87"},"hljs-variable":{color:"#e4f4e8"},"hljs-class .hljs-title":{color:"#3cb8ff"},"hljs-literal":{color:"#ffb02e"},"hljs-built_in":{color:"#ffb02e"}};function extractTextFromNode(o){if(typeof o=="string"||typeof o=="number")return String(o);if(Array.isArray(o))return o.map(extractTextFromNode).join(" ");if(!reactExports.isValidElement(o))return"";const r=o.props??{};return reactExports.Children.toArray(r.children).map(extractTextFromNode).join(" ")}const COLLAPSE_THRESHOLD=25,COLLAPSED_MAX_LINES=480;function CodeBlock({codeString:o,language:r,isTerminalTheme:x,copiedCode:O,onCopy:E}){const y=o.split(`
`).length,S=y>COLLAPSE_THRESHOLD,[j,w]=reactExports.useState(S);return jsxRuntimeExports.jsxs("div",{className:"relative group my-8 max-w-4xl mx-auto",children:[x&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-[hsl(var(--terminal-titlebar))] px-4 py-2 rounded-t-xl border border-b-0 border-border font-mono text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-primary",children:r})]}),!x&&r&&jsxRuntimeExports.jsx("div",{className:"absolute left-4 top-3 z-10",children:jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-primary/10 text-primary border border-primary/20",children:r})}),jsxRuntimeExports.jsx(Button,{size:"icon",variant:"ghost","data-testid":"code-copy-btn",className:cn("absolute right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity z-10",x?"top-12 text-primary hover:text-primary hover:bg-primary/10":"top-2"),onClick:()=>E(o),children:O===o?jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:cn("overflow-x-auto transition-[max-height] duration-500 ease-in-out",j?"overflow-y-hidden":"overflow-y-visible"),style:j?{maxHeight:`${COLLAPSED_MAX_LINES}px`}:{maxHeight:"none"},children:jsxRuntimeExports.jsx(SyntaxHighlighter,{style:x?terminalTheme:atomOneDark,language:r,PreTag:"div",showLineNumbers:!0,lineNumberStyle:{minWidth:"2.5em",paddingRight:"1em",color:x?"rgba(100,160,120,0.4)":"rgba(150,150,170,0.5)",userSelect:"none",fontSize:"0.8em"},className:cn("rounded-xl shadow-lg !overflow-x-auto",x&&"rounded-t-none !rounded-b-xl",!x&&r&&"!pt-10"),wrapLongLines:!1,children:o})}),S&&j&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 pointer-events-none",style:{background:x?"linear-gradient(to bottom, transparent, hsl(200 50% 3%))":"linear-gradient(to bottom, transparent, #282c34)"}})]}),S&&jsxRuntimeExports.jsx("button",{type:"button","data-testid":"code-collapse-toggle",onClick:()=>w(_=>!_),className:cn("w-full flex items-center justify-center gap-2 py-2 text-xs font-medium transition-colors","border-t",x?"bg-[hsl(var(--terminal-titlebar))] border-border text-primary hover:bg-primary/10 rounded-b-xl":"bg-[#282c34] border-[#3e4451] text-gray-400 hover:text-gray-200 rounded-b-xl"),children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronDown,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsxs("span",{children:[y-COLLAPSE_THRESHOLD,"줄 더 보기"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronUp,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{children:"접기"})]})})]})}const MarkdownRenderer$1=({content:o,className:r="",inlineEnabled:x=!1,postTitle:O="",postPath:E=""})=>{const[y,S]=reactExports.useState(null),{isTerminal:j}=useTheme(),w=reactExports.useMemo(()=>{if(!O)return o;const F=O.trim().toLowerCase(),V=o.split(/\r?\n/);for(;V.length;){const re=V[0].trim().replace(/^#+\s*/,"").trim().toLowerCase();if(re&&re===F){V.shift();continue}break}return V.join(`
`)},[o,O]),_=F=>{navigator.clipboard.writeText(F),S(F),setTimeout(()=>S(null),2e3)},Q=F=>{if(!reactExports.isValidElement(F))return!1;const V=F.props??{};return typeof V.src=="string"&&V.src.length>0?!0:reactExports.Children.toArray(V.children).some(re=>Q(re))},I=new Map,M=F=>{const V=normalizeHeadingText(extractTextFromNode(F)),te=createHeadingSlug(V),re=I.get(te)??0;return I.set(te,re+1),re===0?te:`${te}-${re}`};return jsxRuntimeExports.jsx("div",{className:cn("prose prose-neutral dark:prose-invert max-w-none prose-lg content",j&&"prose-headings:font-mono prose-headings:tracking-wide",r),children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],rehypePlugins:[rehypeRaw],components:{h1:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsxs("h1",{id:V,className:cn("text-4xl font-bold mt-12 mb-6 scroll-mt-24 text-center max-w-4xl mx-auto",j&&"terminal-glow"),children:[j&&jsxRuntimeExports.jsx("span",{className:"text-primary mr-2",children:"#"}),F]})},h2:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsxs("h2",{id:V,className:cn("text-3xl font-semibold mt-10 mb-5 scroll-mt-24 text-center max-w-4xl mx-auto",j&&"terminal-glow"),children:[j&&jsxRuntimeExports.jsx("span",{className:"text-primary mr-2",children:"##"}),F]})},h3:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsxs("h3",{id:V,className:cn("text-2xl font-semibold mt-8 mb-4 scroll-mt-24 text-center max-w-4xl mx-auto",j&&"terminal-glow"),children:[j&&jsxRuntimeExports.jsx("span",{className:"text-primary mr-2",children:"###"}),F]})},h4:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsx("h4",{id:V,className:"text-xl font-semibold mt-4 mb-2 scroll-mt-24",children:F})},h5:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsx("h5",{id:V,className:"text-lg font-semibold mt-4 mb-2 scroll-mt-24",children:F})},h6:({children:F})=>{const V=M(F);return jsxRuntimeExports.jsx("h6",{id:V,className:"text-base font-semibold mt-4 mb-2 scroll-mt-24",children:F})},p:({children:F})=>{if(x)return jsxRuntimeExports.jsx(SparkInline,{postTitle:O,children:F});const V=reactExports.Children.toArray(F);return V.some(re=>Q(re))?jsxRuntimeExports.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:V.map((re,se)=>jsxRuntimeExports.jsx(reactExports.Fragment,{children:re},se))}):jsxRuntimeExports.jsx("p",{className:cn("mb-6 leading-8 text-justify max-w-4xl mx-auto",j&&"border-l border-border/50 pl-4"),children:F})},ul:({children:F})=>jsxRuntimeExports.jsx("ul",{className:cn("list-disc pl-6 mb-6 space-y-3 max-w-4xl mx-auto",j&&"list-none"),children:F}),ol:({children:F})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal pl-6 mb-6 space-y-3 max-w-4xl mx-auto",children:F}),li:({children:F})=>jsxRuntimeExports.jsx("li",{className:cn("leading-8 text-justify",j&&'before:content-["-_"] before:text-primary'),children:F}),blockquote:({children:F})=>jsxRuntimeExports.jsx("blockquote",{className:cn("border-l-4 border-primary pl-6 my-8 italic bg-muted/30 py-4 rounded-r-lg max-w-4xl mx-auto",j&&"bg-[hsl(var(--terminal-code-bg))] border-primary/60 not-italic font-mono"),children:F}),code({inline:F,className:V,children:te,...re}){const se=/language-(\w+)/.exec(V||""),ne=String(te).replace(/\n$/,""),oe=se?se[1]:"";return!F&&se?jsxRuntimeExports.jsx(CodeBlock,{codeString:ne,language:oe,isTerminalTheme:j,copiedCode:y,onCopy:_}):jsxRuntimeExports.jsx("code",{className:cn("bg-muted px-1.5 py-0.5 rounded text-sm",j&&"bg-[hsl(var(--terminal-code-bg))] text-primary font-mono"),...re,children:te})},a:({href:F,children:V})=>jsxRuntimeExports.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:cn("text-primary hover:underline",j&&"underline decoration-dotted underline-offset-4 hover:decoration-solid"),children:V}),img:({src:F,alt:V})=>jsxRuntimeExports.jsx(ClickableImage,{src:F||"",alt:V,isTerminal:j,postPath:E}),cite:({children:F})=>jsxRuntimeExports.jsx("cite",{children:F}),table:({children:F})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto my-8 max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("table",{className:cn("min-w-full divide-y divide-border rounded-lg shadow-sm",j&&"font-mono text-sm"),children:F})}),th:({children:F})=>jsxRuntimeExports.jsx("th",{className:cn("px-4 py-2 text-left font-semibold bg-muted",j&&"bg-[hsl(var(--terminal-code-bg))] text-primary uppercase text-xs tracking-wider"),children:F}),td:({children:F})=>jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-t",children:F})},children:w})})},MarkdownRenderer$2=Object.freeze(Object.defineProperty({__proto__:null,MarkdownRenderer:MarkdownRenderer$1,default:MarkdownRenderer$1},Symbol.toStringTag,{value:"Module"}));function clamp(o,[r,x]){return Math.min(x,Math.max(r,o))}function useStateMachine(o,r){return reactExports.useReducer((x,O)=>r[x][O]??x,o)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((o,r)=>{const{__scopeScrollArea:x,type:O="hover",dir:E,scrollHideDelay:y=600,...S}=o,[j,w]=reactExports.useState(null),[_,Q]=reactExports.useState(null),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(null),[te,re]=reactExports.useState(null),[se,ne]=reactExports.useState(0),[oe,Oe]=reactExports.useState(0),[ae,ge]=reactExports.useState(!1),[je,Ae]=reactExports.useState(!1),Qe=useComposedRefs$1(r,Ue=>w(Ue)),Xe=useDirection(E);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:x,type:O,dir:Xe,scrollHideDelay:y,scrollArea:j,viewport:_,onViewportChange:Q,content:I,onContentChange:M,scrollbarX:F,onScrollbarXChange:V,scrollbarXEnabled:ae,onScrollbarXEnabledChange:ge,scrollbarY:te,onScrollbarYChange:re,scrollbarYEnabled:je,onScrollbarYEnabledChange:Ae,onCornerWidthChange:ne,onCornerHeightChange:Oe,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Xe,...S,ref:Qe,style:{position:"relative","--radix-scroll-area-corner-width":se+"px","--radix-scroll-area-corner-height":oe+"px",...o.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$2="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((o,r)=>{const{__scopeScrollArea:x,children:O,nonce:E,...y}=o,S=useScrollAreaContext(VIEWPORT_NAME$2,x),j=reactExports.useRef(null),w=useComposedRefs$1(r,j,S.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:E}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...y,ref:w,style:{overflowX:S.scrollbarXEnabled?"scroll":"hidden",overflowY:S.scrollbarYEnabled?"scroll":"hidden",...o.style},children:jsxRuntimeExports.jsx("div",{ref:S.onContentChange,style:{minWidth:"100%",display:"table"},children:O})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$2;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),{onScrollbarXEnabledChange:y,onScrollbarYEnabledChange:S}=E,j=o.orientation==="horizontal";return reactExports.useEffect(()=>(j?y(!0):S(!0),()=>{j?y(!1):S(!1)}),[j,y,S]),E.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...O,ref:r,forceMount:x}):E.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...O,ref:r,forceMount:x}):E.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...O,ref:r,forceMount:x}):E.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...O,ref:r}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),[y,S]=reactExports.useState(!1);return reactExports.useEffect(()=>{const j=E.scrollArea;let w=0;if(j){const _=()=>{window.clearTimeout(w),S(!0)},Q=()=>{w=window.setTimeout(()=>S(!1),E.scrollHideDelay)};return j.addEventListener("pointerenter",_),j.addEventListener("pointerleave",Q),()=>{window.clearTimeout(w),j.removeEventListener("pointerenter",_),j.removeEventListener("pointerleave",Q)}}},[E.scrollArea,E.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:x||y,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":y?"visible":"hidden",...O,ref:r})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),y=o.orientation==="horizontal",S=useDebounceCallback(()=>w("SCROLL_END"),100),[j,w]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(j==="idle"){const _=window.setTimeout(()=>w("HIDE"),E.scrollHideDelay);return()=>window.clearTimeout(_)}},[j,E.scrollHideDelay,w]),reactExports.useEffect(()=>{const _=E.viewport,Q=y?"scrollLeft":"scrollTop";if(_){let I=_[Q];const M=()=>{const F=_[Q];I!==F&&(w("SCROLL"),S()),I=F};return _.addEventListener("scroll",M),()=>_.removeEventListener("scroll",M)}},[E.viewport,y,w,S]),jsxRuntimeExports.jsx(Presence,{present:x||j!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":j==="hidden"?"hidden":"visible",...O,ref:r,onPointerEnter:composeEventHandlers(o.onPointerEnter,()=>w("POINTER_ENTER")),onPointerLeave:composeEventHandlers(o.onPointerLeave,()=>w("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((o,r)=>{const x=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),{forceMount:O,...E}=o,[y,S]=reactExports.useState(!1),j=o.orientation==="horizontal",w=useDebounceCallback(()=>{if(x.viewport){const _=x.viewport.offsetWidth<x.viewport.scrollWidth,Q=x.viewport.offsetHeight<x.viewport.scrollHeight;S(j?_:Q)}},10);return useResizeObserver$1(x.viewport,w),useResizeObserver$1(x.content,w),jsxRuntimeExports.jsx(Presence,{present:O||y,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":y?"visible":"hidden",...E,ref:r})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((o,r)=>{const{orientation:x="vertical",...O}=o,E=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),y=reactExports.useRef(null),S=reactExports.useRef(0),[j,w]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),_=getThumbRatio(j.viewport,j.content),Q={...O,sizes:j,onSizesChange:w,hasThumb:_>0&&_<1,onThumbChange:M=>y.current=M,onThumbPointerUp:()=>S.current=0,onThumbPointerDown:M=>S.current=M};function I(M,F){return getScrollPositionFromPointer(M,S.current,j,F)}return x==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...Q,ref:r,onThumbPositionChange:()=>{if(E.viewport&&y.current){const M=E.viewport.scrollLeft,F=getThumbOffsetFromScroll(M,j,E.dir);y.current.style.transform=`translate3d(${F}px, 0, 0)`}},onWheelScroll:M=>{E.viewport&&(E.viewport.scrollLeft=M)},onDragScroll:M=>{E.viewport&&(E.viewport.scrollLeft=I(M,E.dir))}}):x==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...Q,ref:r,onThumbPositionChange:()=>{if(E.viewport&&y.current){const M=E.viewport.scrollTop,F=getThumbOffsetFromScroll(M,j);y.current.style.transform=`translate3d(0, ${F}px, 0)`}},onWheelScroll:M=>{E.viewport&&(E.viewport.scrollTop=M)},onDragScroll:M=>{E.viewport&&(E.viewport.scrollTop=I(M))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((o,r)=>{const{sizes:x,onSizesChange:O,...E}=o,y=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),[S,j]=reactExports.useState(),w=reactExports.useRef(null),_=useComposedRefs$1(r,w,y.onScrollbarXChange);return reactExports.useEffect(()=>{w.current&&j(getComputedStyle(w.current))},[w]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...E,ref:_,sizes:x,style:{bottom:0,left:y.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:y.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(x)+"px",...o.style},onThumbPointerDown:Q=>o.onThumbPointerDown(Q.x),onDragScroll:Q=>o.onDragScroll(Q.x),onWheelScroll:(Q,I)=>{if(y.viewport){const M=y.viewport.scrollLeft+Q.deltaX;o.onWheelScroll(M),isScrollingWithinScrollbarBounds(M,I)&&Q.preventDefault()}},onResize:()=>{w.current&&y.viewport&&S&&O({content:y.viewport.scrollWidth,viewport:y.viewport.offsetWidth,scrollbar:{size:w.current.clientWidth,paddingStart:toInt(S.paddingLeft),paddingEnd:toInt(S.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((o,r)=>{const{sizes:x,onSizesChange:O,...E}=o,y=useScrollAreaContext(SCROLLBAR_NAME,o.__scopeScrollArea),[S,j]=reactExports.useState(),w=reactExports.useRef(null),_=useComposedRefs$1(r,w,y.onScrollbarYChange);return reactExports.useEffect(()=>{w.current&&j(getComputedStyle(w.current))},[w]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...E,ref:_,sizes:x,style:{top:0,right:y.dir==="ltr"?0:void 0,left:y.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(x)+"px",...o.style},onThumbPointerDown:Q=>o.onThumbPointerDown(Q.y),onDragScroll:Q=>o.onDragScroll(Q.y),onWheelScroll:(Q,I)=>{if(y.viewport){const M=y.viewport.scrollTop+Q.deltaY;o.onWheelScroll(M),isScrollingWithinScrollbarBounds(M,I)&&Q.preventDefault()}},onResize:()=>{w.current&&y.viewport&&S&&O({content:y.viewport.scrollHeight,viewport:y.viewport.offsetHeight,scrollbar:{size:w.current.clientHeight,paddingStart:toInt(S.paddingTop),paddingEnd:toInt(S.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((o,r)=>{const{__scopeScrollArea:x,sizes:O,hasThumb:E,onThumbChange:y,onThumbPointerUp:S,onThumbPointerDown:j,onThumbPositionChange:w,onDragScroll:_,onWheelScroll:Q,onResize:I,...M}=o,F=useScrollAreaContext(SCROLLBAR_NAME,x),[V,te]=reactExports.useState(null),re=useComposedRefs$1(r,Qe=>te(Qe)),se=reactExports.useRef(null),ne=reactExports.useRef(""),oe=F.viewport,Oe=O.content-O.viewport,ae=useCallbackRef(Q),ge=useCallbackRef(w),je=useDebounceCallback(I,10);function Ae(Qe){if(se.current){const Xe=Qe.clientX-se.current.left,Ue=Qe.clientY-se.current.top;_({x:Xe,y:Ue})}}return reactExports.useEffect(()=>{const Qe=Xe=>{const Ue=Xe.target;(V==null?void 0:V.contains(Ue))&&ae(Xe,Oe)};return document.addEventListener("wheel",Qe,{passive:!1}),()=>document.removeEventListener("wheel",Qe,{passive:!1})},[oe,V,Oe,ae]),reactExports.useEffect(ge,[O,ge]),useResizeObserver$1(V,je),useResizeObserver$1(F.content,je),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:x,scrollbar:V,hasThumb:E,onThumbChange:useCallbackRef(y),onThumbPointerUp:useCallbackRef(S),onThumbPositionChange:ge,onThumbPointerDown:useCallbackRef(j),children:jsxRuntimeExports.jsx(Primitive.div,{...M,ref:re,style:{position:"absolute",...M.style},onPointerDown:composeEventHandlers(o.onPointerDown,Qe=>{Qe.button===0&&(Qe.target.setPointerCapture(Qe.pointerId),se.current=V.getBoundingClientRect(),ne.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",F.viewport&&(F.viewport.style.scrollBehavior="auto"),Ae(Qe))}),onPointerMove:composeEventHandlers(o.onPointerMove,Ae),onPointerUp:composeEventHandlers(o.onPointerUp,Qe=>{const Xe=Qe.target;Xe.hasPointerCapture(Qe.pointerId)&&Xe.releasePointerCapture(Qe.pointerId),document.body.style.webkitUserSelect=ne.current,F.viewport&&(F.viewport.style.scrollBehavior=""),se.current=null})})})}),THUMB_NAME$2="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useScrollbarContext(THUMB_NAME$2,o.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:x||E.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:r,...O})})}),ScrollAreaThumbImpl=reactExports.forwardRef((o,r)=>{const{__scopeScrollArea:x,style:O,...E}=o,y=useScrollAreaContext(THUMB_NAME$2,x),S=useScrollbarContext(THUMB_NAME$2,x),{onThumbPositionChange:j}=S,w=useComposedRefs$1(r,I=>S.onThumbChange(I)),_=reactExports.useRef(void 0),Q=useDebounceCallback(()=>{_.current&&(_.current(),_.current=void 0)},100);return reactExports.useEffect(()=>{const I=y.viewport;if(I){const M=()=>{if(Q(),!_.current){const F=addUnlinkedScrollListener(I,j);_.current=F,j()}};return j(),I.addEventListener("scroll",M),()=>I.removeEventListener("scroll",M)}},[y.viewport,Q,j]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":S.hasThumb?"visible":"hidden",...E,ref:w,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...O},onPointerDownCapture:composeEventHandlers(o.onPointerDownCapture,I=>{const F=I.target.getBoundingClientRect(),V=I.clientX-F.left,te=I.clientY-F.top;S.onThumbPointerDown({x:V,y:te})}),onPointerUp:composeEventHandlers(o.onPointerUp,S.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$2;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((o,r)=>{const x=useScrollAreaContext(CORNER_NAME,o.__scopeScrollArea),O=!!(x.scrollbarX&&x.scrollbarY);return x.type!=="scroll"&&O?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...o,ref:r}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((o,r)=>{const{__scopeScrollArea:x,...O}=o,E=useScrollAreaContext(CORNER_NAME,x),[y,S]=reactExports.useState(0),[j,w]=reactExports.useState(0),_=!!(y&&j);return useResizeObserver$1(E.scrollbarX,()=>{var I;const Q=((I=E.scrollbarX)==null?void 0:I.offsetHeight)||0;E.onCornerHeightChange(Q),w(Q)}),useResizeObserver$1(E.scrollbarY,()=>{var I;const Q=((I=E.scrollbarY)==null?void 0:I.offsetWidth)||0;E.onCornerWidthChange(Q),S(Q)}),_?jsxRuntimeExports.jsx(Primitive.div,{...O,ref:r,style:{width:y,height:j,position:"absolute",right:E.dir==="ltr"?0:void 0,left:E.dir==="rtl"?0:void 0,bottom:0,...o.style}}):null});function toInt(o){return o?parseInt(o,10):0}function getThumbRatio(o,r){const x=o/r;return isNaN(x)?0:x}function getThumbSize(o){const r=getThumbRatio(o.viewport,o.content),x=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,O=(o.scrollbar.size-x)*r;return Math.max(O,18)}function getScrollPositionFromPointer(o,r,x,O="ltr"){const E=getThumbSize(x),y=E/2,S=r||y,j=E-S,w=x.scrollbar.paddingStart+S,_=x.scrollbar.size-x.scrollbar.paddingEnd-j,Q=x.content-x.viewport,I=O==="ltr"?[0,Q]:[Q*-1,0];return linearScale$1([w,_],I)(o)}function getThumbOffsetFromScroll(o,r,x="ltr"){const O=getThumbSize(r),E=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,y=r.scrollbar.size-E,S=r.content-r.viewport,j=y-O,w=x==="ltr"?[0,S]:[S*-1,0],_=clamp(o,w);return linearScale$1([0,S],[0,j])(_)}function linearScale$1(o,r){return x=>{if(o[0]===o[1]||r[0]===r[1])return r[0];const O=(r[1]-r[0])/(o[1]-o[0]);return r[0]+O*(x-o[0])}}function isScrollingWithinScrollbarBounds(o,r){return o>0&&o<r}var addUnlinkedScrollListener=(o,r=()=>{})=>{let x={left:o.scrollLeft,top:o.scrollTop},O=0;return function E(){const y={left:o.scrollLeft,top:o.scrollTop},S=x.left!==y.left,j=x.top!==y.top;(S||j)&&r(),x=y,O=window.requestAnimationFrame(E)}(),()=>window.cancelAnimationFrame(O)};function useDebounceCallback(o,r){const x=useCallbackRef(o),O=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(O.current),[]),reactExports.useCallback(()=>{window.clearTimeout(O.current),O.current=window.setTimeout(x,r)},[x,r])}function useResizeObserver$1(o,r){const x=useCallbackRef(r);useLayoutEffect2(()=>{let O=0;if(o){const E=new ResizeObserver(()=>{cancelAnimationFrame(O),O=window.requestAnimationFrame(x)});return E.observe(o),()=>{window.cancelAnimationFrame(O),E.unobserve(o)}}},[o,x])}var Root$6=ScrollArea$1,Viewport$3=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(Root$6,{ref:O,className:cn("relative overflow-hidden",o),...x,children:[jsxRuntimeExports.jsx(Viewport$3,{className:"h-full w-full rounded-[inherit]",children:r}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$6.displayName;const ScrollBar=reactExports.forwardRef(({className:o,orientation:r="vertical",...x},O)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:O,orientation:r,className:cn("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",o),...x,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border hover:bg-border-strong transition-colors"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;const Sheet=Root$b,SheetTrigger=Trigger$7,SheetPortal=Portal$5,SheetOverlay=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Overlay$1,{className:cn("fixed inset-0 z-[var(--z-modal-overlay)] bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...r,ref:x}));SheetOverlay.displayName=Overlay$1.displayName;const sheetVariants=cva("fixed z-[var(--z-dialog)] gap-4 bg-card border-border p-6 shadow-xl transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=reactExports.forwardRef(({side:o="right",className:r,children:x,hideClose:O=!1,...E},y)=>jsxRuntimeExports.jsxs(SheetPortal,{children:[jsxRuntimeExports.jsx(SheetOverlay,{}),jsxRuntimeExports.jsxs(Content$4,{ref:y,className:cn(sheetVariants({side:o}),r),...E,children:[x,!O&&jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary p-1.5",children:[jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SheetContent.displayName=Content$4.displayName;const SheetHeader=({className:o,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",o),...r});SheetHeader.displayName="SheetHeader";const SheetTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Title$1,{ref:x,className:cn("text-lg font-semibold text-foreground",o),...r}));SheetTitle.displayName=Title$1.displayName;const SheetDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Description$1,{ref:x,className:cn("text-sm text-muted-foreground",o),...r}));SheetDescription.displayName=Description$1.displayName;const TableOfContents=({content:o,onClose:r,postTitle:x})=>{const[O,E]=reactExports.useState([]),[y,S]=reactExports.useState(""),{isTerminal:j}=useTheme(),w=useIsMobile(),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(!1),F=reactExports.useRef(null),V=reactExports.useRef(0),te=100,re=reactExports.useRef(null),se=reactExports.useRef(null),ne=reactExports.useRef({}),oe=96,Oe=reactExports.useRef(!1),ae=reactExports.useRef(null);reactExports.useEffect(()=>{const je=buildMarkdownToc(o,x);E(je)},[o,x]),reactExports.useEffect(()=>{if(w)return;let je=null;const Ae=()=>{const Ze=document.querySelector("[data-toc-boundary]"),Be=Ze==null?void 0:Ze.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!Be||Be.length===0)return;const Ge=window.scrollY+100;for(let We=Be.length-1;We>=0;We--){const at=Be[We];if(at.id&&at.offsetTop<=Ge){S(at.id);break}}},Qe=()=>{const Ze=re.current;if(!Ze){Oe.current&&(Oe.current=!1,Q(!1));return}const Be=Ze.getBoundingClientRect().top<=oe+1;Be!==Oe.current&&(Oe.current=Be,Q(Be),Be&&(M(!0),ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{M(!1),ae.current=null},220)))},Xe=()=>{Ae(),Qe()},Ue=()=>{const Ze=Date.now();Ze-V.current<te||(V.current=Ze,F.current&&cancelAnimationFrame(F.current),F.current=requestAnimationFrame(Xe))};window.addEventListener("scroll",Ue,{passive:!0}),Xe(),requestAnimationFrame(Xe),typeof ResizeObserver<"u"&&re.current&&(je=new ResizeObserver(()=>{Qe()}),je.observe(re.current));const Le=()=>{Qe()};return window.addEventListener("resize",Le),()=>{window.removeEventListener("scroll",Ue),window.removeEventListener("resize",Le),F.current&&cancelAnimationFrame(F.current),ae.current&&(window.clearTimeout(ae.current),ae.current=null),je&&je.disconnect()}},[w]),reactExports.useEffect(()=>{if(w||!y)return;const je=se.current,Ae=ne.current[y];if(!je||!Ae)return;const Qe=je.querySelector("[data-radix-scroll-area-viewport]");if(!Qe)return;const Xe=Qe.getBoundingClientRect(),Le=Ae.getBoundingClientRect().top-Xe.top+Qe.scrollTop,Ze=Xe.height,Be=Qe.scrollTop+Ze*.2,Ge=Qe.scrollTop+Ze*.8;if(Le<Be||Le>Ge){const We=Le-Ze*.35;Qe.scrollTo({top:Math.max(0,We),behavior:"smooth"})}},[y,w]);const ge=(je,Ae)=>{const Qe=document.getElementById(je);if(Qe){const Xe=Qe.getBoundingClientRect().top+window.scrollY-(oe+12);window.scrollTo({top:Math.max(0,Xe),behavior:"smooth"}),r==null||r()}};return O.length===0?null:jsxRuntimeExports.jsx("div",{ref:re,"data-testid":"toc-panel",className:"w-72 sticky top-24",children:jsxRuntimeExports.jsxs("div",{className:cn("bg-card/50 backdrop-blur-sm border rounded-2xl p-6 shadow-lg",I&&_&&"animate-in slide-in-from-top-2 fade-in duration-200",j&&"bg-[hsl(var(--terminal-code-bg))] border-border rounded-lg"),children:[j&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-4 pb-3 border-b border-border",children:[jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"})]}),jsxRuntimeExports.jsx("h3",{className:cn("font-bold mb-4 text-base flex items-center",j&&"font-mono text-primary text-sm"),children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground mr-2",children:"$"}),"cat TOC"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"목차"]})}),jsxRuntimeExports.jsx(ScrollArea,{ref:se,className:"max-h-[calc(100vh-12rem)]",children:jsxRuntimeExports.jsx("nav",{className:"space-y-2 pr-2",children:O.map((je,Ae)=>jsxRuntimeExports.jsx("button",{ref:Qe=>{Qe?ne.current[je.id]=Qe:delete ne.current[je.id]},title:je.title,onClick:()=>ge(je.id),className:cn("block w-full text-left text-sm py-2 px-3 rounded-lg hover:bg-primary/10 transition-all duration-200","text-muted-foreground hover:text-foreground",y===je.id&&"bg-primary/15 text-primary font-semibold border-l-2 border-primary",je.level===1&&"ml-0 font-medium",je.level===2&&"ml-4",je.level===3&&"ml-8",je.level===4&&"ml-12",je.level===5&&"ml-16",je.level===6&&"ml-20",j&&"font-mono text-xs rounded hover:bg-primary/20",j&&y===je.id&&"bg-primary/20 border-l-2 border-primary"),children:jsxRuntimeExports.jsxs("span",{className:"block break-words leading-snug",children:[j&&jsxRuntimeExports.jsx("span",{className:"text-muted-foreground mr-2",children:String(Ae+1).padStart(2,"0")}),je.title]})},`${je.id}-${Ae}`))})})]})})},TocDrawer=({content:o,postTitle:r})=>{const[x,O]=reactExports.useState(!1),{isTerminal:E}=useTheme();return/^#{1,6}\s+.+$/m.test(o)?jsxRuntimeExports.jsxs(Sheet,{open:x,onOpenChange:O,children:[jsxRuntimeExports.jsx(SheetTrigger,{asChild:!0,children:jsxRuntimeExports.jsx("button",{type:"button","data-testid":"toc-mobile-trigger","aria-label":"목차 열기",className:cn("fixed bottom-6 right-6 z-40 xl:hidden","flex items-center justify-center","h-12 w-12 rounded-full shadow-lg","bg-primary text-primary-foreground","hover:bg-primary/90 active:scale-95 transition-all duration-200",E&&"rounded-lg border border-primary/40 bg-[hsl(var(--terminal-code-bg))] text-primary"),children:jsxRuntimeExports.jsx(BookOpen,{className:"h-5 w-5"})})}),jsxRuntimeExports.jsxs(SheetContent,{side:"right",className:cn("w-80 p-0 overflow-y-auto",E&&"bg-[hsl(var(--terminal-code-bg))] border-primary/20"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[jsxRuntimeExports.jsx(SheetTitle,{className:cn("font-bold text-base",E&&"font-mono text-primary"),children:E?"$ cat TOC":"목차"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex items-center justify-center h-8 w-8 rounded-full hover:bg-muted transition-colors","aria-label":"닫기",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(TableOfContents,{content:o,postTitle:r,onClose:()=>O(!1)})})]})]}):null};function CommentInputModal({isOpen:o,onClose:r,onSubmit:x,isTerminal:O,initialAuthor:E=""}){const[y,S]=reactExports.useState(E),[j,w]=reactExports.useState(""),[_,Q]=reactExports.useState(""),[I,M]=reactExports.useState(!1),[F,V]=reactExports.useState(!1),[te,re]=reactExports.useState(null),se=useIsMobile(),ne=reactExports.useRef(null),oe=reactExports.useRef(null),Oe=reactExports.useRef(null);reactExports.useEffect(()=>{if(o){const je=setTimeout(()=>{var Ae,Qe;E!=null&&E.trim()?(Ae=oe.current)==null||Ae.focus():(Qe=Oe.current)==null||Qe.focus()},100);return()=>clearTimeout(je)}},[o,E]),reactExports.useEffect(()=>{const je=Ae=>{Ae.key==="Escape"&&o&&(Ae.preventDefault(),r())};return o&&(document.addEventListener("keydown",je),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",je),document.body.style.overflow=""}},[o,r]),reactExports.useEffect(()=>{var Ae;if(!o||!se)return;const je=()=>{var Qe;if(ne.current){const Xe=((Qe=window.visualViewport)==null?void 0:Qe.height)||window.innerHeight;ne.current.style.height=`${Xe}px`;const Ue=document.activeElement;Ue&&(Ue===Oe.current||Ue===oe.current)&&setTimeout(()=>{Ue.scrollIntoView({behavior:"smooth",block:"center"})},100)}};return je(),window.addEventListener("resize",je),(Ae=window.visualViewport)==null||Ae.addEventListener("resize",je),()=>{var Qe;window.removeEventListener("resize",je),(Qe=window.visualViewport)==null||Qe.removeEventListener("resize",je)}},[o,se]);const ae=reactExports.useCallback(async je=>{if(je.preventDefault(),!(!y.trim()||!j.trim()))try{V(!0),re(null),await x({author:y.trim(),content:j.trim(),website:_.trim()}),w(""),Q(""),M(!1),r()}catch(Ae){re((Ae==null?void 0:Ae.message)||"Failed to submit comment")}finally{V(!1)}},[y,j,_,x,r]),ge=reactExports.useCallback(je=>{(je.ctrlKey||je.metaKey)&&je.key==="Enter"&&(je.preventDefault(),y.trim()&&j.trim()&&!F&&ae(je))},[y,j,F,ae]);return o?jsxRuntimeExports.jsx("div",{className:cn("fixed inset-0 z-[var(--z-modal-overlay)] flex",!se&&"items-center justify-center bg-black/50 backdrop-blur-sm",se&&"flex-col bg-background"),role:"dialog","aria-modal":"true","aria-labelledby":"comment-modal-title",onClick:se?void 0:je=>{je.target===je.currentTarget&&r()},children:jsxRuntimeExports.jsxs("div",{ref:ne,className:cn("flex flex-col overflow-hidden",!se&&["w-full max-w-xl rounded-2xl shadow-2xl",O?"border border-primary/30 bg-[hsl(var(--background))]":"border border-border bg-background"],se&&["w-full",O?"bg-[hsl(var(--background))]":"bg-background"]),style:se?{height:"100dvh"}:{maxHeight:"85vh"},children:[jsxRuntimeExports.jsxs("header",{className:cn("flex items-center justify-between px-4 py-3 shrink-0",O?"bg-primary/20 border-b border-primary/30":"bg-card border-b border-border",!se&&"rounded-t-2xl"),children:[jsxRuntimeExports.jsx("span",{id:"comment-modal-title",className:cn("text-sm font-bold tracking-wide",O?"font-mono text-primary terminal-glow":"text-foreground"),children:O?"-- INSERT --":"New Comment"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:r,disabled:F,className:cn("px-3 py-1.5 text-xs font-medium rounded-md transition-colors",O?"font-mono border border-border text-muted-foreground hover:border-primary hover:text-primary disabled:opacity-50":"border border-border text-muted-foreground hover:bg-muted disabled:opacity-50"),children:O?":q!":"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"comment-form",disabled:F||!y.trim()||!j.trim(),className:cn("inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-all disabled:opacity-50",O?"font-mono border border-primary bg-primary/20 text-primary hover:bg-primary/30 disabled:hover:bg-primary/20":"bg-primary text-primary-foreground hover:bg-primary/90"),children:[F?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3.5 w-3.5 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"h-3.5 w-3.5"}),O?":wq":"Submit"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"comment-form",onSubmit:ae,onKeyDown:ge,className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[te&&jsxRuntimeExports.jsx("div",{className:cn("px-3 py-2 rounded-lg text-sm",O?"bg-destructive/20 text-destructive border border-destructive/30 font-mono":"bg-destructive/10 text-destructive"),children:O?`// Error: ${te}`:te}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"modal-author",className:cn("block text-sm font-medium",O?"font-mono text-primary":"text-foreground"),children:O?"$ name:":"Name"}),jsxRuntimeExports.jsx("input",{ref:Oe,id:"modal-author",type:"text",value:y,onChange:je=>S(je.target.value),placeholder:O?"your_username":"Your name",required:!0,className:cn("w-full px-4 py-3 text-base outline-none transition-all",O?"rounded-lg border border-border bg-[hsl(var(--terminal-code-bg))] font-mono text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-1 focus:ring-primary/50":"rounded-xl border border-border bg-background text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>M(!I),className:cn("inline-flex items-center gap-2 text-sm transition-colors",O?"font-mono text-muted-foreground hover:text-primary":"text-muted-foreground hover:text-primary"),children:[jsxRuntimeExports.jsx(Earth,{className:"h-4 w-4"}),I?O?"// hide website":"Hide website":O?"// add website (optional)":"Add website (optional)"]}),I&&jsxRuntimeExports.jsx("input",{id:"modal-website",type:"url",value:_,onChange:je=>Q(je.target.value),placeholder:"https://example.com",className:cn("w-full px-4 py-3 text-base outline-none transition-all animate-in slide-in-from-top-2 duration-200",O?"rounded-lg border border-border bg-[hsl(var(--terminal-code-bg))] font-mono text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-1 focus:ring-primary/50":"rounded-xl border border-border bg-background text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 flex-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"modal-content",className:cn("block text-sm font-medium",O?"font-mono text-primary":"text-foreground"),children:O?"$ comment:":"Comment"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("textarea",{ref:oe,id:"modal-content",value:j,onChange:je=>w(je.target.value),placeholder:O?`// write your thoughts here...
// markdown supported`:`Share your thoughts...
Markdown is supported`,required:!0,rows:6,className:cn("w-full px-4 py-3 text-base leading-relaxed outline-none transition-all resize-none",O?"rounded-lg border border-border bg-[hsl(var(--terminal-code-bg))] font-mono text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-1 focus:ring-primary/50":"rounded-xl border border-border bg-background text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20")}),O&&!j&&jsxRuntimeExports.jsx("span",{className:"absolute left-4 top-3 font-mono text-primary animate-pulse pointer-events-none",children:"_"})]})]})]}),jsxRuntimeExports.jsx("footer",{className:cn("shrink-0 px-4 py-2 border-t",O?"bg-[hsl(var(--terminal-code-bg))] border-border":"bg-muted/30 border-border",!se&&"rounded-b-2xl",se&&"pb-[calc(0.5rem+env(safe-area-inset-bottom,0px))]"),children:jsxRuntimeExports.jsx("span",{className:cn("text-xs text-center block",O?"font-mono text-muted-foreground":"text-muted-foreground"),children:O?"[ESC to cancel, Ctrl+Enter to submit]":"Styling with Markdown is supported."})})]})]})}):null}const ALLOWED_EMOJIS=["👍","❤️","😂","😮","😢","🔥","🎉","💡"];function getFingerprint(){const o=localStorage.getItem("comment.fingerprint");if(o)return o;const r=document.createElement("canvas"),x=r.getContext("2d");x==null||x.fillText("fingerprint",10,10);const O=r.toDataURL(),y=[navigator.userAgent,navigator.language,screen.width,screen.height,new Date().getTimezoneOffset(),O.slice(-50)].join("|");let S=0;for(let w=0;w<y.length;w++){const _=y.charCodeAt(w);S=(S<<5)-S+_,S=S&S}const j=Math.abs(S).toString(36);return localStorage.setItem("comment.fingerprint",j),j}async function fetchReactionsBatch(o){var O;if(o.length===0)return{};const x=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/comments/reactions/batch?commentIds=${o.join(",")}`;try{const E=await fetch(x);if(!E.ok)throw new Error(`HTTP ${E.status}`);const y=await E.json();return(y==null?void 0:y.reactions)||((O=y==null?void 0:y.data)==null?void 0:O.reactions)||{}}catch(E){return console.warn("Failed to fetch reactions:",E),{}}}async function addReaction(o,r){const O=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/comments/${o}/reactions`,E=getFingerprint(),y=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:r,fingerprint:E})});if(!y.ok)throw new Error(`HTTP ${y.status}`);const S=await y.json();return(S==null?void 0:S.data)||S}async function removeReaction(o,r){const O=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/comments/${o}/reactions`,E=getFingerprint(),y=await fetch(O,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:r,fingerprint:E})});if(!y.ok)throw new Error(`HTTP ${y.status}`);const S=await y.json();return(S==null?void 0:S.data)||S}function getUserReactions(o){try{const r=localStorage.getItem(`comment.reactions.${o}`);return r?new Set(JSON.parse(r)):new Set}catch{return new Set}}function setUserReactions(o,r){try{localStorage.setItem(`comment.reactions.${o}`,JSON.stringify([...r]))}catch{}}function CommentReactions({commentId:o,initialReactions:r=[],isTerminal:x=!1,compact:O=!1}){const[E,y]=reactExports.useState(r),[S,j]=reactExports.useState(()=>getUserReactions(o)),[w,_]=reactExports.useState(!1),[Q,I]=reactExports.useState(!1),[M,F]=reactExports.useState(!1),V=useIsMobile(),te=reactExports.useRef(null),re=reactExports.useRef(null);reactExports.useEffect(()=>{y(r)},[r]),reactExports.useEffect(()=>{if(!w)return;const je=Ae=>{te.current&&!te.current.contains(Ae.target)&&_(!1)};return document.addEventListener("mousedown",je),()=>document.removeEventListener("mousedown",je)},[w]),reactExports.useEffect(()=>()=>{re.current&&clearTimeout(re.current)},[]);const se=reactExports.useCallback(()=>{re.current&&(clearTimeout(re.current),re.current=null),F(!0)},[]),ne=reactExports.useCallback(()=>{re.current=setTimeout(()=>{F(!1),V||_(!1)},150)},[V]),oe=reactExports.useCallback(async je=>{if(Q)return;const Ae=S.has(je);I(!0);try{if(Ae){await removeReaction(o,je),y(Xe=>Xe.map(Le=>Le.emoji===je?{...Le,count:Math.max(0,Le.count-1)}:Le).filter(Le=>Le.count>0));const Qe=new Set(S);Qe.delete(je),j(Qe),setUserReactions(o,Qe)}else{await addReaction(o,je),y(Xe=>Xe.find(Le=>Le.emoji===je)?Xe.map(Le=>Le.emoji===je?{...Le,count:Le.count+1}:Le):[...Xe,{emoji:je,count:1}]);const Qe=new Set(S);Qe.add(je),j(Qe),setUserReactions(o,Qe)}}catch(Qe){console.error("Failed to toggle reaction:",Qe)}finally{I(!1)}},[o,S,Q]),Oe=[...E].sort((je,Ae)=>Ae.count-je.count),ae=Oe.length>0,ge=je=>jsxRuntimeExports.jsx("div",{className:cn("flex items-center gap-1",je==="terminal"?"px-1":"gap-0.5"),children:ALLOWED_EMOJIS.map(Ae=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>oe(Ae),disabled:Q,className:cn("flex-shrink-0 rounded flex items-center justify-center transition-all",je==="terminal"?["text-lg border",V?"w-9 h-9":"w-7 h-7",S.has(Ae)?"bg-primary/30 border-primary/50 scale-105":"bg-transparent border-transparent hover:bg-primary/20 hover:border-primary/30"]:["text-base",V?"w-9 h-9":"w-7 h-7",S.has(Ae)?"bg-primary/20 ring-1 ring-primary/30 scale-105":"hover:scale-110 hover:bg-primary/10"],Q&&"opacity-50 cursor-not-allowed"),title:S.has(Ae)?"Remove reaction":"Add reaction",children:Ae},Ae))});return x?jsxRuntimeExports.jsxs("div",{ref:te,className:cn("relative inline-flex items-center gap-1.5",O?"mt-1.5":"mt-2"),onMouseEnter:se,onMouseLeave:ne,children:[Oe.map(({emoji:je,count:Ae})=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>oe(je),disabled:Q,className:cn("inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-mono transition-all border",S.has(je)?"bg-primary/20 border-primary/40 text-primary":"bg-black/50 border-primary/20 hover:border-primary/40 hover:bg-primary/10 text-muted-foreground",Q&&"opacity-50 cursor-not-allowed"),children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:je}),jsxRuntimeExports.jsx("span",{children:Ae})]},je)),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(!w),disabled:Q,className:cn("inline-flex items-center justify-center rounded transition-all text-xs font-mono",V?"w-7 h-7":"w-6 h-6",w||M?"bg-primary/20 border border-primary/40 text-primary opacity-100":ae?"bg-transparent border border-transparent text-muted-foreground/50 hover:text-primary hover:border-primary/30 opacity-70 hover:opacity-100":"bg-transparent border border-dashed border-primary/20 text-muted-foreground/40 hover:text-primary hover:border-primary/40 opacity-60 hover:opacity-100",Q&&"opacity-50 cursor-not-allowed"),title:w?"Close":"Add reaction",children:w?"×":"+"}),jsxRuntimeExports.jsx("div",{className:cn("absolute left-0 bottom-full mb-1.5 z-[var(--z-popover)]","rounded-md border border-primary/30 bg-[rgba(0,0,0,0.95)] backdrop-blur-sm","shadow-[0_0_12px_rgba(var(--primary-rgb),0.15)]","transition-all duration-200 ease-out origin-bottom-left",w?"opacity-100 visible scale-100 translate-y-0":"opacity-0 invisible scale-95 translate-y-1 pointer-events-none"),onMouseEnter:se,onMouseLeave:ne,children:jsxRuntimeExports.jsx("div",{className:"p-1.5",children:ge("terminal")})})]}):jsxRuntimeExports.jsxs("div",{ref:te,className:cn("relative inline-flex flex-wrap items-center gap-1.5",O?"mt-1.5":"mt-2"),onMouseEnter:se,onMouseLeave:ne,children:[Oe.map(({emoji:je,count:Ae})=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>oe(je),disabled:Q,className:cn("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs transition-all border",S.has(je)?"bg-primary/10 border-primary/30 text-primary shadow-sm":"bg-background/50 border-border/50 hover:border-primary/30 hover:bg-primary/5 text-muted-foreground",Q&&"opacity-50 cursor-not-allowed"),children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:je}),jsxRuntimeExports.jsx("span",{children:Ae})]},je)),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(!w),disabled:Q,className:cn("inline-flex items-center justify-center rounded-full transition-all text-xs",V?"w-7 h-7":"w-6 h-6",w||M?"bg-primary/10 border border-primary/30 text-primary opacity-100":ae?"bg-transparent border border-transparent text-muted-foreground/40 hover:text-primary opacity-60 hover:opacity-100":"bg-background/30 border border-dashed border-border/40 text-muted-foreground/30 hover:text-primary hover:border-primary/30 opacity-50 hover:opacity-100",Q&&"opacity-50 cursor-not-allowed"),title:"Add reaction",children:"+"}),jsxRuntimeExports.jsx("div",{className:cn("absolute left-0 bottom-full mb-1.5 z-[var(--z-popover)]","rounded-xl border border-border bg-card/95 backdrop-blur-sm shadow-lg","transition-all duration-200 ease-out origin-bottom-left",w?"opacity-100 visible scale-100 translate-y-0":"opacity-0 invisible scale-95 translate-y-1 pointer-events-none"),onMouseEnter:se,onMouseLeave:ne,children:jsxRuntimeExports.jsx("div",{className:"p-1.5",children:ge("default")})}),V&&w&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[var(--z-floating-content)]",onClick:()=>_(!1)})]})}const SYNONYM_MAP=[{term:"AI",synonyms:["인공지능","artificial intelligence","에이아이","machine learning","ML","기계학습","딥러닝","deep learning"],category:"ai"},{term:"LLM",synonyms:["대규모 언어 모델","large language model","GPT","Claude","ChatGPT","언어 모델","language model","transformer"],category:"ai"},{term:"RAG",synonyms:["retrieval augmented generation","검색 증강 생성","검색 기반 생성","vector search","벡터 검색"],category:"ai"},{term:"embedding",synonyms:["임베딩","벡터","vector","표현 학습","representation"],category:"ai"},{term:"prompt",synonyms:["프롬프트","지시문","명령어","prompt engineering","프롬프트 엔지니어링"],category:"ai"},{term:"fine-tuning",synonyms:["파인튜닝","미세조정","모델 튜닝","PEFT","LoRA"],category:"ai"},{term:"inference",synonyms:["추론","인퍼런스","model inference","모델 추론"],category:"ai"},{term:"DNA",synonyms:["유전자","gene","genetics","유전학","genome","게놈","deoxyribonucleic acid","디옥시리보핵산","RNA","핵산"],category:"biology"},{term:"protein",synonyms:["단백질","아미노산","amino acid","peptide","펩타이드"],category:"biology"},{term:"cell",synonyms:["세포","셀","cellular","세포학","cytology"],category:"biology"},{term:"React",synonyms:["리액트","ReactJS","React.js","JSX","hooks","훅","컴포넌트","component"],category:"frontend"},{term:"TypeScript",synonyms:["타입스크립트","TS","타스","JavaScript","JS","자바스크립트"],category:"frontend"},{term:"API",synonyms:["에이피아이","REST","RESTful","GraphQL","endpoint","엔드포인트","HTTP","request"],category:"backend"},{term:"database",synonyms:["데이터베이스","DB","디비","SQL","NoSQL","PostgreSQL","MySQL","SQLite","D1"],category:"backend"},{term:"Docker",synonyms:["도커","container","컨테이너","containerization","Kubernetes","k8s","쿠버네티스"],category:"devops"},{term:"CI/CD",synonyms:["CICD","continuous integration","continuous deployment","지속적 통합","지속적 배포","GitHub Actions","pipeline"],category:"devops"},{term:"Cloudflare",synonyms:["클라우드플레어","Workers","Edge","CDN","엣지 컴퓨팅","edge computing","D1","R2","KV"],category:"cloud"},{term:"authentication",synonyms:["인증","auth","login","로그인","JWT","OAuth","SSO","session"],category:"security"},{term:"encryption",synonyms:["암호화","crypto","암호","SSL","TLS","HTTPS","AES","RSA"],category:"security"},{term:"performance",synonyms:["성능","퍼포먼스","optimization","최적화","latency","지연시간","throughput","처리량"],category:"performance"},{term:"caching",synonyms:["캐싱","캐시","cache","memoization","메모이제이션","Redis"],category:"performance"},{term:"algorithm",synonyms:["알고리즘","algo","알고","data structure","자료구조"],category:"cs"},{term:"architecture",synonyms:["아키텍처","설계","design pattern","디자인 패턴","system design","시스템 설계"],category:"cs"},{term:"debugging",synonyms:["디버깅","debug","버그","bug","error","에러","troubleshooting","문제해결"],category:"development"},{term:"refactoring",synonyms:["리팩토링","refactor","리팩터","code quality","코드 품질","clean code"],category:"development"},{term:"blog",synonyms:["블로그","post","포스트","article","글","게시글","writing"],category:"content"},{term:"tutorial",synonyms:["튜토리얼","guide","가이드","how-to","강좌","강의","walkthrough"],category:"content"}],normalizedIndex=new Map;function initializeIndex(){for(const o of SYNONYM_MAP){const x=[o.term,...o.synonyms].map(O=>O.toLowerCase().trim());for(const O of x){normalizedIndex.has(O)||normalizedIndex.set(O,new Set);const E=normalizedIndex.get(O);for(const y of x)y!==O&&E.add(y)}}}initializeIndex();function getSynonyms(o){const r=o.toLowerCase().trim(),x=normalizedIndex.get(r);return x?Array.from(x):[]}function expandQueryWithSynonyms(o){const r=new Set([o]),x=o.split(/\s+/);for(const E of x){const y=getSynonyms(E);for(const S of y.slice(0,3)){const j=o.replace(new RegExp(escapeRegExp(E),"gi"),S);r.add(j)}}const O=o.toLowerCase();for(const[E,y]of normalizedIndex)if(E.includes(" ")&&O.includes(E))for(const S of Array.from(y).slice(0,2)){const j=o.replace(new RegExp(escapeRegExp(E),"gi"),S);r.add(j)}return Array.from(r)}function getRelatedKeywords(o){const r=new Set,x=o.toLowerCase().split(/\s+/);for(const O of x)r.add(O),getSynonyms(O).forEach(y=>r.add(y));return Array.from(r)}function escapeRegExp(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function semanticSearch(o,r={}){var j;const{n_results:x=5,filter:O,signal:E}=r,S=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/rag/search`;try{const w=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o,n_results:x,filter:O}),signal:E}),_=await w.json();return w.ok?(_.ok&&((j=_.data)!=null&&j.results)&&(_.data.results=_.data.results.map(Q=>({...Q,content:Q.content||Q.document||"",score:Q.score??(Q.distance!=null?Math.max(0,1-Q.distance):0)}))),_):{ok:!1,error:_.error||{message:`HTTP ${w.status}`}}}catch(w){return w instanceof Error&&w.name==="AbortError"?{ok:!1,error:{message:"Search cancelled",code:"ABORTED"}}:{ok:!1,error:{message:w instanceof Error?w.message:"Search failed",code:"NETWORK_ERROR"}}}}async function checkRAGHealth$1(){const r=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/rag/health`;try{const x=await fetch(r,{method:"GET"}),O=await x.json();return x.ok?O:{ok:!1,error:O.error||{message:`HTTP ${x.status}`}}}catch(x){return{ok:!1,error:{message:x instanceof Error?x.message:"Health check failed",code:"NETWORK_ERROR"}}}}const RRF_K=60;function computeRRFScore(o){return o.reduce((r,x)=>r+1/(RRF_K+x),0)}async function hybridSearch(o,r={}){var I,M;const{n_results:x=5,signal:O,enableQueryExpansion:E=!0,maxExpandedQueries:y=3}=r,S=Math.max(x*2,10),j=new Map,[w,_]=await Promise.all([semanticSearch(o,{n_results:S,signal:O}).catch(()=>({ok:!1,data:void 0})),PostService.searchPosts(o).catch(()=>[])]);if(w.ok&&((I=w.data)!=null&&I.results)&&w.data.results.forEach((F,V)=>{const te=F.metadata.slug||F.id,re=j.get(te);re?re.semanticRank=V+1:j.set(te,{semanticRank:V+1,result:F})}),_.forEach((F,V)=>{const te=F.slug,re=j.get(te);re?re.keywordRank=V+1:j.set(te,{keywordRank:V+1,result:{id:F.id,content:F.excerpt||F.description||"",metadata:{title:F.title,slug:F.slug,year:F.year,category:F.category,tags:F.tags},score:0}})}),E&&j.size<x){const F=expandQueryWithSynonyms(o).slice(1,y+1);if(F.length>0){const V=await Promise.all(F.map(re=>semanticSearch(re,{n_results:5,signal:O}).catch(()=>({ok:!1,data:void 0}))));let te=0;for(const re of V)re.ok&&((M=re.data)!=null&&M.results)&&re.data.results.forEach((se,ne)=>{const oe=se.metadata.slug||se.id;j.has(oe)||j.set(oe,{expandedRank:te+ne+1,result:se})}),te+=5}}if(E&&j.size<x){const F=getRelatedKeywords(o).slice(0,5);for(const V of F){if(j.size>=x*2)break;(await PostService.searchPosts(V).catch(()=>[])).slice(0,3).forEach((re,se)=>{const ne=re.slug;j.has(ne)||j.set(ne,{expandedRank:100+se,result:{id:re.id,content:re.excerpt||re.description||"",metadata:{title:re.title,slug:re.slug,year:re.year,category:re.category,tags:re.tags},score:0}})})}}const Q=[];for(const[,F]of j){const V=[],te=[];F.semanticRank!==void 0&&(V.push(F.semanticRank),te.push("semantic")),F.keywordRank!==void 0&&(V.push(F.keywordRank),te.push("keyword")),F.expandedRank!==void 0&&(V.push(F.expandedRank),te.push("expanded"));const re=computeRRFScore(V);Q.push({...F.result,rrfScore:re,sources:te,score:re})}return Q.sort((F,V)=>V.rrfScore-F.rrfScore),{ok:!0,data:{results:Q.slice(0,x)}}}async function findRelatedPosts(o,r=5){const x=o.content?`${o.title}

${o.content.slice(0,500)}`:o.title,O=await semanticSearch(x,{n_results:r+1});return!O.ok||!O.data?[]:O.data.results.filter(E=>E.metadata.slug!==o.slug).slice(0,r)}async function getRAGContextForChat(o,r=RAG_DEFAULTS.CONTEXT_MAX_TOKENS,x=RAG_DEFAULTS.CONTEXT_TIMEOUT_MS){const O=new AbortController,E=setTimeout(()=>O.abort(),x);try{const y=await hybridSearch(o,{n_results:5,signal:O.signal,enableQueryExpansion:!0,maxExpandedQueries:2});if(!y.ok||!y.data||y.data.results.length===0)return null;const S=[];let j=0;for(const w of y.data.results){const _=w.sources.includes("semantic")&&w.sources.includes("keyword")?"시맨틱+키워드":w.sources.includes("expanded")?"확장검색":w.sources[0]||"unknown",Q=[`[${w.metadata.title||"Untitled"}]`,w.content.slice(0,800),`(검색: ${_}, 관련도: ${(w.rrfScore*100).toFixed(1)}%)`,""].join(`
`);if(j+Q.length>r*4)break;S.push(Q),j+=Q.length}return S.length===0?null:["[블로그 관련 문서]","다음은 질문과 관련된 블로그 글입니다. 답변 시 참고하세요:","",...S].join(`
`)}catch{return null}finally{clearTimeout(E)}}async function getCollections(){const r=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/rag/collections`;try{const x=await fetch(r,{method:"GET"}),O=await x.json();return x.ok?O:{ok:!1,error:O.error||`HTTP ${x.status}`}}catch(x){return{ok:!1,error:x instanceof Error?x.message:"Failed to fetch collections"}}}async function getCollectionStatus(o){const r=getApiBaseUrl(),x=o?`${r.replace(/\/$/,"")}/api/v1/rag/status?collection=${encodeURIComponent(o)}`:`${r.replace(/\/$/,"")}/api/v1/rag/status`;try{const O=await fetch(x,{method:"GET"}),E=await O.json();return O.ok?E:{ok:!1,error:E.error||`HTTP ${O.status}`}}catch(O){return{ok:!1,error:O instanceof Error?O.message:"Failed to fetch status"}}}const DEFAULT_FLAGS={aiEnabled:!0,ragEnabled:!0,terminalEnabled:!0,aiInline:!0,commentsEnabled:!0},CACHE_DURATION_MS=5*60*1e3;let featureFlagsInitialized=!1,visibilityChangeHandler=null;const useFeatureFlagsStore=create$1((o,r)=>({flags:{...DEFAULT_FLAGS},isLoading:!1,error:null,lastFetched:null,fetchFlags:async()=>{const{lastFetched:x,isLoading:O}=r();if(!O&&!(x&&Date.now()-x<CACHE_DURATION_MS)){o({isLoading:!0,error:null});try{const E=getApiBaseUrl().replace(/\/$/,""),y=await fetch(`${E}/api/v1/public/config`,{method:"GET",headers:{Accept:"application/json"},credentials:"omit"});if(!y.ok)throw new Error(`HTTP ${y.status}`);const S=await y.json(),j=(S==null?void 0:S.data)??S,w=j==null?void 0:j.features;if(w&&typeof w=="object"){if(o({flags:{aiEnabled:w.aiEnabled??DEFAULT_FLAGS.aiEnabled,ragEnabled:w.ragEnabled??DEFAULT_FLAGS.ragEnabled,terminalEnabled:w.terminalEnabled??DEFAULT_FLAGS.terminalEnabled,aiInline:w.aiInline??DEFAULT_FLAGS.aiInline,commentsEnabled:w.commentsEnabled??DEFAULT_FLAGS.commentsEnabled},isLoading:!1,lastFetched:Date.now()}),typeof window<"u"){const _=window;_.APP_CONFIG=_.APP_CONFIG||{},typeof(j==null?void 0:j.apiBaseUrl)=="string"&&j.apiBaseUrl&&(_.APP_CONFIG.apiBaseUrl=j.apiBaseUrl),typeof(j==null?void 0:j.chatBaseUrl)=="string"&&j.chatBaseUrl&&(_.APP_CONFIG.chatBaseUrl=j.chatBaseUrl),typeof(j==null?void 0:j.chatWsBaseUrl)=="string"&&j.chatWsBaseUrl&&(_.APP_CONFIG.chatWsBaseUrl=j.chatWsBaseUrl),j!=null&&j.ai&&typeof j.ai=="object"&&(_.APP_CONFIG.ai={..._.APP_CONFIG.ai||{},...j.ai}),_.APP_CONFIG.features=r().flags}}else o({isLoading:!1,lastFetched:Date.now()})}catch(E){console.warn("[FeatureFlags] Failed to fetch, using defaults:",E),o({isLoading:!1,error:E instanceof Error?E.message:"Unknown error",lastFetched:Date.now()})}}},setFlags:x=>{o(O=>({flags:{...O.flags,...x}}))},resetToDefaults:()=>{o({flags:{...DEFAULT_FLAGS},lastFetched:null,error:null})}}));function useFeatureFlags(){const{flags:o,isLoading:r,error:x,fetchFlags:O}=useFeatureFlagsStore(),E=reactExports.useRef(!1);return reactExports.useEffect(()=>{E.current||(E.current=!0,O())},[O]),{flags:o,isLoading:r,error:x}}function initFeatureFlags(){typeof window>"u"||featureFlagsInitialized||(featureFlagsInitialized=!0,useFeatureFlagsStore.getState().fetchFlags(),visibilityChangeHandler=()=>{document.visibilityState==="visible"&&useFeatureFlagsStore.getState().fetchFlags()},document.addEventListener("visibilitychange",visibilityChangeHandler))}function disposeFeatureFlags(){visibilityChangeHandler&&(document.removeEventListener("visibilitychange",visibilityChangeHandler),visibilityChangeHandler=null),featureFlagsInitialized=!1}const archivedModules=Object.assign({});function getArchivedFor(o){const x=Object.entries(archivedModules).find(([y])=>y.endsWith(`/${o}.json`));if(!x)return null;const O=x[1],E=(O==null?void 0:O.default)??O;return E&&Array.isArray(E.comments)?E:null}function CommentSection({postId:o}){const{isTerminal:r}=useTheme(),{flags:x}=useFeatureFlags(),O=reactExports.useMemo(()=>getArchivedFor(o),[o]),[E,y]=reactExports.useState((O==null?void 0:O.comments)??null),[S,j]=reactExports.useState(!O),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState({}),[M,F]=reactExports.useState(!1),[V,te]=reactExports.useState(""),re=reactExports.useRef(Date.now()),[se,ne]=reactExports.useState(()=>{if(typeof window>"u")return!1;try{return localStorage.getItem("comment.aiDiscussion")==="true"}catch{return!1}}),[oe,Oe]=reactExports.useState(!1),[ae,ge]=reactExports.useState("");reactExports.useEffect(()=>{if(!E||E.length===0)return;const Le=E.map(Ze=>Ze.id).filter(Ze=>!!Ze);Le.length!==0&&fetchReactionsBatch(Le).then(Ze=>I(Ze)).catch(Ze=>console.warn("Failed to fetch reactions:",Ze))},[E]),reactExports.useEffect(()=>{let Le=!1,Ze=null;O&&(j(!1),y(O.comments));async function Be(){var Ge;try{O||j(!0),_(null);const We=getApiBaseUrl().replace(/\/$/,""),at=`${We}/api/v1/comments?postId=${encodeURIComponent(o)}`;if(!O){const Je=await fetch(at);if(!Je.ok)throw new Error(`HTTP ${Je.status}`);const mt=await Je.json(),Ke=Array.isArray(mt==null?void 0:mt.comments)?mt.comments:((Ge=mt==null?void 0:mt.data)==null?void 0:Ge.comments)||[];Le||y(Ke||[])}const rt=`${We}/api/v1/comments/stream?postId=${encodeURIComponent(o)}`;Ze=new EventSource(rt,{withCredentials:!0}),Ze.onmessage=Je=>{try{const mt=JSON.parse(Je.data);mt&&mt.type==="append"&&Array.isArray(mt.items)&&y(Ke=>{const ze=(Ke||[]).filter(Boolean),He=ut=>String(ut.id||`${ut.createdAt||""}|${ut.author||""}|${(ut.content||"").slice(0,24)}`),tt=new Set(ze.map(He)),ct=[...ze];for(const ut of mt.items){const it=He(ut);tt.has(it)||(tt.add(it),ct.push(ut))}return ct.sort((ut,it)=>{const yt=ut.createdAt?Date.parse(ut.createdAt):0,et=it.createdAt?Date.parse(it.createdAt):0;return yt-et}),ct})}catch{}},Ze.onerror=()=>{Ze==null||Ze.close(),Ze=null}}catch(We){!Le&&!O&&_((We==null?void 0:We.message)||"Failed to load comments")}finally{!Le&&!O&&j(!1)}}return Be(),()=>{Le=!0,Ze&&(Ze.close(),Ze=null)}},[o,O]);const je=reactExports.useCallback(()=>{ne(Le=>{const Ze=!Le;try{localStorage.setItem("comment.aiDiscussion",String(Ze))}catch{}return Ze})},[]),[Ae,Qe]=reactExports.useState(null),Xe=reactExports.useCallback(async(Le,Ze)=>{var mt;if(!se)return;Oe(!0),ge(""),Qe(null);const Be=typeof document<"u"?document.title:"",Ge=typeof window<"u"?window.location.href:"",We=(E||[]).slice(-5).map(Ke=>`${Ke.author}: ${Ke.content}`).join(`
`),at=getRAGContextForChat(Le,1500,5e3),rt=new AbortController,Je=setTimeout(()=>rt.abort(),12e4);try{const Ke=await at,ze=`당신은 블로그 글에서 독자들과 토론하는 친근한 AI 어시스턴트예요. 
현재 페이지: ${Be}
URL: ${Ge}

${Ke?`[관련 블로그 지식]
${Ke}

`:""}최근 댓글들:
${We}

방금 ${Ze}님이 남긴 댓글:
"${Le}"

${Ke?"위의 관련 지식을 참고하여 ":""}${Ze}님의 댓글에 대해 짧고 통찰력 있게 응답해주세요. 
- 2-3문장으로 간결하게
- 글의 내용과 연결지어 생각을 확장하거나 흥미로운 질문을 던져주세요
- 존댓말을 사용하고 친근하게 대해주세요`;let He="";for await(const tt of streamChatEvents({text:ze,useArticleContext:!0,signal:rt.signal}))tt.type==="text"&&(He+=tt.text,ge(He));if(He.trim()){const tt=new Date().toISOString(),ct=`ai-${Date.now()}`,ut={id:ct,postId:o,author:"AI Assistant",content:He.trim(),website:null,createdAt:tt};y(it=>[...it||[],ut]);try{const yt=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/comments`,et=await fetch(yt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:o,author:"AI Assistant",content:He.trim()})});if(et.ok){const qe=await et.json(),ot=(qe==null?void 0:qe.id)??((mt=qe==null?void 0:qe.data)==null?void 0:mt.id);ot&&y(pt=>(pt||[]).map(Ve=>Ve.id===ct?{...Ve,id:ot}:Ve))}else console.warn("Failed to persist AI comment:",et.status)}catch(it){console.warn("Failed to persist AI comment:",it)}}}catch(Ke){const ze=Ke;console.error("AI response error:",ze),ze.name==="AbortError"?Qe("AI 응답 시간이 초과되었습니다. 잠시 후 다시 시도해주세요."):Qe("AI 응답을 생성하지 못했습니다.")}finally{clearTimeout(Je),Oe(!1),ge("")}},[se,E,o]),Ue=reactExports.useCallback(async Le=>{var Je;const Ze=Date.now();if(Ze-re.current<3e3)throw new Error("Please take a moment before submitting.");const Ge=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/comments`,We=await fetch(Ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:o,author:Le.author,content:Le.content,website:Le.website||void 0,meta:{shownAt:re.current,submittedAt:Ze}})});if(!We.ok)throw new Error(`HTTP ${We.status}`);const at=await We.json(),rt=(at==null?void 0:at.id)??((Je=at==null?void 0:at.data)==null?void 0:Je.id);y(mt=>{const Ke=mt||[];return rt&&Ke.some(ze=>ze.id===rt)?Ke:[...Ke,{id:rt,postId:o,author:Le.author,content:Le.content,website:Le.website||null,createdAt:new Date().toISOString()}]}),te(Le.author),re.current=Date.now(),se&&setTimeout(()=>{Xe(Le.content,Le.author)},500)},[o,se,Xe]);return jsxRuntimeExports.jsxs("section",{"aria-label":"Comments",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:cn("p-5 sm:p-6 shadow-sm backdrop-blur-sm transition-colors",r?"rounded-lg border border-border bg-[hsl(var(--terminal-code-bg))]":"rounded-[28px] border border-border/40 bg-card/80 dark:border-white/10 dark:bg-[#111725]/80"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex flex-wrap items-start justify-between gap-3 pb-4",r?"border-b border-border":"border-b border-border/40 dark:border-white/10"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:cn("p-2.5 rounded-xl",r?"bg-primary/20 text-primary":"bg-gradient-to-br from-primary/15 to-primary/5 text-primary dark:from-primary/20 dark:to-primary/10"),children:jsxRuntimeExports.jsx(MessageCircle,{className:cn("h-5 w-5",r&&"terminal-glow")})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:cn("text-lg font-semibold",r?"font-mono text-primary terminal-glow":"text-foreground dark:text-white"),children:r?">_ Comments":"Comments"}),jsxRuntimeExports.jsx("p",{className:cn("text-sm",r?"font-mono text-muted-foreground":"text-muted-foreground dark:text-white/60"),children:r?"// Leave a short reflection or follow-up question":"Leave a short reflection or follow-up question"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[x.aiEnabled&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:je,className:cn("inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all",r?se?"bg-primary/20 text-primary border border-primary/30 font-mono":"bg-muted/50 text-muted-foreground border border-border font-mono hover:border-primary/50":se?"bg-gradient-to-r from-violet-500/20 to-purple-500/20 text-violet-600 dark:text-violet-400 border border-violet-500/30":"bg-muted/50 text-muted-foreground border border-border/50 hover:border-violet-500/30 hover:text-violet-600 dark:hover:text-violet-400"),title:se?"AI 토론 모드 끄기":"AI 토론 모드 켜기",children:[jsxRuntimeExports.jsx(Bot,{className:cn("h-3.5 w-3.5",se&&"animate-pulse")}),r?se?"AI:ON":"AI:OFF":"AI 토론",se&&jsxRuntimeExports.jsx(Sparkles,{className:"h-3 w-3"})]}),w&&jsxRuntimeExports.jsx("span",{className:cn("rounded-full px-3 py-1 text-xs font-medium",r?"bg-destructive/20 text-destructive border border-destructive/30":"bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-200"),children:w})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-5",children:[S&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 py-4",r&&"font-mono"),children:[jsxRuntimeExports.jsx(LoaderCircle,{className:cn("h-4 w-4 animate-spin",r&&"text-primary")}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:r?"$ loading comments...":"Loading comments..."})]}),E&&E.length>0&&jsxRuntimeExports.jsx("ul",{className:cn("space-y-0",r&&"border-l-2 border-primary/30 ml-2"),children:E.map((Le,Ze)=>{var Ge;const Be=Le.author==="AI Assistant"||((Ge=Le.id)==null?void 0:Ge.startsWith("ai-"));return jsxRuntimeExports.jsx("li",{className:cn("text-sm leading-relaxed transition-colors",r?cn("pl-4 py-3 hover:bg-primary/5 relative before:absolute before:left-[-9px] before:top-[18px] before:w-2 before:h-2 before:rounded-full before:border-2 before:border-background",Be?"before:bg-violet-500 bg-violet-500/5":"before:bg-primary/50"):cn("p-4 rounded-2xl border shadow-sm mb-3",Be?"border-violet-500/30 bg-gradient-to-br from-violet-500/5 to-purple-500/5 dark:from-violet-500/10 dark:to-purple-500/10":"border-border/30 bg-background/60 hover:bg-background/80 dark:border-white/5 dark:bg-white/5 dark:hover:bg-white/8")),children:r?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 font-mono text-xs",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["[",Le.createdAt?new Date(Le.createdAt).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"unknown","]"]}),jsxRuntimeExports.jsx("span",{className:cn("font-semibold",Be?"text-violet-500":"text-primary"),children:Be?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx(Bot,{className:"h-3 w-3"}),"AI@assistant"]}):`${Le.author}@visitor`}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:":~$"})]}),jsxRuntimeExports.jsx("div",{className:"font-mono text-foreground pl-0 sm:pl-4",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:{p:({children:We})=>jsxRuntimeExports.jsx("span",{className:"inline",children:We})},children:Le.content})}),Le.website&&jsxRuntimeExports.jsxs("a",{href:Le.website,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs font-mono text-primary/70 hover:text-primary hover:underline pl-0 sm:pl-4",children:[jsxRuntimeExports.jsx(Earth,{className:"h-3 w-3"}),Le.website]}),Le.id&&jsxRuntimeExports.jsx("div",{className:"pl-0 sm:pl-4",children:jsxRuntimeExports.jsx(CommentReactions,{commentId:Le.id,initialReactions:Q[Le.id]||[],isTerminal:r,compact:!0})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-2.5 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:cn("flex items-center justify-center rounded-full w-7 h-7",Be?"bg-gradient-to-br from-violet-500/20 to-purple-500/20":"bg-gradient-to-br from-primary/20 to-primary/10"),children:Be?jsxRuntimeExports.jsx(Bot,{className:"h-3.5 w-3.5 text-violet-500"}):jsxRuntimeExports.jsx(User,{className:"h-3.5 w-3.5 text-primary"})}),jsxRuntimeExports.jsxs("span",{className:cn("font-semibold text-[13px]",Be?"text-violet-600 dark:text-violet-400":"text-foreground dark:text-white"),children:[Le.author,Be&&jsxRuntimeExports.jsx(Sparkles,{className:"inline h-3 w-3 ml-1 text-violet-500"})]})]}),Le.createdAt&&jsxRuntimeExports.jsx("span",{className:"text-xs font-normal text-muted-foreground/70 dark:text-white/50",children:new Date(Le.createdAt).toLocaleDateString()})]}),jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none leading-relaxed dark:prose-invert prose-p:text-foreground/90 dark:prose-p:text-white/85",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:Le.content})}),Le.website&&jsxRuntimeExports.jsxs("a",{href:Le.website,target:"_blank",rel:"noreferrer",className:"mt-2.5 inline-flex items-center gap-1 text-xs text-primary/80 hover:text-primary hover:underline",children:[jsxRuntimeExports.jsx(Earth,{className:"h-3 w-3"}),Le.website]}),Le.id&&jsxRuntimeExports.jsx(CommentReactions,{commentId:Le.id,initialReactions:Q[Le.id]||[],isTerminal:r})]})},Le.id||Ze)})}),oe&&ae&&jsxRuntimeExports.jsx("div",{className:cn("text-sm leading-relaxed animate-in fade-in-0 slide-in-from-bottom-2 duration-300",r?"pl-4 py-3 ml-2 border-l-2 border-violet-500/50 bg-violet-500/5":"p-4 rounded-2xl border border-violet-500/30 bg-gradient-to-br from-violet-500/5 to-purple-500/5 dark:from-violet-500/10 dark:to-purple-500/10"),children:r?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 font-mono text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"[typing...]"}),jsxRuntimeExports.jsxs("span",{className:"text-violet-500 font-semibold inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx(Bot,{className:"h-3 w-3 animate-pulse"}),"AI@assistant"]}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:":~$"})]}),jsxRuntimeExports.jsxs("div",{className:"font-mono text-foreground pl-0 sm:pl-4",children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:{p:({children:Le})=>jsxRuntimeExports.jsx("span",{className:"inline",children:Le})},children:ae}),jsxRuntimeExports.jsx("span",{className:"inline-block w-2 h-4 bg-violet-500 animate-pulse ml-0.5"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-2.5 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex items-center justify-center rounded-full w-7 h-7 bg-gradient-to-br from-violet-500/20 to-purple-500/20",children:jsxRuntimeExports.jsx(Bot,{className:"h-3.5 w-3.5 text-violet-500 animate-pulse"})}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-[13px] text-violet-600 dark:text-violet-400",children:["AI Assistant",jsxRuntimeExports.jsx(Sparkles,{className:"inline h-3 w-3 ml-1 text-violet-500 animate-pulse"})]}),jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin text-violet-500 ml-auto"})]}),jsxRuntimeExports.jsxs("div",{className:"prose prose-sm max-w-none leading-relaxed dark:prose-invert prose-p:text-foreground/90 dark:prose-p:text-white/85",children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:ae}),jsxRuntimeExports.jsx("span",{className:"inline-block w-2 h-4 bg-violet-500 animate-pulse ml-0.5 align-middle"})]})]})}),oe&&!ae&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 py-3",r?"pl-4 ml-2 border-l-2 border-violet-500/50 font-mono":"px-4"),children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4 text-violet-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-violet-600 dark:text-violet-400",children:r?"$ AI thinking...":"AI가 생각하는 중..."}),jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin text-violet-500"})]}),Ae&&!oe&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 py-3 px-4 rounded-lg text-sm",r?"bg-destructive/10 border border-destructive/30 text-destructive font-mono":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400"),children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:Ae}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Qe(null),className:"text-xs underline hover:no-underline opacity-70 hover:opacity-100",children:r?"dismiss":"닫기"})]}),jsxRuntimeExports.jsxs("div",{className:cn("p-4 sm:p-5",r?"rounded-lg border border-border bg-background/30":"rounded-2xl border border-border/40 bg-gradient-to-br from-background/60 to-background/40 shadow-inner dark:border-white/10 dark:from-white/5 dark:to-transparent"),children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>F(!0),className:cn("w-full flex items-center gap-3 px-4 py-3 text-left transition-all",r?"rounded-lg border border-dashed border-border bg-[hsl(var(--terminal-code-bg))] font-mono text-muted-foreground hover:border-primary hover:text-primary group":"rounded-xl border border-dashed border-border/50 bg-background/50 text-muted-foreground hover:border-primary/50 hover:bg-primary/5 hover:text-foreground group"),children:[jsxRuntimeExports.jsx(PenLine,{className:cn("h-5 w-5 shrink-0 transition-colors","group-hover:text-primary")}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:r?">_ Write a comment...":"Write a comment..."}),jsxRuntimeExports.jsx("span",{className:cn("text-xs px-2 py-1 rounded transition-colors hidden sm:inline-block",r?"bg-primary/10 text-primary/70 group-hover:bg-primary/20":"bg-muted text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"),children:r?"INSERT":"Click to write"})]}),O&&jsxRuntimeExports.jsx("p",{className:cn("mt-3 text-xs text-center",r?"font-mono text-muted-foreground":"text-muted-foreground dark:text-white/50"),children:r?"// archived comments shown; new ones appear live":"Archived comments are shown above; new ones will appear live."})]})]})]}),jsxRuntimeExports.jsx(CommentInputModal,{isOpen:M,onClose:()=>F(!1),onSubmit:Ue,isTerminal:r,initialAuthor:V})]})}const STORAGE_KEY$4="blog.bookmarks";function parse(o){if(!o)return[];try{const r=JSON.parse(o);return Array.isArray(r)?typeof r[0]=="string"?r.map(x=>({id:x,addedAt:Date.now()})):r:[]}catch{return[]}}function getBookmarks(){return typeof window>"u"?[]:parse(localStorage.getItem(STORAGE_KEY$4))}function getBookmarkIds(){return getBookmarks().map(o=>o.id)}function isBookmarked(o){return getBookmarkIds().includes(o)}function toggleBookmark(o){const r=getBookmarks(),x=r.some(E=>E.id===o),O=x?r.filter(E=>E.id!==o):[...r,{id:o,addedAt:Date.now()}];return localStorage.setItem(STORAGE_KEY$4,JSON.stringify(O)),window.dispatchEvent(new CustomEvent("bookmarks:update",{detail:{postId:o,bookmarked:!x}})),!x}function useIsBookmarked(o){const[r,x]=reactExports.useState(()=>isBookmarked(o));reactExports.useEffect(()=>{const E=y=>{const S=y.detail;((S==null?void 0:S.postId)===o||S!=null&&S.cleared)&&x(isBookmarked(o))};return window.addEventListener("bookmarks:update",E),()=>window.removeEventListener("bookmarks:update",E)},[o]);const O=reactExports.useCallback(()=>{const E=toggleBookmark(o);return x(E),E},[o]);return{bookmarked:r,toggleBookmark:O}}const defaultOptions$1={max:10,scale:1.02,speed:400,glare:!1,glareOpacity:.2};function prefersReducedMotion(){return typeof window>"u"?!0:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function isTouchDevice(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0}function useTilt(o={}){const r=reactExports.useRef(null),x=reactExports.useRef(null),O={...defaultOptions$1,...o},E=reactExports.useCallback(()=>{r.current&&(r.current.style.transform="",r.current.style.transition=`transform ${O.speed}ms ease-out`,x.current&&(x.current.style.opacity="0"))},[O.speed]),y=reactExports.useCallback(S=>{if(!r.current)return;const j=r.current.getBoundingClientRect(),w=(S.clientX-j.left)/j.width,_=(S.clientY-j.top)/j.height,Q=O.max*2*(.5-_),I=O.max*2*(w-.5);if(r.current.style.transition="none",r.current.style.transform=`
      perspective(1000px)
      rotateX(${Q}deg)
      rotateY(${I}deg)
      scale(${O.scale})
    `,x.current&&O.glare){const M=Math.atan2(_-.5,w-.5)*(180/Math.PI);x.current.style.opacity=String(O.glareOpacity),x.current.style.background=`
        linear-gradient(${M+90}deg, 
          rgba(255,255,255,${O.glareOpacity}) 0%, 
          rgba(255,255,255,0) 50%)
      `}},[O.max,O.scale,O.glare,O.glareOpacity]);return reactExports.useEffect(()=>{const S=r.current;if(S&&!(prefersReducedMotion()||isTouchDevice())){if(O.glare){const j=document.createElement("div");j.style.cssText=`
        position: absolute;
        inset: 0;
        pointer-events: none;
        opacity: 0;
        transition: opacity 200ms ease-out;
        border-radius: inherit;
      `,S.style.position="relative",S.appendChild(j),x.current=j}return S.style.transformStyle="preserve-3d",S.style.willChange="transform",S.addEventListener("mousemove",y),S.addEventListener("mouseleave",E),()=>{S.removeEventListener("mousemove",y),S.removeEventListener("mouseleave",E),x.current&&S.contains(x.current)&&S.removeChild(x.current),x.current=null,S.style.transform="",S.style.transformStyle="",S.style.willChange=""}}},[y,E,O.glare]),r}function useSwipe(o={}){const{threshold:r=50,onSwipe:x,onSwipeLeft:O,onSwipeRight:E,hapticFeedback:y=!0,preventDefault:S=!1}=o,j=reactExports.useRef(null),w=reactExports.useRef(0),_=reactExports.useRef(0),[Q,I]=reactExports.useState({swiping:null,deltaX:0,deltaY:0}),M=reactExports.useCallback(te=>{const re=te.touches[0];w.current=re.clientX,_.current=re.clientY,I({swiping:null,deltaX:0,deltaY:0})},[]),F=reactExports.useCallback(te=>{S&&te.preventDefault();const re=te.touches[0],se=re.clientX-w.current,ne=re.clientY-_.current;let oe=null;Math.abs(se)>Math.abs(ne)?oe=se>0?"right":"left":Math.abs(ne)>r/2&&(oe=ne>0?"down":"up"),I({swiping:oe,deltaX:se,deltaY:ne})},[S,r]),V=reactExports.useCallback(()=>{const{deltaX:te,deltaY:re}=Q,se=Math.abs(te),ne=Math.abs(re);let oe=null;se>r&&se>ne&&(oe=te>0?"right":"left",y&&hapticLight(),x==null||x(oe),oe==="left"?O==null||O():oe==="right"&&(E==null||E())),I({swiping:null,deltaX:0,deltaY:0})},[Q,r,y,x,O,E]);return reactExports.useEffect(()=>{const te=j.current;if(te)return te.addEventListener("touchstart",M,{passive:!0}),te.addEventListener("touchmove",F,{passive:!S}),te.addEventListener("touchend",V,{passive:!0}),()=>{te.removeEventListener("touchstart",M),te.removeEventListener("touchmove",F),te.removeEventListener("touchend",V)}},[M,F,V,S]),{ref:j,...Q}}const CATEGORY_COLORS={AI:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",Development:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",DevOps:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",Tutorial:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",Essay:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",Review:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"};function getCategoryColor(o){return CATEGORY_COLORS[o]||"bg-secondary text-secondary-foreground"}const PostCard=reactExports.memo(({post:o,variant:r="grid",showTilt:x=!0,showBookmark:O=!0,className:E})=>{const y=useLocation(),{language:S}=useLanguage(),{isTerminal:j}=useTheme(),{bookmarked:w,toggleBookmark:_}=useIsBookmarked(`${o.year}/${o.slug}`),Q=useTilt({max:8,scale:1.02,glare:!j}),[I,M]=reactExports.useState(!1),{ref:F,deltaX:V,swiping:te}=useSwipe({threshold:60,onSwipeRight:()=>{O&&(_(),M(!0),setTimeout(()=>M(!1),1e3))}}),re=te==="right"?Math.min(V,80):0,se=re/80,ne=reactExports.useCallback(Xe=>{Q&&"current"in Q&&(Q.current=Xe),F&&"current"in F&&(F.current=Xe)},[Q,F]),oe=reactExports.useMemo(()=>resolveLocalizedPost(o,S),[S,o]),Oe=`/blog/${o.year}/${o.slug}`,ae={pathname:y.pathname,search:y.search},ge=reactExports.useMemo(()=>{const Xe=oe.excerpt||oe.description||"";return stripMarkdown(Xe,r==="featured"?200:120)},[oe.excerpt,oe.description,r]),je=reactExports.useMemo(()=>{const Xe=o.readingTime||(o.readTime?`${o.readTime} min`:"");if(!Xe)return"";const Ue=Xe.match(/(\d+)/);if(S==="ko"){const Le=Ue?Ue[1]:"";return Le?`${Le}분`:Xe}return Xe.replace("min read","min").replace("분 읽기","min")},[S,o.readTime,o.readingTime]),Ae=Xe=>{Xe.preventDefault(),Xe.stopPropagation(),_()};if(r==="mini")return jsxRuntimeExports.jsxs(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},onMouseEnter:()=>prefetchPost(o.year,o.slug),className:cn("group flex items-center gap-3 p-3 rounded-lg transition-colors","hover:bg-muted/50",j&&"hover:bg-primary/10 font-mono",E),children:[o.coverImage&&jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden shrink-0",children:jsxRuntimeExports.jsx(OptimizedImage,{src:o.coverImage,alt:"",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("p",{className:cn("text-sm font-medium truncate group-hover:text-primary transition-colors",j&&"terminal-glow"),children:[j&&"> ",oe.title]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:formatDate$2(o.date,S)})]})]});if(r==="list")return jsxRuntimeExports.jsxs("article",{ref:x?ne:F,className:cn("group flex gap-4 p-4 rounded-xl border border-border/50 bg-card transition-all","hover:shadow-lg hover:border-primary/30",j&&"border-border bg-[hsl(var(--terminal-code-bg))] hover:border-primary hover:shadow-[0_0_15px_hsl(var(--primary)/0.2)]",se>0&&"bg-primary/10",I&&"ring-2 ring-primary/50",E),style:re>0?{transform:`translateX(${re*.3}px)`}:void 0,children:[se>.3&&jsxRuntimeExports.jsxs("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 flex items-center gap-1 text-primary text-xs font-medium",children:[jsxRuntimeExports.jsx(Bookmark,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:w?"Remove":"Save"})]}),o.coverImage&&jsxRuntimeExports.jsx(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},className:"shrink-0 w-24 h-18 sm:w-32 sm:h-24 rounded-lg overflow-hidden",onMouseEnter:()=>prefetchPost(o.year,o.slug),children:jsxRuntimeExports.jsx(OptimizedImage,{src:o.coverImage,alt:oe.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Badge,{className:cn("text-[10px]",getCategoryColor(o.category),j&&"rounded font-mono"),children:j?`[${o.category}]`:o.category}),je&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),je]})]}),jsxRuntimeExports.jsxs(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},onMouseEnter:()=>prefetchPost(o.year,o.slug),className:cn("text-base font-semibold truncate group-hover:text-primary transition-colors",j&&"font-mono"),children:[j&&"> ",oe.title]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:ge})]}),O&&jsxRuntimeExports.jsx("button",{onClick:Ae,className:cn("shrink-0 p-2 rounded-lg transition-colors",w?"text-primary bg-primary/10":"text-muted-foreground hover:text-primary hover:bg-primary/10"),"aria-label":w?"Remove bookmark":"Add bookmark",children:w?jsxRuntimeExports.jsx(BookmarkCheck,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Bookmark,{className:"w-4 h-4"})})]});const Qe=r==="featured";return jsxRuntimeExports.jsxs("article",{ref:x?ne:F,className:cn("group relative flex flex-col rounded-2xl border border-border/50 bg-card overflow-hidden transition-all","hover:shadow-xl hover:border-primary/30",j&&"rounded-lg border-border bg-[hsl(var(--terminal-code-bg))] hover:border-primary hover:shadow-[0_0_20px_hsl(var(--primary)/0.3)]",Qe&&"md:flex-row",se>0&&"bg-primary/10",I&&"ring-2 ring-primary/50",E),style:re>0?{transform:`translateX(${re*.3}px)`}:void 0,children:[se>.3&&jsxRuntimeExports.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 flex items-center gap-1 text-primary text-xs font-medium bg-card/90 px-2 py-1 rounded-lg",children:[jsxRuntimeExports.jsx(Bookmark,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:w?"Remove":"Save"})]}),jsxRuntimeExports.jsxs(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},onMouseEnter:()=>prefetchPost(o.year,o.slug),className:cn("relative overflow-hidden",Qe?"md:w-3/5 aspect-[16/9] md:aspect-auto":"aspect-video"),children:[o.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:o.coverImage,alt:oe.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-muted/50 to-muted",children:jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-muted-foreground/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),jsxRuntimeExports.jsx("div",{className:"absolute top-3 left-3",children:jsxRuntimeExports.jsx(Badge,{className:cn("text-xs shadow-sm",getCategoryColor(o.category),j&&"rounded font-mono border-none"),children:j?`[${o.category}]`:o.category})})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col flex-1 p-5",Qe&&"md:p-6 md:justify-center"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mb-2",children:[jsxRuntimeExports.jsx("span",{children:formatDate$2(o.date,S)}),je&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),je]})]})]}),jsxRuntimeExports.jsx(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},onMouseEnter:()=>prefetchPost(o.year,o.slug),children:jsxRuntimeExports.jsxs("h3",{className:cn("font-bold group-hover:text-primary transition-colors line-clamp-2",Qe?"text-xl md:text-2xl":"text-lg",j&&"font-mono terminal-glow"),children:[j&&"> ",oe.title]})}),jsxRuntimeExports.jsx("p",{className:cn("text-muted-foreground mt-2 line-clamp-2",Qe?"text-base md:line-clamp-3":"text-sm"),children:ge}),o.tags&&o.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-3",children:[o.tags.slice(0,3).map(Xe=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:cn("text-[10px] px-2 py-0.5",j&&"rounded border-primary/40 text-primary font-mono"),children:j?`#${Xe}`:`#${Xe}`},Xe)),o.tags.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-[10px] px-2 py-0.5",children:["+",o.tags.length-3]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"ghost",size:"sm",className:"group/btn -ml-2",children:jsxRuntimeExports.jsxs(Link,{to:{pathname:Oe,search:y.search||void 0},state:{from:ae},onMouseEnter:()=>prefetchPost(o.year,o.slug),children:[S==="ko"?"읽기":"Read",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-1.5 w-4 h-4 transition-transform group-hover/btn:translate-x-1"})]})}),O&&jsxRuntimeExports.jsx("button",{onClick:Ae,className:cn("p-2 rounded-lg transition-colors",w?"text-primary bg-primary/10":"text-muted-foreground hover:text-primary hover:bg-primary/10"),"aria-label":w?"Remove bookmark":"Add bookmark",children:w?jsxRuntimeExports.jsx(BookmarkCheck,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Bookmark,{className:"w-4 h-4"})})]})]})]})});PostCard.displayName="PostCard";const SeriesNavigation=({currentPost:o,seriesPosts:r})=>{var Q;const{isTerminal:x}=useTheme(),E=useLocation().search||"",y=reactExports.useMemo(()=>[...r].sort((I,M)=>I.seriesOrder!==void 0&&M.seriesOrder!==void 0?I.seriesOrder-M.seriesOrder:new Date(I.date).getTime()-new Date(M.date).getTime()),[r]),S=y.findIndex(I=>I.year===o.year&&I.slug===o.slug),j=S>0?y[S-1]:null,w=S<y.length-1?y[S+1]:null;if(y.length<2)return null;const _=(Q=o.series)==null?void 0:Q.split("-").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(" ");return jsxRuntimeExports.jsxs("section",{className:cn("rounded-2xl border border-border/60 bg-card/70 p-5 shadow-sm backdrop-blur",x&&"rounded-lg border-border bg-[hsl(var(--terminal-code-bg))]"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:cn("rounded-full bg-primary/10 p-2",x&&"rounded bg-transparent border border-primary/40"),children:jsxRuntimeExports.jsx(ListOrdered,{className:"h-4 w-4 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:cn("text-sm font-semibold text-foreground",x&&"font-mono text-primary"),children:x?`> Series: ${_}`:`Series: ${_}`}),jsxRuntimeExports.jsxs("p",{className:cn("text-xs text-muted-foreground",x&&"font-mono"),children:[S+1," / ",y.length]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-4",children:y.map((I,M)=>{const F=I.year===o.year&&I.slug===o.slug;return jsxRuntimeExports.jsxs(Link,{to:{pathname:`/blog/${I.year}/${I.slug}`,search:E||void 0},onMouseEnter:()=>prefetchPost(I.year,I.slug),onFocus:()=>prefetchPost(I.year,I.slug),className:cn("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",F?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground",x&&"rounded font-mono text-xs",x&&F&&"border border-primary/40"),children:[jsxRuntimeExports.jsx("span",{className:cn("flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full text-xs",F?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",x&&"rounded"),children:M+1}),jsxRuntimeExports.jsx("span",{className:"truncate",children:I.title})]},`${I.year}/${I.slug}`)})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3 pt-3 border-t border-border/60",children:[j?jsxRuntimeExports.jsxs(Link,{to:{pathname:`/blog/${j.year}/${j.slug}`,search:E||void 0},onMouseEnter:()=>prefetchPost(j.year,j.slug),onFocus:()=>prefetchPost(j.year,j.slug),className:cn("flex items-center gap-1.5 text-sm text-muted-foreground hover:text-primary transition-colors",x&&"font-mono text-xs"),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[120px] sm:max-w-[180px]",children:j.title})]}):jsxRuntimeExports.jsx("div",{}),w?jsxRuntimeExports.jsxs(Link,{to:{pathname:`/blog/${w.year}/${w.slug}`,search:E||void 0},onMouseEnter:()=>prefetchPost(w.year,w.slug),onFocus:()=>prefetchPost(w.year,w.slug),className:cn("flex items-center gap-1.5 text-sm text-muted-foreground hover:text-primary transition-colors ml-auto",x&&"font-mono text-xs"),children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[120px] sm:max-w-[180px]",children:w.title}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]}):jsxRuntimeExports.jsx("div",{})]})]})};async function searchWeb(o,r={}){const{maxResults:x=5,searchDepth:O="basic"}=r,E=getApiBaseUrl(),y=await fetch(`${E}/api/v1/search/web`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o,maxResults:x,searchDepth:O})});if(!y.ok)throw new Error(`Web search failed: ${y.status}`);const S=await y.json();if(!S.ok||!S.data)throw new Error("Invalid response from web search API");return S.data}function SearchBar({posts:o,onSearchResults:r,onWebSearchResults:x,placeholder:O="블로그 검색...",enableWebSearch:E=!0}){const[y,S]=reactExports.useState(""),[j,w]=reactExports.useState(!1),[_,Q]=reactExports.useState(null),[I,M]=reactExports.useState(!1),{isTerminal:F}=useTheme(),V=reactExports.useRef(null),te=reactExports.useMemo(()=>new Fuse(o,{keys:[{name:"title",weight:3},{name:"description",weight:2},{name:"content",weight:1},{name:"tags",weight:2},{name:"category",weight:2}],threshold:.3,includeScore:!0}),[o]),re=reactExports.useCallback(async oe=>{if(!(!E||!x)){w(!0),Q(null);try{const Oe=await searchWeb(oe,{maxResults:5});x(Oe.results,Oe.answer)}catch(Oe){const ae=Oe instanceof Error?Oe.message:"Web search failed";Q(ae)}finally{w(!1)}}},[E,x]);reactExports.useEffect(()=>{if(V.current&&clearTimeout(V.current),y.trim()===""){r(o),M(!1);return}const Oe=te.search(y).map(ae=>ae.item);r(Oe),Oe.length===0&&E&&x?V.current=setTimeout(()=>{M(!0)},500):M(!1)},[y,o,r,te,E,x]);const se=()=>{S(""),M(!1),Q(null)},ne=()=>{re(y)};return F?jsxRuntimeExports.jsxs("div",{className:"relative w-full font-mono",children:[jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center border border-border bg-[hsl(var(--terminal-code-bg))]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2.5 border-r border-border/50 text-primary select-none shrink-0",children:[jsxRuntimeExports.jsx(Terminal,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",children:"grep"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center",children:jsxRuntimeExports.jsx(Input,{type:"text",placeholder:'--pattern "search query"',value:y,onChange:oe=>S(oe.target.value),className:"flex-1 h-10 border-0 bg-transparent px-3 text-sm text-foreground placeholder:text-muted-foreground/50 focus-visible:ring-0 focus-visible:ring-offset-0"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-2",children:[y&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:se,className:"h-7 w-7 p-0 text-destructive/70 hover:text-destructive hover:bg-destructive/10 rounded-none",children:jsxRuntimeExports.jsx(X$1,{className:"w-3.5 h-3.5"})}),jsxRuntimeExports.jsx("div",{className:"h-7 w-7 flex items-center justify-center text-primary/70",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[2px] bg-primary/50 transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300"})]}),y&&jsxRuntimeExports.jsxs("div",{className:"mt-2 px-3 py-2 border border-border/50 bg-[hsl(var(--terminal-code-bg))] text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"$"}),jsxRuntimeExports.jsxs("span",{children:['grep -r "',jsxRuntimeExports.jsx("span",{className:"text-primary",children:y}),'" ./posts']})]}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-primary/70",children:"# Searching..."})]}),I&&E&&jsxRuntimeExports.jsxs("div",{className:"mt-2 px-3 py-2 border border-primary/30 bg-primary/5 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(Globe,{className:"w-3.5 h-3.5 text-primary"}),jsxRuntimeExports.jsx("span",{children:"블로그 내 결과 없음. 웹에서 검색할까요?"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:ne,disabled:j,className:"h-6 px-2 text-xs text-primary hover:bg-primary/20",children:j?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}):"웹 검색"})]}),_&&jsxRuntimeExports.jsxs("div",{className:"mt-1 text-destructive/70",children:["# Error: ",_]})]})]}):jsxRuntimeExports.jsxs("div",{className:"relative w-full",children:[jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 transition-colors group-focus-within:text-primary",children:jsxRuntimeExports.jsx(Search,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Input,{type:"text",placeholder:O,value:y,onChange:oe=>S(oe.target.value),className:"pl-11 pr-10 h-11 rounded-xl border border-border/60 bg-background shadow-none focus:border-primary/60 focus:ring-0 transition-colors duration-200 placeholder:text-muted-foreground/60"}),y&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:se,className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive transition-colors rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-primary to-accent transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300 rounded-full"})]}),y&&!I&&jsxRuntimeExports.jsx("div",{className:"mt-3 p-2 rounded-lg bg-muted/30 border border-border/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["'",y,"' 검색 결과"]})]})}),I&&E&&jsxRuntimeExports.jsxs("div",{className:"mt-3 p-3 rounded-xl bg-primary/5 border border-primary/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("span",{children:"블로그 내 결과가 없습니다"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:ne,disabled:j,className:"h-8 px-3 text-xs border-primary/30 hover:bg-primary/10",children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 mr-1.5 animate-spin"}),"검색 중..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Globe,{className:"w-3 h-3 mr-1.5"}),"웹에서 검색"]})})]}),_&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-destructive",children:_})]})]})}function Breadcrumb$1({items:o,className:r}){return jsxRuntimeExports.jsxs("nav",{className:cn("flex items-center space-x-1 text-sm text-muted-foreground",r),children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"hover:text-foreground transition-colors",children:jsxRuntimeExports.jsx(House,{className:"h-4 w-4"})}),o.map((x,O)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"}),x.href?jsxRuntimeExports.jsx(Link,{to:x.href,className:"hover:text-foreground transition-colors",children:x.label}):jsxRuntimeExports.jsx("span",{className:"text-foreground",children:x.label})]},O))]})}const Pagination=({currentPage:o,totalPages:r,onPageChange:x,className:O="",showFirstLast:E=!0,showPageInfo:y=!0,showQuickJump:S=!1,size:j="md"})=>{const{isTerminal:w}=useTheme(),[_,Q]=reactExports.useState(""),[I,M]=reactExports.useState(!1),F=reactExports.useCallback(()=>{const Ae=parseInt(_,10);!isNaN(Ae)&&Ae>=1&&Ae<=r&&Ae!==o&&x(Ae),Q(""),M(!1)},[_,r,o,x]),V=reactExports.useCallback(Ae=>{Ae.key==="Enter"?F():Ae.key==="Escape"&&(M(!1),Q(""))},[F]);if(r<=1)return null;const re={sm:{button:"h-8 w-8 text-xs",icon:"h-3.5 w-3.5",gap:"gap-1"},md:{button:"h-10 w-10 text-sm",icon:"h-4 w-4",gap:"gap-1.5"},lg:{button:"h-12 w-12 text-base",icon:"h-5 w-5",gap:"gap-2"}}[j],ne=(()=>{const Ae=j==="sm"?1:2,Qe=[],Xe=[];for(let Ue=Math.max(2,o-Ae);Ue<=Math.min(r-1,o+Ae);Ue++)Qe.push(Ue);return o-Ae>2?Xe.push(1,"ellipsis-start"):Xe.push(1),Xe.push(...Qe),o+Ae<r-1?Xe.push("ellipsis-end",r):r>1&&Xe.push(r),Xe})(),oe=({onClick:Ae,disabled:Qe,children:Xe,label:Ue,variant:Le="outline"})=>jsxRuntimeExports.jsx(Button,{variant:Le,size:"icon",onClick:Ae,disabled:Qe,"aria-label":Ue,className:cn(re.button,"rounded-xl transition-all duration-200","disabled:opacity-40 disabled:cursor-not-allowed","hover:bg-primary/10 hover:border-primary/30 hover:scale-105","active:scale-95","focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2"),children:Xe}),Oe=w?"bg-green-400 text-black font-bold shadow-[0_0_8px_rgba(153,230,53,0.6)] scale-105 hover:bg-green-500 hover:text-black":"bg-primary text-primary-foreground shadow-md scale-105 hover:bg-primary/90",ae=w?"focus-visible:ring-green-400":"focus-visible:ring-primary/40",ge=({page:Ae,isActive:Qe})=>jsxRuntimeExports.jsx(Button,{variant:Qe?"default":"ghost",size:"icon",onClick:()=>x(Ae),"aria-label":`Page ${Ae}`,"aria-current":Qe?"page":void 0,className:cn(re.button,"rounded-xl transition-all duration-200",Qe?Oe:"font-medium hover:bg-muted hover:scale-105","active:scale-95","focus-visible:ring-2 focus-visible:ring-offset-2",ae),children:Ae}),je=({position:Ae})=>S?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>M(!I),"aria-label":"Jump to page",className:cn(re.button,"rounded-xl text-muted-foreground hover:text-foreground hover:bg-muted","transition-all duration-200"),children:jsxRuntimeExports.jsx(Ellipsis,{className:re.icon})}),I&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 z-[var(--z-popover)]",children:jsxRuntimeExports.jsxs("div",{className:"bg-popover border border-border rounded-xl shadow-lg p-2 flex gap-1.5",children:[jsxRuntimeExports.jsx(Input,{type:"number",min:1,max:r,value:_,onChange:Qe=>Q(Qe.target.value),onKeyDown:V,placeholder:"Go to",className:"w-16 h-8 text-xs rounded-lg text-center",autoFocus:!0}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:F,className:"h-8 px-2 text-xs rounded-lg",children:"Go"})]})})]}):jsxRuntimeExports.jsx("span",{className:cn(re.button,"flex items-center justify-center text-muted-foreground"),"aria-hidden":!0,children:jsxRuntimeExports.jsx(Ellipsis,{className:re.icon})});return jsxRuntimeExports.jsxs("nav",{role:"navigation","aria-label":"Pagination",className:cn("flex flex-col items-center gap-3",O),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center",re.gap),children:[E&&jsxRuntimeExports.jsx(oe,{onClick:()=>x(1),disabled:o===1,label:"First page",variant:"ghost",children:jsxRuntimeExports.jsx(ChevronsLeft,{className:re.icon})}),jsxRuntimeExports.jsx(oe,{onClick:()=>x(o-1),disabled:o===1,label:"Previous page",children:jsxRuntimeExports.jsx(ChevronLeft,{className:re.icon})}),jsxRuntimeExports.jsx("div",{className:cn("flex items-center",re.gap,"mx-1"),children:ne.map(Ae=>typeof Ae=="string"?jsxRuntimeExports.jsx(je,{position:Ae==="ellipsis-start"?"start":"end"},Ae):jsxRuntimeExports.jsx(ge,{page:Ae,isActive:o===Ae},Ae))}),jsxRuntimeExports.jsx(oe,{onClick:()=>x(o+1),disabled:o===r,label:"Next page",children:jsxRuntimeExports.jsx(ChevronRight,{className:re.icon})}),E&&jsxRuntimeExports.jsx(oe,{onClick:()=>x(r),disabled:o===r,label:"Last page",variant:"ghost",children:jsxRuntimeExports.jsx(ChevronsRight,{className:re.icon})})]}),y&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Page ",jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:o})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:r})]})]})},Accordion=Root2$a,AccordionItem=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Item$2,{ref:x,className:cn("border-b border-border",o),...r}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx(Header$1,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:O,className:cn("flex flex-1 items-center justify-between py-4 font-medium text-foreground transition-all hover:text-primary [&[data-state=open]>svg]:rotate-180",o),...x,children:[r,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx(Content2$9,{ref:O,className:"overflow-hidden text-sm text-muted-foreground transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...x,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",o),children:r})}));AccordionContent.displayName=Content2$9.displayName;const alertVariants=cva("relative w-full rounded-lg border border-border p-4 shadow-sm transition-colors [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-card text-foreground",destructive:"border-destructive/50 bg-destructive/5 text-destructive dark:border-destructive dark:bg-destructive/10 [&>svg]:text-destructive",warning:"border-warning/50 bg-warning/5 text-warning dark:border-warning dark:bg-warning/10 [&>svg]:text-warning",success:"border-success/50 bg-success/5 text-success dark:border-success dark:bg-success/10 [&>svg]:text-success"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:o,variant:r,...x},O)=>jsxRuntimeExports.jsx("div",{ref:O,role:"alert",className:cn(alertVariants({variant:r}),o),...x}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("h5",{ref:x,className:cn("mb-1 font-medium leading-none tracking-tight",o),...r}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("text-sm text-muted-foreground [&_p]:leading-relaxed",o),...r}));AlertDescription.displayName="AlertDescription";var ROOT_NAME="AlertDialog",[createAlertDialogContext]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=o=>{const{__scopeAlertDialog:r,...x}=o,O=useDialogScope(r);return jsxRuntimeExports.jsx(Root$b,{...O,...x,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME$7="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,E=useDialogScope(x);return jsxRuntimeExports.jsx(Trigger$7,{...E,...O,ref:r})});AlertDialogTrigger.displayName=TRIGGER_NAME$7;var PORTAL_NAME$4="AlertDialogPortal",AlertDialogPortal$1=o=>{const{__scopeAlertDialog:r,...x}=o,O=useDialogScope(r);return jsxRuntimeExports.jsx(Portal$5,{...O,...x})};AlertDialogPortal$1.displayName=PORTAL_NAME$4;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,E=useDialogScope(x);return jsxRuntimeExports.jsx(Overlay$1,{...E,...O,ref:r})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME$6="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME$6),Slottable=createSlottable("AlertDialogContent"),AlertDialogContent$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,children:O,...E}=o,y=useDialogScope(x),S=reactExports.useRef(null),j=useComposedRefs$1(r,S),w=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME$6,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:x,cancelRef:w,children:jsxRuntimeExports.jsxs(Content$4,{role:"alertdialog",...y,...E,ref:j,onOpenAutoFocus:composeEventHandlers(E.onOpenAutoFocus,_=>{var Q;_.preventDefault(),(Q=w.current)==null||Q.focus({preventScroll:!0})}),onPointerDownOutside:_=>_.preventDefault(),onInteractOutside:_=>_.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:O}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:S})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME$6;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,E=useDialogScope(x);return jsxRuntimeExports.jsx(Title$1,{...E,...O,ref:r})});AlertDialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,E=useDialogScope(x);return jsxRuntimeExports.jsx(Description$1,{...E,...O,ref:r})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,E=useDialogScope(x);return jsxRuntimeExports.jsx(Close$1,{...E,...O,ref:r})});AlertDialogAction$1.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((o,r)=>{const{__scopeAlertDialog:x,...O}=o,{cancelRef:E}=useAlertDialogContentContext(CANCEL_NAME,x),y=useDialogScope(x),S=useComposedRefs$1(r,E);return jsxRuntimeExports.jsx(Close$1,{...y,...O,ref:S})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:o})=>{const r=`\`${CONTENT_NAME$6}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME$6}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME$6}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var O;document.getElementById((O=o.current)==null?void 0:O.getAttribute("aria-describedby"))||console.warn(r)},[r,o]),null},Root2$5=AlertDialog$1,Portal2$2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2$4=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2$5,AlertDialogPortal=Portal2$2,AlertDialogOverlay=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-[var(--z-modal-overlay)] bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...r,ref:x}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2$4,{ref:x,className:cn("fixed left-[50%] top-[50%] z-[var(--z-dialog)] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o),...r})]}));AlertDialogContent.displayName=Content2$4.displayName;const AlertDialogHeader=({className:o,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",o),...r});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:o,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",o),...r});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Title2,{ref:x,className:cn("text-lg font-semibold",o),...r}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Description2,{ref:x,className:cn("text-sm text-muted-foreground",o),...r}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Action,{ref:x,className:cn(buttonVariants(),o),...r}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Cancel,{ref:x,className:cn(buttonVariants({variant:"outline"}),"mt-2 sm:mt-0",o),...r}));AlertDialogCancel.displayName=Cancel.displayName;const Avatar=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Root$c,{ref:x,className:cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",o),...r}));Avatar.displayName=Root$c.displayName;const AvatarImage=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Image$1,{ref:x,className:cn("aspect-square h-full w-full",o),...r}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Fallback,{ref:x,className:cn("flex h-full w-full items-center justify-center rounded-full bg-muted",o),...r}));AvatarFallback.displayName=Fallback.displayName;const Breadcrumb=reactExports.forwardRef(({...o},r)=>jsxRuntimeExports.jsx("nav",{ref:r,"aria-label":"breadcrumb",...o}));Breadcrumb.displayName="Breadcrumb";const BreadcrumbList=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("ol",{ref:x,className:cn("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",o),...r}));BreadcrumbList.displayName="BreadcrumbList";const BreadcrumbItem=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("li",{ref:x,className:cn("inline-flex items-center gap-1.5",o),...r}));BreadcrumbItem.displayName="BreadcrumbItem";const BreadcrumbLink=reactExports.forwardRef(({asChild:o,className:r,...x},O)=>{const E=o?Slot$3:"a";return jsxRuntimeExports.jsx(E,{ref:O,className:cn("transition-colors hover:text-foreground",r),...x})});BreadcrumbLink.displayName="BreadcrumbLink";const BreadcrumbPage=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("span",{ref:x,role:"link","aria-disabled":"true","aria-current":"page",className:cn("font-normal text-foreground",o),...r}));BreadcrumbPage.displayName="BreadcrumbPage";var __assign=function(){return __assign=Object.assign||function(r){for(var x,O=1,E=arguments.length;O<E;O++){x=arguments[O];for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(r[y]=x[y])}return r},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var DayPickerContext=reactExports.createContext(void 0);function useDayPicker(){var o=reactExports.useContext(DayPickerContext);if(!o)throw new Error("useDayPicker must be used within a DayPickerProvider.");return o}reactExports.createContext(void 0);reactExports.forwardRef(function(o,r){var x=useDayPicker(),O=x.classNames,E=x.styles,y=[O.button_reset,O.button];o.className&&y.push(o.className);var S=y.join(" "),j=__assign(__assign({},E.button_reset),E.button);return o.style&&Object.assign(j,o.style),jsxRuntimeExports.jsx("button",__assign({},o,{ref:r,type:"button",className:S,style:j}))});reactExports.createContext(void 0);reactExports.createContext(void 0);var InternalModifier;(function(o){o.Outside="outside",o.Disabled="disabled",o.Selected="selected",o.Hidden="hidden",o.Today="today",o.RangeStart="range_start",o.RangeEnd="range_end",o.RangeMiddle="range_middle"})(InternalModifier||(InternalModifier={}));InternalModifier.Selected;InternalModifier.Disabled;InternalModifier.Hidden;InternalModifier.Today;InternalModifier.RangeEnd;InternalModifier.RangeMiddle;InternalModifier.RangeStart;InternalModifier.Outside;reactExports.createContext(void 0);reactExports.createContext(void 0);reactExports.createContext(void 0);function isObject$7(o){return Object.prototype.toString.call(o)==="[object Object]"}function isRecord(o){return isObject$7(o)||Array.isArray(o)}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function areOptionsEqual(o,r){const x=Object.keys(o),O=Object.keys(r);if(x.length!==O.length)return!1;const E=JSON.stringify(Object.keys(o.breakpoints||{})),y=JSON.stringify(Object.keys(r.breakpoints||{}));return E!==y?!1:x.every(S=>{const j=o[S],w=r[S];return typeof j=="function"?`${j}`==`${w}`:!isRecord(j)||!isRecord(w)?j===w:areOptionsEqual(j,w)})}function sortAndMapPluginToOptions(o){return o.concat().sort((r,x)=>r.name>x.name?1:-1).map(r=>r.options)}function arePluginsEqual(o,r){if(o.length!==r.length)return!1;const x=sortAndMapPluginToOptions(o),O=sortAndMapPluginToOptions(r);return x.every((E,y)=>{const S=O[y];return areOptionsEqual(E,S)})}function isNumber$1(o){return typeof o=="number"}function isString$2(o){return typeof o=="string"}function isBoolean(o){return typeof o=="boolean"}function isObject$6(o){return Object.prototype.toString.call(o)==="[object Object]"}function mathAbs(o){return Math.abs(o)}function mathSign(o){return Math.sign(o)}function deltaAbs(o,r){return mathAbs(o-r)}function factorAbs(o,r){if(o===0||r===0||mathAbs(o)<=mathAbs(r))return 0;const x=deltaAbs(mathAbs(o),mathAbs(r));return mathAbs(x/o)}function roundToTwoDecimals(o){return Math.round(o*100)/100}function arrayKeys(o){return objectKeys(o).map(Number)}function arrayLast(o){return o[arrayLastIndex(o)]}function arrayLastIndex(o){return Math.max(0,o.length-1)}function arrayIsLastIndex(o,r){return r===arrayLastIndex(o)}function arrayFromNumber(o,r=0){return Array.from(Array(o),(x,O)=>r+O)}function objectKeys(o){return Object.keys(o)}function objectsMergeDeep(o,r){return[o,r].reduce((x,O)=>(objectKeys(O).forEach(E=>{const y=x[E],S=O[E],j=isObject$6(y)&&isObject$6(S);x[E]=j?objectsMergeDeep(y,S):S}),x),{})}function isMouseEvent$1(o,r){return typeof r.MouseEvent<"u"&&o instanceof r.MouseEvent}function Alignment(o,r){const x={start:O,center:E,end:y};function O(){return 0}function E(w){return y(w)/2}function y(w){return r-w}function S(w,_){return isString$2(o)?x[o](w):o(r,w,_)}return{measure:S}}function EventStore(){let o=[];function r(E,y,S,j={passive:!0}){let w;if("addEventListener"in E)E.addEventListener(y,S,j),w=()=>E.removeEventListener(y,S,j);else{const _=E;_.addListener(S),w=()=>_.removeListener(S)}return o.push(w),O}function x(){o=o.filter(E=>E())}const O={add:r,clear:x};return O}function Animations(o,r,x,O){const E=EventStore(),y=1e3/60;let S=null,j=0,w=0;function _(){E.add(o,"visibilitychange",()=>{o.hidden&&V()})}function Q(){F(),E.clear()}function I(re){if(!w)return;S||(S=re,x(),x());const se=re-S;for(S=re,j+=se;j>=y;)x(),j-=y;const ne=j/y;O(ne),w&&(w=r.requestAnimationFrame(I))}function M(){w||(w=r.requestAnimationFrame(I))}function F(){r.cancelAnimationFrame(w),S=null,j=0,w=0}function V(){S=null,j=0}return{init:_,destroy:Q,start:M,stop:F,update:x,render:O}}function Axis(o,r){const x=r==="rtl",O=o==="y",E=O?"y":"x",y=O?"x":"y",S=!O&&x?-1:1,j=Q(),w=I();function _(V){const{height:te,width:re}=V;return O?te:re}function Q(){return O?"top":x?"right":"left"}function I(){return O?"bottom":x?"left":"right"}function M(V){return V*S}return{scroll:E,cross:y,startEdge:j,endEdge:w,measureSize:_,direction:M}}function Limit(o=0,r=0){const x=mathAbs(o-r);function O(_){return _<o}function E(_){return _>r}function y(_){return O(_)||E(_)}function S(_){return y(_)?O(_)?o:r:_}function j(_){return x?_-x*Math.ceil((_-r)/x):_}return{length:x,max:r,min:o,constrain:S,reachedAny:y,reachedMax:E,reachedMin:O,removeOffset:j}}function Counter(o,r,x){const{constrain:O}=Limit(0,o),E=o+1;let y=S(r);function S(M){return x?mathAbs((E+M)%E):O(M)}function j(){return y}function w(M){return y=S(M),I}function _(M){return Q().set(j()+M)}function Q(){return Counter(o,j(),x)}const I={get:j,set:w,add:_,clone:Q};return I}function DragHandler(o,r,x,O,E,y,S,j,w,_,Q,I,M,F,V,te,re,se,ne){const{cross:oe,direction:Oe}=o,ae=["INPUT","SELECT","TEXTAREA"],ge={passive:!1},je=EventStore(),Ae=EventStore(),Qe=Limit(50,225).constrain(F.measure(20)),Xe={mouse:300,touch:400},Ue={mouse:500,touch:600},Le=V?43:25;let Ze=!1,Be=0,Ge=0,We=!1,at=!1,rt=!1,Je=!1;function mt(pt){if(!ne)return;function Ve(Rt){(isBoolean(ne)||ne(pt,Rt))&&ut(Rt)}const dt=r;je.add(dt,"dragstart",Rt=>Rt.preventDefault(),ge).add(dt,"touchmove",()=>{},ge).add(dt,"touchend",()=>{}).add(dt,"touchstart",Ve).add(dt,"mousedown",Ve).add(dt,"touchcancel",yt).add(dt,"contextmenu",yt).add(dt,"click",et,!0)}function Ke(){je.clear(),Ae.clear()}function ze(){const pt=Je?x:r;Ae.add(pt,"touchmove",it,ge).add(pt,"touchend",yt).add(pt,"mousemove",it,ge).add(pt,"mouseup",yt)}function He(pt){const Ve=pt.nodeName||"";return ae.includes(Ve)}function tt(){return(V?Ue:Xe)[Je?"mouse":"touch"]}function ct(pt,Ve){const dt=I.add(mathSign(pt)*-1),Rt=Q.byDistance(pt,!V).distance;return V||mathAbs(pt)<Qe?Rt:re&&Ve?Rt*.5:Q.byIndex(dt.get(),0).distance}function ut(pt){const Ve=isMouseEvent$1(pt,O);Je=Ve,rt=V&&Ve&&!pt.buttons&&Ze,Ze=deltaAbs(E.get(),S.get())>=2,!(Ve&&pt.button!==0)&&(He(pt.target)||(We=!0,y.pointerDown(pt),_.useFriction(0).useDuration(0),E.set(S),ze(),Be=y.readPoint(pt),Ge=y.readPoint(pt,oe),M.emit("pointerDown")))}function it(pt){if(!isMouseEvent$1(pt,O)&&pt.touches.length>=2)return yt(pt);const dt=y.readPoint(pt),Rt=y.readPoint(pt,oe),It=deltaAbs(dt,Be),Xt=deltaAbs(Rt,Ge);if(!at&&!Je&&(!pt.cancelable||(at=It>Xt,!at)))return yt(pt);const Ut=y.pointerMove(pt);It>te&&(rt=!0),_.useFriction(.3).useDuration(.75),j.start(),E.add(Oe(Ut)),pt.preventDefault()}function yt(pt){const dt=Q.byDistance(0,!1).index!==I.get(),Rt=y.pointerUp(pt)*tt(),It=ct(Oe(Rt),dt),Xt=factorAbs(Rt,It),Ut=Le-10*Xt,$t=se+Xt/50;at=!1,We=!1,Ae.clear(),_.useDuration(Ut).useFriction($t),w.distance(It,!V),Je=!1,M.emit("pointerUp")}function et(pt){rt&&(pt.stopPropagation(),pt.preventDefault(),rt=!1)}function qe(){return We}return{init:mt,destroy:Ke,pointerDown:qe}}function DragTracker(o,r){let O,E;function y(I){return I.timeStamp}function S(I,M){const V=`client${(M||o.scroll)==="x"?"X":"Y"}`;return(isMouseEvent$1(I,r)?I:I.touches[0])[V]}function j(I){return O=I,E=I,S(I)}function w(I){const M=S(I)-S(E),F=y(I)-y(O)>170;return E=I,F&&(O=I),M}function _(I){if(!O||!E)return 0;const M=S(E)-S(O),F=y(I)-y(O),V=y(I)-y(E)>170,te=M/F;return F&&!V&&mathAbs(te)>.1?te:0}return{pointerDown:j,pointerMove:w,pointerUp:_,readPoint:S}}function NodeRects(){function o(x){const{offsetTop:O,offsetLeft:E,offsetWidth:y,offsetHeight:S}=x;return{top:O,right:E+y,bottom:O+S,left:E,width:y,height:S}}return{measure:o}}function PercentOfView(o){function r(O){return o*(O/100)}return{measure:r}}function ResizeHandler(o,r,x,O,E,y,S){const j=[o].concat(O);let w,_,Q=[],I=!1;function M(re){return E.measureSize(S.measure(re))}function F(re){if(!y)return;_=M(o),Q=O.map(M);function se(ne){for(const oe of ne){if(I)return;const Oe=oe.target===o,ae=O.indexOf(oe.target),ge=Oe?_:Q[ae],je=M(Oe?o:O[ae]);if(mathAbs(je-ge)>=.5){re.reInit(),r.emit("resize");break}}}w=new ResizeObserver(ne=>{(isBoolean(y)||y(re,ne))&&se(ne)}),x.requestAnimationFrame(()=>{j.forEach(ne=>w.observe(ne))})}function V(){I=!0,w&&w.disconnect()}return{init:F,destroy:V}}function ScrollBody(o,r,x,O,E,y){let S=0,j=0,w=E,_=y,Q=o.get(),I=0;function M(){const ge=O.get()-o.get(),je=!w;let Ae=0;return je?(S=0,x.set(O),o.set(O),Ae=ge):(x.set(o),S+=ge/w,S*=_,Q+=S,o.add(S),Ae=Q-I),j=mathSign(Ae),I=Q,ae}function F(){const ge=O.get()-r.get();return mathAbs(ge)<.001}function V(){return w}function te(){return j}function re(){return S}function se(){return oe(E)}function ne(){return Oe(y)}function oe(ge){return w=ge,ae}function Oe(ge){return _=ge,ae}const ae={direction:te,duration:V,velocity:re,seek:M,settled:F,useBaseFriction:ne,useBaseDuration:se,useFriction:Oe,useDuration:oe};return ae}function ScrollBounds(o,r,x,O,E){const y=E.measure(10),S=E.measure(50),j=Limit(.1,.99);let w=!1;function _(){return!(w||!o.reachedAny(x.get())||!o.reachedAny(r.get()))}function Q(F){if(!_())return;const V=o.reachedMin(r.get())?"min":"max",te=mathAbs(o[V]-r.get()),re=x.get()-r.get(),se=j.constrain(te/S);x.subtract(re*se),!F&&mathAbs(re)<y&&(x.set(o.constrain(x.get())),O.useDuration(25).useBaseFriction())}function I(F){w=!F}return{shouldConstrain:_,constrain:Q,toggleActive:I}}function ScrollContain(o,r,x,O,E){const y=Limit(-r+o,0),S=I(),j=Q(),w=M();function _(V,te){return deltaAbs(V,te)<=1}function Q(){const V=S[0],te=arrayLast(S),re=S.lastIndexOf(V),se=S.indexOf(te)+1;return Limit(re,se)}function I(){return x.map((V,te)=>{const{min:re,max:se}=y,ne=y.constrain(V),oe=!te,Oe=arrayIsLastIndex(x,te);return oe?se:Oe||_(re,ne)?re:_(se,ne)?se:ne}).map(V=>parseFloat(V.toFixed(3)))}function M(){if(r<=o+E)return[y.max];if(O==="keepSnaps")return S;const{min:V,max:te}=j;return S.slice(V,te)}return{snapsContained:w,scrollContainLimit:j}}function ScrollLimit(o,r,x){const O=r[0],E=x?O-o:arrayLast(r);return{limit:Limit(E,O)}}function ScrollLooper(o,r,x,O){const y=r.min+.1,S=r.max+.1,{reachedMin:j,reachedMax:w}=Limit(y,S);function _(M){return M===1?w(x.get()):M===-1?j(x.get()):!1}function Q(M){if(!_(M))return;const F=o*(M*-1);O.forEach(V=>V.add(F))}return{loop:Q}}function ScrollProgress(o){const{max:r,length:x}=o;function O(y){const S=y-r;return x?S/-x:0}return{get:O}}function ScrollSnaps(o,r,x,O,E){const{startEdge:y,endEdge:S}=o,{groupSlides:j}=E,w=I().map(r.measure),_=M(),Q=F();function I(){return j(O).map(te=>arrayLast(te)[S]-te[0][y]).map(mathAbs)}function M(){return O.map(te=>x[y]-te[y]).map(te=>-mathAbs(te))}function F(){return j(_).map(te=>te[0]).map((te,re)=>te+w[re])}return{snaps:_,snapsAligned:Q}}function SlideRegistry(o,r,x,O,E,y){const{groupSlides:S}=E,{min:j,max:w}=O,_=Q();function Q(){const M=S(y),F=!o||r==="keepSnaps";return x.length===1?[y]:F?M:M.slice(j,w).map((V,te,re)=>{const se=!te,ne=arrayIsLastIndex(re,te);if(se){const oe=arrayLast(re[0])+1;return arrayFromNumber(oe)}if(ne){const oe=arrayLastIndex(y)-arrayLast(re)[0]+1;return arrayFromNumber(oe,arrayLast(re)[0])}return V})}return{slideRegistry:_}}function ScrollTarget$1(o,r,x,O,E){const{reachedAny:y,removeOffset:S,constrain:j}=O;function w(V){return V.concat().sort((te,re)=>mathAbs(te)-mathAbs(re))[0]}function _(V){const te=o?S(V):j(V),re=r.map((ne,oe)=>({diff:Q(ne-te,0),index:oe})).sort((ne,oe)=>mathAbs(ne.diff)-mathAbs(oe.diff)),{index:se}=re[0];return{index:se,distance:te}}function Q(V,te){const re=[V,V+x,V-x];if(!o)return V;if(!te)return w(re);const se=re.filter(ne=>mathSign(ne)===te);return se.length?w(se):arrayLast(re)-x}function I(V,te){const re=r[V]-E.get(),se=Q(re,te);return{index:V,distance:se}}function M(V,te){const re=E.get()+V,{index:se,distance:ne}=_(re),oe=!o&&y(re);if(!te||oe)return{index:se,distance:V};const Oe=r[se]-ne,ae=V+Q(Oe,0);return{index:se,distance:ae}}return{byDistance:M,byIndex:I,shortcut:Q}}function ScrollTo(o,r,x,O,E,y,S){function j(I){const M=I.distance,F=I.index!==r.get();y.add(M),M&&(O.duration()?o.start():(o.update(),o.render(1),o.update())),F&&(x.set(r.get()),r.set(I.index),S.emit("select"))}function w(I,M){const F=E.byDistance(I,M);j(F)}function _(I,M){const F=r.clone().set(I),V=E.byIndex(F.get(),M);j(V)}return{distance:w,index:_}}function SlideFocus(o,r,x,O,E,y,S,j){const w={passive:!0,capture:!0};let _=0;function Q(F){if(!j)return;function V(te){if(new Date().getTime()-_>10)return;S.emit("slideFocusStart"),o.scrollLeft=0;const ne=x.findIndex(oe=>oe.includes(te));isNumber$1(ne)&&(E.useDuration(0),O.index(ne,0),S.emit("slideFocus"))}y.add(document,"keydown",I,!1),r.forEach((te,re)=>{y.add(te,"focus",se=>{(isBoolean(j)||j(F,se))&&V(re)},w)})}function I(F){F.code==="Tab"&&(_=new Date().getTime())}return{init:Q}}function Vector1D(o){let r=o;function x(){return r}function O(w){r=S(w)}function E(w){r+=S(w)}function y(w){r-=S(w)}function S(w){return isNumber$1(w)?w:w.get()}return{get:x,set:O,add:E,subtract:y}}function Translate(o,r){const x=o.scroll==="x"?S:j,O=r.style;let E=null,y=!1;function S(M){return`translate3d(${M}px,0px,0px)`}function j(M){return`translate3d(0px,${M}px,0px)`}function w(M){if(y)return;const F=roundToTwoDecimals(o.direction(M));F!==E&&(O.transform=x(F),E=F)}function _(M){y=!M}function Q(){y||(O.transform="",r.getAttribute("style")||r.removeAttribute("style"))}return{clear:Q,to:w,toggleActive:_}}function SlideLooper(o,r,x,O,E,y,S,j,w){const Q=arrayKeys(E),I=arrayKeys(E).reverse(),M=se().concat(ne());function F(je,Ae){return je.reduce((Qe,Xe)=>Qe-E[Xe],Ae)}function V(je,Ae){return je.reduce((Qe,Xe)=>F(Qe,Ae)>0?Qe.concat([Xe]):Qe,[])}function te(je){return y.map((Ae,Qe)=>({start:Ae-O[Qe]+.5+je,end:Ae+r-.5+je}))}function re(je,Ae,Qe){const Xe=te(Ae);return je.map(Ue=>{const Le=Qe?0:-x,Ze=Qe?x:0,Be=Qe?"end":"start",Ge=Xe[Ue][Be];return{index:Ue,loopPoint:Ge,slideLocation:Vector1D(-1),translate:Translate(o,w[Ue]),target:()=>j.get()>Ge?Le:Ze}})}function se(){const je=S[0],Ae=V(I,je);return re(Ae,x,!1)}function ne(){const je=r-S[0]-1,Ae=V(Q,je);return re(Ae,-x,!0)}function oe(){return M.every(({index:je})=>{const Ae=Q.filter(Qe=>Qe!==je);return F(Ae,r)<=.1})}function Oe(){M.forEach(je=>{const{target:Ae,translate:Qe,slideLocation:Xe}=je,Ue=Ae();Ue!==Xe.get()&&(Qe.to(Ue),Xe.set(Ue))})}function ae(){M.forEach(je=>je.translate.clear())}return{canLoop:oe,clear:ae,loop:Oe,loopPoints:M}}function SlidesHandler(o,r,x){let O,E=!1;function y(w){if(!x)return;function _(Q){for(const I of Q)if(I.type==="childList"){w.reInit(),r.emit("slidesChanged");break}}O=new MutationObserver(Q=>{E||(isBoolean(x)||x(w,Q))&&_(Q)}),O.observe(o,{childList:!0})}function S(){O&&O.disconnect(),E=!0}return{init:y,destroy:S}}function SlidesInView(o,r,x,O){const E={};let y=null,S=null,j,w=!1;function _(){j=new IntersectionObserver(V=>{w||(V.forEach(te=>{const re=r.indexOf(te.target);E[re]=te}),y=null,S=null,x.emit("slidesInView"))},{root:o.parentElement,threshold:O}),r.forEach(V=>j.observe(V))}function Q(){j&&j.disconnect(),w=!0}function I(V){return objectKeys(E).reduce((te,re)=>{const se=parseInt(re),{isIntersecting:ne}=E[se];return(V&&ne||!V&&!ne)&&te.push(se),te},[])}function M(V=!0){if(V&&y)return y;if(!V&&S)return S;const te=I(V);return V&&(y=te),V||(S=te),te}return{init:_,destroy:Q,get:M}}function SlideSizes(o,r,x,O,E,y){const{measureSize:S,startEdge:j,endEdge:w}=o,_=x[0]&&E,Q=V(),I=te(),M=x.map(S),F=re();function V(){if(!_)return 0;const ne=x[0];return mathAbs(r[j]-ne[j])}function te(){if(!_)return 0;const ne=y.getComputedStyle(arrayLast(O));return parseFloat(ne.getPropertyValue(`margin-${w}`))}function re(){return x.map((ne,oe,Oe)=>{const ae=!oe,ge=arrayIsLastIndex(Oe,oe);return ae?M[oe]+Q:ge?M[oe]+I:Oe[oe+1][j]-ne[j]}).map(mathAbs)}return{slideSizes:M,slideSizesWithGaps:F,startGap:Q,endGap:I}}function SlidesToScroll(o,r,x,O,E,y,S,j,w){const{startEdge:_,endEdge:Q,direction:I}=o,M=isNumber$1(x);function F(se,ne){return arrayKeys(se).filter(oe=>oe%ne===0).map(oe=>se.slice(oe,oe+ne))}function V(se){return se.length?arrayKeys(se).reduce((ne,oe,Oe)=>{const ae=arrayLast(ne)||0,ge=ae===0,je=oe===arrayLastIndex(se),Ae=E[_]-y[ae][_],Qe=E[_]-y[oe][Q],Xe=!O&&ge?I(S):0,Ue=!O&&je?I(j):0,Le=mathAbs(Qe-Ue-(Ae+Xe));return Oe&&Le>r+w&&ne.push(oe),je&&ne.push(se.length),ne},[]).map((ne,oe,Oe)=>{const ae=Math.max(Oe[oe-1]||0);return se.slice(ae,ne)}):[]}function te(se){return M?F(se,x):V(se)}return{groupSlides:te}}function Engine(o,r,x,O,E,y,S){const{align:j,axis:w,direction:_,startIndex:Q,loop:I,duration:M,dragFree:F,dragThreshold:V,inViewThreshold:te,slidesToScroll:re,skipSnaps:se,containScroll:ne,watchResize:oe,watchSlides:Oe,watchDrag:ae,watchFocus:ge}=y,je=2,Ae=NodeRects(),Qe=Ae.measure(r),Xe=x.map(Ae.measure),Ue=Axis(w,_),Le=Ue.measureSize(Qe),Ze=PercentOfView(Le),Be=Alignment(j,Le),Ge=!I&&!!ne,We=I||!!ne,{slideSizes:at,slideSizesWithGaps:rt,startGap:Je,endGap:mt}=SlideSizes(Ue,Qe,Xe,x,We,E),Ke=SlidesToScroll(Ue,Le,re,I,Qe,Xe,Je,mt,je),{snaps:ze,snapsAligned:He}=ScrollSnaps(Ue,Be,Qe,Xe,Ke),tt=-arrayLast(ze)+arrayLast(rt),{snapsContained:ct,scrollContainLimit:ut}=ScrollContain(Le,tt,He,ne,je),it=Ge?ct:He,{limit:yt}=ScrollLimit(tt,it,I),et=Counter(arrayLastIndex(it),Q,I),qe=et.clone(),ot=arrayKeys(x),pt=({dragHandler:Fe,scrollBody:nt,scrollBounds:ft,options:{loop:Ct}})=>{Ct||ft.constrain(Fe.pointerDown()),nt.seek()},Ve=({scrollBody:Fe,translate:nt,location:ft,offsetLocation:Ct,previousLocation:Mt,scrollLooper:qt,slideLooper:Wt,dragHandler:er,animation:Kt,eventHandler:ys,scrollBounds:Us,options:{loop:Ss}},Rs)=>{const vs=Fe.settled(),Bs=!Us.shouldConstrain(),js=Ss?vs:vs&&Bs,Ts=js&&!er.pointerDown();Ts&&Kt.stop();const Ys=ft.get()*Rs+Mt.get()*(1-Rs);Ct.set(Ys),Ss&&(qt.loop(Fe.direction()),Wt.loop()),nt.to(Ct.get()),Ts&&ys.emit("settle"),js||ys.emit("scroll")},dt=Animations(O,E,()=>pt(Ne),Fe=>Ve(Ne,Fe)),Rt=.68,It=it[et.get()],Xt=Vector1D(It),Ut=Vector1D(It),$t=Vector1D(It),Yt=Vector1D(It),zt=ScrollBody(Xt,$t,Ut,Yt,M,Rt),Zt=ScrollTarget$1(I,it,tt,yt,Yt),rr=ScrollTo(dt,et,qe,zt,Zt,Yt,S),or=ScrollProgress(yt),Jt=EventStore(),ur=SlidesInView(r,x,S,te),{slideRegistry:Ye}=SlideRegistry(Ge,ne,it,ut,Ke,ot),$e=SlideFocus(o,x,Ye,rr,zt,Jt,S,ge),Ne={ownerDocument:O,ownerWindow:E,eventHandler:S,containerRect:Qe,slideRects:Xe,animation:dt,axis:Ue,dragHandler:DragHandler(Ue,o,O,E,Yt,DragTracker(Ue,E),Xt,dt,rr,zt,Zt,et,S,Ze,F,V,se,Rt,ae),eventStore:Jt,percentOfView:Ze,index:et,indexPrevious:qe,limit:yt,location:Xt,offsetLocation:$t,previousLocation:Ut,options:y,resizeHandler:ResizeHandler(r,S,E,x,Ue,oe,Ae),scrollBody:zt,scrollBounds:ScrollBounds(yt,$t,Yt,zt,Ze),scrollLooper:ScrollLooper(tt,yt,$t,[Xt,$t,Ut,Yt]),scrollProgress:or,scrollSnapList:it.map(or.get),scrollSnaps:it,scrollTarget:Zt,scrollTo:rr,slideLooper:SlideLooper(Ue,Le,tt,at,rt,ze,it,$t,x),slideFocus:$e,slidesHandler:SlidesHandler(r,S,Oe),slidesInView:ur,slideIndexes:ot,slideRegistry:Ye,slidesToScroll:Ke,target:Yt,translate:Translate(Ue,r)};return Ne}function EventHandler(){let o={},r;function x(_){r=_}function O(_){return o[_]||[]}function E(_){return O(_).forEach(Q=>Q(r,_)),w}function y(_,Q){return o[_]=O(_).concat([Q]),w}function S(_,Q){return o[_]=O(_).filter(I=>I!==Q),w}function j(){o={}}const w={init:x,emit:E,off:S,on:y,clear:j};return w}const defaultOptions={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function OptionsHandler(o){function r(y,S){return objectsMergeDeep(y,S||{})}function x(y){const S=y.breakpoints||{},j=objectKeys(S).filter(w=>o.matchMedia(w).matches).map(w=>S[w]).reduce((w,_)=>r(w,_),{});return r(y,j)}function O(y){return y.map(S=>objectKeys(S.breakpoints||{})).reduce((S,j)=>S.concat(j),[]).map(o.matchMedia)}return{mergeOptions:r,optionsAtMedia:x,optionsMediaQueries:O}}function PluginsHandler(o){let r=[];function x(y,S){return r=S.filter(({options:j})=>o.optionsAtMedia(j).active!==!1),r.forEach(j=>j.init(y,o)),S.reduce((j,w)=>Object.assign(j,{[w.name]:w}),{})}function O(){r=r.filter(y=>y.destroy())}return{init:x,destroy:O}}function EmblaCarousel(o,r,x){const O=o.ownerDocument,E=O.defaultView,y=OptionsHandler(E),S=PluginsHandler(y),j=EventStore(),w=EventHandler(),{mergeOptions:_,optionsAtMedia:Q,optionsMediaQueries:I}=y,{on:M,off:F,emit:V}=w,te=Ue;let re=!1,se,ne=_(defaultOptions,EmblaCarousel.globalOptions),oe=_(ne),Oe=[],ae,ge,je;function Ae(){const{container:ot,slides:pt}=oe;ge=(isString$2(ot)?o.querySelector(ot):ot)||o.children[0];const dt=isString$2(pt)?ge.querySelectorAll(pt):pt;je=[].slice.call(dt||ge.children)}function Qe(ot){const pt=Engine(o,ge,je,O,E,ot,w);if(ot.loop&&!pt.slideLooper.canLoop()){const Ve=Object.assign({},ot,{loop:!1});return Qe(Ve)}return pt}function Xe(ot,pt){re||(ne=_(ne,ot),oe=Q(ne),Oe=pt||Oe,Ae(),se=Qe(oe),I([ne,...Oe.map(({options:Ve})=>Ve)]).forEach(Ve=>j.add(Ve,"change",Ue)),oe.active&&(se.translate.to(se.location.get()),se.animation.init(),se.slidesInView.init(),se.slideFocus.init(qe),se.eventHandler.init(qe),se.resizeHandler.init(qe),se.slidesHandler.init(qe),se.options.loop&&se.slideLooper.loop(),ge.offsetParent&&je.length&&se.dragHandler.init(qe),ae=S.init(qe,Oe)))}function Ue(ot,pt){const Ve=Ke();Le(),Xe(_({startIndex:Ve},ot),pt),w.emit("reInit")}function Le(){se.dragHandler.destroy(),se.eventStore.clear(),se.translate.clear(),se.slideLooper.clear(),se.resizeHandler.destroy(),se.slidesHandler.destroy(),se.slidesInView.destroy(),se.animation.destroy(),S.destroy(),j.clear()}function Ze(){re||(re=!0,j.clear(),Le(),w.emit("destroy"),w.clear())}function Be(ot,pt,Ve){!oe.active||re||(se.scrollBody.useBaseFriction().useDuration(pt===!0?0:oe.duration),se.scrollTo.index(ot,Ve||0))}function Ge(ot){const pt=se.index.add(1).get();Be(pt,ot,-1)}function We(ot){const pt=se.index.add(-1).get();Be(pt,ot,1)}function at(){return se.index.add(1).get()!==Ke()}function rt(){return se.index.add(-1).get()!==Ke()}function Je(){return se.scrollSnapList}function mt(){return se.scrollProgress.get(se.offsetLocation.get())}function Ke(){return se.index.get()}function ze(){return se.indexPrevious.get()}function He(){return se.slidesInView.get()}function tt(){return se.slidesInView.get(!1)}function ct(){return ae}function ut(){return se}function it(){return o}function yt(){return ge}function et(){return je}const qe={canScrollNext:at,canScrollPrev:rt,containerNode:yt,internalEngine:ut,destroy:Ze,off:F,on:M,emit:V,plugins:ct,previousScrollSnap:ze,reInit:te,rootNode:it,scrollNext:Ge,scrollPrev:We,scrollProgress:mt,scrollSnapList:Je,scrollTo:Be,selectedScrollSnap:Ke,slideNodes:et,slidesInView:He,slidesNotInView:tt};return Xe(r,x),setTimeout(()=>w.emit("init"),0),qe}EmblaCarousel.globalOptions=void 0;function useEmblaCarousel(o={},r=[]){const x=reactExports.useRef(o),O=reactExports.useRef(r),[E,y]=reactExports.useState(),[S,j]=reactExports.useState(),w=reactExports.useCallback(()=>{E&&E.reInit(x.current,O.current)},[E]);return reactExports.useEffect(()=>{areOptionsEqual(x.current,o)||(x.current=o,w())},[o,w]),reactExports.useEffect(()=>{arePluginsEqual(O.current,r)||(O.current=r,w())},[r,w]),reactExports.useEffect(()=>{if(canUseDOM()&&S){EmblaCarousel.globalOptions=useEmblaCarousel.globalOptions;const _=EmblaCarousel(S,x.current,O.current);return y(_),()=>_.destroy()}else y(void 0)},[S,y]),[j,E]}useEmblaCarousel.globalOptions=void 0;const CarouselContext=reactExports.createContext(null);function useCarousel(){const o=reactExports.useContext(CarouselContext);if(!o)throw new Error("useCarousel must be used within a <Carousel />");return o}const Carousel=reactExports.forwardRef(({orientation:o="horizontal",opts:r,setApi:x,plugins:O,className:E,children:y,...S},j)=>{const[w,_]=useEmblaCarousel({...r,axis:o==="horizontal"?"x":"y"},O),[Q,I]=reactExports.useState(!1),[M,F]=reactExports.useState(!1),V=reactExports.useCallback(ne=>{ne&&(I(ne.canScrollPrev()),F(ne.canScrollNext()))},[]),te=reactExports.useCallback(()=>{_==null||_.scrollPrev()},[_]),re=reactExports.useCallback(()=>{_==null||_.scrollNext()},[_]),se=reactExports.useCallback(ne=>{ne.key==="ArrowLeft"?(ne.preventDefault(),te()):ne.key==="ArrowRight"&&(ne.preventDefault(),re())},[te,re]);return reactExports.useEffect(()=>{!_||!x||x(_)},[_,x]),reactExports.useEffect(()=>{if(_)return V(_),_.on("reInit",V),_.on("select",V),()=>{_==null||_.off("select",V)}},[_,V]),jsxRuntimeExports.jsx(CarouselContext.Provider,{value:{carouselRef:w,api:_,opts:r,orientation:o||((r==null?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:te,scrollNext:re,canScrollPrev:Q,canScrollNext:M},children:jsxRuntimeExports.jsx("div",{ref:j,onKeyDownCapture:se,className:cn("relative",E),role:"region","aria-roledescription":"carousel",...S,children:y})})});Carousel.displayName="Carousel";const CarouselContent=reactExports.forwardRef(({className:o,...r},x)=>{const{carouselRef:O,orientation:E}=useCarousel();return jsxRuntimeExports.jsx("div",{ref:O,className:"overflow-hidden",children:jsxRuntimeExports.jsx("div",{ref:x,className:cn("flex",E==="horizontal"?"-ml-4":"-mt-4 flex-col",o),...r})})});CarouselContent.displayName="CarouselContent";const CarouselItem=reactExports.forwardRef(({className:o,...r},x)=>{const{orientation:O}=useCarousel();return jsxRuntimeExports.jsx("div",{ref:x,role:"group","aria-roledescription":"slide",className:cn("min-w-0 shrink-0 grow-0 basis-full",O==="horizontal"?"pl-4":"pt-4",o),...r})});CarouselItem.displayName="CarouselItem";const CarouselPrevious=reactExports.forwardRef(({className:o,variant:r="outline",size:x="icon",...O},E)=>{const{orientation:y,scrollPrev:S,canScrollPrev:j}=useCarousel();return jsxRuntimeExports.jsxs(Button,{ref:E,variant:r,size:x,className:cn("absolute  h-8 w-8 rounded-full",y==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",o),disabled:!j,onClick:S,...O,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous slide"})]})});CarouselPrevious.displayName="CarouselPrevious";const CarouselNext=reactExports.forwardRef(({className:o,variant:r="outline",size:x="icon",...O},E)=>{const{orientation:y,scrollNext:S,canScrollNext:j}=useCarousel();return jsxRuntimeExports.jsxs(Button,{ref:E,variant:r,size:x,className:cn("absolute h-8 w-8 rounded-full",y==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",o),disabled:!j,onClick:S,...O,children:[jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next slide"})]})});CarouselNext.displayName="CarouselNext";var isArray$1=Array.isArray,isArray_1=isArray$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,Symbol$4=root$3.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(o){var r=hasOwnProperty$3.call(o,symToStringTag$1),x=o[symToStringTag$1];try{o[symToStringTag$1]=void 0;var O=!0}catch{}var E=nativeObjectToString$1.call(o);return O&&(r?o[symToStringTag$1]=x:delete o[symToStringTag$1]),E}var _getRawTag=getRawTag$1,objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString$1(o){return nativeObjectToString.call(o)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$3(o){return o==null?o===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(o)?getRawTag(o):objectToString(o)}var _baseGetTag=baseGetTag$3;function isObjectLike$2(o){return o!=null&&typeof o=="object"}var isObjectLike_1=isObjectLike$2,baseGetTag$2=_baseGetTag,isObjectLike$1=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(o){return typeof o=="symbol"||isObjectLike$1(o)&&baseGetTag$2(o)==symbolTag}var isSymbol_1=isSymbol$1;function isObject$5(o){var r=typeof o;return o!=null&&(r=="object"||r=="function")}var isObject_1=isObject$5,baseGetTag$1=_baseGetTag,isObject$4=isObject_1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(o){if(!isObject$4(o))return!1;var r=baseGetTag$1(o);return r==funcTag||r==genTag||r==asyncTag||r==proxyTag}var isFunction_1=isFunction$2,root$2=_root,coreJsData$1=root$2["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var o=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function isMasked$1(o){return!!maskSrcKey&&maskSrcKey in o}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(o){if(o!=null){try{return funcToString$1.call(o)}catch{}try{return o+""}catch{}}return""}var _toSource=toSource$1,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$3=isObject_1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(o){if(!isObject$3(o)||isMasked(o))return!1;var r=isFunction$1(o)?reIsNative:reIsHostCtor;return r.test(toSource(o))}var _baseIsNative=baseIsNative$1;function getValue$1(o,r){return o==null?void 0:o[r]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$2(o,r){var x=getValue(o,r);return baseIsNative(x)?x:void 0}var _getNative=getNative$2,getNative$1=_getNative,nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(o){var r=this.has(o)&&delete this.__data__[o];return this.size-=r?1:0,r}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashGet$1(o){var r=this.__data__;if(nativeCreate$2){var x=r[o];return x===HASH_UNDEFINED$1?void 0:x}return hasOwnProperty$1.call(r,o)?r[o]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas$1(o){var r=this.__data__;return nativeCreate$1?r[o]!==void 0:hasOwnProperty.call(r,o)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(o,r){var x=this.__data__;return this.size+=this.has(o)?0:1,x[o]=nativeCreate&&r===void 0?HASH_UNDEFINED:r,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(o){var r=-1,x=o==null?0:o.length;for(this.clear();++r<x;){var O=o[r];this.set(O[0],O[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$1(o,r){return o===r||o!==o&&r!==r}var eq_1=eq$1,eq=eq_1;function assocIndexOf$4(o,r){for(var x=o.length;x--;)if(eq(o[x][0],r))return x;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(o){var r=this.__data__,x=assocIndexOf$3(r,o);if(x<0)return!1;var O=r.length-1;return x==O?r.pop():splice.call(r,x,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(o){var r=this.__data__,x=assocIndexOf$2(r,o);return x<0?void 0:r[x][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(o){return assocIndexOf$1(this.__data__,o)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(o,r){var x=this.__data__,O=assocIndexOf(x,o);return O<0?(++this.size,x.push([o,r])):x[O][1]=r,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(o){var r=-1,x=o==null?0:o.length;for(this.clear();++r<x;){var O=o[r];this.set(O[0],O[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative=_getNative,root$1=_root,Map$2=getNative(root$1,"Map"),_Map=Map$2,Hash=_Hash,ListCache=_ListCache,Map$1=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(o){var r=typeof o;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?o!=="__proto__":o===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(o,r){var x=o.__data__;return isKeyable(r)?x[typeof r=="string"?"string":"hash"]:x.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(o){var r=getMapData$3(this,o).delete(o);return this.size-=r?1:0,r}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(o){return getMapData$2(this,o).get(o)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(o){return getMapData$1(this,o).has(o)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(o,r){var x=getMapData(this,o),O=x.size;return x.set(o,r),this.size+=x.size==O?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(o){var r=-1,x=o==null?0:o.length;for(this.clear();++r<x;){var O=o[r];this.set(O[0],O[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$1(o,r){if(typeof o!="function"||r!=null&&typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var x=function(){var O=arguments,E=r?r.apply(this,O):O[0],y=x.cache;if(y.has(E))return y.get(E);var S=o.apply(this,O);return x.cache=y.set(E,S)||y,S};return x.cache=new(memoize$1.Cache||MapCache),x}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(o){var r=memoize(o,function(O){return x.size===MAX_MEMOIZE_SIZE&&x.clear(),O}),x=r.cache;return r}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g;memoizeCapped(function(o){var r=[];return o.charCodeAt(0)===46&&r.push(""),o.replace(rePropName,function(x,O,E,y){r.push(E?y.replace(reEscapeChar,"$1"):O||x)}),r});var Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0;symbolProto&&symbolProto.toString;var baseGetTag=_baseGetTag,isArray=isArray_1,isObjectLike=isObjectLike_1,stringTag="[object String]";function isString(o){return typeof o=="string"||!isArray(o)&&isObjectLike(o)&&baseGetTag(o)==stringTag}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v(o){if(typeof o=="object"&&o!==null){var r=o.$$typeof;switch(r){case b:switch(o=o.type,o){case d:case f:case e:case m$1:case n:return o;default:switch(o=o&&o.$$typeof,o){case k$2:case h:case l:case q:case p$1:case g:return o;default:return r}}case c:return r}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(o){return v(o)===h};reactIs_production_min.isContextProvider=function(o){return v(o)===g};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b};reactIs_production_min.isForwardRef=function(o){return v(o)===l};reactIs_production_min.isFragment=function(o){return v(o)===d};reactIs_production_min.isLazy=function(o){return v(o)===q};reactIs_production_min.isMemo=function(o){return v(o)===p$1};reactIs_production_min.isPortal=function(o){return v(o)===c};reactIs_production_min.isProfiler=function(o){return v(o)===f};reactIs_production_min.isStrictMode=function(o){return v(o)===e};reactIs_production_min.isSuspense=function(o){return v(o)===m$1};reactIs_production_min.isSuspenseList=function(o){return v(o)===n};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d||o===f||o===e||o===m$1||o===n||o===t$1||typeof o=="object"&&o!==null&&(o.$$typeof===q||o.$$typeof===p$1||o.$$typeof===g||o.$$typeof===h||o.$$typeof===l||o.$$typeof===u$2||o.getModuleId!==void 0)};reactIs_production_min.typeOf=v;var isPercent=function o(r){return isString$1(r)&&r.indexOf("%")===r.length-1},getDisplayName=function o(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},warn=function o(r,x){for(var O=arguments.length,E=new Array(O>2?O-2:0),y=2;y<O;y++)E[y-2]=arguments[y]},root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(o){for(var r=o.length;r--&&reWhitespace.test(o.charAt(r)););return r}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(o){return o&&o.slice(0,trimmedEndIndex(o)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(o){if(typeof o=="number")return o;if(isSymbol(o))return NAN;if(isObject$2(o)){var r=typeof o.valueOf=="function"?o.valueOf():o;o=isObject$2(r)?r+"":r}if(typeof o!="string")return o===0?o:+o;o=baseTrim(o);var x=reIsBinary.test(o);return x||reIsOctal.test(o)?freeParseInt(o.slice(2),x?2:8):reIsBadHex.test(o)?NAN:+o}var toNumber_1=toNumber$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2(o,r,x){var O,E,y,S,j,w,_=0,Q=!1,I=!1,M=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT$1);r=toNumber(r)||0,isObject$1(x)&&(Q=!!x.leading,I="maxWait"in x,y=I?nativeMax(toNumber(x.maxWait)||0,r):y,M="trailing"in x?!!x.trailing:M);function F(ge){var je=O,Ae=E;return O=E=void 0,_=ge,S=o.apply(Ae,je),S}function V(ge){return _=ge,j=setTimeout(se,r),Q?F(ge):S}function te(ge){var je=ge-w,Ae=ge-_,Qe=r-je;return I?nativeMin(Qe,y-Ae):Qe}function re(ge){var je=ge-w,Ae=ge-_;return w===void 0||je>=r||je<0||I&&Ae>=y}function se(){var ge=now();if(re(ge))return ne(ge);j=setTimeout(se,te(ge))}function ne(ge){return j=void 0,M&&O?F(ge):(O=E=void 0,S)}function oe(){j!==void 0&&clearTimeout(j),_=0,O=w=E=j=void 0}function Oe(){return j===void 0?S:ne(now())}function ae(){var ge=now(),je=re(ge);if(O=arguments,E=this,w=ge,je){if(j===void 0)return V(w);if(I)return clearTimeout(j),j=setTimeout(se,r),F(w)}return j===void 0&&(j=setTimeout(se,r)),S}return ae.cancel=oe,ae.flush=Oe,ae}var debounce_1=debounce$2,debounce$1=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(o,r,x){var O=!0,E=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(x)&&(O="leading"in x?!!x.leading:O,E="trailing"in x?!!x.trailing:E),debounce$1(o,r,{leading:O,maxWait:r,trailing:E})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(o)}function ownKeys(o,r){var x=Object.keys(o);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(o);r&&(O=O.filter(function(E){return Object.getOwnPropertyDescriptor(o,E).enumerable})),x.push.apply(x,O)}return x}function _objectSpread(o){for(var r=1;r<arguments.length;r++){var x=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(x),!0).forEach(function(O){_defineProperty(o,O,x[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(x)):ownKeys(Object(x)).forEach(function(O){Object.defineProperty(o,O,Object.getOwnPropertyDescriptor(x,O))})}return o}function _defineProperty(o,r,x){return r=_toPropertyKey(r),r in o?Object.defineProperty(o,r,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[r]=x,o}function _toPropertyKey(o){var r=_toPrimitive(o,"string");return _typeof(r)=="symbol"?r:r+""}function _toPrimitive(o,r){if(_typeof(o)!="object"||!o)return o;var x=o[Symbol.toPrimitive];if(x!==void 0){var O=x.call(o,r);if(_typeof(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function _slicedToArray(o,r){return _arrayWithHoles(o)||_iterableToArrayLimit(o,r)||_unsupportedIterableToArray(o,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(o,r){if(o){if(typeof o=="string")return _arrayLikeToArray(o,r);var x=Object.prototype.toString.call(o).slice(8,-1);if(x==="Object"&&o.constructor&&(x=o.constructor.name),x==="Map"||x==="Set")return Array.from(o);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return _arrayLikeToArray(o,r)}}function _arrayLikeToArray(o,r){(r==null||r>o.length)&&(r=o.length);for(var x=0,O=new Array(r);x<r;x++)O[x]=o[x];return O}function _iterableToArrayLimit(o,r){var x=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(x!=null){var O,E,y,S,j=[],w=!0,_=!1;try{if(y=(x=x.call(o)).next,r!==0)for(;!(w=(O=y.call(x)).done)&&(j.push(O.value),j.length!==r);w=!0);}catch(Q){_=!0,E=Q}finally{try{if(!w&&x.return!=null&&(S=x.return(),Object(S)!==S))return}finally{if(_)throw E}}return j}}function _arrayWithHoles(o){if(Array.isArray(o))return o}var ResponsiveContainer=reactExports.forwardRef(function(o,r){var x=o.aspect,O=o.initialDimension,E=O===void 0?{width:-1,height:-1}:O,y=o.width,S=y===void 0?"100%":y,j=o.height,w=j===void 0?"100%":j,_=o.minWidth,Q=_===void 0?0:_,I=o.minHeight,M=o.maxHeight,F=o.children,V=o.debounce,te=V===void 0?0:V,re=o.id,se=o.className,ne=o.onResize,oe=o.style,Oe=oe===void 0?{}:oe,ae=reactExports.useRef(null),ge=reactExports.useRef();ge.current=ne,reactExports.useImperativeHandle(r,function(){return Object.defineProperty(ae.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),ae.current},configurable:!0})});var je=reactExports.useState({containerWidth:E.width,containerHeight:E.height}),Ae=_slicedToArray(je,2),Qe=Ae[0],Xe=Ae[1],Ue=reactExports.useCallback(function(Ze,Be){Xe(function(Ge){var We=Math.round(Ze),at=Math.round(Be);return Ge.containerWidth===We&&Ge.containerHeight===at?Ge:{containerWidth:We,containerHeight:at}})},[]);reactExports.useEffect(function(){var Ze=function(Je){var mt,Ke=Je[0].contentRect,ze=Ke.width,He=Ke.height;Ue(ze,He),(mt=ge.current)===null||mt===void 0||mt.call(ge,ze,He)};te>0&&(Ze=throttle$1(Ze,te,{trailing:!0,leading:!1}));var Be=new ResizeObserver(Ze),Ge=ae.current.getBoundingClientRect(),We=Ge.width,at=Ge.height;return Ue(We,at),Be.observe(ae.current),function(){Be.disconnect()}},[Ue,te]);var Le=reactExports.useMemo(function(){var Ze=Qe.containerWidth,Be=Qe.containerHeight;if(Ze<0||Be<0)return null;warn(isPercent(S)||isPercent(w),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,S,w),warn(!x||x>0,"The aspect(%s) must be greater than zero.",x);var Ge=isPercent(S)?Ze:S,We=isPercent(w)?Be:w;x&&x>0&&(Ge?We=Ge/x:We&&(Ge=We*x),M&&We>M&&(We=M)),warn(Ge>0||We>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Ge,We,S,w,Q,I,x);var at=!Array.isArray(F)&&getDisplayName(F.type).endsWith("Chart");return React$1.Children.map(F,function(rt){return React$1.isValidElement(rt)?reactExports.cloneElement(rt,_objectSpread({width:Ge,height:We},at?{style:_objectSpread({height:"100%",width:"100%",maxHeight:We,maxWidth:Ge},rt.props.style)}:{})):rt})},[x,F,w,M,I,Q,Qe,S]);return React$1.createElement("div",{id:re?"".concat(re):void 0,className:clsx("recharts-responsive-container",se),style:_objectSpread(_objectSpread({},Oe),{},{width:S,height:w,minWidth:Q,minHeight:I,maxHeight:M}),ref:ae},Le)});const ChartContext=reactExports.createContext(null);function useChart(){const o=reactExports.useContext(ChartContext);if(!o)throw new Error("useChart must be used within a <ChartContainer />");return o}const ChartContainer=reactExports.forwardRef(({id:o,className:r,children:x,config:O,...E},y)=>{const S=reactExports.useId(),j=`chart-${o||S.replace(/:/g,"")}`;return jsxRuntimeExports.jsx(ChartContext.Provider,{value:{config:O},children:jsxRuntimeExports.jsxs("div",{"data-chart":j,ref:y,className:cn("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...E,children:[jsxRuntimeExports.jsx(ChartStyle,{id:j,config:O}),jsxRuntimeExports.jsx(ResponsiveContainer,{children:x})]})})});ChartContainer.displayName="Chart";const ChartStyle=({id:o,config:r})=>{const x=Object.entries(r).filter(([E,y])=>y.theme||y.color);if(!x.length)return null;const O=x.reduce((E,[y,S])=>{var w;const j=((w=S.theme)==null?void 0:w.light)||S.color;return j&&(E[`--color-${y}`]=j),E},{});return jsxRuntimeExports.jsx("div",{"data-chart":o,style:O,className:"chart-container"})},ChartTooltipContent=reactExports.forwardRef(({active:o,payload:r,className:x,indicator:O="dot",hideLabel:E=!1,hideIndicator:y=!1,label:S,labelFormatter:j,labelClassName:w,formatter:_,color:Q,nameKey:I,labelKey:M},F)=>{const{config:V}=useChart(),te=reactExports.useMemo(()=>{var ae;if(E||!(r!=null&&r.length))return null;const[se]=r,ne=`${M||se.dataKey||se.name||"value"}`,oe=getPayloadConfigFromPayload(V,se,ne),Oe=!M&&typeof S=="string"?((ae=V[S])==null?void 0:ae.label)||S:oe==null?void 0:oe.label;return j?jsxRuntimeExports.jsx("div",{className:cn("font-medium",w),children:j(Oe,r)}):Oe?jsxRuntimeExports.jsx("div",{className:cn("font-medium",w),children:Oe}):null},[S,j,r,E,w,V,M]);if(!o||!(r!=null&&r.length))return null;const re=r.length===1&&O!=="dot";return jsxRuntimeExports.jsxs("div",{ref:F,className:cn("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",x),children:[re?null:te,jsxRuntimeExports.jsx("div",{className:"grid gap-1.5",children:r.map((se,ne)=>{const oe=`${I||se.name||se.dataKey||"value"}`,Oe=getPayloadConfigFromPayload(V,se,oe),ae=Q||se.payload.fill||se.color;return jsxRuntimeExports.jsx("div",{className:cn("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",O==="dot"&&"items-center"),children:_&&(se==null?void 0:se.value)!==void 0&&se.name?_(se.value,se.name,se,ne,se.payload):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Oe!=null&&Oe.icon?jsxRuntimeExports.jsx(Oe.icon,{}):!y&&jsxRuntimeExports.jsx("div",{className:cn("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":O==="dot","w-1":O==="line","w-0 border-[1.5px] border-dashed bg-transparent":O==="dashed","my-0.5":re&&O==="dashed"}),style:{"--color-bg":ae,"--color-border":ae}}),jsxRuntimeExports.jsxs("div",{className:cn("flex flex-1 justify-between leading-none",re?"items-end":"items-center"),children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1.5",children:[re?te:null,jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:(Oe==null?void 0:Oe.label)||se.name})]}),se.value&&jsxRuntimeExports.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:se.value.toLocaleString()})]})]})},se.dataKey)})})]})});ChartTooltipContent.displayName="ChartTooltip";const ChartLegendContent=reactExports.forwardRef(({className:o,hideIcon:r=!1,payload:x,verticalAlign:O="bottom",nameKey:E},y)=>{const{config:S}=useChart();return x!=null&&x.length?jsxRuntimeExports.jsx("div",{ref:y,className:cn("flex items-center justify-center gap-4",O==="top"?"pb-3":"pt-3",o),children:x.map(j=>{const w=`${E||j.dataKey||"value"}`,_=getPayloadConfigFromPayload(S,j,w);return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[_!=null&&_.icon&&!r?jsxRuntimeExports.jsx(_.icon,{}):jsxRuntimeExports.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:j.color}}),_==null?void 0:_.label]},j.value)})}):null});ChartLegendContent.displayName="ChartLegend";function getPayloadConfigFromPayload(o,r,x){if(typeof r!="object"||r===null)return;const O="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let E=x;return x in r&&typeof r[x]=="string"?E=r[x]:O&&x in O&&typeof O[x]=="string"&&(E=O[x]),E in o?o[E]:o[x]}function usePrevious(o){const r=reactExports.useRef({value:o,previous:o});return reactExports.useMemo(()=>(r.current.value!==o&&(r.current.previous=r.current.value,r.current.value=o),r.current.previous),[o])}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(o){const{__scopeCheckbox:r,checked:x,children:O,defaultChecked:E,disabled:y,form:S,name:j,onCheckedChange:w,required:_,value:Q="on",internal_do_not_use_render:I}=o,[M,F]=useControllableState({prop:x,defaultProp:E??!1,onChange:w,caller:CHECKBOX_NAME}),[V,te]=reactExports.useState(null),[re,se]=reactExports.useState(null),ne=reactExports.useRef(!1),oe=V?!!S||!!V.closest("form"):!0,Oe={checked:M,disabled:y,setChecked:F,control:V,setControl:te,name:j,form:S,value:Q,hasConsumerStoppedPropagationRef:ne,required:_,defaultChecked:isIndeterminate(E)?!1:E,isFormControl:oe,bubbleInput:re,setBubbleInput:se};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:r,...Oe,children:isFunction(I)?I(Oe):O})}var TRIGGER_NAME$6="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:o,onKeyDown:r,onClick:x,...O},E)=>{const{control:y,value:S,disabled:j,checked:w,required:_,setControl:Q,setChecked:I,hasConsumerStoppedPropagationRef:M,isFormControl:F,bubbleInput:V}=useCheckboxContext(TRIGGER_NAME$6,o),te=useComposedRefs$1(E,Q),re=reactExports.useRef(w);return reactExports.useEffect(()=>{const se=y==null?void 0:y.form;if(se){const ne=()=>I(re.current);return se.addEventListener("reset",ne),()=>se.removeEventListener("reset",ne)}},[y,I]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(w)?"mixed":w,"aria-required":_,"data-state":getState$2(w),"data-disabled":j?"":void 0,disabled:j,value:S,...O,ref:te,onKeyDown:composeEventHandlers(r,se=>{se.key==="Enter"&&se.preventDefault()}),onClick:composeEventHandlers(x,se=>{I(ne=>isIndeterminate(ne)?!0:!ne),V&&F&&(M.current=se.isPropagationStopped(),M.current||se.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$6;var Checkbox$1=reactExports.forwardRef((o,r)=>{const{__scopeCheckbox:x,name:O,checked:E,defaultChecked:y,required:S,disabled:j,value:w,onCheckedChange:_,form:Q,...I}=o;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:x,checked:E,defaultChecked:y,disabled:j,required:S,onCheckedChange:_,name:O,form:Q,value:w,internal_do_not_use_render:({isFormControl:M})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...I,ref:r,__scopeCheckbox:x}),M&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:x})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$5="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((o,r)=>{const{__scopeCheckbox:x,forceMount:O,...E}=o,y=useCheckboxContext(INDICATOR_NAME$5,x);return jsxRuntimeExports.jsx(Presence,{present:O||isIndeterminate(y.checked)||y.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$2(y.checked),"data-disabled":y.disabled?"":void 0,...E,ref:r,style:{pointerEvents:"none",...o.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$5;var BUBBLE_INPUT_NAME$4="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:o,...r},x)=>{const{control:O,hasConsumerStoppedPropagationRef:E,checked:y,defaultChecked:S,required:j,disabled:w,name:_,value:Q,form:I,bubbleInput:M,setBubbleInput:F}=useCheckboxContext(BUBBLE_INPUT_NAME$4,o),V=useComposedRefs$1(x,F),te=usePrevious(y),re=useSize(O);reactExports.useEffect(()=>{const ne=M;if(!ne)return;const oe=window.HTMLInputElement.prototype,ae=Object.getOwnPropertyDescriptor(oe,"checked").set,ge=!E.current;if(te!==y&&ae){const je=new Event("click",{bubbles:ge});ne.indeterminate=isIndeterminate(y),ae.call(ne,isIndeterminate(y)?!1:y),ne.dispatchEvent(je)}},[M,te,y,E]);const se=reactExports.useRef(isIndeterminate(y)?!1:y);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:S??se.current,required:j,disabled:w,name:_,value:Q,form:I,...r,tabIndex:-1,ref:V,style:{...r.style,...re,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$4;function isFunction(o){return typeof o=="function"}function isIndeterminate(o){return o==="indeterminate"}function getState$2(o){return isIndeterminate(o)?"indeterminate":o?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:x,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),...r,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;var U$1=1,Y$2=.9,H=.8,J=.17,p=.1,u$1=.999,$$1=.9999,k$1=.99,m=/[\\\/_+.#"@\[\(\{&]/,B$1=/[\\\/_+.#"@\[\(\{&]/g,K$1=/[\s-]/,X=/[\s-]/g;function G(o,r,x,O,E,y,S){if(y===r.length)return E===o.length?U$1:k$1;var j=`${E},${y}`;if(S[j]!==void 0)return S[j];for(var w=O.charAt(y),_=x.indexOf(w,E),Q=0,I,M,F,V;_>=0;)I=G(o,r,x,O,_+1,y+1,S),I>Q&&(_===E?I*=U$1:m.test(o.charAt(_-1))?(I*=H,F=o.slice(E,_-1).match(B$1),F&&E>0&&(I*=Math.pow(u$1,F.length))):K$1.test(o.charAt(_-1))?(I*=Y$2,V=o.slice(E,_-1).match(X),V&&E>0&&(I*=Math.pow(u$1,V.length))):(I*=J,E>0&&(I*=Math.pow(u$1,_-E))),o.charAt(_)!==r.charAt(y)&&(I*=$$1)),(I<p&&x.charAt(_-1)===O.charAt(y+1)||O.charAt(y+1)===O.charAt(y)&&x.charAt(_-1)!==O.charAt(y))&&(M=G(o,r,x,O,_+1,y+2,S),M*p>I&&(I=M*p)),I>Q&&(Q=I),_=x.indexOf(w,_+1);return S[j]=Q,Q}function D(o){return o.toLowerCase().replace(X," ")}function W(o,r,x){return o=x&&x.length>0?`${o+" "+x.join(" ")}`:o,G(o,r,D(o),D(r),0,0,{})}var N='[cmdk-group=""]',Y$1='[cmdk-group-items=""]',be='[cmdk-group-heading=""]',le='[cmdk-item=""]',ce=`${le}:not([aria-disabled="true"])`,Z$1="cmdk-item-select",T="data-value",Re=(o,r,x)=>W(o,r,x),ue=reactExports.createContext(void 0),K=()=>reactExports.useContext(ue),de=reactExports.createContext(void 0),ee=()=>reactExports.useContext(de),fe=reactExports.createContext(void 0),me=reactExports.forwardRef((o,r)=>{let x=L$1(()=>{var ze,He;return{search:"",value:(He=(ze=o.value)!=null?ze:o.defaultValue)!=null?He:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),O=L$1(()=>new Set),E=L$1(()=>new Map),y=L$1(()=>new Map),S=L$1(()=>new Set),j=pe(o),{label:w,children:_,value:Q,onValueChange:I,filter:M,shouldFilter:F,loop:V,disablePointerSelection:te=!1,vimBindings:re=!0,...se}=o,ne=useId$1(),oe=useId$1(),Oe=useId$1(),ae=reactExports.useRef(null),ge=ke();k(()=>{if(Q!==void 0){let ze=Q.trim();x.current.value=ze,je.emit()}},[Q]),k(()=>{ge(6,Ze)},[]);let je=reactExports.useMemo(()=>({subscribe:ze=>(S.current.add(ze),()=>S.current.delete(ze)),snapshot:()=>x.current,setState:(ze,He,tt)=>{var ct,ut,it,yt;if(!Object.is(x.current[ze],He)){if(x.current[ze]=He,ze==="search")Le(),Xe(),ge(1,Ue);else if(ze==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let et=document.getElementById(Oe);et?et.focus():(ct=document.getElementById(ne))==null||ct.focus()}if(ge(7,()=>{var et;x.current.selectedItemId=(et=Be())==null?void 0:et.id,je.emit()}),tt||ge(5,Ze),((ut=j.current)==null?void 0:ut.value)!==void 0){let et=He??"";(yt=(it=j.current).onValueChange)==null||yt.call(it,et);return}}je.emit()}},emit:()=>{S.current.forEach(ze=>ze())}}),[]),Ae=reactExports.useMemo(()=>({value:(ze,He,tt)=>{var ct;He!==((ct=y.current.get(ze))==null?void 0:ct.value)&&(y.current.set(ze,{value:He,keywords:tt}),x.current.filtered.items.set(ze,Qe(He,tt)),ge(2,()=>{Xe(),je.emit()}))},item:(ze,He)=>(O.current.add(ze),He&&(E.current.has(He)?E.current.get(He).add(ze):E.current.set(He,new Set([ze]))),ge(3,()=>{Le(),Xe(),x.current.value||Ue(),je.emit()}),()=>{y.current.delete(ze),O.current.delete(ze),x.current.filtered.items.delete(ze);let tt=Be();ge(4,()=>{Le(),(tt==null?void 0:tt.getAttribute("id"))===ze&&Ue(),je.emit()})}),group:ze=>(E.current.has(ze)||E.current.set(ze,new Set),()=>{y.current.delete(ze),E.current.delete(ze)}),filter:()=>j.current.shouldFilter,label:w||o["aria-label"],getDisablePointerSelection:()=>j.current.disablePointerSelection,listId:ne,inputId:Oe,labelId:oe,listInnerRef:ae}),[]);function Qe(ze,He){var tt,ct;let ut=(ct=(tt=j.current)==null?void 0:tt.filter)!=null?ct:Re;return ze?ut(ze,x.current.search,He):0}function Xe(){if(!x.current.search||j.current.shouldFilter===!1)return;let ze=x.current.filtered.items,He=[];x.current.filtered.groups.forEach(ct=>{let ut=E.current.get(ct),it=0;ut.forEach(yt=>{let et=ze.get(yt);it=Math.max(et,it)}),He.push([ct,it])});let tt=ae.current;Ge().sort((ct,ut)=>{var it,yt;let et=ct.getAttribute("id"),qe=ut.getAttribute("id");return((it=ze.get(qe))!=null?it:0)-((yt=ze.get(et))!=null?yt:0)}).forEach(ct=>{let ut=ct.closest(Y$1);ut?ut.appendChild(ct.parentElement===ut?ct:ct.closest(`${Y$1} > *`)):tt.appendChild(ct.parentElement===tt?ct:ct.closest(`${Y$1} > *`))}),He.sort((ct,ut)=>ut[1]-ct[1]).forEach(ct=>{var ut;let it=(ut=ae.current)==null?void 0:ut.querySelector(`${N}[${T}="${encodeURIComponent(ct[0])}"]`);it==null||it.parentElement.appendChild(it)})}function Ue(){let ze=Ge().find(tt=>tt.getAttribute("aria-disabled")!=="true"),He=ze==null?void 0:ze.getAttribute(T);je.setState("value",He||void 0)}function Le(){var ze,He,tt,ct;if(!x.current.search||j.current.shouldFilter===!1){x.current.filtered.count=O.current.size;return}x.current.filtered.groups=new Set;let ut=0;for(let it of O.current){let yt=(He=(ze=y.current.get(it))==null?void 0:ze.value)!=null?He:"",et=(ct=(tt=y.current.get(it))==null?void 0:tt.keywords)!=null?ct:[],qe=Qe(yt,et);x.current.filtered.items.set(it,qe),qe>0&&ut++}for(let[it,yt]of E.current)for(let et of yt)if(x.current.filtered.items.get(et)>0){x.current.filtered.groups.add(it);break}x.current.filtered.count=ut}function Ze(){var ze,He,tt;let ct=Be();ct&&(((ze=ct.parentElement)==null?void 0:ze.firstChild)===ct&&((tt=(He=ct.closest(N))==null?void 0:He.querySelector(be))==null||tt.scrollIntoView({block:"nearest"})),ct.scrollIntoView({block:"nearest"}))}function Be(){var ze;return(ze=ae.current)==null?void 0:ze.querySelector(`${le}[aria-selected="true"]`)}function Ge(){var ze;return Array.from(((ze=ae.current)==null?void 0:ze.querySelectorAll(ce))||[])}function We(ze){let He=Ge()[ze];He&&je.setState("value",He.getAttribute(T))}function at(ze){var He;let tt=Be(),ct=Ge(),ut=ct.findIndex(yt=>yt===tt),it=ct[ut+ze];(He=j.current)!=null&&He.loop&&(it=ut+ze<0?ct[ct.length-1]:ut+ze===ct.length?ct[0]:ct[ut+ze]),it&&je.setState("value",it.getAttribute(T))}function rt(ze){let He=Be(),tt=He==null?void 0:He.closest(N),ct;for(;tt&&!ct;)tt=ze>0?we(tt,N):De(tt,N),ct=tt==null?void 0:tt.querySelector(ce);ct?je.setState("value",ct.getAttribute(T)):at(ze)}let Je=()=>We(Ge().length-1),mt=ze=>{ze.preventDefault(),ze.metaKey?Je():ze.altKey?rt(1):at(1)},Ke=ze=>{ze.preventDefault(),ze.metaKey?We(0):ze.altKey?rt(-1):at(-1)};return reactExports.createElement(Primitive.div,{ref:r,tabIndex:-1,...se,"cmdk-root":"",onKeyDown:ze=>{var He;(He=se.onKeyDown)==null||He.call(se,ze);let tt=ze.nativeEvent.isComposing||ze.keyCode===229;if(!(ze.defaultPrevented||tt))switch(ze.key){case"n":case"j":{re&&ze.ctrlKey&&mt(ze);break}case"ArrowDown":{mt(ze);break}case"p":case"k":{re&&ze.ctrlKey&&Ke(ze);break}case"ArrowUp":{Ke(ze);break}case"Home":{ze.preventDefault(),We(0);break}case"End":{ze.preventDefault(),Je();break}case"Enter":{ze.preventDefault();let ct=Be();if(ct){let ut=new Event(Z$1);ct.dispatchEvent(ut)}}}}},reactExports.createElement("label",{"cmdk-label":"",htmlFor:Ae.inputId,id:Ae.labelId,style:Te},w),B(o,ze=>reactExports.createElement(de.Provider,{value:je},reactExports.createElement(ue.Provider,{value:Ae},ze))))}),he=reactExports.forwardRef((o,r)=>{var x,O;let E=useId$1(),y=reactExports.useRef(null),S=reactExports.useContext(fe),j=K(),w=pe(o),_=(O=(x=w.current)==null?void 0:x.forceMount)!=null?O:S==null?void 0:S.forceMount;k(()=>{if(!_)return j.item(E,S==null?void 0:S.id)},[_]);let Q=ve(E,y,[o.value,o.children,y],o.keywords),I=ee(),M=P(ge=>ge.value&&ge.value===Q.current),F=P(ge=>_||j.filter()===!1?!0:ge.search?ge.filtered.items.get(E)>0:!0);reactExports.useEffect(()=>{let ge=y.current;if(!(!ge||o.disabled))return ge.addEventListener(Z$1,V),()=>ge.removeEventListener(Z$1,V)},[F,o.onSelect,o.disabled]);function V(){var ge,je;te(),(je=(ge=w.current).onSelect)==null||je.call(ge,Q.current)}function te(){I.setState("value",Q.current,!0)}if(!F)return null;let{disabled:re,value:se,onSelect:ne,forceMount:oe,keywords:Oe,...ae}=o;return reactExports.createElement(Primitive.div,{ref:composeRefs$1(y,r),...ae,id:E,"cmdk-item":"",role:"option","aria-disabled":!!re,"aria-selected":!!M,"data-disabled":!!re,"data-selected":!!M,onPointerMove:re||j.getDisablePointerSelection()?void 0:te,onClick:re?void 0:V},o.children)}),Ee=reactExports.forwardRef((o,r)=>{let{heading:x,children:O,forceMount:E,...y}=o,S=useId$1(),j=reactExports.useRef(null),w=reactExports.useRef(null),_=useId$1(),Q=K(),I=P(F=>E||Q.filter()===!1?!0:F.search?F.filtered.groups.has(S):!0);k(()=>Q.group(S),[]),ve(S,j,[o.value,o.heading,w]);let M=reactExports.useMemo(()=>({id:S,forceMount:E}),[E]);return reactExports.createElement(Primitive.div,{ref:composeRefs$1(j,r),...y,"cmdk-group":"",role:"presentation",hidden:I?void 0:!0},x&&reactExports.createElement("div",{ref:w,"cmdk-group-heading":"","aria-hidden":!0,id:_},x),B(o,F=>reactExports.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":x?_:void 0},reactExports.createElement(fe.Provider,{value:M},F))))}),ye=reactExports.forwardRef((o,r)=>{let{alwaysRender:x,...O}=o,E=reactExports.useRef(null),y=P(S=>!S.search);return!x&&!y?null:reactExports.createElement(Primitive.div,{ref:composeRefs$1(E,r),...O,"cmdk-separator":"",role:"separator"})}),Se=reactExports.forwardRef((o,r)=>{let{onValueChange:x,...O}=o,E=o.value!=null,y=ee(),S=P(_=>_.search),j=P(_=>_.selectedItemId),w=K();return reactExports.useEffect(()=>{o.value!=null&&y.setState("search",o.value)},[o.value]),reactExports.createElement(Primitive.input,{ref:r,...O,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":w.listId,"aria-labelledby":w.labelId,"aria-activedescendant":j,id:w.inputId,type:"text",value:E?o.value:S,onChange:_=>{E||y.setState("search",_.target.value),x==null||x(_.target.value)}})}),Ce=reactExports.forwardRef((o,r)=>{let{children:x,label:O="Suggestions",...E}=o,y=reactExports.useRef(null),S=reactExports.useRef(null),j=P(_=>_.selectedItemId),w=K();return reactExports.useEffect(()=>{if(S.current&&y.current){let _=S.current,Q=y.current,I,M=new ResizeObserver(()=>{I=requestAnimationFrame(()=>{let F=_.offsetHeight;Q.style.setProperty("--cmdk-list-height",F.toFixed(1)+"px")})});return M.observe(_),()=>{cancelAnimationFrame(I),M.unobserve(_)}}},[]),reactExports.createElement(Primitive.div,{ref:composeRefs$1(y,r),...E,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":j,"aria-label":O,id:w.listId},B(o,_=>reactExports.createElement("div",{ref:composeRefs$1(S,w.listInnerRef),"cmdk-list-sizer":""},_)))}),xe=reactExports.forwardRef((o,r)=>{let{open:x,onOpenChange:O,overlayClassName:E,contentClassName:y,container:S,...j}=o;return reactExports.createElement(Root$b,{open:x,onOpenChange:O},reactExports.createElement(Portal$5,{container:S},reactExports.createElement(Overlay$1,{"cmdk-overlay":"",className:E}),reactExports.createElement(Content$4,{"aria-label":o.label,"cmdk-dialog":"",className:y},reactExports.createElement(me,{ref:r,...j}))))}),Ie=reactExports.forwardRef((o,r)=>P(x=>x.filtered.count===0)?reactExports.createElement(Primitive.div,{ref:r,...o,"cmdk-empty":"",role:"presentation"}):null),Pe=reactExports.forwardRef((o,r)=>{let{progress:x,children:O,label:E="Loading...",...y}=o;return reactExports.createElement(Primitive.div,{ref:r,...y,"cmdk-loading":"",role:"progressbar","aria-valuenow":x,"aria-valuemin":0,"aria-valuemax":100,"aria-label":E},B(o,S=>reactExports.createElement("div",{"aria-hidden":!0},S)))}),_e=Object.assign(me,{List:Ce,Item:he,Input:Se,Group:Ee,Separator:ye,Dialog:xe,Empty:Ie,Loading:Pe});function we(o,r){let x=o.nextElementSibling;for(;x;){if(x.matches(r))return x;x=x.nextElementSibling}}function De(o,r){let x=o.previousElementSibling;for(;x;){if(x.matches(r))return x;x=x.previousElementSibling}}function pe(o){let r=reactExports.useRef(o);return k(()=>{r.current=o}),r}var k=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function L$1(o){let r=reactExports.useRef();return r.current===void 0&&(r.current=o()),r}function P(o){let r=ee(),x=()=>o(r.snapshot());return reactExports.useSyncExternalStore(r.subscribe,x,x)}function ve(o,r,x,O=[]){let E=reactExports.useRef(),y=K();return k(()=>{var S;let j=(()=>{var _;for(let Q of x){if(typeof Q=="string")return Q.trim();if(typeof Q=="object"&&"current"in Q)return Q.current?(_=Q.current.textContent)==null?void 0:_.trim():E.current}})(),w=O.map(_=>_.trim());y.value(o,j,w),(S=r.current)==null||S.setAttribute(T,j),E.current=j}),E}var ke=()=>{let[o,r]=reactExports.useState(),x=L$1(()=>new Map);return k(()=>{x.current.forEach(O=>O()),x.current=new Map},[o]),(O,E)=>{x.current.set(O,E),r({})}};function Me(o){let r=o.type;return typeof r=="function"?r(o.props):"render"in r?r.render(o.props):o}function B({asChild:o,children:r},x){return o&&reactExports.isValidElement(r)?reactExports.cloneElement(Me(r),{ref:r.ref},x(r.props.children)):x(r)}var Te={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Command=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(_e,{ref:x,className:cn("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",o),...r}));Command.displayName=_e.displayName;const CommandInput=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[jsxRuntimeExports.jsx(Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),jsxRuntimeExports.jsx(_e.Input,{ref:x,className:cn("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",o),...r})]}));CommandInput.displayName=_e.Input.displayName;const CommandList=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(_e.List,{ref:x,className:cn("max-h-[300px] overflow-y-auto overflow-x-hidden",o),...r}));CommandList.displayName=_e.List.displayName;const CommandEmpty=reactExports.forwardRef((o,r)=>jsxRuntimeExports.jsx(_e.Empty,{ref:r,className:"py-6 text-center text-sm",...o}));CommandEmpty.displayName=_e.Empty.displayName;const CommandGroup$1=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(_e.Group,{ref:x,className:cn("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",o),...r}));CommandGroup$1.displayName=_e.Group.displayName;const CommandSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(_e.Separator,{ref:x,className:cn("-mx-1 h-px bg-border",o),...r}));CommandSeparator.displayName=_e.Separator.displayName;const CommandItem=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(_e.Item,{ref:x,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",o),...r}));CommandItem.displayName=_e.Item.displayName;const CommandBar=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx("nav",{ref:O,className:cn("flex items-center justify-between","border-b border-border/30 pb-3 mb-5",o),...x,children:r}));CommandBar.displayName="CommandBar";const CommandGroup=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx("div",{ref:O,className:cn("flex items-center gap-3",o),...x,children:r}));CommandGroup.displayName="CommandGroup";const CommandButton=reactExports.forwardRef(({className:o,active:r=!1,variant:x="default",children:O,...E},y)=>{const S=cn("bg-transparent","px-4 py-2","font-mono text-sm font-bold","rounded-[4px]","cursor-pointer","transition-all duration-200","uppercase tracking-wider","border","focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50"),j={default:cn("border-[hsl(var(--terminal-inactive-border))] text-muted-foreground","hover:border-primary hover:text-primary","hover:shadow-[var(--glow-shadow)]","hover:[text-shadow:0_0_5px_hsl(var(--primary))]",r&&["bg-primary text-[hsl(210_50%_2%)]","border-primary","shadow-[var(--glow-shadow)]"]),close:cn("border-destructive/50 text-destructive","hover:bg-destructive hover:text-white","hover:border-destructive","hover:shadow-[0_0_10px_hsl(var(--destructive)/0.5)]"),danger:cn("border-destructive/50 text-destructive","hover:bg-destructive hover:text-white","hover:border-destructive","hover:shadow-[0_0_10px_hsl(var(--destructive)/0.5)]")};return jsxRuntimeExports.jsx("button",{ref:y,className:cn(S,j[x],o),...E,children:O})});CommandButton.displayName="CommandButton";var CONTEXT_MENU_NAME="ContextMenu",[createContextMenuContext]=createContextScope(CONTEXT_MENU_NAME,[createMenuScope]),useMenuScope$1=createMenuScope(),[ContextMenuProvider,useContextMenuContext]=createContextMenuContext(CONTEXT_MENU_NAME),TRIGGER_NAME$5="ContextMenuTrigger",ContextMenuTrigger=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,disabled:O=!1,...E}=o,y=useContextMenuContext(TRIGGER_NAME$5,x),S=useMenuScope$1(x),j=reactExports.useRef({x:0,y:0}),w=reactExports.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...j.current})}),_=reactExports.useRef(0),Q=reactExports.useCallback(()=>window.clearTimeout(_.current),[]),I=M=>{j.current={x:M.clientX,y:M.clientY},y.onOpenChange(!0)};return reactExports.useEffect(()=>Q,[Q]),reactExports.useEffect(()=>void(O&&Q()),[O,Q]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Anchor2,{...S,virtualRef:w}),jsxRuntimeExports.jsx(Primitive.span,{"data-state":y.open?"open":"closed","data-disabled":O?"":void 0,...E,ref:r,style:{WebkitTouchCallout:"none",...o.style},onContextMenu:O?o.onContextMenu:composeEventHandlers(o.onContextMenu,M=>{Q(),I(M),M.preventDefault()}),onPointerDown:O?o.onPointerDown:composeEventHandlers(o.onPointerDown,whenTouchOrPen(M=>{Q(),_.current=window.setTimeout(()=>I(M),700)})),onPointerMove:O?o.onPointerMove:composeEventHandlers(o.onPointerMove,whenTouchOrPen(Q)),onPointerCancel:O?o.onPointerCancel:composeEventHandlers(o.onPointerCancel,whenTouchOrPen(Q)),onPointerUp:O?o.onPointerUp:composeEventHandlers(o.onPointerUp,whenTouchOrPen(Q))})]})});ContextMenuTrigger.displayName=TRIGGER_NAME$5;var PORTAL_NAME$3="ContextMenuPortal",ContextMenuPortal=o=>{const{__scopeContextMenu:r,...x}=o,O=useMenuScope$1(r);return jsxRuntimeExports.jsx(Portal$3,{...O,...x})};ContextMenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$5="ContextMenuContent",ContextMenuContent$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useContextMenuContext(CONTENT_NAME$5,x),y=useMenuScope$1(x),S=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$8,{...y,...O,ref:r,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:j=>{var w;(w=o.onCloseAutoFocus)==null||w.call(o,j),!j.defaultPrevented&&S.current&&j.preventDefault(),S.current=!1},onInteractOutside:j=>{var w;(w=o.onInteractOutside)==null||w.call(o,j),!j.defaultPrevented&&!E.modal&&(S.current=!0)},style:{...o.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ContextMenuContent$1.displayName=CONTENT_NAME$5;var GROUP_NAME$2="ContextMenuGroup",ContextMenuGroup=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(Group,{...E,...O,ref:r})});ContextMenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="ContextMenuLabel",ContextMenuLabel$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(Label$3,{...E,...O,ref:r})});ContextMenuLabel$1.displayName=LABEL_NAME$2;var ITEM_NAME$5="ContextMenuItem",ContextMenuItem$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(Item2$4,{...E,...O,ref:r})});ContextMenuItem$1.displayName=ITEM_NAME$5;var CHECKBOX_ITEM_NAME$1="ContextMenuCheckboxItem",ContextMenuCheckboxItem$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(CheckboxItem,{...E,...O,ref:r})});ContextMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$2="ContextMenuRadioGroup",ContextMenuRadioGroup=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(RadioGroup$2,{...E,...O,ref:r})});ContextMenuRadioGroup.displayName=RADIO_GROUP_NAME$2;var RADIO_ITEM_NAME$1="ContextMenuRadioItem",ContextMenuRadioItem$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(RadioItem,{...E,...O,ref:r})});ContextMenuRadioItem$1.displayName=RADIO_ITEM_NAME$1;var INDICATOR_NAME$4="ContextMenuItemIndicator",ContextMenuItemIndicator=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(ItemIndicator$1,{...E,...O,ref:r})});ContextMenuItemIndicator.displayName=INDICATOR_NAME$4;var SEPARATOR_NAME$2="ContextMenuSeparator",ContextMenuSeparator$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(Separator$3,{...E,...O,ref:r})});ContextMenuSeparator$1.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="ContextMenuArrow",ContextMenuArrow=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(Arrow2,{...E,...O,ref:r})});ContextMenuArrow.displayName=ARROW_NAME$3;var SUB_TRIGGER_NAME$1="ContextMenuSubTrigger",ContextMenuSubTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(SubTrigger,{...E,...O,ref:r})});ContextMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="ContextMenuSubContent",ContextMenuSubContent$1=reactExports.forwardRef((o,r)=>{const{__scopeContextMenu:x,...O}=o,E=useMenuScope$1(x);return jsxRuntimeExports.jsx(SubContent,{...E,...O,ref:r,style:{...o.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ContextMenuSubContent$1.displayName=SUB_CONTENT_NAME$1;function whenTouchOrPen(o){return r=>r.pointerType!=="mouse"?o(r):void 0}var Portal2$1=ContextMenuPortal,Content2$3=ContextMenuContent$1,Label2$1=ContextMenuLabel$1,Item2$2=ContextMenuItem$1,CheckboxItem2$1=ContextMenuCheckboxItem$1,RadioItem2$1=ContextMenuRadioItem$1,ItemIndicator2$1=ContextMenuItemIndicator,Separator2$1=ContextMenuSeparator$1,SubTrigger2$1=ContextMenuSubTrigger$1,SubContent2$1=ContextMenuSubContent$1;const ContextMenuSubTrigger=reactExports.forwardRef(({className:o,inset:r,children:x,...O},E)=>jsxRuntimeExports.jsxs(SubTrigger2$1,{ref:E,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r&&"pl-8",o),...O,children:[x,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));ContextMenuSubTrigger.displayName=SubTrigger2$1.displayName;const ContextMenuSubContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(SubContent2$1,{ref:x,className:cn("z-[var(--z-popover)] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r}));ContextMenuSubContent.displayName=SubContent2$1.displayName;const ContextMenuContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Portal2$1,{children:jsxRuntimeExports.jsx(Content2$3,{ref:x,className:cn("z-[var(--z-popover)] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r})}));ContextMenuContent.displayName=Content2$3.displayName;const ContextMenuItem=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Item2$2,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",o),...x}));ContextMenuItem.displayName=Item2$2.displayName;const ContextMenuCheckboxItem=reactExports.forwardRef(({className:o,children:r,checked:x,...O},E)=>jsxRuntimeExports.jsxs(CheckboxItem2$1,{ref:E,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),checked:x,...O,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2$1,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),r]}));ContextMenuCheckboxItem.displayName=CheckboxItem2$1.displayName;const ContextMenuRadioItem=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(RadioItem2$1,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...x,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2$1,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),r]}));ContextMenuRadioItem.displayName=RadioItem2$1.displayName;const ContextMenuLabel=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Label2$1,{ref:O,className:cn("px-2 py-1.5 text-sm font-semibold text-foreground",r&&"pl-8",o),...x}));ContextMenuLabel.displayName=Label2$1.displayName;const ContextMenuSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Separator2$1,{ref:x,className:cn("-mx-1 my-1 h-px bg-border",o),...r}));ContextMenuSeparator.displayName=Separator2$1.displayName;function __insertCSS(o){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],x=document.createElement("style");x.type="text/css",r.appendChild(x),x.styleSheet?x.styleSheet.cssText=o:x.appendChild(document.createTextNode(o))}const DrawerContext=React$1.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),useDrawerContext=()=>{const o=React$1.useContext(DrawerContext);if(!o)throw new Error("useDrawerContext must be used within a Drawer.Root");return o};__insertCSS(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);function setRef(o,r){typeof o=="function"?o(r):o!=null&&(o.current=r)}function composeRefs(...o){return r=>o.forEach(x=>setRef(x,r))}function useComposedRefs(...o){return reactExports.useCallback(composeRefs(...o),o)}const isVertical=o=>{switch(o){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return o}};function assignStyle(o,r){if(!o)return()=>{};const x=o.style.cssText;return Object.assign(o.style,r),()=>{o.style.cssText=x}}function chain(...o){return(...r)=>{for(const x of o)typeof x=="function"&&x(...r)}}const TRANSITIONS={DURATION:.5,EASE:[.32,.72,0,1]},BORDER_RADIUS=8,WINDOW_TOP_OFFSET=26,noop=()=>()=>{};function useScaleBackground(){const{direction:o,isOpen:r,shouldScaleBackground:x,setBackgroundColorOnScale:O,noBodyStyles:E}=useDrawerContext(),y=React$1.useRef(null),S=reactExports.useMemo(()=>document.body.style.backgroundColor,[]);function j(){return(window.innerWidth-WINDOW_TOP_OFFSET)/window.innerWidth}React$1.useEffect(()=>{if(r&&x){y.current&&clearTimeout(y.current);const w=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!w)return;chain(O&&!E?assignStyle(document.body,{background:"black"}):noop,assignStyle(w,{transformOrigin:isVertical(o)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${TRANSITIONS.DURATION}s`,transitionTimingFunction:`cubic-bezier(${TRANSITIONS.EASE.join(",")})`}));const _=assignStyle(w,{borderRadius:`${BORDER_RADIUS}px`,overflow:"hidden",...isVertical(o)?{transform:`scale(${j()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${j()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{_(),y.current=window.setTimeout(()=>{S?document.body.style.background=S:document.body.style.removeProperty("background")},TRANSITIONS.DURATION*1e3)}}},[r,x,S])}const Overlay=React$1.forwardRef(function({...o},r){const{overlayRef:x,snapPoints:O,onRelease:E,shouldFade:y,isOpen:S,modal:j}=useDrawerContext(),w=useComposedRefs(r,x),_=O&&O.length>0;return j?React$1.createElement(Overlay$1,{onMouseUp:E,ref:w,"data-vaul-overlay":"","data-vaul-snap-points":S&&_?"true":"false","data-vaul-snap-points-overlay":S&&y?"true":"false",...o}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Overlay.displayName="Drawer.Overlay";const Content$2=React$1.forwardRef(function({onPointerDownOutside:o,style:r,onOpenAutoFocus:x,...O},E){const{drawerRef:y,onPress:S,onRelease:j,onDrag:w,keyboardIsOpen:_,snapPointsOffset:Q,modal:I,isOpen:M,direction:F,snapPoints:V,container:te,handleOnly:re,autoFocus:se}=useDrawerContext(),[ne,oe]=React$1.useState(!1),Oe=useComposedRefs(E,y),ae=React$1.useRef(null),ge=React$1.useRef(null),je=React$1.useRef(!1),Ae=V&&V.length>0;useScaleBackground();const Qe=(Ue,Le,Ze=0)=>{if(je.current)return!0;const Be=Math.abs(Ue.y),Ge=Math.abs(Ue.x),We=Ge>Be,at=["bottom","right"].includes(Le)?1:-1;if(Le==="left"||Le==="right"){if(!(Ue.x*at<0)&&Ge>=0&&Ge<=Ze)return We}else if(!(Ue.y*at<0)&&Be>=0&&Be<=Ze)return!We;return je.current=!0,!0};React$1.useEffect(()=>{Ae&&window.requestAnimationFrame(()=>{oe(!0)})},[]);function Xe(Ue){ae.current=null,je.current=!1,j(Ue)}return React$1.createElement(Content$4,{"data-vaul-drawer-direction":F,"data-vaul-drawer":"","data-vaul-delayed-snap-points":ne?"true":"false","data-vaul-snap-points":M&&Ae?"true":"false","data-vaul-custom-container":te?"true":"false",...O,ref:Oe,style:Q&&Q.length>0?{"--snap-point-height":`${Q[0]}px`,...r}:r,onPointerDown:Ue=>{re||(O.onPointerDown==null||O.onPointerDown.call(O,Ue),ae.current={x:Ue.pageX,y:Ue.pageY},S(Ue))},onOpenAutoFocus:Ue=>{x==null||x(Ue),se||Ue.preventDefault()},onPointerDownOutside:Ue=>{if(o==null||o(Ue),!I||Ue.defaultPrevented){Ue.preventDefault();return}_.current&&(_.current=!1)},onFocusOutside:Ue=>{if(!I){Ue.preventDefault();return}},onPointerMove:Ue=>{if(ge.current=Ue,re||(O.onPointerMove==null||O.onPointerMove.call(O,Ue),!ae.current))return;const Le=Ue.pageY-ae.current.y,Ze=Ue.pageX-ae.current.x,Be=Ue.pointerType==="touch"?10:2;Qe({x:Ze,y:Le},F,Be)?w(Ue):(Math.abs(Ze)>Be||Math.abs(Le)>Be)&&(ae.current=null)},onPointerUp:Ue=>{O.onPointerUp==null||O.onPointerUp.call(O,Ue),ae.current=null,je.current=!1,j(Ue)},onPointerOut:Ue=>{O.onPointerOut==null||O.onPointerOut.call(O,Ue),Xe(ge.current)},onContextMenu:Ue=>{O.onContextMenu==null||O.onContextMenu.call(O,Ue),Xe(ge.current)}})});Content$2.displayName="Drawer.Content";const LONG_HANDLE_PRESS_TIMEOUT=250,DOUBLE_TAP_TIMEOUT=120,Handle=React$1.forwardRef(function({preventCycle:o=!1,children:r,...x},O){const{closeDrawer:E,isDragging:y,snapPoints:S,activeSnapPoint:j,setActiveSnapPoint:w,dismissible:_,handleOnly:Q,isOpen:I,onPress:M,onDrag:F}=useDrawerContext(),V=React$1.useRef(null),te=React$1.useRef(!1);function re(){if(te.current){oe();return}window.setTimeout(()=>{se()},DOUBLE_TAP_TIMEOUT)}function se(){if(y||o||te.current){oe();return}if(oe(),(!S||S.length===0)&&_){E();return}if(j===S[S.length-1]&&_){E();return}const ae=S.findIndex(je=>je===j);if(ae===-1)return;const ge=S[ae+1];w(ge)}function ne(){V.current=window.setTimeout(()=>{te.current=!0},LONG_HANDLE_PRESS_TIMEOUT)}function oe(){window.clearTimeout(V.current),te.current=!1}return React$1.createElement("div",{onClick:re,onPointerCancel:oe,onPointerDown:Oe=>{Q&&M(Oe),ne()},onPointerMove:Oe=>{Q&&F(Oe)},ref:O,"data-vaul-drawer-visible":I?"true":"false","data-vaul-handle":"","aria-hidden":"true",...x},React$1.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},r))});Handle.displayName="Drawer.Handle";function Portal$1(o){const r=useDrawerContext(),{container:x=r.container,...O}=o;return React$1.createElement(Portal$5,{container:x,...O})}const Drawer={Content:Content$2,Overlay,Portal:Portal$1,Title:Title$1,Description:Description$1},DrawerPortal=Drawer.Portal,DrawerOverlay=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Drawer.Overlay,{ref:x,className:cn("fixed inset-0 z-[var(--z-modal-overlay)] bg-black/80",o),...r}));DrawerOverlay.displayName=Drawer.Overlay.displayName;const DrawerContent=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(DrawerPortal,{children:[jsxRuntimeExports.jsx(DrawerOverlay,{}),jsxRuntimeExports.jsxs(Drawer.Content,{ref:O,className:cn("fixed inset-x-0 bottom-0 z-[var(--z-dialog)] mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",o),...x,children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]}));DrawerContent.displayName="DrawerContent";const DrawerTitle=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Drawer.Title,{ref:x,className:cn("text-lg font-semibold leading-none tracking-tight",o),...r}));DrawerTitle.displayName=Drawer.Title.displayName;const DrawerDescription=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Drawer.Description,{ref:x,className:cn("text-sm text-muted-foreground",o),...r}));DrawerDescription.displayName=Drawer.Description.displayName;const HookFormContext=React$1.createContext(null);HookFormContext.displayName="HookFormContext";const useFormContext=()=>React$1.useContext(HookFormContext);typeof window<"u"?React$1.useLayoutEffect:React$1.useEffect;var NAME$2="Label",Label$2=reactExports.forwardRef((o,r)=>jsxRuntimeExports.jsx(Primitive.label,{...o,ref:r,onMouseDown:x=>{var E;x.target.closest("button, input, select, textarea")||((E=o.onMouseDown)==null||E.call(o,x),!x.defaultPrevented&&x.detail>1&&x.preventDefault())}}));Label$2.displayName=NAME$2;var Root$5=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Root$5,{ref:x,className:cn(labelVariants(),o),...r}));Label$1.displayName=Root$5.displayName;const FormFieldContext=reactExports.createContext({}),useFormField=()=>{const o=reactExports.useContext(FormFieldContext),r=reactExports.useContext(FormItemContext),{getFieldState:x,formState:O}=useFormContext(),E=x(o.name,O);if(!o)throw new Error("useFormField should be used within <FormField>");const{id:y}=r;return{id:y,name:o.name,formItemId:`${y}-form-item`,formDescriptionId:`${y}-form-item-description`,formMessageId:`${y}-form-item-message`,...E}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:o,...r},x)=>{const O=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:O},children:jsxRuntimeExports.jsx("div",{ref:x,className:cn("space-y-2",o),...r})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:o,...r},x)=>{const{error:O,formItemId:E}=useFormField();return jsxRuntimeExports.jsx(Label$1,{ref:x,className:cn(O&&"text-destructive",o),htmlFor:E,...r})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...o},r)=>{const{error:x,formItemId:O,formDescriptionId:E,formMessageId:y}=useFormField();return jsxRuntimeExports.jsx(Slot$3,{ref:r,id:O,"aria-describedby":x?`${E} ${y}`:`${E}`,"aria-invalid":!!x,...o})});FormControl.displayName="FormControl";const FormDescription=reactExports.forwardRef(({className:o,...r},x)=>{const{formDescriptionId:O}=useFormField();return jsxRuntimeExports.jsx("p",{ref:x,id:O,className:cn("text-sm text-muted-foreground",o),...r})});FormDescription.displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:o,children:r,...x},O)=>{const{error:E,formMessageId:y}=useFormField(),S=E?String(E==null?void 0:E.message):r;return S?jsxRuntimeExports.jsx("p",{ref:O,id:y,className:cn("text-sm font-medium text-destructive",o),...x,children:S}):null});FormMessage.displayName="FormMessage";var originalBodyUserSelect,HOVERCARD_NAME="HoverCard",[createHoverCardContext]=createContextScope(HOVERCARD_NAME,[createPopperScope]),usePopperScope$1=createPopperScope(),[HoverCardProvider,useHoverCardContext]=createHoverCardContext(HOVERCARD_NAME),TRIGGER_NAME$4="HoverCardTrigger",HoverCardTrigger=reactExports.forwardRef((o,r)=>{const{__scopeHoverCard:x,...O}=o,E=useHoverCardContext(TRIGGER_NAME$4,x),y=usePopperScope$1(x);return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...y,children:jsxRuntimeExports.jsx(Primitive.a,{"data-state":E.open?"open":"closed",...O,ref:r,onPointerEnter:composeEventHandlers(o.onPointerEnter,excludeTouch(E.onOpen)),onPointerLeave:composeEventHandlers(o.onPointerLeave,excludeTouch(E.onClose)),onFocus:composeEventHandlers(o.onFocus,E.onOpen),onBlur:composeEventHandlers(o.onBlur,E.onClose),onTouchStart:composeEventHandlers(o.onTouchStart,S=>S.preventDefault())})})});HoverCardTrigger.displayName=TRIGGER_NAME$4;var PORTAL_NAME$2="HoverCardPortal",[PortalProvider,usePortalContext]=createHoverCardContext(PORTAL_NAME$2,{forceMount:void 0}),CONTENT_NAME$4="HoverCardContent",HoverCardContent$1=reactExports.forwardRef((o,r)=>{const x=usePortalContext(CONTENT_NAME$4,o.__scopeHoverCard),{forceMount:O=x.forceMount,...E}=o,y=useHoverCardContext(CONTENT_NAME$4,o.__scopeHoverCard);return jsxRuntimeExports.jsx(Presence,{present:O||y.open,children:jsxRuntimeExports.jsx(HoverCardContentImpl,{"data-state":y.open?"open":"closed",...E,onPointerEnter:composeEventHandlers(o.onPointerEnter,excludeTouch(y.onOpen)),onPointerLeave:composeEventHandlers(o.onPointerLeave,excludeTouch(y.onClose)),ref:r})})});HoverCardContent$1.displayName=CONTENT_NAME$4;var HoverCardContentImpl=reactExports.forwardRef((o,r)=>{const{__scopeHoverCard:x,onEscapeKeyDown:O,onPointerDownOutside:E,onFocusOutside:y,onInteractOutside:S,...j}=o,w=useHoverCardContext(CONTENT_NAME$4,x),_=usePopperScope$1(x),Q=reactExports.useRef(null),I=useComposedRefs$1(r,Q),[M,F]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(M){const V=document.body;return originalBodyUserSelect=V.style.userSelect||V.style.webkitUserSelect,V.style.userSelect="none",V.style.webkitUserSelect="none",()=>{V.style.userSelect=originalBodyUserSelect,V.style.webkitUserSelect=originalBodyUserSelect}}},[M]),reactExports.useEffect(()=>{if(Q.current){const V=()=>{F(!1),w.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var re;((re=document.getSelection())==null?void 0:re.toString())!==""&&(w.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",V),()=>{document.removeEventListener("pointerup",V),w.hasSelectionRef.current=!1,w.isPointerDownOnContentRef.current=!1}}},[w.isPointerDownOnContentRef,w.hasSelectionRef]),reactExports.useEffect(()=>{Q.current&&getTabbableNodes(Q.current).forEach(te=>te.setAttribute("tabindex","-1"))}),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:S,onEscapeKeyDown:O,onPointerDownOutside:E,onFocusOutside:composeEventHandlers(y,V=>{V.preventDefault()}),onDismiss:w.onDismiss,children:jsxRuntimeExports.jsx(Content$3,{..._,...j,onPointerDown:composeEventHandlers(j.onPointerDown,V=>{V.currentTarget.contains(V.target)&&F(!0),w.hasSelectionRef.current=!1,w.isPointerDownOnContentRef.current=!0}),ref:I,style:{...j.style,userSelect:M?"text":void 0,WebkitUserSelect:M?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ARROW_NAME$2="HoverCardArrow",HoverCardArrow=reactExports.forwardRef((o,r)=>{const{__scopeHoverCard:x,...O}=o,E=usePopperScope$1(x);return jsxRuntimeExports.jsx(Arrow,{...E,...O,ref:r})});HoverCardArrow.displayName=ARROW_NAME$2;function excludeTouch(o){return r=>r.pointerType==="touch"?void 0:o()}function getTabbableNodes(o){const r=[],x=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:O=>O.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;x.nextNode();)r.push(x.currentNode);return r}var Content2$2=HoverCardContent$1;const HoverCardContent=reactExports.forwardRef(({className:o,align:r="center",sideOffset:x=4,...O},E)=>jsxRuntimeExports.jsx(Content2$2,{ref:E,align:r,sideOffset:x,className:cn("z-[var(--z-popover)] w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...O}));HoverCardContent.displayName=Content2$2.displayName;var Bt=Object.defineProperty,At=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,vt=(o,r,x)=>r in o?Bt(o,r,{enumerable:!0,configurable:!0,writable:!0,value:x}):o[r]=x,St=(o,r)=>{for(var x in r||(r={}))gt.call(r,x)&&vt(o,x,r[x]);if(Y)for(var x of Y(r))Et.call(r,x)&&vt(o,x,r[x]);return o},bt=(o,r)=>At(o,kt(r)),Pt=(o,r)=>{var x={};for(var O in o)gt.call(o,O)&&r.indexOf(O)<0&&(x[O]=o[O]);if(o!=null&&Y)for(var O of Y(o))r.indexOf(O)<0&&Et.call(o,O)&&(x[O]=o[O]);return x};function ht(o){let r=setTimeout(o,0),x=setTimeout(o,10),O=setTimeout(o,50);return[r,x,O]}function _t(o){let r=reactExports.useRef();return reactExports.useEffect(()=>{r.current=o}),r.current}var Ot=18,wt=40,Gt=`${wt}px`,xt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Tt({containerRef:o,inputRef:r,pushPasswordManagerStrategy:x,isFocused:O}){let[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(!1),[w,_]=reactExports.useState(!1),Q=reactExports.useMemo(()=>x==="none"?!1:(x==="increase-width"||x==="experimental-no-flickering")&&E&&S,[E,S,x]),I=reactExports.useCallback(()=>{let M=o.current,F=r.current;if(!M||!F||w||x==="none")return;let V=M,te=V.getBoundingClientRect().left+V.offsetWidth,re=V.getBoundingClientRect().top+V.offsetHeight/2,se=te-Ot,ne=re;document.querySelectorAll(xt).length===0&&document.elementFromPoint(se,ne)===M||(y(!0),_(!0))},[o,r,w,x]);return reactExports.useEffect(()=>{let M=o.current;if(!M||x==="none")return;function F(){let te=window.innerWidth-M.getBoundingClientRect().right;j(te>=wt)}F();let V=setInterval(F,1e3);return()=>{clearInterval(V)}},[o,x]),reactExports.useEffect(()=>{let M=O||document.activeElement===r.current;if(x==="none"||!M)return;let F=setTimeout(I,0),V=setTimeout(I,2e3),te=setTimeout(I,5e3),re=setTimeout(()=>{_(!0)},6e3);return()=>{clearTimeout(F),clearTimeout(V),clearTimeout(te),clearTimeout(re)}},[r,O,x,I]),{hasPWMBadge:E,willPushPWMBadge:Q,PWM_BADGE_SPACE_WIDTH:Gt}}var jt=reactExports.createContext({}),Lt=reactExports.forwardRef((o,r)=>{var x=o,{value:O,onChange:E,maxLength:y,textAlign:S="left",pattern:j,placeholder:w,inputMode:_="numeric",onComplete:Q,pushPasswordManagerStrategy:I="increase-width",pasteTransformer:M,containerClassName:F,noScriptCSSFallback:V=Nt,render:te,children:re}=x,se=Pt(x,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),ne,oe,Oe,ae,ge;let[je,Ae]=reactExports.useState(typeof se.defaultValue=="string"?se.defaultValue:""),Qe=O??je,Xe=_t(Qe),Ue=reactExports.useCallback(dt=>{E==null||E(dt),Ae(dt)},[E]),Le=reactExports.useMemo(()=>j?typeof j=="string"?new RegExp(j):j:null,[j]),Ze=reactExports.useRef(null),Be=reactExports.useRef(null),Ge=reactExports.useRef({value:Qe,onChange:Ue,isIOS:typeof window<"u"&&((oe=(ne=window==null?void 0:window.CSS)==null?void 0:ne.supports)==null?void 0:oe.call(ne,"-webkit-touch-callout","none"))}),We=reactExports.useRef({prev:[(Oe=Ze.current)==null?void 0:Oe.selectionStart,(ae=Ze.current)==null?void 0:ae.selectionEnd,(ge=Ze.current)==null?void 0:ge.selectionDirection]});reactExports.useImperativeHandle(r,()=>Ze.current,[]),reactExports.useEffect(()=>{let dt=Ze.current,Rt=Be.current;if(!dt||!Rt)return;Ge.current.value!==dt.value&&Ge.current.onChange(dt.value),We.current.prev=[dt.selectionStart,dt.selectionEnd,dt.selectionDirection];function It(){if(document.activeElement!==dt){ze(null),tt(null);return}let $t=dt.selectionStart,Yt=dt.selectionEnd,zt=dt.selectionDirection,Zt=dt.maxLength,rr=dt.value,or=We.current.prev,Jt=-1,ur=-1,Ye;if(rr.length!==0&&$t!==null&&Yt!==null){let nt=$t===Yt,ft=$t===rr.length&&rr.length<Zt;if(nt&&!ft){let Ct=$t;if(Ct===0)Jt=0,ur=1,Ye="forward";else if(Ct===Zt)Jt=Ct-1,ur=Ct,Ye="backward";else if(Zt>1&&rr.length>1){let Mt=0;if(or[0]!==null&&or[1]!==null){Ye=Ct<or[1]?"backward":"forward";let qt=or[0]===or[1]&&or[0]<Zt;Ye==="backward"&&!qt&&(Mt=-1)}Jt=Mt+Ct,ur=Mt+Ct+1}}Jt!==-1&&ur!==-1&&Jt!==ur&&Ze.current.setSelectionRange(Jt,ur,Ye)}let $e=Jt!==-1?Jt:$t,Ne=ur!==-1?ur:Yt,Fe=Ye??zt;ze($e),tt(Ne),We.current.prev=[$e,Ne,Fe]}if(document.addEventListener("selectionchange",It,{capture:!0}),It(),document.activeElement===dt&&mt(!0),!document.getElementById("input-otp-style")){let $t=document.createElement("style");if($t.id="input-otp-style",document.head.appendChild($t),$t.sheet){let Yt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";$($t.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),$($t.sheet,`[data-input-otp]:autofill { ${Yt} }`),$($t.sheet,`[data-input-otp]:-webkit-autofill { ${Yt} }`),$($t.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),$($t.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Xt=()=>{Rt&&Rt.style.setProperty("--root-height",`${dt.clientHeight}px`)};Xt();let Ut=new ResizeObserver(Xt);return Ut.observe(dt),()=>{document.removeEventListener("selectionchange",It,{capture:!0}),Ut.disconnect()}},[]);let[at,rt]=reactExports.useState(!1),[Je,mt]=reactExports.useState(!1),[Ke,ze]=reactExports.useState(null),[He,tt]=reactExports.useState(null);reactExports.useEffect(()=>{ht(()=>{var dt,Rt,It,Xt;(dt=Ze.current)==null||dt.dispatchEvent(new Event("input"));let Ut=(Rt=Ze.current)==null?void 0:Rt.selectionStart,$t=(It=Ze.current)==null?void 0:It.selectionEnd,Yt=(Xt=Ze.current)==null?void 0:Xt.selectionDirection;Ut!==null&&$t!==null&&(ze(Ut),tt($t),We.current.prev=[Ut,$t,Yt])})},[Qe,Je]),reactExports.useEffect(()=>{Xe!==void 0&&Qe!==Xe&&Xe.length<y&&Qe.length===y&&(Q==null||Q(Qe))},[y,Q,Xe,Qe]);let ct=Tt({containerRef:Be,inputRef:Ze,pushPasswordManagerStrategy:I,isFocused:Je}),ut=reactExports.useCallback(dt=>{let Rt=dt.currentTarget.value.slice(0,y);if(Rt.length>0&&Le&&!Le.test(Rt)){dt.preventDefault();return}typeof Xe=="string"&&Rt.length<Xe.length&&document.dispatchEvent(new Event("selectionchange")),Ue(Rt)},[y,Ue,Xe,Le]),it=reactExports.useCallback(()=>{var dt;if(Ze.current){let Rt=Math.min(Ze.current.value.length,y-1),It=Ze.current.value.length;(dt=Ze.current)==null||dt.setSelectionRange(Rt,It),ze(Rt),tt(It)}mt(!0)},[y]),yt=reactExports.useCallback(dt=>{var Rt,It;let Xt=Ze.current;if(!M&&(!Ge.current.isIOS||!dt.clipboardData||!Xt))return;let Ut=dt.clipboardData.getData("text/plain"),$t=M?M(Ut):Ut;dt.preventDefault();let Yt=(Rt=Ze.current)==null?void 0:Rt.selectionStart,zt=(It=Ze.current)==null?void 0:It.selectionEnd,Zt=(Yt!==zt?Qe.slice(0,Yt)+$t+Qe.slice(zt):Qe.slice(0,Yt)+$t+Qe.slice(Yt)).slice(0,y);if(Zt.length>0&&Le&&!Le.test(Zt))return;Xt.value=Zt,Ue(Zt);let rr=Math.min(Zt.length,y-1),or=Zt.length;Xt.setSelectionRange(rr,or),ze(rr),tt(or)},[y,Ue,Le,Qe]),et=reactExports.useMemo(()=>({position:"relative",cursor:se.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[se.disabled]),qe=reactExports.useMemo(()=>({position:"absolute",inset:0,width:ct.willPushPWMBadge?`calc(100% + ${ct.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ct.willPushPWMBadge?`inset(0 ${ct.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:S,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ct.PWM_BADGE_SPACE_WIDTH,ct.willPushPWMBadge,S]),ot=reactExports.useMemo(()=>reactExports.createElement("input",bt(St({autoComplete:se.autoComplete||"one-time-code"},se),{"data-input-otp":!0,"data-input-otp-placeholder-shown":Qe.length===0||void 0,"data-input-otp-mss":Ke,"data-input-otp-mse":He,inputMode:_,pattern:Le==null?void 0:Le.source,"aria-placeholder":w,style:qe,maxLength:y,value:Qe,ref:Ze,onPaste:dt=>{var Rt;yt(dt),(Rt=se.onPaste)==null||Rt.call(se,dt)},onChange:ut,onMouseOver:dt=>{var Rt;rt(!0),(Rt=se.onMouseOver)==null||Rt.call(se,dt)},onMouseLeave:dt=>{var Rt;rt(!1),(Rt=se.onMouseLeave)==null||Rt.call(se,dt)},onFocus:dt=>{var Rt;it(),(Rt=se.onFocus)==null||Rt.call(se,dt)},onBlur:dt=>{var Rt;mt(!1),(Rt=se.onBlur)==null||Rt.call(se,dt)}})),[ut,it,yt,_,qe,y,He,Ke,se,Le==null?void 0:Le.source,Qe]),pt=reactExports.useMemo(()=>({slots:Array.from({length:y}).map((dt,Rt)=>{var It;let Xt=Je&&Ke!==null&&He!==null&&(Ke===He&&Rt===Ke||Rt>=Ke&&Rt<He),Ut=Qe[Rt]!==void 0?Qe[Rt]:null,$t=Qe[0]!==void 0?null:(It=w==null?void 0:w[Rt])!=null?It:null;return{char:Ut,placeholderChar:$t,isActive:Xt,hasFakeCaret:Xt&&Ut===null}}),isFocused:Je,isHovering:!se.disabled&&at}),[Je,at,y,He,Ke,se.disabled,Qe]),Ve=reactExports.useMemo(()=>te?te(pt):reactExports.createElement(jt.Provider,{value:pt},re),[re,pt,te]);return reactExports.createElement(reactExports.Fragment,null,V!==null&&reactExports.createElement("noscript",null,reactExports.createElement("style",null,V)),reactExports.createElement("div",{ref:Be,"data-input-otp-container":!0,style:et,className:F},Ve,reactExports.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ot)))});Lt.displayName="Input";function $(o,r){try{o.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var Nt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const InputOTP=reactExports.forwardRef(({className:o,containerClassName:r,...x},O)=>jsxRuntimeExports.jsx(Lt,{ref:O,containerClassName:cn("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:cn("disabled:cursor-not-allowed",o),...x}));InputOTP.displayName="InputOTP";const InputOTPGroup=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,className:cn("flex items-center",o),...r}));InputOTPGroup.displayName="InputOTPGroup";const InputOTPSlot=reactExports.forwardRef(({index:o,className:r,...x},O)=>{const E=reactExports.useContext(jt),{char:y,hasFakeCaret:S,isActive:j}=E.slots[o];return jsxRuntimeExports.jsxs("div",{ref:O,className:cn("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",j&&"z-10 ring-2 ring-ring ring-offset-background",r),...x,children:[y,S&&jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});InputOTPSlot.displayName="InputOTPSlot";const InputOTPSeparator=reactExports.forwardRef(({...o},r)=>jsxRuntimeExports.jsx("div",{ref:r,role:"separator",...o,children:jsxRuntimeExports.jsx(Dot,{})}));InputOTPSeparator.displayName="InputOTPSeparator";var MENUBAR_NAME="Menubar",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(MENUBAR_NAME),[createMenubarContext]=createContextScope(MENUBAR_NAME,[createCollectionScope$3,createRovingFocusGroupScope]),useMenuScope=createMenuScope(),useRovingFocusGroupScope$3=createRovingFocusGroupScope(),[MenubarContextProvider,useMenubarContext]=createMenubarContext(MENUBAR_NAME),Menubar$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,value:O,onValueChange:E,defaultValue:y,loop:S=!0,dir:j,...w}=o,_=useDirection(j),Q=useRovingFocusGroupScope$3(x),[I,M]=useControllableState({prop:O,onChange:E,defaultProp:y??"",caller:MENUBAR_NAME}),[F,V]=reactExports.useState(null);return jsxRuntimeExports.jsx(MenubarContextProvider,{scope:x,value:I,onMenuOpen:reactExports.useCallback(te=>{M(te),V(te)},[M]),onMenuClose:reactExports.useCallback(()=>M(""),[M]),onMenuToggle:reactExports.useCallback(te=>{M(re=>re?"":te),V(te)},[M]),dir:_,loop:S,children:jsxRuntimeExports.jsx(Collection$3.Provider,{scope:x,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:x,children:jsxRuntimeExports.jsx(Root$8,{asChild:!0,...Q,orientation:"horizontal",loop:S,dir:_,currentTabStopId:F,onCurrentTabStopIdChange:V,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menubar",...w,ref:r})})})})})});Menubar$1.displayName=MENUBAR_NAME;var MENU_NAME="MenubarMenu",[MenubarMenuProvider,useMenubarMenuContext]=createMenubarContext(MENU_NAME),TRIGGER_NAME$3="MenubarTrigger",MenubarTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,disabled:O=!1,...E}=o,y=useRovingFocusGroupScope$3(x),S=useMenuScope(x),j=useMenubarContext(TRIGGER_NAME$3,x),w=useMenubarMenuContext(TRIGGER_NAME$3,x),_=reactExports.useRef(null),Q=useComposedRefs$1(r,_,w.triggerRef),[I,M]=reactExports.useState(!1),F=j.value===w.value;return jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:x,value:w.value,disabled:O,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...y,focusable:!O,tabStopId:w.value,children:jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...S,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"menuitem",id:w.triggerId,"aria-haspopup":"menu","aria-expanded":F,"aria-controls":F?w.contentId:void 0,"data-highlighted":I?"":void 0,"data-state":F?"open":"closed","data-disabled":O?"":void 0,disabled:O,...E,ref:Q,onPointerDown:composeEventHandlers(o.onPointerDown,V=>{!O&&V.button===0&&V.ctrlKey===!1&&(j.onMenuOpen(w.value),F||V.preventDefault())}),onPointerEnter:composeEventHandlers(o.onPointerEnter,()=>{var te;!!j.value&&!F&&(j.onMenuOpen(w.value),(te=_.current)==null||te.focus())}),onKeyDown:composeEventHandlers(o.onKeyDown,V=>{O||(["Enter"," "].includes(V.key)&&j.onMenuToggle(w.value),V.key==="ArrowDown"&&j.onMenuOpen(w.value),["Enter"," ","ArrowDown"].includes(V.key)&&(w.wasKeyboardTriggerOpenRef.current=!0,V.preventDefault()))}),onFocus:composeEventHandlers(o.onFocus,()=>M(!0)),onBlur:composeEventHandlers(o.onBlur,()=>M(!1))})})})})});MenubarTrigger$1.displayName=TRIGGER_NAME$3;var PORTAL_NAME$1="MenubarPortal",MenubarPortal=o=>{const{__scopeMenubar:r,...x}=o,O=useMenuScope(r);return jsxRuntimeExports.jsx(Portal$3,{...O,...x})};MenubarPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$3="MenubarContent",MenubarContent$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,align:O="start",...E}=o,y=useMenuScope(x),S=useMenubarContext(CONTENT_NAME$3,x),j=useMenubarMenuContext(CONTENT_NAME$3,x),w=useCollection$3(x),_=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$8,{id:j.contentId,"aria-labelledby":j.triggerId,"data-radix-menubar-content":"",...y,...E,ref:r,align:O,onCloseAutoFocus:composeEventHandlers(o.onCloseAutoFocus,Q=>{var M;!!!S.value&&!_.current&&((M=j.triggerRef.current)==null||M.focus()),_.current=!1,Q.preventDefault()}),onFocusOutside:composeEventHandlers(o.onFocusOutside,Q=>{const I=Q.target;w().some(F=>{var V;return(V=F.ref.current)==null?void 0:V.contains(I)})&&Q.preventDefault()}),onInteractOutside:composeEventHandlers(o.onInteractOutside,()=>{_.current=!0}),onEntryFocus:Q=>{j.wasKeyboardTriggerOpenRef.current||Q.preventDefault()},onKeyDown:composeEventHandlers(o.onKeyDown,Q=>{if(["ArrowRight","ArrowLeft"].includes(Q.key)){const I=Q.target,M=I.hasAttribute("data-radix-menubar-subtrigger"),F=I.closest("[data-radix-menubar-content]")!==Q.currentTarget,te=(S.dir==="rtl"?"ArrowRight":"ArrowLeft")===Q.key;if(!te&&M||F&&te)return;let ne=w().filter(ae=>!ae.disabled).map(ae=>ae.value);te&&ne.reverse();const oe=ne.indexOf(j.value);ne=S.loop?wrapArray$1(ne,oe+1):ne.slice(oe+1);const[Oe]=ne;Oe&&S.onMenuOpen(Oe)}},{checkForDefaultPrevented:!1}),style:{...o.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});MenubarContent$1.displayName=CONTENT_NAME$3;var GROUP_NAME$1="MenubarGroup",MenubarGroup=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(Group,{...E,...O,ref:r})});MenubarGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenubarLabel",MenubarLabel$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(Label$3,{...E,...O,ref:r})});MenubarLabel$1.displayName=LABEL_NAME$1;var ITEM_NAME$4="MenubarItem",MenubarItem$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(Item2$4,{...E,...O,ref:r})});MenubarItem$1.displayName=ITEM_NAME$4;var CHECKBOX_ITEM_NAME="MenubarCheckboxItem",MenubarCheckboxItem$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(CheckboxItem,{...E,...O,ref:r})});MenubarCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME$1="MenubarRadioGroup",MenubarRadioGroup=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(RadioGroup$2,{...E,...O,ref:r})});MenubarRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME="MenubarRadioItem",MenubarRadioItem$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(RadioItem,{...E,...O,ref:r})});MenubarRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME$3="MenubarItemIndicator",MenubarItemIndicator=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(ItemIndicator$1,{...E,...O,ref:r})});MenubarItemIndicator.displayName=INDICATOR_NAME$3;var SEPARATOR_NAME$1="MenubarSeparator",MenubarSeparator$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(Separator$3,{...E,...O,ref:r})});MenubarSeparator$1.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenubarArrow",MenubarArrow=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(Arrow2,{...E,...O,ref:r})});MenubarArrow.displayName=ARROW_NAME$1;var SUB_TRIGGER_NAME="MenubarSubTrigger",MenubarSubTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(SubTrigger,{"data-radix-menubar-subtrigger":"",...E,...O,ref:r})});MenubarSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="MenubarSubContent",MenubarSubContent$1=reactExports.forwardRef((o,r)=>{const{__scopeMenubar:x,...O}=o,E=useMenuScope(x);return jsxRuntimeExports.jsx(SubContent,{...E,"data-radix-menubar-content":"",...O,ref:r,style:{...o.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});MenubarSubContent$1.displayName=SUB_CONTENT_NAME;function wrapArray$1(o,r){return o.map((x,O)=>o[(r+O)%o.length])}var Root3=Menubar$1,Trigger$3=MenubarTrigger$1,Portal2=MenubarPortal,Content2$1=MenubarContent$1,Label2=MenubarLabel$1,Item3=MenubarItem$1,CheckboxItem2=MenubarCheckboxItem$1,RadioItem2=MenubarRadioItem$1,ItemIndicator2=MenubarItemIndicator,Separator2=MenubarSeparator$1,SubTrigger2=MenubarSubTrigger$1,SubContent2=MenubarSubContent$1;const Menubar=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Root3,{ref:x,className:cn("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",o),...r}));Menubar.displayName=Root3.displayName;const MenubarTrigger=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Trigger$3,{ref:x,className:cn("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",o),...r}));MenubarTrigger.displayName=Trigger$3.displayName;const MenubarSubTrigger=reactExports.forwardRef(({className:o,inset:r,children:x,...O},E)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:E,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r&&"pl-8",o),...O,children:[x,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));MenubarSubTrigger.displayName=SubTrigger2.displayName;const MenubarSubContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(SubContent2,{ref:x,className:cn("z-[var(--z-popover)] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r}));MenubarSubContent.displayName=SubContent2.displayName;const MenubarContent=reactExports.forwardRef(({className:o,align:r="start",alignOffset:x=-4,sideOffset:O=8,...E},y)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2$1,{ref:y,align:r,alignOffset:x,sideOffset:O,className:cn("z-[var(--z-popover)] min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...E})}));MenubarContent.displayName=Content2$1.displayName;const MenubarItem=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Item3,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",o),...x}));MenubarItem.displayName=Item3.displayName;const MenubarCheckboxItem=reactExports.forwardRef(({className:o,children:r,checked:x,...O},E)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:E,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),checked:x,...O,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),r]}));MenubarCheckboxItem.displayName=CheckboxItem2.displayName;const MenubarRadioItem=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...x,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),r]}));MenubarRadioItem.displayName=RadioItem2.displayName;const MenubarLabel=reactExports.forwardRef(({className:o,inset:r,...x},O)=>jsxRuntimeExports.jsx(Label2,{ref:O,className:cn("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",o),...x}));MenubarLabel.displayName=Label2.displayName;const MenubarSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Separator2,{ref:x,className:cn("-mx-1 my-1 h-px bg-muted",o),...r}));MenubarSeparator.displayName=Separator2.displayName;var NAVIGATION_MENU_NAME="NavigationMenu",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(NAVIGATION_MENU_NAME),[FocusGroupCollection,useFocusGroupCollection,createFocusGroupCollectionScope]=createCollection(NAVIGATION_MENU_NAME),[createNavigationMenuContext]=createContextScope(NAVIGATION_MENU_NAME,[createCollectionScope$2,createFocusGroupCollectionScope]),[NavigationMenuProviderImpl,useNavigationMenuContext]=createNavigationMenuContext(NAVIGATION_MENU_NAME),[ViewportContentProvider,useViewportContentContext]=createNavigationMenuContext(NAVIGATION_MENU_NAME),NavigationMenu$1=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,value:O,onValueChange:E,defaultValue:y,delayDuration:S=200,skipDelayDuration:j=300,orientation:w="horizontal",dir:_,...Q}=o,[I,M]=reactExports.useState(null),F=useComposedRefs$1(r,Qe=>M(Qe)),V=useDirection(_),te=reactExports.useRef(0),re=reactExports.useRef(0),se=reactExports.useRef(0),[ne,oe]=reactExports.useState(!0),[Oe,ae]=useControllableState({prop:O,onChange:Qe=>{const Xe=Qe!=="",Ue=j>0;Xe?(window.clearTimeout(se.current),Ue&&oe(!1)):(window.clearTimeout(se.current),se.current=window.setTimeout(()=>oe(!0),j)),E==null||E(Qe)},defaultProp:y??"",caller:NAVIGATION_MENU_NAME}),ge=reactExports.useCallback(()=>{window.clearTimeout(re.current),re.current=window.setTimeout(()=>ae(""),150)},[ae]),je=reactExports.useCallback(Qe=>{window.clearTimeout(re.current),ae(Qe)},[ae]),Ae=reactExports.useCallback(Qe=>{Oe===Qe?window.clearTimeout(re.current):te.current=window.setTimeout(()=>{window.clearTimeout(re.current),ae(Qe)},S)},[Oe,ae,S]);return reactExports.useEffect(()=>()=>{window.clearTimeout(te.current),window.clearTimeout(re.current),window.clearTimeout(se.current)},[]),jsxRuntimeExports.jsx(NavigationMenuProvider,{scope:x,isRootMenu:!0,value:Oe,dir:V,orientation:w,rootNavigationMenu:I,onTriggerEnter:Qe=>{window.clearTimeout(te.current),ne?Ae(Qe):je(Qe)},onTriggerLeave:()=>{window.clearTimeout(te.current),ge()},onContentEnter:()=>window.clearTimeout(re.current),onContentLeave:ge,onItemSelect:Qe=>{ae(Xe=>Xe===Qe?"":Qe)},onItemDismiss:()=>ae(""),children:jsxRuntimeExports.jsx(Primitive.nav,{"aria-label":"Main","data-orientation":w,dir:V,...Q,ref:F})})});NavigationMenu$1.displayName=NAVIGATION_MENU_NAME;var SUB_NAME="NavigationMenuSub",NavigationMenuSub=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,value:O,onValueChange:E,defaultValue:y,orientation:S="horizontal",...j}=o,w=useNavigationMenuContext(SUB_NAME,x),[_,Q]=useControllableState({prop:O,onChange:E,defaultProp:y??"",caller:SUB_NAME});return jsxRuntimeExports.jsx(NavigationMenuProvider,{scope:x,isRootMenu:!1,value:_,dir:w.dir,orientation:S,rootNavigationMenu:w.rootNavigationMenu,onTriggerEnter:I=>Q(I),onItemSelect:I=>Q(I),onItemDismiss:()=>Q(""),children:jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":S,...j,ref:r})})});NavigationMenuSub.displayName=SUB_NAME;var NavigationMenuProvider=o=>{const{scope:r,isRootMenu:x,rootNavigationMenu:O,dir:E,orientation:y,children:S,value:j,onItemSelect:w,onItemDismiss:_,onTriggerEnter:Q,onTriggerLeave:I,onContentEnter:M,onContentLeave:F}=o,[V,te]=reactExports.useState(null),[re,se]=reactExports.useState(new Map),[ne,oe]=reactExports.useState(null);return jsxRuntimeExports.jsx(NavigationMenuProviderImpl,{scope:r,isRootMenu:x,rootNavigationMenu:O,value:j,previousValue:usePrevious(j),baseId:useId$1(),dir:E,orientation:y,viewport:V,onViewportChange:te,indicatorTrack:ne,onIndicatorTrackChange:oe,onTriggerEnter:useCallbackRef(Q),onTriggerLeave:useCallbackRef(I),onContentEnter:useCallbackRef(M),onContentLeave:useCallbackRef(F),onItemSelect:useCallbackRef(w),onItemDismiss:useCallbackRef(_),onViewportContentChange:reactExports.useCallback((Oe,ae)=>{se(ge=>(ge.set(Oe,ae),new Map(ge)))},[]),onViewportContentRemove:reactExports.useCallback(Oe=>{se(ae=>ae.has(Oe)?(ae.delete(Oe),new Map(ae)):ae)},[]),children:jsxRuntimeExports.jsx(Collection$2.Provider,{scope:r,children:jsxRuntimeExports.jsx(ViewportContentProvider,{scope:r,items:re,children:S})})})},LIST_NAME="NavigationMenuList",NavigationMenuList$1=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,...O}=o,E=useNavigationMenuContext(LIST_NAME,x),y=jsxRuntimeExports.jsx(Primitive.ul,{"data-orientation":E.orientation,...O,ref:r});return jsxRuntimeExports.jsx(Primitive.div,{style:{position:"relative"},ref:E.onIndicatorTrackChange,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:x,children:E.isRootMenu?jsxRuntimeExports.jsx(FocusGroup,{asChild:!0,children:y}):y})})});NavigationMenuList$1.displayName=LIST_NAME;var ITEM_NAME$3="NavigationMenuItem",[NavigationMenuItemContextProvider,useNavigationMenuItemContext]=createNavigationMenuContext(ITEM_NAME$3),NavigationMenuItem=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,value:O,...E}=o,y=useId$1(),S=O||y||"LEGACY_REACT_AUTO_VALUE",j=reactExports.useRef(null),w=reactExports.useRef(null),_=reactExports.useRef(null),Q=reactExports.useRef(()=>{}),I=reactExports.useRef(!1),M=reactExports.useCallback((V="start")=>{if(j.current){Q.current();const te=getTabbableCandidates(j.current);te.length&&focusFirst(V==="start"?te:te.reverse())}},[]),F=reactExports.useCallback(()=>{if(j.current){const V=getTabbableCandidates(j.current);V.length&&(Q.current=removeFromTabOrder(V))}},[]);return jsxRuntimeExports.jsx(NavigationMenuItemContextProvider,{scope:x,value:S,triggerRef:w,contentRef:j,focusProxyRef:_,wasEscapeCloseRef:I,onEntryKeyDown:M,onFocusProxyEnter:M,onRootContentClose:F,onContentFocusOutside:F,children:jsxRuntimeExports.jsx(Primitive.li,{...E,ref:r})})});NavigationMenuItem.displayName=ITEM_NAME$3;var TRIGGER_NAME$2="NavigationMenuTrigger",NavigationMenuTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,disabled:O,...E}=o,y=useNavigationMenuContext(TRIGGER_NAME$2,o.__scopeNavigationMenu),S=useNavigationMenuItemContext(TRIGGER_NAME$2,o.__scopeNavigationMenu),j=reactExports.useRef(null),w=useComposedRefs$1(j,S.triggerRef,r),_=makeTriggerId$1(y.baseId,S.value),Q=makeContentId$1(y.baseId,S.value),I=reactExports.useRef(!1),M=reactExports.useRef(!1),F=S.value===y.value;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:x,value:S.value,children:jsxRuntimeExports.jsx(FocusGroupItem,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{id:_,disabled:O,"data-disabled":O?"":void 0,"data-state":getOpenState(F),"aria-expanded":F,"aria-controls":Q,...E,ref:w,onPointerEnter:composeEventHandlers(o.onPointerEnter,()=>{M.current=!1,S.wasEscapeCloseRef.current=!1}),onPointerMove:composeEventHandlers(o.onPointerMove,whenMouse(()=>{O||M.current||S.wasEscapeCloseRef.current||I.current||(y.onTriggerEnter(S.value),I.current=!0)})),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse(()=>{O||(y.onTriggerLeave(),I.current=!1)})),onClick:composeEventHandlers(o.onClick,()=>{y.onItemSelect(S.value),M.current=F}),onKeyDown:composeEventHandlers(o.onKeyDown,V=>{const re={horizontal:"ArrowDown",vertical:y.dir==="rtl"?"ArrowLeft":"ArrowRight"}[y.orientation];F&&V.key===re&&(S.onEntryKeyDown(),V.preventDefault())})})})}),F&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Root$7,{"aria-hidden":!0,tabIndex:0,ref:S.focusProxyRef,onFocus:V=>{const te=S.contentRef.current,re=V.relatedTarget,se=re===j.current,ne=te==null?void 0:te.contains(re);(se||!ne)&&S.onFocusProxyEnter(se?"start":"end")}}),y.viewport&&jsxRuntimeExports.jsx("span",{"aria-owns":Q})]})]})});NavigationMenuTrigger$1.displayName=TRIGGER_NAME$2;var LINK_NAME="NavigationMenuLink",LINK_SELECT="navigationMenu.linkSelect",NavigationMenuLink=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,active:O,onSelect:E,...y}=o;return jsxRuntimeExports.jsx(FocusGroupItem,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.a,{"data-active":O?"":void 0,"aria-current":O?"page":void 0,...y,ref:r,onClick:composeEventHandlers(o.onClick,S=>{const j=S.target,w=new CustomEvent(LINK_SELECT,{bubbles:!0,cancelable:!0});if(j.addEventListener(LINK_SELECT,_=>E==null?void 0:E(_),{once:!0}),dispatchDiscreteCustomEvent(j,w),!w.defaultPrevented&&!S.metaKey){const _=new CustomEvent(ROOT_CONTENT_DISMISS,{bubbles:!0,cancelable:!0});dispatchDiscreteCustomEvent(j,_)}},{checkForDefaultPrevented:!1})})})});NavigationMenuLink.displayName=LINK_NAME;var INDICATOR_NAME$2="NavigationMenuIndicator",NavigationMenuIndicator$1=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useNavigationMenuContext(INDICATOR_NAME$2,o.__scopeNavigationMenu),y=!!E.value;return E.indicatorTrack?ReactDOM.createPortal(jsxRuntimeExports.jsx(Presence,{present:x||y,children:jsxRuntimeExports.jsx(NavigationMenuIndicatorImpl,{...O,ref:r})}),E.indicatorTrack):null});NavigationMenuIndicator$1.displayName=INDICATOR_NAME$2;var NavigationMenuIndicatorImpl=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,...O}=o,E=useNavigationMenuContext(INDICATOR_NAME$2,x),y=useCollection$2(x),[S,j]=reactExports.useState(null),[w,_]=reactExports.useState(null),Q=E.orientation==="horizontal",I=!!E.value;reactExports.useEffect(()=>{var te;const V=(te=y().find(re=>re.value===E.value))==null?void 0:te.ref.current;V&&j(V)},[y,E.value]);const M=()=>{S&&_({size:Q?S.offsetWidth:S.offsetHeight,offset:Q?S.offsetLeft:S.offsetTop})};return useResizeObserver(S,M),useResizeObserver(E.indicatorTrack,M),w?jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,"data-state":I?"visible":"hidden","data-orientation":E.orientation,...O,ref:r,style:{position:"absolute",...Q?{left:0,width:w.size+"px",transform:`translateX(${w.offset}px)`}:{top:0,height:w.size+"px",transform:`translateY(${w.offset}px)`},...O.style}}):null}),CONTENT_NAME$2="NavigationMenuContent",NavigationMenuContent$1=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,E=useNavigationMenuContext(CONTENT_NAME$2,o.__scopeNavigationMenu),y=useNavigationMenuItemContext(CONTENT_NAME$2,o.__scopeNavigationMenu),S=useComposedRefs$1(y.contentRef,r),j=y.value===E.value,w={value:y.value,triggerRef:y.triggerRef,focusProxyRef:y.focusProxyRef,wasEscapeCloseRef:y.wasEscapeCloseRef,onContentFocusOutside:y.onContentFocusOutside,onRootContentClose:y.onRootContentClose,...O};return E.viewport?jsxRuntimeExports.jsx(ViewportContentMounter,{forceMount:x,...w,ref:S}):jsxRuntimeExports.jsx(Presence,{present:x||j,children:jsxRuntimeExports.jsx(NavigationMenuContentImpl,{"data-state":getOpenState(j),...w,ref:S,onPointerEnter:composeEventHandlers(o.onPointerEnter,E.onContentEnter),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse(E.onContentLeave)),style:{pointerEvents:!j&&E.isRootMenu?"none":void 0,...w.style}})})});NavigationMenuContent$1.displayName=CONTENT_NAME$2;var ViewportContentMounter=reactExports.forwardRef((o,r)=>{const x=useNavigationMenuContext(CONTENT_NAME$2,o.__scopeNavigationMenu),{onViewportContentChange:O,onViewportContentRemove:E}=x;return useLayoutEffect2(()=>{O(o.value,{ref:r,...o})},[o,r,O]),useLayoutEffect2(()=>()=>E(o.value),[o.value,E]),null}),ROOT_CONTENT_DISMISS="navigationMenu.rootContentDismiss",NavigationMenuContentImpl=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,value:O,triggerRef:E,focusProxyRef:y,wasEscapeCloseRef:S,onRootContentClose:j,onContentFocusOutside:w,..._}=o,Q=useNavigationMenuContext(CONTENT_NAME$2,x),I=reactExports.useRef(null),M=useComposedRefs$1(I,r),F=makeTriggerId$1(Q.baseId,O),V=makeContentId$1(Q.baseId,O),te=useCollection$2(x),re=reactExports.useRef(null),{onItemDismiss:se}=Q;reactExports.useEffect(()=>{const oe=I.current;if(Q.isRootMenu&&oe){const Oe=()=>{var ae;se(),j(),oe.contains(document.activeElement)&&((ae=E.current)==null||ae.focus())};return oe.addEventListener(ROOT_CONTENT_DISMISS,Oe),()=>oe.removeEventListener(ROOT_CONTENT_DISMISS,Oe)}},[Q.isRootMenu,o.value,E,se,j]);const ne=reactExports.useMemo(()=>{const Oe=te().map(Xe=>Xe.value);Q.dir==="rtl"&&Oe.reverse();const ae=Oe.indexOf(Q.value),ge=Oe.indexOf(Q.previousValue),je=O===Q.value,Ae=ge===Oe.indexOf(O);if(!je&&!Ae)return re.current;const Qe=(()=>{if(ae!==ge){if(je&&ge!==-1)return ae>ge?"from-end":"from-start";if(Ae&&ae!==-1)return ae>ge?"to-start":"to-end"}return null})();return re.current=Qe,Qe},[Q.previousValue,Q.value,Q.dir,te,O]);return jsxRuntimeExports.jsx(FocusGroup,{asChild:!0,children:jsxRuntimeExports.jsx(DismissableLayer,{id:V,"aria-labelledby":F,"data-motion":ne,"data-orientation":Q.orientation,..._,ref:M,disableOutsidePointerEvents:!1,onDismiss:()=>{var Oe;const oe=new Event(ROOT_CONTENT_DISMISS,{bubbles:!0,cancelable:!0});(Oe=I.current)==null||Oe.dispatchEvent(oe)},onFocusOutside:composeEventHandlers(o.onFocusOutside,oe=>{var ae;w();const Oe=oe.target;(ae=Q.rootNavigationMenu)!=null&&ae.contains(Oe)&&oe.preventDefault()}),onPointerDownOutside:composeEventHandlers(o.onPointerDownOutside,oe=>{var je;const Oe=oe.target,ae=te().some(Ae=>{var Qe;return(Qe=Ae.ref.current)==null?void 0:Qe.contains(Oe)}),ge=Q.isRootMenu&&((je=Q.viewport)==null?void 0:je.contains(Oe));(ae||ge||!Q.isRootMenu)&&oe.preventDefault()}),onKeyDown:composeEventHandlers(o.onKeyDown,oe=>{var ge;const Oe=oe.altKey||oe.ctrlKey||oe.metaKey;if(oe.key==="Tab"&&!Oe){const je=getTabbableCandidates(oe.currentTarget),Ae=document.activeElement,Qe=je.findIndex(Le=>Le===Ae),Ue=oe.shiftKey?je.slice(0,Qe).reverse():je.slice(Qe+1,je.length);focusFirst(Ue)?oe.preventDefault():(ge=y.current)==null||ge.focus()}}),onEscapeKeyDown:composeEventHandlers(o.onEscapeKeyDown,oe=>{S.current=!0})})})}),VIEWPORT_NAME$1="NavigationMenuViewport",NavigationMenuViewport$1=reactExports.forwardRef((o,r)=>{const{forceMount:x,...O}=o,y=!!useNavigationMenuContext(VIEWPORT_NAME$1,o.__scopeNavigationMenu).value;return jsxRuntimeExports.jsx(Presence,{present:x||y,children:jsxRuntimeExports.jsx(NavigationMenuViewportImpl,{...O,ref:r})})});NavigationMenuViewport$1.displayName=VIEWPORT_NAME$1;var NavigationMenuViewportImpl=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,children:O,...E}=o,y=useNavigationMenuContext(VIEWPORT_NAME$1,x),S=useComposedRefs$1(r,y.onViewportChange),j=useViewportContentContext(CONTENT_NAME$2,o.__scopeNavigationMenu),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState(null),M=w?(w==null?void 0:w.width)+"px":void 0,F=w?(w==null?void 0:w.height)+"px":void 0,V=!!y.value,te=V?y.value:y.previousValue;return useResizeObserver(Q,()=>{Q&&_({width:Q.offsetWidth,height:Q.offsetHeight})}),jsxRuntimeExports.jsx(Primitive.div,{"data-state":getOpenState(V),"data-orientation":y.orientation,...E,ref:S,style:{pointerEvents:!V&&y.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":M,"--radix-navigation-menu-viewport-height":F,...E.style},onPointerEnter:composeEventHandlers(o.onPointerEnter,y.onContentEnter),onPointerLeave:composeEventHandlers(o.onPointerLeave,whenMouse(y.onContentLeave)),children:Array.from(j.items).map(([se,{ref:ne,forceMount:oe,...Oe}])=>{const ae=te===se;return jsxRuntimeExports.jsx(Presence,{present:oe||ae,children:jsxRuntimeExports.jsx(NavigationMenuContentImpl,{...Oe,ref:composeRefs$1(ne,ge=>{ae&&ge&&I(ge)})})},se)})})}),FOCUS_GROUP_NAME="FocusGroup",FocusGroup=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,...O}=o,E=useNavigationMenuContext(FOCUS_GROUP_NAME,x);return jsxRuntimeExports.jsx(FocusGroupCollection.Provider,{scope:x,children:jsxRuntimeExports.jsx(FocusGroupCollection.Slot,{scope:x,children:jsxRuntimeExports.jsx(Primitive.div,{dir:E.dir,...O,ref:r})})})}),ARROW_KEYS$2=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],FOCUS_GROUP_ITEM_NAME="FocusGroupItem",FocusGroupItem=reactExports.forwardRef((o,r)=>{const{__scopeNavigationMenu:x,...O}=o,E=useFocusGroupCollection(x),y=useNavigationMenuContext(FOCUS_GROUP_ITEM_NAME,x);return jsxRuntimeExports.jsx(FocusGroupCollection.ItemSlot,{scope:x,children:jsxRuntimeExports.jsx(Primitive.button,{...O,ref:r,onKeyDown:composeEventHandlers(o.onKeyDown,S=>{if(["Home","End",...ARROW_KEYS$2].includes(S.key)){let w=E().map(I=>I.ref.current);if([y.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(S.key)&&w.reverse(),ARROW_KEYS$2.includes(S.key)){const I=w.indexOf(S.currentTarget);w=w.slice(I+1)}setTimeout(()=>focusFirst(w)),S.preventDefault()}})})})});function getTabbableCandidates(o){const r=[],x=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:O=>{const E=O.tagName==="INPUT"&&O.type==="hidden";return O.disabled||O.hidden||E?NodeFilter.FILTER_SKIP:O.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;x.nextNode();)r.push(x.currentNode);return r}function focusFirst(o){const r=document.activeElement;return o.some(x=>x===r?!0:(x.focus(),document.activeElement!==r))}function removeFromTabOrder(o){return o.forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")}),()=>{o.forEach(r=>{const x=r.dataset.tabindex;r.setAttribute("tabindex",x)})}}function useResizeObserver(o,r){const x=useCallbackRef(r);useLayoutEffect2(()=>{let O=0;if(o){const E=new ResizeObserver(()=>{cancelAnimationFrame(O),O=window.requestAnimationFrame(x)});return E.observe(o),()=>{window.cancelAnimationFrame(O),E.unobserve(o)}}},[o,x])}function getOpenState(o){return o?"open":"closed"}function makeTriggerId$1(o,r){return`${o}-trigger-${r}`}function makeContentId$1(o,r){return`${o}-content-${r}`}function whenMouse(o){return r=>r.pointerType==="mouse"?o(r):void 0}var Root2$4=NavigationMenu$1,List$1=NavigationMenuList$1,Trigger$2=NavigationMenuTrigger$1,Indicator$2=NavigationMenuIndicator$1,Content$1=NavigationMenuContent$1,Viewport$2=NavigationMenuViewport$1;const NavigationMenu=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(Root2$4,{ref:O,className:cn("relative z-10 flex max-w-max flex-1 items-center justify-center",o),...x,children:[r,jsxRuntimeExports.jsx(NavigationMenuViewport,{})]}));NavigationMenu.displayName=Root2$4.displayName;const NavigationMenuList=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(List$1,{ref:x,className:cn("group flex flex-1 list-none items-center justify-center space-x-1",o),...r}));NavigationMenuList.displayName=List$1.displayName;const navigationMenuTriggerStyle=cva("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),NavigationMenuTrigger=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:O,className:cn(navigationMenuTriggerStyle(),"group",o),...x,children:[r," ",jsxRuntimeExports.jsx(ChevronDown,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));NavigationMenuTrigger.displayName=Trigger$2.displayName;const NavigationMenuContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Content$1,{ref:x,className:cn("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",o),...r}));NavigationMenuContent.displayName=Content$1.displayName;const NavigationMenuViewport=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{className:cn("absolute left-0 top-full flex justify-center"),children:jsxRuntimeExports.jsx(Viewport$2,{className:cn("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",o),ref:x,...r})}));NavigationMenuViewport.displayName=Viewport$2.displayName;const NavigationMenuIndicator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Indicator$2,{ref:x,className:cn("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",o),...r,children:jsxRuntimeExports.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));NavigationMenuIndicator.displayName=Indicator$2.displayName;var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((o,r)=>{const{__scopeProgress:x,value:O=null,max:E,getValueLabel:y=defaultGetValueLabel,...S}=o;(E||E===0)&&!isValidMaxNumber(E)&&console.error(getInvalidMaxError(`${E}`,"Progress"));const j=isValidMaxNumber(E)?E:DEFAULT_MAX;O!==null&&!isValidValueNumber(O,j)&&console.error(getInvalidValueError(`${O}`,"Progress"));const w=isValidValueNumber(O,j)?O:null,_=isNumber(w)?y(w,j):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:x,value:w,max:j,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":j,"aria-valuemin":0,"aria-valuenow":isNumber(w)?w:void 0,"aria-valuetext":_,role:"progressbar","data-state":getProgressState(w,j),"data-value":w??void 0,"data-max":j,...S,ref:r})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$1="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((o,r)=>{const{__scopeProgress:x,...O}=o,E=useProgressContext(INDICATOR_NAME$1,x);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(E.value,E.max),"data-value":E.value??void 0,"data-max":E.max,...O,ref:r})});ProgressIndicator.displayName=INDICATOR_NAME$1;function defaultGetValueLabel(o,r){return`${Math.round(o/r*100)}%`}function getProgressState(o,r){return o==null?"indeterminate":o===r?"complete":"loading"}function isNumber(o){return typeof o=="number"}function isValidMaxNumber(o){return isNumber(o)&&!isNaN(o)&&o>0}function isValidValueNumber(o,r){return isNumber(o)&&!isNaN(o)&&o<=r&&o>=0}function getInvalidMaxError(o,r){return`Invalid prop \`max\` of value \`${o}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(o,r){return`Invalid prop \`value\` of value \`${o}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$4=Progress$1,Indicator$1=ProgressIndicator;const Progress=reactExports.forwardRef(({className:o,value:r,...x},O)=>jsxRuntimeExports.jsx(Root$4,{ref:O,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary border border-border/50",o),...x,children:jsxRuntimeExports.jsx(Indicator$1,{className:"h-full w-full flex-1 bg-primary transition-all rounded-full",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Progress.displayName=Root$4.displayName;var RADIO_NAME="Radio",[createRadioContext,createRadioScope]=createContextScope(RADIO_NAME),[RadioProvider,useRadioContext]=createRadioContext(RADIO_NAME),Radio=reactExports.forwardRef((o,r)=>{const{__scopeRadio:x,name:O,checked:E=!1,required:y,disabled:S,value:j="on",onCheck:w,form:_,...Q}=o,[I,M]=reactExports.useState(null),F=useComposedRefs$1(r,re=>M(re)),V=reactExports.useRef(!1),te=I?_||!!I.closest("form"):!0;return jsxRuntimeExports.jsxs(RadioProvider,{scope:x,checked:E,disabled:S,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":E,"data-state":getState$1(E),"data-disabled":S?"":void 0,disabled:S,value:j,...Q,ref:F,onClick:composeEventHandlers(o.onClick,re=>{E||w==null||w(),te&&(V.current=re.isPropagationStopped(),V.current||re.stopPropagation())})}),te&&jsxRuntimeExports.jsx(RadioBubbleInput,{control:I,bubbles:!V.current,name:O,value:j,checked:E,required:y,disabled:S,form:_,style:{transform:"translateX(-100%)"}})]})});Radio.displayName=RADIO_NAME;var INDICATOR_NAME="RadioIndicator",RadioIndicator=reactExports.forwardRef((o,r)=>{const{__scopeRadio:x,forceMount:O,...E}=o,y=useRadioContext(INDICATOR_NAME,x);return jsxRuntimeExports.jsx(Presence,{present:O||y.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(y.checked),"data-disabled":y.disabled?"":void 0,...E,ref:r})})});RadioIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME$3="RadioBubbleInput",RadioBubbleInput=reactExports.forwardRef(({__scopeRadio:o,control:r,checked:x,bubbles:O=!0,...E},y)=>{const S=reactExports.useRef(null),j=useComposedRefs$1(S,y),w=usePrevious(x),_=useSize(r);return reactExports.useEffect(()=>{const Q=S.current;if(!Q)return;const I=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(I,"checked").set;if(w!==x&&F){const V=new Event("click",{bubbles:O});F.call(Q,x),Q.dispatchEvent(V)}},[w,x,O]),jsxRuntimeExports.jsx(Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:x,...E,tabIndex:-1,ref:j,style:{...E.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RadioBubbleInput.displayName=BUBBLE_INPUT_NAME$3;function getState$1(o){return o?"checked":"unchecked"}var ARROW_KEYS$1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RADIO_GROUP_NAME="RadioGroup",[createRadioGroupContext]=createContextScope(RADIO_GROUP_NAME,[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope$2=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext(RADIO_GROUP_NAME),RadioGroup$1=reactExports.forwardRef((o,r)=>{const{__scopeRadioGroup:x,name:O,defaultValue:E,value:y,required:S=!1,disabled:j=!1,orientation:w,dir:_,loop:Q=!0,onValueChange:I,...M}=o,F=useRovingFocusGroupScope$2(x),V=useDirection(_),[te,re]=useControllableState({prop:y,defaultProp:E??null,onChange:I,caller:RADIO_GROUP_NAME});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:x,name:O,required:S,disabled:j,value:te,onValueChange:re,children:jsxRuntimeExports.jsx(Root$8,{asChild:!0,...F,orientation:w,dir:V,loop:Q,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":S,"aria-orientation":w,"data-disabled":j?"":void 0,dir:V,...M,ref:r})})})});RadioGroup$1.displayName=RADIO_GROUP_NAME;var ITEM_NAME$2="RadioGroupItem",RadioGroupItem$1=reactExports.forwardRef((o,r)=>{const{__scopeRadioGroup:x,disabled:O,...E}=o,y=useRadioGroupContext(ITEM_NAME$2,x),S=y.disabled||O,j=useRovingFocusGroupScope$2(x),w=useRadioScope(x),_=reactExports.useRef(null),Q=useComposedRefs$1(r,_),I=y.value===E.value,M=reactExports.useRef(!1);return reactExports.useEffect(()=>{const F=te=>{ARROW_KEYS$1.includes(te.key)&&(M.current=!0)},V=()=>M.current=!1;return document.addEventListener("keydown",F),document.addEventListener("keyup",V),()=>{document.removeEventListener("keydown",F),document.removeEventListener("keyup",V)}},[]),jsxRuntimeExports.jsx(Item$1,{asChild:!0,...j,focusable:!S,active:I,children:jsxRuntimeExports.jsx(Radio,{disabled:S,required:y.required,checked:I,...w,...E,name:y.name,ref:Q,onCheck:()=>y.onValueChange(E.value),onKeyDown:composeEventHandlers(F=>{F.key==="Enter"&&F.preventDefault()}),onFocus:composeEventHandlers(E.onFocus,()=>{var F;M.current&&((F=_.current)==null||F.click())})})})});RadioGroupItem$1.displayName=ITEM_NAME$2;var INDICATOR_NAME2="RadioGroupIndicator",RadioGroupIndicator=reactExports.forwardRef((o,r)=>{const{__scopeRadioGroup:x,...O}=o,E=useRadioScope(x);return jsxRuntimeExports.jsx(RadioIndicator,{...E,...O,ref:r})});RadioGroupIndicator.displayName=INDICATOR_NAME2;var Root2$3=RadioGroup$1,Item2$1=RadioGroupItem$1,Indicator=RadioGroupIndicator;const RadioGroup=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Root2$3,{className:cn("grid gap-2",o),...r,ref:x}));RadioGroup.displayName=Root2$3.displayName;const RadioGroupItem=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Item2$1,{ref:x,className:cn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),...r,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2$1.displayName;const PanelGroupContext=reactExports.createContext(null);PanelGroupContext.displayName="PanelGroupContext";const DATA_ATTRIBUTES={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandleId:"data-panel-resize-handle-id"},PRECISION=10,useIsomorphicLayoutEffect=reactExports.useLayoutEffect,useId=React$2.useId,wrappedUseId=typeof useId=="function"?useId:()=>null;let counter=0;function useUniqueId(o=null){const r=wrappedUseId(),x=reactExports.useRef(o||r||null);return x.current===null&&(x.current=""+counter++),o??x.current}function PanelWithForwardedRef({children:o,className:r="",collapsedSize:x,collapsible:O,defaultSize:E,forwardedRef:y,id:S,maxSize:j,minSize:w,onCollapse:_,onExpand:Q,onResize:I,order:M,style:F,tagName:V="div",...te}){const re=reactExports.useContext(PanelGroupContext);if(re===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:se,expandPanel:ne,getPanelSize:oe,getPanelStyle:Oe,groupId:ae,isPanelCollapsed:ge,reevaluatePanelConstraints:je,registerPanel:Ae,resizePanel:Qe,unregisterPanel:Xe}=re,Ue=useUniqueId(S),Le=reactExports.useRef({callbacks:{onCollapse:_,onExpand:Q,onResize:I},constraints:{collapsedSize:x,collapsible:O,defaultSize:E,maxSize:j,minSize:w},id:Ue,idIsFromProps:S!==void 0,order:M});reactExports.useRef({didLogMissingDefaultSizeWarning:!1}),useIsomorphicLayoutEffect(()=>{const{callbacks:Be,constraints:Ge}=Le.current,We={...Ge};Le.current.id=Ue,Le.current.idIsFromProps=S!==void 0,Le.current.order=M,Be.onCollapse=_,Be.onExpand=Q,Be.onResize=I,Ge.collapsedSize=x,Ge.collapsible=O,Ge.defaultSize=E,Ge.maxSize=j,Ge.minSize=w,(We.collapsedSize!==Ge.collapsedSize||We.collapsible!==Ge.collapsible||We.maxSize!==Ge.maxSize||We.minSize!==Ge.minSize)&&je(Le.current,We)}),useIsomorphicLayoutEffect(()=>{const Be=Le.current;return Ae(Be),()=>{Xe(Be)}},[M,Ue,Ae,Xe]),reactExports.useImperativeHandle(y,()=>({collapse:()=>{se(Le.current)},expand:Be=>{ne(Le.current,Be)},getId(){return Ue},getSize(){return oe(Le.current)},isCollapsed(){return ge(Le.current)},isExpanded(){return!ge(Le.current)},resize:Be=>{Qe(Le.current,Be)}}),[se,ne,oe,ge,Ue,Qe]);const Ze=Oe(Le.current,E);return reactExports.createElement(V,{...te,children:o,className:r,id:Ue,style:{...Ze,...F},[DATA_ATTRIBUTES.groupId]:ae,[DATA_ATTRIBUTES.panel]:"",[DATA_ATTRIBUTES.panelCollapsible]:O||void 0,[DATA_ATTRIBUTES.panelId]:Ue,[DATA_ATTRIBUTES.panelSize]:parseFloat(""+Ze.flexGrow).toFixed(1)})}const Panel=reactExports.forwardRef((o,r)=>reactExports.createElement(PanelWithForwardedRef,{...o,forwardedRef:r}));PanelWithForwardedRef.displayName="Panel";Panel.displayName="forwardRef(Panel)";function isKeyDown(o){return o.type==="keydown"}function isPointerEvent(o){return o.type.startsWith("pointer")}function isMouseEvent(o){return o.type.startsWith("mouse")}function getResizeEventCoordinates(o){if(isPointerEvent(o)){if(o.isPrimary)return{x:o.clientX,y:o.clientY}}else if(isMouseEvent(o))return{x:o.clientX,y:o.clientY};return{x:1/0,y:1/0}}function getInputType(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const EXCEEDED_HORIZONTAL_MIN=1,EXCEEDED_HORIZONTAL_MAX=2,EXCEEDED_VERTICAL_MIN=4,EXCEEDED_VERTICAL_MAX=8;getInputType();let panelConstraintFlags=new Map;function reportConstraintsViolation(o,r){panelConstraintFlags.set(o,r)}new AbortController;function useForceUpdate(){const[o,r]=reactExports.useState(0);return reactExports.useCallback(()=>r(x=>x+1),[])}function assert(o,r){if(!o)throw console.error(r),Error(r)}function fuzzyCompareNumbers(o,r,x=PRECISION){return o.toFixed(x)===r.toFixed(x)?0:o>r?1:-1}function fuzzyNumbersEqual$1(o,r,x=PRECISION){return fuzzyCompareNumbers(o,r,x)===0}function fuzzyNumbersEqual(o,r,x){return fuzzyCompareNumbers(o,r,x)===0}function fuzzyLayoutsEqual(o,r,x){if(o.length!==r.length)return!1;for(let O=0;O<o.length;O++){const E=o[O],y=r[O];if(!fuzzyNumbersEqual(E,y,x))return!1}return!0}function resizePanel({panelConstraints:o,panelIndex:r,size:x}){const O=o[r];assert(O!=null,`Panel constraints not found for index ${r}`);let{collapsedSize:E=0,collapsible:y,maxSize:S=100,minSize:j=0}=O;if(fuzzyCompareNumbers(x,j)<0)if(y){const w=(E+j)/2;fuzzyCompareNumbers(x,w)<0?x=E:x=j}else x=j;return x=Math.min(S,x),x=parseFloat(x.toFixed(PRECISION)),x}function adjustLayoutByDelta({delta:o,initialLayout:r,panelConstraints:x,pivotIndices:O,prevLayout:E,trigger:y}){if(fuzzyNumbersEqual(o,0))return r;const S=[...r],[j,w]=O;assert(j!=null,"Invalid first pivot index"),assert(w!=null,"Invalid second pivot index");let _=0;if(y==="keyboard"){{const I=o<0?w:j,M=x[I];assert(M,`Panel constraints not found for index ${I}`);const{collapsedSize:F=0,collapsible:V,minSize:te=0}=M;if(V){const re=r[I];if(assert(re!=null,`Previous layout not found for panel index ${I}`),fuzzyNumbersEqual(re,F)){const se=te-re;fuzzyCompareNumbers(se,Math.abs(o))>0&&(o=o<0?0-se:se)}}}{const I=o<0?j:w,M=x[I];assert(M,`No panel constraints found for index ${I}`);const{collapsedSize:F=0,collapsible:V,minSize:te=0}=M;if(V){const re=r[I];if(assert(re!=null,`Previous layout not found for panel index ${I}`),fuzzyNumbersEqual(re,te)){const se=re-F;fuzzyCompareNumbers(se,Math.abs(o))>0&&(o=o<0?0-se:se)}}}}{const I=o<0?1:-1;let M=o<0?w:j,F=0;for(;;){const te=r[M];assert(te!=null,`Previous layout not found for panel index ${M}`);const se=resizePanel({panelConstraints:x,panelIndex:M,size:100})-te;if(F+=se,M+=I,M<0||M>=x.length)break}const V=Math.min(Math.abs(o),Math.abs(F));o=o<0?0-V:V}{let M=o<0?j:w;for(;M>=0&&M<x.length;){const F=Math.abs(o)-Math.abs(_),V=r[M];assert(V!=null,`Previous layout not found for panel index ${M}`);const te=V-F,re=resizePanel({panelConstraints:x,panelIndex:M,size:te});if(!fuzzyNumbersEqual(V,re)&&(_+=V-re,S[M]=re,_.toPrecision(3).localeCompare(Math.abs(o).toPrecision(3),void 0,{numeric:!0})>=0))break;o<0?M--:M++}}if(fuzzyLayoutsEqual(E,S))return E;{const I=o<0?w:j,M=r[I];assert(M!=null,`Previous layout not found for panel index ${I}`);const F=M+_,V=resizePanel({panelConstraints:x,panelIndex:I,size:F});if(S[I]=V,!fuzzyNumbersEqual(V,F)){let te=F-V,se=o<0?w:j;for(;se>=0&&se<x.length;){const ne=S[se];assert(ne!=null,`Previous layout not found for panel index ${se}`);const oe=ne+te,Oe=resizePanel({panelConstraints:x,panelIndex:se,size:oe});if(fuzzyNumbersEqual(ne,Oe)||(te-=Oe-ne,S[se]=Oe),fuzzyNumbersEqual(te,0))break;o>0?se--:se++}}}const Q=S.reduce((I,M)=>M+I,0);return fuzzyNumbersEqual(Q,100)?S:E}function calculateAriaValues({layout:o,panelsArray:r,pivotIndices:x}){let O=0,E=100,y=0,S=0;const j=x[0];assert(j!=null,"No pivot index found"),r.forEach((I,M)=>{const{constraints:F}=I,{maxSize:V=100,minSize:te=0}=F;M===j?(O=te,E=V):(y+=te,S+=V)});const w=Math.min(E,100-y),_=Math.max(O,100-S),Q=o[j];return{valueMax:w,valueMin:_,valueNow:Q}}function getResizeHandleElementsForGroup(o,r=document){return Array.from(r.querySelectorAll(`[${DATA_ATTRIBUTES.resizeHandleId}][data-panel-group-id="${o}"]`))}function getResizeHandleElementIndex(o,r,x=document){const E=getResizeHandleElementsForGroup(o,x).findIndex(y=>y.getAttribute(DATA_ATTRIBUTES.resizeHandleId)===r);return E??null}function determinePivotIndices(o,r,x){const O=getResizeHandleElementIndex(o,r,x);return O!=null?[O,O+1]:[-1,-1]}function getPanelGroupElement(o,r=document){var x;if(r instanceof HTMLElement&&(r==null||(x=r.dataset)===null||x===void 0?void 0:x.panelGroupId)==o)return r;const O=r.querySelector(`[data-panel-group][data-panel-group-id="${o}"]`);return O||null}function getResizeHandleElement(o,r=document){const x=r.querySelector(`[${DATA_ATTRIBUTES.resizeHandleId}="${o}"]`);return x||null}function getResizeHandlePanelIds(o,r,x,O=document){var E,y,S,j;const w=getResizeHandleElement(r,O),_=getResizeHandleElementsForGroup(o,O),Q=w?_.indexOf(w):-1,I=(E=(y=x[Q])===null||y===void 0?void 0:y.id)!==null&&E!==void 0?E:null,M=(S=(j=x[Q+1])===null||j===void 0?void 0:j.id)!==null&&S!==void 0?S:null;return[I,M]}function useWindowSplitterPanelGroupBehavior({committedValuesRef:o,eagerValuesRef:r,groupId:x,layout:O,panelDataArray:E,panelGroupElement:y,setLayout:S}){reactExports.useRef({didWarnAboutMissingResizeHandle:!1}),useIsomorphicLayoutEffect(()=>{if(!y)return;const j=getResizeHandleElementsForGroup(x,y);for(let w=0;w<E.length-1;w++){const{valueMax:_,valueMin:Q,valueNow:I}=calculateAriaValues({layout:O,panelsArray:E,pivotIndices:[w,w+1]}),M=j[w];if(M!=null){const F=E[w];assert(F,`No panel data found for index "${w}"`),M.setAttribute("aria-controls",F.id),M.setAttribute("aria-valuemax",""+Math.round(_)),M.setAttribute("aria-valuemin",""+Math.round(Q)),M.setAttribute("aria-valuenow",I!=null?""+Math.round(I):"")}}return()=>{j.forEach((w,_)=>{w.removeAttribute("aria-controls"),w.removeAttribute("aria-valuemax"),w.removeAttribute("aria-valuemin"),w.removeAttribute("aria-valuenow")})}},[x,O,E,y]),reactExports.useEffect(()=>{if(!y)return;const j=r.current;assert(j,"Eager values not found");const{panelDataArray:w}=j,_=getPanelGroupElement(x,y);assert(_!=null,`No group found for id "${x}"`);const Q=getResizeHandleElementsForGroup(x,y);assert(Q,`No resize handles found for group id "${x}"`);const I=Q.map(M=>{const F=M.getAttribute(DATA_ATTRIBUTES.resizeHandleId);assert(F,"Resize handle element has no handle id attribute");const[V,te]=getResizeHandlePanelIds(x,F,w,y);if(V==null||te==null)return()=>{};const re=se=>{if(!se.defaultPrevented)switch(se.key){case"Enter":{se.preventDefault();const ne=w.findIndex(oe=>oe.id===V);if(ne>=0){const oe=w[ne];assert(oe,`No panel data found for index ${ne}`);const Oe=O[ne],{collapsedSize:ae=0,collapsible:ge,minSize:je=0}=oe.constraints;if(Oe!=null&&ge){const Ae=adjustLayoutByDelta({delta:fuzzyNumbersEqual(Oe,ae)?je-ae:ae-Oe,initialLayout:O,panelConstraints:w.map(Qe=>Qe.constraints),pivotIndices:determinePivotIndices(x,F,y),prevLayout:O,trigger:"keyboard"});O!==Ae&&S(Ae)}}break}}};return M.addEventListener("keydown",re),()=>{M.removeEventListener("keydown",re)}});return()=>{I.forEach(M=>M())}},[y,o,r,x,O,E,S])}function areEqual(o,r){if(o.length!==r.length)return!1;for(let x=0;x<o.length;x++)if(o[x]!==r[x])return!1;return!0}function getResizeEventCursorPosition(o,r){const x=o==="horizontal",{x:O,y:E}=getResizeEventCoordinates(r);return x?O:E}function calculateDragOffsetPercentage(o,r,x,O,E){const y=x==="horizontal",S=getResizeHandleElement(r,E);assert(S,`No resize handle element found for id "${r}"`);const j=S.getAttribute(DATA_ATTRIBUTES.groupId);assert(j,"Resize handle element has no group id attribute");let{initialCursorPosition:w}=O;const _=getResizeEventCursorPosition(x,o),Q=getPanelGroupElement(j,E);assert(Q,`No group element found for id "${j}"`);const I=Q.getBoundingClientRect(),M=y?I.width:I.height;return(_-w)/M*100}function calculateDeltaPercentage(o,r,x,O,E,y){if(isKeyDown(o)){const S=x==="horizontal";let j=0;o.shiftKey?j=100:E!=null?j=E:j=10;let w=0;switch(o.key){case"ArrowDown":w=S?0:j;break;case"ArrowLeft":w=S?-j:0;break;case"ArrowRight":w=S?j:0;break;case"ArrowUp":w=S?0:-j;break;case"End":w=100;break;case"Home":w=-100;break}return w}else return O==null?0:calculateDragOffsetPercentage(o,r,x,O,y)}function calculateUnsafeDefaultLayout({panelDataArray:o}){const r=Array(o.length),x=o.map(y=>y.constraints);let O=0,E=100;for(let y=0;y<o.length;y++){const S=x[y];assert(S,`Panel constraints not found for index ${y}`);const{defaultSize:j}=S;j!=null&&(O++,r[y]=j,E-=j)}for(let y=0;y<o.length;y++){const S=x[y];assert(S,`Panel constraints not found for index ${y}`);const{defaultSize:j}=S;if(j!=null)continue;const w=o.length-O,_=E/w;O++,r[y]=_,E-=_}return r}function callPanelCallbacks(o,r,x){r.forEach((O,E)=>{const y=o[E];assert(y,`Panel data not found for index ${E}`);const{callbacks:S,constraints:j,id:w}=y,{collapsedSize:_=0,collapsible:Q}=j,I=x[w];if(I==null||O!==I){x[w]=O;const{onCollapse:M,onExpand:F,onResize:V}=S;V&&V(O,I),Q&&(M||F)&&(F&&(I==null||fuzzyNumbersEqual$1(I,_))&&!fuzzyNumbersEqual$1(O,_)&&F(),M&&(I==null||!fuzzyNumbersEqual$1(I,_))&&fuzzyNumbersEqual$1(O,_)&&M())}})}function compareLayouts(o,r){if(o.length!==r.length)return!1;for(let x=0;x<o.length;x++)if(o[x]!=r[x])return!1;return!0}function computePanelFlexBoxStyle({defaultSize:o,dragState:r,layout:x,panelData:O,panelIndex:E,precision:y=3}){const S=x[E];let j;return S==null?j=o!=null?o.toPrecision(y):"1":O.length===1?j="1":j=S.toPrecision(y),{flexBasis:0,flexGrow:j,flexShrink:1,overflow:"hidden",pointerEvents:r!==null?"none":void 0}}function debounce(o,r=10){let x=null;return(...E)=>{x!==null&&clearTimeout(x),x=setTimeout(()=>{o(...E)},r)}}function initializeDefaultStorage(o){try{if(typeof localStorage<"u")o.getItem=r=>localStorage.getItem(r),o.setItem=(r,x)=>{localStorage.setItem(r,x)};else throw new Error("localStorage not supported in this environment")}catch(r){console.error(r),o.getItem=()=>null,o.setItem=()=>{}}}function getPanelGroupKey(o){return`react-resizable-panels:${o}`}function getPanelKey(o){return o.map(r=>{const{constraints:x,id:O,idIsFromProps:E,order:y}=r;return E?O:y?`${y}:${JSON.stringify(x)}`:JSON.stringify(x)}).sort((r,x)=>r.localeCompare(x)).join(",")}function loadSerializedPanelGroupState(o,r){try{const x=getPanelGroupKey(o),O=r.getItem(x);if(O){const E=JSON.parse(O);if(typeof E=="object"&&E!=null)return E}}catch{}return null}function loadPanelGroupState(o,r,x){var O,E;const y=(O=loadSerializedPanelGroupState(o,x))!==null&&O!==void 0?O:{},S=getPanelKey(r);return(E=y[S])!==null&&E!==void 0?E:null}function savePanelGroupState(o,r,x,O,E){var y;const S=getPanelGroupKey(o),j=getPanelKey(r),w=(y=loadSerializedPanelGroupState(o,E))!==null&&y!==void 0?y:{};w[j]={expandToSizes:Object.fromEntries(x.entries()),layout:O};try{E.setItem(S,JSON.stringify(w))}catch(_){console.error(_)}}function validatePanelGroupLayout({layout:o,panelConstraints:r}){const x=[...o],O=x.reduce((y,S)=>y+S,0);if(x.length!==r.length)throw Error(`Invalid ${r.length} panel layout: ${x.map(y=>`${y}%`).join(", ")}`);if(!fuzzyNumbersEqual(O,100)&&x.length>0)for(let y=0;y<r.length;y++){const S=x[y];assert(S!=null,`No layout data found for index ${y}`);const j=100/O*S;x[y]=j}let E=0;for(let y=0;y<r.length;y++){const S=x[y];assert(S!=null,`No layout data found for index ${y}`);const j=resizePanel({panelConstraints:r,panelIndex:y,size:S});S!=j&&(E+=S-j,x[y]=j)}if(!fuzzyNumbersEqual(E,0))for(let y=0;y<r.length;y++){const S=x[y];assert(S!=null,`No layout data found for index ${y}`);const j=S+E,w=resizePanel({panelConstraints:r,panelIndex:y,size:j});if(S!==w&&(E-=w-S,x[y]=w,fuzzyNumbersEqual(E,0)))break}return x}const LOCAL_STORAGE_DEBOUNCE_INTERVAL=100,defaultStorage={getItem:o=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(o)),setItem:(o,r)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(o,r)}},debounceMap={};function PanelGroupWithForwardedRef({autoSaveId:o=null,children:r,className:x="",direction:O,forwardedRef:E,id:y=null,onLayout:S=null,keyboardResizeBy:j=null,storage:w=defaultStorage,style:_,tagName:Q="div",...I}){const M=useUniqueId(y),F=reactExports.useRef(null),[V,te]=reactExports.useState(null),[re,se]=reactExports.useState([]),ne=useForceUpdate(),oe=reactExports.useRef({}),Oe=reactExports.useRef(new Map),ae=reactExports.useRef(0),ge=reactExports.useRef({autoSaveId:o,direction:O,dragState:V,id:M,keyboardResizeBy:j,onLayout:S,storage:w}),je=reactExports.useRef({layout:re,panelDataArray:[],panelDataArrayChanged:!1});reactExports.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),reactExports.useImperativeHandle(E,()=>({getId:()=>ge.current.id,getLayout:()=>{const{layout:He}=je.current;return He},setLayout:He=>{const{onLayout:tt}=ge.current,{layout:ct,panelDataArray:ut}=je.current,it=validatePanelGroupLayout({layout:He,panelConstraints:ut.map(yt=>yt.constraints)});areEqual(ct,it)||(se(it),je.current.layout=it,tt&&tt(it),callPanelCallbacks(ut,it,oe.current))}}),[]),useIsomorphicLayoutEffect(()=>{ge.current.autoSaveId=o,ge.current.direction=O,ge.current.dragState=V,ge.current.id=M,ge.current.onLayout=S,ge.current.storage=w}),useWindowSplitterPanelGroupBehavior({committedValuesRef:ge,eagerValuesRef:je,groupId:M,layout:re,panelDataArray:je.current.panelDataArray,setLayout:se,panelGroupElement:F.current}),reactExports.useEffect(()=>{const{panelDataArray:He}=je.current;if(o){if(re.length===0||re.length!==He.length)return;let tt=debounceMap[o];tt==null&&(tt=debounce(savePanelGroupState,LOCAL_STORAGE_DEBOUNCE_INTERVAL),debounceMap[o]=tt);const ct=[...He],ut=new Map(Oe.current);tt(o,ct,ut,re,w)}},[o,re,w]),reactExports.useEffect(()=>{});const Ae=reactExports.useCallback(He=>{const{onLayout:tt}=ge.current,{layout:ct,panelDataArray:ut}=je.current;if(He.constraints.collapsible){const it=ut.map(ot=>ot.constraints),{collapsedSize:yt=0,panelSize:et,pivotIndices:qe}=panelDataHelper(ut,He,ct);if(assert(et!=null,`Panel size not found for panel "${He.id}"`),!fuzzyNumbersEqual$1(et,yt)){Oe.current.set(He.id,et);const pt=findPanelDataIndex(ut,He)===ut.length-1?et-yt:yt-et,Ve=adjustLayoutByDelta({delta:pt,initialLayout:ct,panelConstraints:it,pivotIndices:qe,prevLayout:ct,trigger:"imperative-api"});compareLayouts(ct,Ve)||(se(Ve),je.current.layout=Ve,tt&&tt(Ve),callPanelCallbacks(ut,Ve,oe.current))}}},[]),Qe=reactExports.useCallback((He,tt)=>{const{onLayout:ct}=ge.current,{layout:ut,panelDataArray:it}=je.current;if(He.constraints.collapsible){const yt=it.map(dt=>dt.constraints),{collapsedSize:et=0,panelSize:qe=0,minSize:ot=0,pivotIndices:pt}=panelDataHelper(it,He,ut),Ve=tt??ot;if(fuzzyNumbersEqual$1(qe,et)){const dt=Oe.current.get(He.id),Rt=dt!=null&&dt>=Ve?dt:Ve,Xt=findPanelDataIndex(it,He)===it.length-1?qe-Rt:Rt-qe,Ut=adjustLayoutByDelta({delta:Xt,initialLayout:ut,panelConstraints:yt,pivotIndices:pt,prevLayout:ut,trigger:"imperative-api"});compareLayouts(ut,Ut)||(se(Ut),je.current.layout=Ut,ct&&ct(Ut),callPanelCallbacks(it,Ut,oe.current))}}},[]),Xe=reactExports.useCallback(He=>{const{layout:tt,panelDataArray:ct}=je.current,{panelSize:ut}=panelDataHelper(ct,He,tt);return assert(ut!=null,`Panel size not found for panel "${He.id}"`),ut},[]),Ue=reactExports.useCallback((He,tt)=>{const{panelDataArray:ct}=je.current,ut=findPanelDataIndex(ct,He);return computePanelFlexBoxStyle({defaultSize:tt,dragState:V,layout:re,panelData:ct,panelIndex:ut})},[V,re]),Le=reactExports.useCallback(He=>{const{layout:tt,panelDataArray:ct}=je.current,{collapsedSize:ut=0,collapsible:it,panelSize:yt}=panelDataHelper(ct,He,tt);return assert(yt!=null,`Panel size not found for panel "${He.id}"`),it===!0&&fuzzyNumbersEqual$1(yt,ut)},[]),Ze=reactExports.useCallback(He=>{const{layout:tt,panelDataArray:ct}=je.current,{collapsedSize:ut=0,collapsible:it,panelSize:yt}=panelDataHelper(ct,He,tt);return assert(yt!=null,`Panel size not found for panel "${He.id}"`),!it||fuzzyCompareNumbers(yt,ut)>0},[]),Be=reactExports.useCallback(He=>{const{panelDataArray:tt}=je.current;tt.push(He),tt.sort((ct,ut)=>{const it=ct.order,yt=ut.order;return it==null&&yt==null?0:it==null?-1:yt==null?1:it-yt}),je.current.panelDataArrayChanged=!0,ne()},[ne]);useIsomorphicLayoutEffect(()=>{if(je.current.panelDataArrayChanged){je.current.panelDataArrayChanged=!1;const{autoSaveId:He,onLayout:tt,storage:ct}=ge.current,{layout:ut,panelDataArray:it}=je.current;let yt=null;if(He){const qe=loadPanelGroupState(He,it,ct);qe&&(Oe.current=new Map(Object.entries(qe.expandToSizes)),yt=qe.layout)}yt==null&&(yt=calculateUnsafeDefaultLayout({panelDataArray:it}));const et=validatePanelGroupLayout({layout:yt,panelConstraints:it.map(qe=>qe.constraints)});areEqual(ut,et)||(se(et),je.current.layout=et,tt&&tt(et),callPanelCallbacks(it,et,oe.current))}}),useIsomorphicLayoutEffect(()=>{const He=je.current;return()=>{He.layout=[]}},[]);const Ge=reactExports.useCallback(He=>{let tt=!1;const ct=F.current;return ct&&window.getComputedStyle(ct,null).getPropertyValue("direction")==="rtl"&&(tt=!0),function(it){it.preventDefault();const yt=F.current;if(!yt)return()=>null;const{direction:et,dragState:qe,id:ot,keyboardResizeBy:pt,onLayout:Ve}=ge.current,{layout:dt,panelDataArray:Rt}=je.current,{initialLayout:It}=qe??{},Xt=determinePivotIndices(ot,He,yt);let Ut=calculateDeltaPercentage(it,He,et,qe,pt,yt);const $t=et==="horizontal";$t&&tt&&(Ut=-Ut);const Yt=Rt.map(rr=>rr.constraints),zt=adjustLayoutByDelta({delta:Ut,initialLayout:It??dt,panelConstraints:Yt,pivotIndices:Xt,prevLayout:dt,trigger:isKeyDown(it)?"keyboard":"mouse-or-touch"}),Zt=!compareLayouts(dt,zt);(isPointerEvent(it)||isMouseEvent(it))&&ae.current!=Ut&&(ae.current=Ut,!Zt&&Ut!==0?$t?reportConstraintsViolation(He,Ut<0?EXCEEDED_HORIZONTAL_MIN:EXCEEDED_HORIZONTAL_MAX):reportConstraintsViolation(He,Ut<0?EXCEEDED_VERTICAL_MIN:EXCEEDED_VERTICAL_MAX):reportConstraintsViolation(He,0)),Zt&&(se(zt),je.current.layout=zt,Ve&&Ve(zt),callPanelCallbacks(Rt,zt,oe.current))}},[]),We=reactExports.useCallback((He,tt)=>{const{onLayout:ct}=ge.current,{layout:ut,panelDataArray:it}=je.current,yt=it.map(dt=>dt.constraints),{panelSize:et,pivotIndices:qe}=panelDataHelper(it,He,ut);assert(et!=null,`Panel size not found for panel "${He.id}"`);const pt=findPanelDataIndex(it,He)===it.length-1?et-tt:tt-et,Ve=adjustLayoutByDelta({delta:pt,initialLayout:ut,panelConstraints:yt,pivotIndices:qe,prevLayout:ut,trigger:"imperative-api"});compareLayouts(ut,Ve)||(se(Ve),je.current.layout=Ve,ct&&ct(Ve),callPanelCallbacks(it,Ve,oe.current))},[]),at=reactExports.useCallback((He,tt)=>{const{layout:ct,panelDataArray:ut}=je.current,{collapsedSize:it=0,collapsible:yt}=tt,{collapsedSize:et=0,collapsible:qe,maxSize:ot=100,minSize:pt=0}=He.constraints,{panelSize:Ve}=panelDataHelper(ut,He,ct);Ve!=null&&(yt&&qe&&fuzzyNumbersEqual$1(Ve,it)?fuzzyNumbersEqual$1(it,et)||We(He,et):Ve<pt?We(He,pt):Ve>ot&&We(He,ot))},[We]),rt=reactExports.useCallback((He,tt)=>{const{direction:ct}=ge.current,{layout:ut}=je.current;if(!F.current)return;const it=getResizeHandleElement(He,F.current);assert(it,`Drag handle element not found for id "${He}"`);const yt=getResizeEventCursorPosition(ct,tt);te({dragHandleId:He,dragHandleRect:it.getBoundingClientRect(),initialCursorPosition:yt,initialLayout:ut})},[]),Je=reactExports.useCallback(()=>{te(null)},[]),mt=reactExports.useCallback(He=>{const{panelDataArray:tt}=je.current,ct=findPanelDataIndex(tt,He);ct>=0&&(tt.splice(ct,1),delete oe.current[He.id],je.current.panelDataArrayChanged=!0,ne())},[ne]),Ke=reactExports.useMemo(()=>({collapsePanel:Ae,direction:O,dragState:V,expandPanel:Qe,getPanelSize:Xe,getPanelStyle:Ue,groupId:M,isPanelCollapsed:Le,isPanelExpanded:Ze,reevaluatePanelConstraints:at,registerPanel:Be,registerResizeHandle:Ge,resizePanel:We,startDragging:rt,stopDragging:Je,unregisterPanel:mt,panelGroupElement:F.current}),[Ae,V,O,Qe,Xe,Ue,M,Le,Ze,at,Be,Ge,We,rt,Je,mt]),ze={display:"flex",flexDirection:O==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return reactExports.createElement(PanelGroupContext.Provider,{value:Ke},reactExports.createElement(Q,{...I,children:r,className:x,id:y,ref:F,style:{...ze,..._},[DATA_ATTRIBUTES.group]:"",[DATA_ATTRIBUTES.groupDirection]:O,[DATA_ATTRIBUTES.groupId]:M}))}const PanelGroup$1=reactExports.forwardRef((o,r)=>reactExports.createElement(PanelGroupWithForwardedRef,{...o,forwardedRef:r}));PanelGroupWithForwardedRef.displayName="PanelGroup";PanelGroup$1.displayName="forwardRef(PanelGroup)";function findPanelDataIndex(o,r){return o.findIndex(x=>x===r||x.id===r.id)}function panelDataHelper(o,r,x){const O=findPanelDataIndex(o,r),y=O===o.length-1?[O-1,O]:[O,O+1],S=x[O];return{...r.constraints,panelSize:S,pivotIndices:y}}var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=o=>{const{__scopeSelect:r,children:x,open:O,defaultOpen:E,onOpenChange:y,value:S,defaultValue:j,onValueChange:w,dir:_,name:Q,autoComplete:I,disabled:M,required:F,form:V}=o,te=usePopperScope(r),[re,se]=reactExports.useState(null),[ne,oe]=reactExports.useState(null),[Oe,ae]=reactExports.useState(!1),ge=useDirection(_),[je,Ae]=useControllableState({prop:O,defaultProp:E??!1,onChange:y,caller:SELECT_NAME}),[Qe,Xe]=useControllableState({prop:S,defaultProp:j,onChange:w,caller:SELECT_NAME}),Ue=reactExports.useRef(null),Le=re?V||!!re.closest("form"):!0,[Ze,Be]=reactExports.useState(new Set),Ge=Array.from(Ze).map(We=>We.props.value).join(";");return jsxRuntimeExports.jsx(Root2$9,{...te,children:jsxRuntimeExports.jsxs(SelectProvider,{required:F,scope:r,trigger:re,onTriggerChange:se,valueNode:ne,onValueNodeChange:oe,valueNodeHasChildren:Oe,onValueNodeHasChildrenChange:ae,contentId:useId$1(),value:Qe,onValueChange:Xe,open:je,onOpenChange:Ae,dir:ge,triggerPointerDownPosRef:Ue,disabled:M,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:r,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:o.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(We=>{Be(at=>new Set(at).add(We))},[]),onNativeOptionRemove:reactExports.useCallback(We=>{Be(at=>{const rt=new Set(at);return rt.delete(We),rt})},[]),children:x})}),Le?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:F,tabIndex:-1,name:Q,autoComplete:I,value:Qe,onChange:We=>Xe(We.target.value),disabled:M,form:V,children:[Qe===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Ze)]},Ge):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,disabled:O=!1,...E}=o,y=usePopperScope(x),S=useSelectContext(TRIGGER_NAME$1,x),j=S.disabled||O,w=useComposedRefs$1(r,S.onTriggerChange),_=useCollection$1(x),Q=reactExports.useRef("touch"),[I,M,F]=useTypeaheadSearch(te=>{const re=_().filter(oe=>!oe.disabled),se=re.find(oe=>oe.value===S.value),ne=findNextItem(re,te,se);ne!==void 0&&S.onValueChange(ne.value)}),V=te=>{j||(S.onOpenChange(!0),F()),te&&(S.triggerPointerDownPosRef.current={x:Math.round(te.pageX),y:Math.round(te.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...y,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":S.contentId,"aria-expanded":S.open,"aria-required":S.required,"aria-autocomplete":"none",dir:S.dir,"data-state":S.open?"open":"closed",disabled:j,"data-disabled":j?"":void 0,"data-placeholder":shouldShowPlaceholder(S.value)?"":void 0,...E,ref:w,onClick:composeEventHandlers(E.onClick,te=>{te.currentTarget.focus(),Q.current!=="mouse"&&V(te)}),onPointerDown:composeEventHandlers(E.onPointerDown,te=>{Q.current=te.pointerType;const re=te.target;re.hasPointerCapture(te.pointerId)&&re.releasePointerCapture(te.pointerId),te.button===0&&te.ctrlKey===!1&&te.pointerType==="mouse"&&(V(te),te.preventDefault())}),onKeyDown:composeEventHandlers(E.onKeyDown,te=>{const re=I.current!=="";!(te.ctrlKey||te.altKey||te.metaKey)&&te.key.length===1&&M(te.key),!(re&&te.key===" ")&&OPEN_KEYS.includes(te.key)&&(V(),te.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,className:O,style:E,children:y,placeholder:S="",...j}=o,w=useSelectContext(VALUE_NAME,x),{onValueNodeHasChildrenChange:_}=w,Q=y!==void 0,I=useComposedRefs$1(r,w.onValueNodeChange);return useLayoutEffect2(()=>{_(Q)},[_,Q]),jsxRuntimeExports.jsx(Primitive.span,{...j,ref:I,style:{pointerEvents:"none"},children:shouldShowPlaceholder(w.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:S}):y})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,children:O,...E}=o;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...E,ref:r,children:O||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=o=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...o});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME$1="SelectContent",SelectContent$1=reactExports.forwardRef((o,r)=>{const x=useSelectContext(CONTENT_NAME$1,o.__scopeSelect),[O,E]=reactExports.useState();if(useLayoutEffect2(()=>{E(new DocumentFragment)},[]),!x.open){const y=O;return y?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:o.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:o.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:o.children})})}),y):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...o,ref:r})});SelectContent$1.displayName=CONTENT_NAME$1;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$1),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,position:O="item-aligned",onCloseAutoFocus:E,onEscapeKeyDown:y,onPointerDownOutside:S,side:j,sideOffset:w,align:_,alignOffset:Q,arrowPadding:I,collisionBoundary:M,collisionPadding:F,sticky:V,hideWhenDetached:te,avoidCollisions:re,...se}=o,ne=useSelectContext(CONTENT_NAME$1,x),[oe,Oe]=reactExports.useState(null),[ae,ge]=reactExports.useState(null),je=useComposedRefs$1(r,it=>Oe(it)),[Ae,Qe]=reactExports.useState(null),[Xe,Ue]=reactExports.useState(null),Le=useCollection$1(x),[Ze,Be]=reactExports.useState(!1),Ge=reactExports.useRef(!1);reactExports.useEffect(()=>{if(oe)return hideOthers(oe)},[oe]),useFocusGuards();const We=reactExports.useCallback(it=>{const[yt,...et]=Le().map(pt=>pt.ref.current),[qe]=et.slice(-1),ot=document.activeElement;for(const pt of it)if(pt===ot||(pt==null||pt.scrollIntoView({block:"nearest"}),pt===yt&&ae&&(ae.scrollTop=0),pt===qe&&ae&&(ae.scrollTop=ae.scrollHeight),pt==null||pt.focus(),document.activeElement!==ot))return},[Le,ae]),at=reactExports.useCallback(()=>We([Ae,oe]),[We,Ae,oe]);reactExports.useEffect(()=>{Ze&&at()},[Ze,at]);const{onOpenChange:rt,triggerPointerDownPosRef:Je}=ne;reactExports.useEffect(()=>{if(oe){let it={x:0,y:0};const yt=qe=>{var ot,pt;it={x:Math.abs(Math.round(qe.pageX)-(((ot=Je.current)==null?void 0:ot.x)??0)),y:Math.abs(Math.round(qe.pageY)-(((pt=Je.current)==null?void 0:pt.y)??0))}},et=qe=>{it.x<=10&&it.y<=10?qe.preventDefault():oe.contains(qe.target)||rt(!1),document.removeEventListener("pointermove",yt),Je.current=null};return Je.current!==null&&(document.addEventListener("pointermove",yt),document.addEventListener("pointerup",et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",et,{capture:!0})}}},[oe,rt,Je]),reactExports.useEffect(()=>{const it=()=>rt(!1);return window.addEventListener("blur",it),window.addEventListener("resize",it),()=>{window.removeEventListener("blur",it),window.removeEventListener("resize",it)}},[rt]);const[mt,Ke]=useTypeaheadSearch(it=>{const yt=Le().filter(ot=>!ot.disabled),et=yt.find(ot=>ot.ref.current===document.activeElement),qe=findNextItem(yt,it,et);qe&&setTimeout(()=>qe.ref.current.focus())}),ze=reactExports.useCallback((it,yt,et)=>{const qe=!Ge.current&&!et;(ne.value!==void 0&&ne.value===yt||qe)&&(Qe(it),qe&&(Ge.current=!0))},[ne.value]),He=reactExports.useCallback(()=>oe==null?void 0:oe.focus(),[oe]),tt=reactExports.useCallback((it,yt,et)=>{const qe=!Ge.current&&!et;(ne.value!==void 0&&ne.value===yt||qe)&&Ue(it)},[ne.value]),ct=O==="popper"?SelectPopperPosition:SelectItemAlignedPosition,ut=ct===SelectPopperPosition?{side:j,sideOffset:w,align:_,alignOffset:Q,arrowPadding:I,collisionBoundary:M,collisionPadding:F,sticky:V,hideWhenDetached:te,avoidCollisions:re}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:x,content:oe,viewport:ae,onViewportChange:ge,itemRefCallback:ze,selectedItem:Ae,onItemLeave:He,itemTextRefCallback:tt,focusSelectedItem:at,selectedItemText:Xe,position:O,isPositioned:Ze,searchRef:mt,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:ne.open,onMountAutoFocus:it=>{it.preventDefault()},onUnmountAutoFocus:composeEventHandlers(E,it=>{var yt;(yt=ne.trigger)==null||yt.focus({preventScroll:!0}),it.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:y,onPointerDownOutside:S,onFocusOutside:it=>it.preventDefault(),onDismiss:()=>ne.onOpenChange(!1),children:jsxRuntimeExports.jsx(ct,{role:"listbox",id:ne.contentId,"data-state":ne.open?"open":"closed",dir:ne.dir,onContextMenu:it=>it.preventDefault(),...se,...ut,onPlaced:()=>Be(!0),ref:je,style:{display:"flex",flexDirection:"column",outline:"none",...se.style},onKeyDown:composeEventHandlers(se.onKeyDown,it=>{const yt=it.ctrlKey||it.altKey||it.metaKey;if(it.key==="Tab"&&it.preventDefault(),!yt&&it.key.length===1&&Ke(it.key),["ArrowUp","ArrowDown","Home","End"].includes(it.key)){let qe=Le().filter(ot=>!ot.disabled).map(ot=>ot.ref.current);if(["ArrowUp","End"].includes(it.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(it.key)){const ot=it.target,pt=qe.indexOf(ot);qe=qe.slice(pt+1)}setTimeout(()=>We(qe)),it.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,onPlaced:O,...E}=o,y=useSelectContext(CONTENT_NAME$1,x),S=useSelectContentContext(CONTENT_NAME$1,x),[j,w]=reactExports.useState(null),[_,Q]=reactExports.useState(null),I=useComposedRefs$1(r,je=>Q(je)),M=useCollection$1(x),F=reactExports.useRef(!1),V=reactExports.useRef(!0),{viewport:te,selectedItem:re,selectedItemText:se,focusSelectedItem:ne}=S,oe=reactExports.useCallback(()=>{if(y.trigger&&y.valueNode&&j&&_&&te&&re&&se){const je=y.trigger.getBoundingClientRect(),Ae=_.getBoundingClientRect(),Qe=y.valueNode.getBoundingClientRect(),Xe=se.getBoundingClientRect();if(y.dir!=="rtl"){const ot=Xe.left-Ae.left,pt=Qe.left-ot,Ve=je.left-pt,dt=je.width+Ve,Rt=Math.max(dt,Ae.width),It=window.innerWidth-CONTENT_MARGIN,Xt=clamp(pt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,It-Rt)]);j.style.minWidth=dt+"px",j.style.left=Xt+"px"}else{const ot=Ae.right-Xe.right,pt=window.innerWidth-Qe.right-ot,Ve=window.innerWidth-je.right-pt,dt=je.width+Ve,Rt=Math.max(dt,Ae.width),It=window.innerWidth-CONTENT_MARGIN,Xt=clamp(pt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,It-Rt)]);j.style.minWidth=dt+"px",j.style.right=Xt+"px"}const Ue=M(),Le=window.innerHeight-CONTENT_MARGIN*2,Ze=te.scrollHeight,Be=window.getComputedStyle(_),Ge=parseInt(Be.borderTopWidth,10),We=parseInt(Be.paddingTop,10),at=parseInt(Be.borderBottomWidth,10),rt=parseInt(Be.paddingBottom,10),Je=Ge+We+Ze+rt+at,mt=Math.min(re.offsetHeight*5,Je),Ke=window.getComputedStyle(te),ze=parseInt(Ke.paddingTop,10),He=parseInt(Ke.paddingBottom,10),tt=je.top+je.height/2-CONTENT_MARGIN,ct=Le-tt,ut=re.offsetHeight/2,it=re.offsetTop+ut,yt=Ge+We+it,et=Je-yt;if(yt<=tt){const ot=Ue.length>0&&re===Ue[Ue.length-1].ref.current;j.style.bottom="0px";const pt=_.clientHeight-te.offsetTop-te.offsetHeight,Ve=Math.max(ct,ut+(ot?He:0)+pt+at),dt=yt+Ve;j.style.height=dt+"px"}else{const ot=Ue.length>0&&re===Ue[0].ref.current;j.style.top="0px";const Ve=Math.max(tt,Ge+te.offsetTop+(ot?ze:0)+ut)+et;j.style.height=Ve+"px",te.scrollTop=yt-tt+te.offsetTop}j.style.margin=`${CONTENT_MARGIN}px 0`,j.style.minHeight=mt+"px",j.style.maxHeight=Le+"px",O==null||O(),requestAnimationFrame(()=>F.current=!0)}},[M,y.trigger,y.valueNode,j,_,te,re,se,y.dir,O]);useLayoutEffect2(()=>oe(),[oe]);const[Oe,ae]=reactExports.useState();useLayoutEffect2(()=>{_&&ae(window.getComputedStyle(_).zIndex)},[_]);const ge=reactExports.useCallback(je=>{je&&V.current===!0&&(oe(),ne==null||ne(),V.current=!1)},[oe,ne]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:x,contentWrapper:j,shouldExpandOnScrollRef:F,onScrollButtonChange:ge,children:jsxRuntimeExports.jsx("div",{ref:w,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Oe},children:jsxRuntimeExports.jsx(Primitive.div,{...E,ref:I,style:{boxSizing:"border-box",maxHeight:"100%",...E.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,align:O="start",collisionPadding:E=CONTENT_MARGIN,...y}=o,S=usePopperScope(x);return jsxRuntimeExports.jsx(Content$3,{...S,...y,ref:r,align:O,collisionPadding:E,style:{boxSizing:"border-box",...y.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$1,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,nonce:O,...E}=o,y=useSelectContentContext(VIEWPORT_NAME,x),S=useSelectViewportContext(VIEWPORT_NAME,x),j=useComposedRefs$1(r,y.onViewportChange),w=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:O}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:x,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...E,ref:j,style:{position:"relative",flex:1,overflow:"hidden auto",...E.style},onScroll:composeEventHandlers(E.onScroll,_=>{const Q=_.currentTarget,{contentWrapper:I,shouldExpandOnScrollRef:M}=S;if(M!=null&&M.current&&I){const F=Math.abs(w.current-Q.scrollTop);if(F>0){const V=window.innerHeight-CONTENT_MARGIN*2,te=parseFloat(I.style.minHeight),re=parseFloat(I.style.height),se=Math.max(te,re);if(se<V){const ne=se+F,oe=Math.min(V,ne),Oe=ne-oe;I.style.height=oe+"px",I.style.bottom==="0px"&&(Q.scrollTop=Oe>0?Oe:0,I.style.justifyContent="flex-end")}}}w.current=Q.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,...O}=o,E=useId$1();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:x,id:E,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":E,...O,ref:r})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,...O}=o,E=useSelectGroupContext(LABEL_NAME,x);return jsxRuntimeExports.jsx(Primitive.div,{id:E.id,...O,ref:r})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,value:O,disabled:E=!1,textValue:y,...S}=o,j=useSelectContext(ITEM_NAME$1,x),w=useSelectContentContext(ITEM_NAME$1,x),_=j.value===O,[Q,I]=reactExports.useState(y??""),[M,F]=reactExports.useState(!1),V=useComposedRefs$1(r,ne=>{var oe;return(oe=w.itemRefCallback)==null?void 0:oe.call(w,ne,O,E)}),te=useId$1(),re=reactExports.useRef("touch"),se=()=>{E||(j.onValueChange(O),j.onOpenChange(!1))};if(O==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:x,value:O,disabled:E,textId:te,isSelected:_,onItemTextChange:reactExports.useCallback(ne=>{I(oe=>oe||((ne==null?void 0:ne.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:x,value:O,disabled:E,textValue:Q,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":te,"data-highlighted":M?"":void 0,"aria-selected":_&&M,"data-state":_?"checked":"unchecked","aria-disabled":E||void 0,"data-disabled":E?"":void 0,tabIndex:E?void 0:-1,...S,ref:V,onFocus:composeEventHandlers(S.onFocus,()=>F(!0)),onBlur:composeEventHandlers(S.onBlur,()=>F(!1)),onClick:composeEventHandlers(S.onClick,()=>{re.current!=="mouse"&&se()}),onPointerUp:composeEventHandlers(S.onPointerUp,()=>{re.current==="mouse"&&se()}),onPointerDown:composeEventHandlers(S.onPointerDown,ne=>{re.current=ne.pointerType}),onPointerMove:composeEventHandlers(S.onPointerMove,ne=>{var oe;re.current=ne.pointerType,E?(oe=w.onItemLeave)==null||oe.call(w):re.current==="mouse"&&ne.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(S.onPointerLeave,ne=>{var oe;ne.currentTarget===document.activeElement&&((oe=w.onItemLeave)==null||oe.call(w))}),onKeyDown:composeEventHandlers(S.onKeyDown,ne=>{var Oe;((Oe=w.searchRef)==null?void 0:Oe.current)!==""&&ne.key===" "||(SELECTION_KEYS.includes(ne.key)&&se(),ne.key===" "&&ne.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,className:O,style:E,...y}=o,S=useSelectContext(ITEM_TEXT_NAME,x),j=useSelectContentContext(ITEM_TEXT_NAME,x),w=useSelectItemContext(ITEM_TEXT_NAME,x),_=useSelectNativeOptionsContext(ITEM_TEXT_NAME,x),[Q,I]=reactExports.useState(null),M=useComposedRefs$1(r,se=>I(se),w.onItemTextChange,se=>{var ne;return(ne=j.itemTextRefCallback)==null?void 0:ne.call(j,se,w.value,w.disabled)}),F=Q==null?void 0:Q.textContent,V=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:w.value,disabled:w.disabled,children:F},w.value),[w.disabled,w.value,F]),{onNativeOptionAdd:te,onNativeOptionRemove:re}=_;return useLayoutEffect2(()=>(te(V),()=>re(V)),[te,re,V]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:w.textId,...y,ref:M}),w.isSelected&&S.valueNode&&!S.valueNodeHasChildren?reactDomExports.createPortal(y.children,S.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,...O}=o;return useSelectItemContext(ITEM_INDICATOR_NAME,x).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...O,ref:r}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((o,r)=>{const x=useSelectContentContext(SCROLL_UP_BUTTON_NAME,o.__scopeSelect),O=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,o.__scopeSelect),[E,y]=reactExports.useState(!1),S=useComposedRefs$1(r,O.onScrollButtonChange);return useLayoutEffect2(()=>{if(x.viewport&&x.isPositioned){let j=function(){const _=w.scrollTop>0;y(_)};const w=x.viewport;return j(),w.addEventListener("scroll",j),()=>w.removeEventListener("scroll",j)}},[x.viewport,x.isPositioned]),E?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...o,ref:S,onAutoScroll:()=>{const{viewport:j,selectedItem:w}=x;j&&w&&(j.scrollTop=j.scrollTop-w.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((o,r)=>{const x=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,o.__scopeSelect),O=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,o.__scopeSelect),[E,y]=reactExports.useState(!1),S=useComposedRefs$1(r,O.onScrollButtonChange);return useLayoutEffect2(()=>{if(x.viewport&&x.isPositioned){let j=function(){const _=w.scrollHeight-w.clientHeight,Q=Math.ceil(w.scrollTop)<_;y(Q)};const w=x.viewport;return j(),w.addEventListener("scroll",j),()=>w.removeEventListener("scroll",j)}},[x.viewport,x.isPositioned]),E?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...o,ref:S,onAutoScroll:()=>{const{viewport:j,selectedItem:w}=x;j&&w&&(j.scrollTop=j.scrollTop+w.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,onAutoScroll:O,...E}=o,y=useSelectContentContext("SelectScrollButton",x),S=reactExports.useRef(null),j=useCollection$1(x),w=reactExports.useCallback(()=>{S.current!==null&&(window.clearInterval(S.current),S.current=null)},[]);return reactExports.useEffect(()=>()=>w(),[w]),useLayoutEffect2(()=>{var Q;const _=j().find(I=>I.ref.current===document.activeElement);(Q=_==null?void 0:_.ref.current)==null||Q.scrollIntoView({block:"nearest"})},[j]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...E,ref:r,style:{flexShrink:0,...E.style},onPointerDown:composeEventHandlers(E.onPointerDown,()=>{S.current===null&&(S.current=window.setInterval(O,50))}),onPointerMove:composeEventHandlers(E.onPointerMove,()=>{var _;(_=y.onItemLeave)==null||_.call(y),S.current===null&&(S.current=window.setInterval(O,50))}),onPointerLeave:composeEventHandlers(E.onPointerLeave,()=>{w()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,...O}=o;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...O,ref:r})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((o,r)=>{const{__scopeSelect:x,...O}=o,E=usePopperScope(x),y=useSelectContext(ARROW_NAME,x),S=useSelectContentContext(ARROW_NAME,x);return y.open&&S.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...E,...O,ref:r}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:o,value:r,...x},O)=>{const E=reactExports.useRef(null),y=useComposedRefs$1(O,E),S=usePrevious(r);return reactExports.useEffect(()=>{const j=E.current;if(!j)return;const w=window.HTMLSelectElement.prototype,Q=Object.getOwnPropertyDescriptor(w,"value").set;if(S!==r&&Q){const I=new Event("change",{bubbles:!0});Q.call(j,r),j.dispatchEvent(I)}},[S,r]),jsxRuntimeExports.jsx(Primitive.select,{...x,style:{...VISUALLY_HIDDEN_STYLES,...x.style},ref:y,defaultValue:r})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(o){return o===""||o===void 0}function useTypeaheadSearch(o){const r=useCallbackRef(o),x=reactExports.useRef(""),O=reactExports.useRef(0),E=reactExports.useCallback(S=>{const j=x.current+S;r(j),function w(_){x.current=_,window.clearTimeout(O.current),_!==""&&(O.current=window.setTimeout(()=>w(""),1e3))}(j)},[r]),y=reactExports.useCallback(()=>{x.current="",window.clearTimeout(O.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(O.current),[]),[x,E,y]}function findNextItem(o,r,x){const E=r.length>1&&Array.from(r).every(_=>_===r[0])?r[0]:r,y=x?o.indexOf(x):-1;let S=wrapArray(o,Math.max(y,0));E.length===1&&(S=S.filter(_=>_!==x));const w=S.find(_=>_.textValue.toLowerCase().startsWith(E.toLowerCase()));return w!==x?w:void 0}function wrapArray(o,r){return o.map((x,O)=>o[(r+O)%o.length])}var Root2$2=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2=SelectContent$1,Viewport$1=SelectViewport,Label=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2$2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(Trigger$1,{ref:O,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/80 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",o),...x,children:[r,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-60"})})]}));SelectTrigger.displayName=Trigger$1.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:x,className:cn("flex cursor-default items-center justify-center py-1",o),...r,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:x,className:cn("flex cursor-default items-center justify-center py-1",o),...r,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:o,children:r,position:x="popper",...O},E)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{ref:E,className:cn("relative z-[var(--z-popover)] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",x==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:x,...O,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",x==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2.displayName;const SelectLabel=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Label,{ref:x,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...r}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsxs(Item,{ref:O,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",o),...x,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-primary"})})}),jsxRuntimeExports.jsx(ItemText,{children:r})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Separator$2,{ref:x,className:cn("-mx-1 my-1 h-px bg-muted",o),...r}));SelectSeparator.displayName=Separator$2.displayName;var NAME$1="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((o,r)=>{const{decorative:x,orientation:O=DEFAULT_ORIENTATION,...E}=o,y=isValidOrientation(O)?O:DEFAULT_ORIENTATION,j=x?{role:"none"}:{"aria-orientation":y==="vertical"?y:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":y,...j,...E,ref:r})});Separator$1.displayName=NAME$1;function isValidOrientation(o){return ORIENTATIONS.includes(o)}var Root$3=Separator$1;const Separator=reactExports.forwardRef(({className:o,orientation:r="horizontal",decorative:x=!0,...O},E)=>jsxRuntimeExports.jsx(Root$3,{ref:E,decorative:x,orientation:r,className:cn("shrink-0 bg-border dark:bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",o),...O}));Separator.displayName=Root$3.displayName;const SIDEBAR_COOKIE_NAME="sidebar:state",SIDEBAR_COOKIE_MAX_AGE=60*60*24*7,SIDEBAR_WIDTH="16rem",SIDEBAR_WIDTH_MOBILE="18rem",SIDEBAR_WIDTH_ICON="3rem",SIDEBAR_KEYBOARD_SHORTCUT="b",SidebarContext=reactExports.createContext(null);function useSidebar(){const o=reactExports.useContext(SidebarContext);if(!o)throw new Error("useSidebar must be used within a SidebarProvider.");return o}const SidebarProvider=reactExports.forwardRef(({defaultOpen:o=!0,open:r,onOpenChange:x,className:O,style:E,children:y,...S},j)=>{const w=useIsMobile(),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(o),F=r??I,V=reactExports.useCallback(ne=>{const oe=typeof ne=="function"?ne(F):ne;x?x(oe):M(oe),document.cookie=`${SIDEBAR_COOKIE_NAME}=${oe}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`},[x,F]),te=reactExports.useCallback(()=>w?Q(ne=>!ne):V(ne=>!ne),[w,V,Q]);reactExports.useEffect(()=>{const ne=oe=>{oe.key===SIDEBAR_KEYBOARD_SHORTCUT&&(oe.metaKey||oe.ctrlKey)&&(oe.preventDefault(),te())};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[te]);const re=F?"expanded":"collapsed",se=reactExports.useMemo(()=>({state:re,open:F,setOpen:V,isMobile:w,openMobile:_,setOpenMobile:Q,toggleSidebar:te}),[re,F,V,w,_,Q,te]);return jsxRuntimeExports.jsx(SidebarContext.Provider,{value:se,children:jsxRuntimeExports.jsx(TooltipProvider,{delayDuration:0,children:jsxRuntimeExports.jsx("div",{style:{"--sidebar-width":SIDEBAR_WIDTH,"--sidebar-width-icon":SIDEBAR_WIDTH_ICON,...E},className:cn("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",O),ref:j,...S,children:y})})})});SidebarProvider.displayName="SidebarProvider";const Sidebar=reactExports.forwardRef(({side:o="left",variant:r="sidebar",collapsible:x="offcanvas",className:O,children:E,...y},S)=>{const{isMobile:j,state:w,openMobile:_,setOpenMobile:Q}=useSidebar();return x==="none"?jsxRuntimeExports.jsx("div",{className:cn("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",O),ref:S,...y,children:E}):j?jsxRuntimeExports.jsx(Sheet,{open:_,onOpenChange:Q,...y,children:jsxRuntimeExports.jsx(SheetContent,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":SIDEBAR_WIDTH_MOBILE},side:o,children:jsxRuntimeExports.jsx("div",{className:"flex h-full w-full flex-col",children:E})})}):jsxRuntimeExports.jsxs("div",{ref:S,className:"group peer hidden md:block text-sidebar-foreground","data-state":w,"data-collapsible":w==="collapsed"?x:"","data-variant":r,"data-side":o,children:[jsxRuntimeExports.jsx("div",{className:cn("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),jsxRuntimeExports.jsx("div",{className:cn("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",o==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",O),...y,children:jsxRuntimeExports.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:E})})]})});Sidebar.displayName="Sidebar";const SidebarTrigger=reactExports.forwardRef(({className:o,onClick:r,...x},O)=>{const{toggleSidebar:E}=useSidebar();return jsxRuntimeExports.jsxs(Button,{ref:O,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:cn("h-7 w-7",o),onClick:y=>{r==null||r(y),E()},...x,children:[jsxRuntimeExports.jsx(PanelLeft,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});SidebarTrigger.displayName="SidebarTrigger";const SidebarRail=reactExports.forwardRef(({className:o,...r},x)=>{const{toggleSidebar:O}=useSidebar();return jsxRuntimeExports.jsx("button",{ref:x,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:O,title:"Toggle Sidebar",className:cn("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",o),...r})});SidebarRail.displayName="SidebarRail";const SidebarInset=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("main",{ref:x,className:cn("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",o),...r}));SidebarInset.displayName="SidebarInset";const SidebarInput=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Input,{ref:x,"data-sidebar":"input",className:cn("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",o),...r}));SidebarInput.displayName="SidebarInput";const SidebarHeader=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"header",className:cn("flex flex-col gap-2 p-2",o),...r}));SidebarHeader.displayName="SidebarHeader";const SidebarFooter=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"footer",className:cn("flex flex-col gap-2 p-2",o),...r}));SidebarFooter.displayName="SidebarFooter";const SidebarSeparator=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Separator,{ref:x,"data-sidebar":"separator",className:cn("mx-2 w-auto bg-sidebar-border",o),...r}));SidebarSeparator.displayName="SidebarSeparator";const SidebarContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"content",className:cn("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",o),...r}));SidebarContent.displayName="SidebarContent";const SidebarGroup=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"group",className:cn("relative flex w-full min-w-0 flex-col p-2",o),...r}));SidebarGroup.displayName="SidebarGroup";const SidebarGroupLabel=reactExports.forwardRef(({className:o,asChild:r=!1,...x},O)=>{const E=r?Slot$3:"div";return jsxRuntimeExports.jsx(E,{ref:O,"data-sidebar":"group-label",className:cn("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",o),...x})});SidebarGroupLabel.displayName="SidebarGroupLabel";const SidebarGroupAction=reactExports.forwardRef(({className:o,asChild:r=!1,...x},O)=>{const E=r?Slot$3:"button";return jsxRuntimeExports.jsx(E,{ref:O,"data-sidebar":"group-action",className:cn("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",o),...x})});SidebarGroupAction.displayName="SidebarGroupAction";const SidebarGroupContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"group-content",className:cn("w-full text-sm",o),...r}));SidebarGroupContent.displayName="SidebarGroupContent";const SidebarMenu=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("ul",{ref:x,"data-sidebar":"menu",className:cn("flex w-full min-w-0 flex-col gap-1",o),...r}));SidebarMenu.displayName="SidebarMenu";const SidebarMenuItem=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("li",{ref:x,"data-sidebar":"menu-item",className:cn("group/menu-item relative",o),...r}));SidebarMenuItem.displayName="SidebarMenuItem";const sidebarMenuButtonVariants=cva("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),SidebarMenuButton=reactExports.forwardRef(({asChild:o=!1,isActive:r=!1,variant:x="default",size:O="default",tooltip:E,className:y,...S},j)=>{const w=o?Slot$3:"button",{isMobile:_,state:Q}=useSidebar(),I=jsxRuntimeExports.jsx(w,{ref:j,"data-sidebar":"menu-button","data-size":O,"data-active":r,className:cn(sidebarMenuButtonVariants({variant:x,size:O}),y),...S});return E?(typeof E=="string"&&(E={children:E}),jsxRuntimeExports.jsxs(Tooltip,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:I}),jsxRuntimeExports.jsx(TooltipContent,{side:"right",align:"center",hidden:Q!=="collapsed"||_,...E})]})):I});SidebarMenuButton.displayName="SidebarMenuButton";const SidebarMenuAction=reactExports.forwardRef(({className:o,asChild:r=!1,showOnHover:x=!1,...O},E)=>{const y=r?Slot$3:"button";return jsxRuntimeExports.jsx(y,{ref:E,"data-sidebar":"menu-action",className:cn("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",x&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",o),...O})});SidebarMenuAction.displayName="SidebarMenuAction";const SidebarMenuBadge=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{ref:x,"data-sidebar":"menu-badge",className:cn("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o),...r}));SidebarMenuBadge.displayName="SidebarMenuBadge";const SidebarMenuSkeleton=reactExports.forwardRef(({className:o,showIcon:r=!1,...x},O)=>{const E=reactExports.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return jsxRuntimeExports.jsxs("div",{ref:O,"data-sidebar":"menu-skeleton",className:cn("rounded-md h-8 flex gap-2 px-2 items-center",o),...x,children:[r&&jsxRuntimeExports.jsx(Skeleton,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":E}})]})});SidebarMenuSkeleton.displayName="SidebarMenuSkeleton";const SidebarMenuSub=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("ul",{ref:x,"data-sidebar":"menu-sub",className:cn("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",o),...r}));SidebarMenuSub.displayName="SidebarMenuSub";const SidebarMenuSubItem=reactExports.forwardRef(({...o},r)=>jsxRuntimeExports.jsx("li",{ref:r,...o}));SidebarMenuSubItem.displayName="SidebarMenuSubItem";const SidebarMenuSubButton=reactExports.forwardRef(({asChild:o=!1,size:r="md",isActive:x,className:O,...E},y)=>{const S=o?Slot$3:"a";return jsxRuntimeExports.jsx(S,{ref:y,"data-sidebar":"menu-sub-button","data-size":r,"data-active":x,className:cn("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",O),...E})});SidebarMenuSubButton.displayName="SidebarMenuSubButton";var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((o,r)=>{const{name:x,min:O=0,max:E=100,step:y=1,orientation:S="horizontal",disabled:j=!1,minStepsBetweenThumbs:w=0,defaultValue:_=[O],value:Q,onValueChange:I=()=>{},onValueCommit:M=()=>{},inverted:F=!1,form:V,...te}=o,re=reactExports.useRef(new Set),se=reactExports.useRef(0),oe=S==="horizontal"?SliderHorizontal:SliderVertical,[Oe=[],ae]=useControllableState({prop:Q,defaultProp:_,onChange:Ue=>{var Ze;(Ze=[...re.current][se.current])==null||Ze.focus(),I(Ue)}}),ge=reactExports.useRef(Oe);function je(Ue){const Le=getClosestValueIndex(Oe,Ue);Xe(Ue,Le)}function Ae(Ue){Xe(Ue,se.current)}function Qe(){const Ue=ge.current[se.current];Oe[se.current]!==Ue&&M(Oe)}function Xe(Ue,Le,{commit:Ze}={commit:!1}){const Be=getDecimalCount(y),Ge=roundValue(Math.round((Ue-O)/y)*y+O,Be),We=clamp(Ge,[O,E]);ae((at=[])=>{const rt=getNextSortedValues(at,We,Le);if(hasMinStepsBetweenValues(rt,w*y)){se.current=rt.indexOf(We);const Je=String(rt)!==String(at);return Je&&Ze&&M(rt),Je?rt:at}else return at})}return jsxRuntimeExports.jsx(SliderProvider,{scope:o.__scopeSlider,name:x,disabled:j,min:O,max:E,valueIndexToChangeRef:se,thumbs:re.current,values:Oe,orientation:S,form:V,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(oe,{"aria-disabled":j,"data-disabled":j?"":void 0,...te,ref:r,onPointerDown:composeEventHandlers(te.onPointerDown,()=>{j||(ge.current=Oe)}),min:O,max:E,inverted:F,onSlideStart:j?void 0:je,onSlideMove:j?void 0:Ae,onSlideEnd:j?void 0:Qe,onHomeKeyDown:()=>!j&&Xe(O,0,{commit:!0}),onEndKeyDown:()=>!j&&Xe(E,Oe.length-1,{commit:!0}),onStepKeyDown:({event:Ue,direction:Le})=>{if(!j){const Ge=PAGE_KEYS.includes(Ue.key)||Ue.shiftKey&&ARROW_KEYS.includes(Ue.key)?10:1,We=se.current,at=Oe[We],rt=y*Ge*Le;Xe(at+rt,We,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((o,r)=>{const{min:x,max:O,dir:E,inverted:y,onSlideStart:S,onSlideMove:j,onSlideEnd:w,onStepKeyDown:_,...Q}=o,[I,M]=reactExports.useState(null),F=useComposedRefs$1(r,oe=>M(oe)),V=reactExports.useRef(void 0),te=useDirection(E),re=te==="ltr",se=re&&!y||!re&&y;function ne(oe){const Oe=V.current||I.getBoundingClientRect(),ae=[0,Oe.width],je=linearScale(ae,se?[x,O]:[O,x]);return V.current=Oe,je(oe-Oe.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:o.__scopeSlider,startEdge:se?"left":"right",endEdge:se?"right":"left",direction:se?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:te,"data-orientation":"horizontal",...Q,ref:F,style:{...Q.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:oe=>{const Oe=ne(oe.clientX);S==null||S(Oe)},onSlideMove:oe=>{const Oe=ne(oe.clientX);j==null||j(Oe)},onSlideEnd:()=>{V.current=void 0,w==null||w()},onStepKeyDown:oe=>{const ae=BACK_KEYS[se?"from-left":"from-right"].includes(oe.key);_==null||_({event:oe,direction:ae?-1:1})}})})}),SliderVertical=reactExports.forwardRef((o,r)=>{const{min:x,max:O,inverted:E,onSlideStart:y,onSlideMove:S,onSlideEnd:j,onStepKeyDown:w,..._}=o,Q=reactExports.useRef(null),I=useComposedRefs$1(r,Q),M=reactExports.useRef(void 0),F=!E;function V(te){const re=M.current||Q.current.getBoundingClientRect(),se=[0,re.height],oe=linearScale(se,F?[O,x]:[x,O]);return M.current=re,oe(te-re.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:o.__scopeSlider,startEdge:F?"bottom":"top",endEdge:F?"top":"bottom",size:"height",direction:F?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",..._,ref:I,style:{..._.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:te=>{const re=V(te.clientY);y==null||y(re)},onSlideMove:te=>{const re=V(te.clientY);S==null||S(re)},onSlideEnd:()=>{M.current=void 0,j==null||j()},onStepKeyDown:te=>{const se=BACK_KEYS[F?"from-bottom":"from-top"].includes(te.key);w==null||w({event:te,direction:se?-1:1})}})})}),SliderImpl=reactExports.forwardRef((o,r)=>{const{__scopeSlider:x,onSlideStart:O,onSlideMove:E,onSlideEnd:y,onHomeKeyDown:S,onEndKeyDown:j,onStepKeyDown:w,..._}=o,Q=useSliderContext(SLIDER_NAME,x);return jsxRuntimeExports.jsx(Primitive.span,{..._,ref:r,onKeyDown:composeEventHandlers(o.onKeyDown,I=>{I.key==="Home"?(S(I),I.preventDefault()):I.key==="End"?(j(I),I.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(I.key)&&(w(I),I.preventDefault())}),onPointerDown:composeEventHandlers(o.onPointerDown,I=>{const M=I.target;M.setPointerCapture(I.pointerId),I.preventDefault(),Q.thumbs.has(M)?M.focus():O(I)}),onPointerMove:composeEventHandlers(o.onPointerMove,I=>{I.target.hasPointerCapture(I.pointerId)&&E(I)}),onPointerUp:composeEventHandlers(o.onPointerUp,I=>{const M=I.target;M.hasPointerCapture(I.pointerId)&&(M.releasePointerCapture(I.pointerId),y(I))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((o,r)=>{const{__scopeSlider:x,...O}=o,E=useSliderContext(TRACK_NAME,x);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":E.disabled?"":void 0,"data-orientation":E.orientation,...O,ref:r})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((o,r)=>{const{__scopeSlider:x,...O}=o,E=useSliderContext(RANGE_NAME,x),y=useSliderOrientationContext(RANGE_NAME,x),S=reactExports.useRef(null),j=useComposedRefs$1(r,S),w=E.values.length,_=E.values.map(M=>convertValueToPercentage(M,E.min,E.max)),Q=w>1?Math.min(..._):0,I=100-Math.max(..._);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":E.orientation,"data-disabled":E.disabled?"":void 0,...O,ref:j,style:{...o.style,[y.startEdge]:Q+"%",[y.endEdge]:I+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((o,r)=>{const x=useCollection(o.__scopeSlider),[O,E]=reactExports.useState(null),y=useComposedRefs$1(r,j=>E(j)),S=reactExports.useMemo(()=>O?x().findIndex(j=>j.ref.current===O):-1,[x,O]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...o,ref:y,index:S})}),SliderThumbImpl=reactExports.forwardRef((o,r)=>{const{__scopeSlider:x,index:O,name:E,...y}=o,S=useSliderContext(THUMB_NAME$1,x),j=useSliderOrientationContext(THUMB_NAME$1,x),[w,_]=reactExports.useState(null),Q=useComposedRefs$1(r,ne=>_(ne)),I=w?S.form||!!w.closest("form"):!0,M=useSize(w),F=S.values[O],V=F===void 0?0:convertValueToPercentage(F,S.min,S.max),te=getLabel(O,S.values.length),re=M==null?void 0:M[j.size],se=re?getThumbInBoundsOffset(re,V,j.direction):0;return reactExports.useEffect(()=>{if(w)return S.thumbs.add(w),()=>{S.thumbs.delete(w)}},[w,S.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[j.startEdge]:`calc(${V}% + ${se}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:o.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":o["aria-label"]||te,"aria-valuemin":S.min,"aria-valuenow":F,"aria-valuemax":S.max,"aria-orientation":S.orientation,"data-orientation":S.orientation,"data-disabled":S.disabled?"":void 0,tabIndex:S.disabled?void 0:0,...y,ref:Q,style:F===void 0?{display:"none"}:o.style,onFocus:composeEventHandlers(o.onFocus,()=>{S.valueIndexToChangeRef.current=O})})}),I&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:E??(S.name?S.name+(S.values.length>1?"[]":""):void 0),form:S.form,value:F},O)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$1="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:o,value:r,...x},O)=>{const E=reactExports.useRef(null),y=useComposedRefs$1(E,O),S=usePrevious(r);return reactExports.useEffect(()=>{const j=E.current;if(!j)return;const w=window.HTMLInputElement.prototype,Q=Object.getOwnPropertyDescriptor(w,"value").set;if(S!==r&&Q){const I=new Event("input",{bubbles:!0});Q.call(j,r),j.dispatchEvent(I)}},[S,r]),jsxRuntimeExports.jsx(Primitive.input,{style:{display:"none"},...x,ref:y,defaultValue:r})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getNextSortedValues(o=[],r,x){const O=[...o];return O[x]=r,O.sort((E,y)=>E-y)}function convertValueToPercentage(o,r,x){const y=100/(x-r)*(o-r);return clamp(y,[0,100])}function getLabel(o,r){return r>2?`Value ${o+1} of ${r}`:r===2?["Minimum","Maximum"][o]:void 0}function getClosestValueIndex(o,r){if(o.length===1)return 0;const x=o.map(E=>Math.abs(E-r)),O=Math.min(...x);return x.indexOf(O)}function getThumbInBoundsOffset(o,r,x){const O=o/2,y=linearScale([0,50],[0,O]);return(O-y(r)*x)*x}function getStepsBetweenValues(o){return o.slice(0,-1).map((r,x)=>o[x+1]-r)}function hasMinStepsBetweenValues(o,r){if(r>0){const x=getStepsBetweenValues(o);return Math.min(...x)>=r}return!0}function linearScale(o,r){return x=>{if(o[0]===o[1]||r[0]===r[1])return r[0];const O=(r[1]-r[0])/(o[1]-o[0]);return r[0]+O*(x-o[0])}}function getDecimalCount(o){return(String(o).split(".")[1]||"").length}function roundValue(o,r){const x=Math.pow(10,r);return Math.round(o*x)/x}var Root$2=Slider$1,Track=SliderTrack,Range$2=SliderRange,Thumb$1=SliderThumb;const Slider=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsxs(Root$2,{ref:x,className:cn("relative flex w-full touch-none select-none items-center",o),...r,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary border border-border/50",children:jsxRuntimeExports.jsx(Range$2,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb$1,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background shadow-md ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent"})]}));Slider.displayName=Root$2.displayName;var SWITCH_NAME="Switch",[createSwitchContext]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((o,r)=>{const{__scopeSwitch:x,name:O,checked:E,defaultChecked:y,required:S,disabled:j,value:w="on",onCheckedChange:_,form:Q,...I}=o,[M,F]=reactExports.useState(null),V=useComposedRefs$1(r,oe=>F(oe)),te=reactExports.useRef(!1),re=M?Q||!!M.closest("form"):!0,[se,ne]=useControllableState({prop:E,defaultProp:y??!1,onChange:_,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:x,checked:se,disabled:j,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":se,"aria-required":S,"data-state":getState(se),"data-disabled":j?"":void 0,disabled:j,value:w,...I,ref:V,onClick:composeEventHandlers(o.onClick,oe=>{ne(Oe=>!Oe),re&&(te.current=oe.isPropagationStopped(),te.current||oe.stopPropagation())})}),re&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:M,bubbles:!te.current,name:O,value:w,checked:se,required:S,disabled:j,form:Q,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((o,r)=>{const{__scopeSwitch:x,...O}=o,E=useSwitchContext(THUMB_NAME,x);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(E.checked),"data-disabled":E.disabled?"":void 0,...O,ref:r})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:o,control:r,checked:x,bubbles:O=!0,...E},y)=>{const S=reactExports.useRef(null),j=useComposedRefs$1(S,y),w=usePrevious(x),_=useSize(r);return reactExports.useEffect(()=>{const Q=S.current;if(!Q)return;const I=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(I,"checked").set;if(w!==x&&F){const V=new Event("click",{bubbles:O});F.call(Q,x),Q.dispatchEvent(V)}},[w,x,O]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:x,...E,tabIndex:-1,ref:j,style:{...E.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState(o){return o?"checked":"unchecked"}var Root$1=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Root$1,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input data-[state=unchecked]:border-border",o),...r,ref:x,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-md ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:bg-primary-foreground")})}));Switch.displayName=Root$1.displayName;const Table=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:x,className:cn("w-full caption-bottom text-sm",o),...r})}));Table.displayName="Table";const TableHeader=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("thead",{ref:x,className:cn("[&_tr]:border-b",o),...r}));TableHeader.displayName="TableHeader";const TableBody=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("tbody",{ref:x,className:cn("[&_tr:last-child]:border-0",o),...r}));TableBody.displayName="TableBody";const TableFooter=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("tfoot",{ref:x,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",o),...r}));TableFooter.displayName="TableFooter";const TableRow=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("tr",{ref:x,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",o),...r}));TableRow.displayName="TableRow";const TableHead=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("th",{ref:x,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",o),...r}));TableHead.displayName="TableHead";const TableCell=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("td",{ref:x,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",o),...r}));TableCell.displayName="TableCell";const TableCaption=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("caption",{ref:x,className:cn("mt-4 text-sm text-muted-foreground",o),...r}));TableCaption.displayName="TableCaption";var TABS_NAME="Tabs",[createTabsContext]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((o,r)=>{const{__scopeTabs:x,value:O,onValueChange:E,defaultValue:y,orientation:S="horizontal",dir:j,activationMode:w="automatic",..._}=o,Q=useDirection(j),[I,M]=useControllableState({prop:O,onChange:E,defaultProp:y??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:x,baseId:useId$1(),value:I,onValueChange:M,orientation:S,dir:Q,activationMode:w,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Q,"data-orientation":S,..._,ref:r})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((o,r)=>{const{__scopeTabs:x,loop:O=!0,...E}=o,y=useTabsContext(TAB_LIST_NAME,x),S=useRovingFocusGroupScope$1(x);return jsxRuntimeExports.jsx(Root$8,{asChild:!0,...S,orientation:y.orientation,dir:y.dir,loop:O,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":y.orientation,...E,ref:r})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((o,r)=>{const{__scopeTabs:x,value:O,disabled:E=!1,...y}=o,S=useTabsContext(TRIGGER_NAME,x),j=useRovingFocusGroupScope$1(x),w=makeTriggerId(S.baseId,O),_=makeContentId(S.baseId,O),Q=O===S.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...j,focusable:!E,active:Q,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":Q,"aria-controls":_,"data-state":Q?"active":"inactive","data-disabled":E?"":void 0,disabled:E,id:w,...y,ref:r,onMouseDown:composeEventHandlers(o.onMouseDown,I=>{!E&&I.button===0&&I.ctrlKey===!1?S.onValueChange(O):I.preventDefault()}),onKeyDown:composeEventHandlers(o.onKeyDown,I=>{[" ","Enter"].includes(I.key)&&S.onValueChange(O)}),onFocus:composeEventHandlers(o.onFocus,()=>{const I=S.activationMode!=="manual";!Q&&!E&&I&&S.onValueChange(O)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((o,r)=>{const{__scopeTabs:x,value:O,forceMount:E,children:y,...S}=o,j=useTabsContext(CONTENT_NAME,x),w=makeTriggerId(j.baseId,O),_=makeContentId(j.baseId,O),Q=O===j.value,I=reactExports.useRef(Q);return reactExports.useEffect(()=>{const M=requestAnimationFrame(()=>I.current=!1);return()=>cancelAnimationFrame(M)},[]),jsxRuntimeExports.jsx(Presence,{present:E||Q,children:({present:M})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":Q?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":w,hidden:!M,id:_,tabIndex:0,...S,ref:r,style:{...o.style,animationDuration:I.current?"0s":void 0},children:M&&y})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(o,r){return`${o}-trigger-${r}`}function makeContentId(o,r){return`${o}-content-${r}`}var Root2$1=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2$1,tabsListVariants=cva("inline-flex items-center justify-center",{variants:{variant:{default:"h-10 rounded-md bg-muted p-1 text-muted-foreground border border-border/50",terminal:["gap-3 border-b border-border/30 pb-3","bg-transparent rounded-none p-0"]}},defaultVariants:{variant:"default"}}),TabsList=reactExports.forwardRef(({className:o,variant:r,...x},O)=>jsxRuntimeExports.jsx(List,{ref:O,className:cn(tabsListVariants({variant:r}),o),...x}));TabsList.displayName=List.displayName;const tabsTriggerVariants=cva("inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:["rounded-sm px-3 py-1.5 text-sm font-medium","data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm data-[state=active]:border data-[state=active]:border-border/50","hover:text-foreground"],terminal:["bg-transparent px-4 py-2","font-mono text-xs font-bold uppercase tracking-wider","rounded-[4px]","border border-[hsl(var(--terminal-inactive-border,var(--border)))]","text-muted-foreground","hover:border-primary hover:text-primary","hover:shadow-[0_0_10px_hsl(var(--primary)/0.4)]","hover:[text-shadow:0_0_5px_hsl(var(--primary))]","data-[state=active]:bg-primary data-[state=active]:text-[hsl(210_50%_2%)]","data-[state=active]:border-primary","data-[state=active]:shadow-[0_0_10px_hsl(var(--primary)/0.4)]"]}},defaultVariants:{variant:"default"}}),TabsTrigger=reactExports.forwardRef(({className:o,variant:r,...x},O)=>jsxRuntimeExports.jsx(Trigger,{ref:O,className:cn(tabsTriggerVariants({variant:r}),o),...x}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx(Content,{ref:x,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",o),...r}));TabsContent.displayName=Content.displayName;const TerminalPanel=reactExports.forwardRef(({className:o,label:r="OUTPUT_LOG",children:x,...O},E)=>jsxRuntimeExports.jsxs("div",{ref:E,className:cn("bg-[hsl(var(--terminal-panel,var(--card)))]","bg-opacity-95","border border-[hsl(var(--terminal-inactive-border,var(--border)))]","border-l-[3px] border-l-primary","p-6 rounded-[4px]","text-foreground","relative",o),...O,children:[jsxRuntimeExports.jsx("span",{className:cn("absolute -top-2.5 right-3","bg-background px-2","text-muted-foreground/60","font-mono text-[10px] uppercase tracking-wider"),"aria-hidden":!0,children:r}),x]}));TerminalPanel.displayName="TerminalPanel";const TerminalSection=reactExports.forwardRef(({className:o,title:r,children:x,...O},E)=>jsxRuntimeExports.jsxs("div",{ref:E,className:cn("mb-6 last:mb-0",o),...O,children:[jsxRuntimeExports.jsx("h3",{className:cn("text-muted-foreground","font-mono text-sm","mb-3","font-normal"),children:r.startsWith("//")?r:`// ${r}`}),x]}));TerminalSection.displayName="TerminalSection";const TerminalList=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx("ul",{ref:O,className:cn("list-none p-0 m-0 space-y-2",o),...x,children:r}));TerminalList.displayName="TerminalList";const TerminalListItem=reactExports.forwardRef(({className:o,highlight:r=!1,children:x,...O},E)=>jsxRuntimeExports.jsxs("li",{ref:E,className:cn("flex items-start gap-2.5","text-sm leading-relaxed",r&&["text-foreground","[text-shadow:0_0_2px_rgba(255,255,255,0.5)]"],o),...O,children:[jsxRuntimeExports.jsx("span",{className:cn("text-primary font-bold font-mono","select-none shrink-0"),"aria-hidden":!0,children:">"}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:x})]}));TerminalListItem.displayName="TerminalListItem";const TerminalOutput=reactExports.forwardRef(({className:o,children:r,...x},O)=>jsxRuntimeExports.jsx("pre",{ref:O,className:cn("font-mono text-xs","text-foreground/90","whitespace-pre-wrap","leading-relaxed","p-4","bg-[hsl(var(--terminal-code-bg))]","border border-border/30","rounded-[4px]","overflow-auto",o),...x,children:r}));TerminalOutput.displayName="TerminalOutput";const TerminalPrompt=reactExports.forwardRef(({className:o,path:r="~",children:x,...O},E)=>jsxRuntimeExports.jsxs("div",{ref:E,className:cn("flex items-center gap-2","font-mono text-sm",o),...O,children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:r}),jsxRuntimeExports.jsx("span",{className:"text-primary font-bold",children:"$"}),x&&jsxRuntimeExports.jsx("span",{className:"text-foreground",children:x})]}));TerminalPrompt.displayName="TerminalPrompt";const Textarea=reactExports.forwardRef(({className:o,...r},x)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 transition-colors",o),ref:x,...r}));Textarea.displayName="Textarea";var NAME="Toggle",Toggle$1=reactExports.forwardRef((o,r)=>{const{pressed:x,defaultPressed:O,onPressedChange:E,...y}=o,[S,j]=useControllableState({prop:x,onChange:E,defaultProp:O??!1,caller:NAME});return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-pressed":S,"data-state":S?"on":"off","data-disabled":o.disabled?"":void 0,...y,ref:r,onClick:composeEventHandlers(o.onClick,()=>{o.disabled||j(!S)})})});Toggle$1.displayName=NAME;var Root=Toggle$1;const toggleVariants=cva("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground data-[state=on]:border-primary/50",{variants:{variant:{default:"bg-transparent",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Toggle=reactExports.forwardRef(({className:o,variant:r,size:x,...O},E)=>jsxRuntimeExports.jsx(Root,{ref:E,className:cn(toggleVariants({variant:r,size:x,className:o})),...O}));Toggle.displayName=Root.displayName;var TOGGLE_GROUP_NAME="ToggleGroup",[createToggleGroupContext]=createContextScope(TOGGLE_GROUP_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),ToggleGroup$1=React$1.forwardRef((o,r)=>{const{type:x,...O}=o;if(x==="single"){const E=O;return jsxRuntimeExports.jsx(ToggleGroupImplSingle,{...E,ref:r})}if(x==="multiple"){const E=O;return jsxRuntimeExports.jsx(ToggleGroupImplMultiple,{...E,ref:r})}throw new Error(`Missing prop \`type\` expected on \`${TOGGLE_GROUP_NAME}\``)});ToggleGroup$1.displayName=TOGGLE_GROUP_NAME;var[ToggleGroupValueProvider,useToggleGroupValueContext]=createToggleGroupContext(TOGGLE_GROUP_NAME),ToggleGroupImplSingle=React$1.forwardRef((o,r)=>{const{value:x,defaultValue:O,onValueChange:E=()=>{},...y}=o,[S,j]=useControllableState({prop:x,defaultProp:O??"",onChange:E,caller:TOGGLE_GROUP_NAME});return jsxRuntimeExports.jsx(ToggleGroupValueProvider,{scope:o.__scopeToggleGroup,type:"single",value:React$1.useMemo(()=>S?[S]:[],[S]),onItemActivate:j,onItemDeactivate:React$1.useCallback(()=>j(""),[j]),children:jsxRuntimeExports.jsx(ToggleGroupImpl,{...y,ref:r})})}),ToggleGroupImplMultiple=React$1.forwardRef((o,r)=>{const{value:x,defaultValue:O,onValueChange:E=()=>{},...y}=o,[S,j]=useControllableState({prop:x,defaultProp:O??[],onChange:E,caller:TOGGLE_GROUP_NAME}),w=React$1.useCallback(Q=>j((I=[])=>[...I,Q]),[j]),_=React$1.useCallback(Q=>j((I=[])=>I.filter(M=>M!==Q)),[j]);return jsxRuntimeExports.jsx(ToggleGroupValueProvider,{scope:o.__scopeToggleGroup,type:"multiple",value:S,onItemActivate:w,onItemDeactivate:_,children:jsxRuntimeExports.jsx(ToggleGroupImpl,{...y,ref:r})})});ToggleGroup$1.displayName=TOGGLE_GROUP_NAME;var[ToggleGroupContext$1,useToggleGroupContext]=createToggleGroupContext(TOGGLE_GROUP_NAME),ToggleGroupImpl=React$1.forwardRef((o,r)=>{const{__scopeToggleGroup:x,disabled:O=!1,rovingFocus:E=!0,orientation:y,dir:S,loop:j=!0,...w}=o,_=useRovingFocusGroupScope(x),Q=useDirection(S),I={role:"group",dir:Q,...w};return jsxRuntimeExports.jsx(ToggleGroupContext$1,{scope:x,rovingFocus:E,disabled:O,children:E?jsxRuntimeExports.jsx(Root$8,{asChild:!0,..._,orientation:y,dir:Q,loop:j,children:jsxRuntimeExports.jsx(Primitive.div,{...I,ref:r})}):jsxRuntimeExports.jsx(Primitive.div,{...I,ref:r})})}),ITEM_NAME="ToggleGroupItem",ToggleGroupItem$1=React$1.forwardRef((o,r)=>{const x=useToggleGroupValueContext(ITEM_NAME,o.__scopeToggleGroup),O=useToggleGroupContext(ITEM_NAME,o.__scopeToggleGroup),E=useRovingFocusGroupScope(o.__scopeToggleGroup),y=x.value.includes(o.value),S=O.disabled||o.disabled,j={...o,pressed:y,disabled:S},w=React$1.useRef(null);return O.rovingFocus?jsxRuntimeExports.jsx(Item$1,{asChild:!0,...E,focusable:!S,active:y,ref:w,children:jsxRuntimeExports.jsx(ToggleGroupItemImpl,{...j,ref:r})}):jsxRuntimeExports.jsx(ToggleGroupItemImpl,{...j,ref:r})});ToggleGroupItem$1.displayName=ITEM_NAME;var ToggleGroupItemImpl=React$1.forwardRef((o,r)=>{const{__scopeToggleGroup:x,value:O,...E}=o,y=useToggleGroupValueContext(ITEM_NAME,x),S={role:"radio","aria-checked":o.pressed,"aria-pressed":void 0},j=y.type==="single"?S:void 0;return jsxRuntimeExports.jsx(Toggle$1,{...j,...E,ref:r,onPressedChange:w=>{w?y.onItemActivate(O):y.onItemDeactivate(O)}})}),Root2=ToggleGroup$1,Item2=ToggleGroupItem$1;const ToggleGroupContext=reactExports.createContext({size:"default",variant:"default"}),ToggleGroup=reactExports.forwardRef(({className:o,variant:r,size:x,children:O,...E},y)=>jsxRuntimeExports.jsx(Root2,{ref:y,className:cn("flex items-center justify-center gap-1",o),...E,children:jsxRuntimeExports.jsx(ToggleGroupContext.Provider,{value:{variant:r,size:x},children:O})}));ToggleGroup.displayName=Root2.displayName;const ToggleGroupItem=reactExports.forwardRef(({className:o,children:r,variant:x,size:O,...E},y)=>{const S=reactExports.useContext(ToggleGroupContext);return jsxRuntimeExports.jsx(Item2,{ref:y,className:cn(toggleVariants({variant:S.variant||x,size:S.size||O}),o),...E,children:r})});ToggleGroupItem.displayName=Item2.displayName;async function recordView(o,r){try{const x=getApiBaseUrl(),O=await fetch(`${x}/api/v1/analytics/view`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:o,slug:r})});return O.ok?!0:(console.warn("Failed to record view:",O.status),!1)}catch(x){return console.warn("Failed to record view:",x),!1}}async function getEditorPicks$1(o=3){var r;try{const x=getApiBaseUrl(),O=await fetch(`${x}/api/v1/analytics/editor-picks?limit=${o}`);return O.ok?((r=(await O.json()).data)==null?void 0:r.picks)||[]:[]}catch(x){return console.warn("Failed to get editor picks:",x),[]}}const VISITOR_ID_KEY="analytics.visitorId";let heartbeatInterval=null;function getVisitorId(){if(typeof window>"u")return"";let o=localStorage.getItem(VISITOR_ID_KEY);return o||(o=crypto.randomUUID(),localStorage.setItem(VISITOR_ID_KEY,o)),o}async function sendHeartbeat(){try{const o=getApiBaseUrl(),r=getVisitorId();return(await fetch(`${o}/api/v1/analytics/heartbeat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:r})})).ok}catch{return!1}}function startHeartbeat(){heartbeatInterval||(sendHeartbeat(),heartbeatInterval=setInterval(()=>{sendHeartbeat()},3e4))}function stopHeartbeat(){heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null)}async function getRealtimeVisitors(){var o;try{const r=getApiBaseUrl(),x=await fetch(`${r}/api/v1/analytics/realtime`);return x.ok&&((o=(await x.json()).data)==null?void 0:o.activeVisitors)||0}catch{return 0}}const CATEGORY_ALIASES={"AI & ML":["AI/ML","AI","ML","Machine Learning","Artificial Intelligence","ai-ml","ai","ml","machine-learning","Deep Learning","deep-learning","LLM","llm","NLP","nlp"],"Web Dev":["Web Development","Frontend","Backend","web-dev","WebDev","web","frontend","backend","Full Stack","fullstack","React","react","Next.js","nextjs","Vue","vue"],Algorithms:["Algorithm","Data Structures","algorithms","algorithm","data-structures","DSA","dsa","Coding","coding","Problem Solving","problem-solving"],DevOps:["Operations","Infrastructure","CI/CD","devops","ops","infra","cloud","Cloud","Docker","docker","Kubernetes","k8s","AWS","aws","GCP","Azure"],"System Design":["Architecture","system-design","architecture","Design","design","Distributed Systems","distributed-systems"],Security:["security","Cybersecurity","cybersecurity","InfoSec","infosec"],Database:["database","DB","db","SQL","sql","NoSQL","nosql","PostgreSQL","MySQL","MongoDB"],General:["general","Misc","misc","Other","other","기타"]};let reverseMapCache=null;function getReverseMap(){if(reverseMapCache)return reverseMapCache;reverseMapCache={};for(const[o,r]of Object.entries(CATEGORY_ALIASES)){reverseMapCache[o.toLowerCase()]=o;for(const x of r)reverseMapCache[x.toLowerCase()]=o}return reverseMapCache}function normalizeCategoryName(o){if(typeof o!="string")return"General";const r=o.toLowerCase().trim();return getReverseMap()[r]||o}function getCategoryCounts(o){const r={};for(const x of o){const O=normalizeCategoryName(x.category||"General");r[O]=(r[O]||0)+1}return r}function TerminalCategories({categories:o,onSelect:r,className:x}){const O=useNavigate(),[E,y]=reactExports.useState(0),[S,j]=reactExports.useState(new Set),[w,_]=reactExports.useState(""),Q=reactExports.useRef(null),I=o.flatMap((te,re)=>{const se=[{...te,depth:0,index:re}];return te.children&&S.has(te.name)&&te.children.forEach((ne,oe)=>{se.push({...ne,depth:1,index:re*100+oe})}),se}),M=reactExports.useCallback(te=>{r?r(te):O(`/blog?category=${encodeURIComponent(te)}`)},[O,r]),F=reactExports.useCallback(te=>{j(re=>{const se=new Set(re);return se.has(te)?se.delete(te):se.add(te),se})},[]);reactExports.useEffect(()=>{const te=re=>{var se;if((se=Q.current)!=null&&se.contains(document.activeElement))switch(re.key){case"ArrowDown":case"j":re.preventDefault(),y(Oe=>Math.min(Oe+1,I.length-1));break;case"ArrowUp":case"k":re.preventDefault(),y(Oe=>Math.max(Oe-1,0));break;case"Enter":case"l":re.preventDefault();const ne=I[E];ne&&(ne.children&&ne.children.length>0?F(ne.name):M(ne.name));break;case"h":case"ArrowLeft":re.preventDefault();const oe=I[E];oe&&S.has(oe.name)&&F(oe.name);break;case"/":re.preventDefault(),_("");break;case"Escape":_("");break;default:if(re.key.length===1&&/[a-zA-Z]/.test(re.key)){const Oe=w+re.key.toLowerCase();_(Oe);const ae=I.findIndex(ge=>ge.name.toLowerCase().startsWith(Oe));ae!==-1&&y(ae),setTimeout(()=>_(""),1e3)}}};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[I,E,S,w,M,F]);const V=(te,re)=>te===0?"":re?"└── ":"├── ";return jsxRuntimeExports.jsxs("div",{ref:Q,tabIndex:0,className:cn("rounded-lg border border-primary/30 bg-[hsl(var(--terminal-code-bg))] font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",x),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-primary/20 bg-primary/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:"~/blog/categories"})]}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-b border-primary/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"$"}),jsxRuntimeExports.jsx("span",{children:"ls -la ./categories"}),jsxRuntimeExports.jsx("span",{className:"animate-pulse text-primary",children:"▌"})]})}),jsxRuntimeExports.jsxs("div",{className:"py-2",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-1 text-xs text-muted-foreground/60",children:["total ",o.reduce((te,re)=>te+re.count,0)," posts"]}),I.map((te,re)=>{var ae;const se=re===E,ne=S.has(te.name),oe=te.children&&te.children.length>0,Oe=re===I.length-1||(((ae=I[re+1])==null?void 0:ae.depth)??0)<(te.depth??0);return jsxRuntimeExports.jsxs("button",{onClick:()=>{y(re),oe?F(te.name):M(te.name)},className:cn("w-full text-left px-4 py-1.5 flex items-center gap-2 transition-colors","hover:bg-primary/10",se&&"bg-primary/20 border-l-2 border-primary"),children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/50 w-16 text-xs",children:"drwxr-xr-x"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/50 w-8 text-right text-xs",children:te.count}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/40",children:V(te.depth??0,Oe)}),jsxRuntimeExports.jsxs("span",{className:cn("flex items-center gap-1.5",se&&"text-primary terminal-glow"),children:[oe?ne?jsxRuntimeExports.jsx(FolderOpen,{className:"h-4 w-4 text-yellow-500"}):jsxRuntimeExports.jsx(Folder,{className:"h-4 w-4 text-yellow-500/70"}):jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 text-blue-400"}),jsxRuntimeExports.jsxs("span",{children:[te.name,"/"]})]}),oe&&jsxRuntimeExports.jsx(ChevronRight,{className:cn("h-3 w-3 text-muted-foreground/50 transition-transform ml-auto",ne&&"rotate-90")})]},`${te.name}-${re}`)})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-t border-primary/10 text-xs text-muted-foreground/60",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"hint:"})," j/k to navigate, Enter to select, h/l to collapse/expand"]})]})}const STORAGE_KEY$3="visited.posts",Index=()=>{const{isTerminal:o}=useTheme(),[r,x]=reactExports.useState([]),[O,E]=reactExports.useState(!0),[y,S]=reactExports.useState(null),[j,w]=reactExports.useState(0),[_,Q]=reactExports.useState([]),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(!1),[te,re]=reactExports.useState([]),[se,ne]=reactExports.useState(!0),[oe,Oe]=reactExports.useState([]);reactExports.useEffect(()=>{let Ae=!1;const Qe=async()=>{try{E(!0),S(null);const Le=await getPostsPage({page:1,pageSize:3,sort:"date"});Ae||x(Le.items)}catch{Ae||S("Failed to load latest posts.")}finally{Ae||E(!1)}},Xe=async()=>{try{const Le=await getPosts();Ae||Q(Le)}catch{}},Ue=async()=>{try{ne(!0);const Le=await getEditorPicks$1(3);if(Le.length>0){const We=(await Promise.all(Le.map(async at=>await getPostBySlug(at.year,at.post_slug)||null))).filter(at=>!!at);if(We.length>0){re(We);return}}const Ze=site.featured||[];if(Ze.length>0){const We=(await Promise.all(Ze.map(async at=>await getPostBySlug(at.year,at.slug)||null))).filter(at=>!!at).slice(0,3);if(We.length>0){re(We);return}}const Be=await getPostsPage({page:1,pageSize:3,sort:"date"});re(Be.items)}catch{try{const Le=await getPostsPage({page:1,pageSize:3,sort:"date"});re(Le.items)}catch{re([])}}finally{ne(!1)}};return Qe(),Xe(),Ue(),()=>{Ae=!0}},[]),reactExports.useEffect(()=>{const Ae=()=>{try{const Ue=localStorage.getItem(STORAGE_KEY$3),Le=Ue?JSON.parse(Ue):[];Oe(Array.isArray(Le)?Le.slice(0,6):[])}catch{Oe([])}};Ae();const Qe=Ue=>{(!Ue.key||Ue.key===STORAGE_KEY$3)&&Ae()},Xe=()=>Ae();return window.addEventListener("storage",Qe),window.addEventListener("visitedposts:update",Xe),()=>{window.removeEventListener("storage",Qe),window.removeEventListener("visitedposts:update",Xe)}},[]),reactExports.useEffect(()=>{startHeartbeat(),getRealtimeVisitors().then(w);const Ae=setInterval(()=>{getRealtimeVisitors().then(w)},3e4);return()=>{stopHeartbeat(),clearInterval(Ae)}},[]);const ae=reactExports.useMemo(()=>{const Ae=getCategoryCounts(_);return[{name:"AI & ML",icon:Sparkles,color:"text-purple-500"},{name:"Web Dev",icon:CodeXml,color:"text-blue-500"},{name:"Algorithms",icon:TrendingUp,color:"text-green-500"},{name:"DevOps",icon:BookOpen,color:"text-orange-500"}].map(Xe=>({...Xe,count:Ae[Xe.name]||0}))},[_]),ge=reactExports.useRef(null),je=Ae=>{ge.current&&ge.current.scrollBy({left:Ae==="left"?-300:300,behavior:"smooth"})};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 pt-8 pb-28",children:[jsxRuntimeExports.jsx("section",{className:"mb-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:cn("text-sm font-medium tracking-widest uppercase",o?"text-primary font-mono":"text-muted-foreground"),children:o?"> WELCOME_TO":"Welcome to"}),jsxRuntimeExports.jsxs("h1",{className:cn("text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight leading-[1.1]",o&&"font-mono"),children:[jsxRuntimeExports.jsx("span",{className:cn(o?"text-foreground":"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent"),children:"Architecting"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:cn(o?"text-primary terminal-glow":"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent"),children:"Intelligence"})]})]}),jsxRuntimeExports.jsx("p",{className:cn("text-lg leading-relaxed","text-muted-foreground"),children:"AI, 시스템 설계, 그리고 코드의 본질을 탐구하는 기술 블로그"}),jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto",children:jsxRuntimeExports.jsx(SearchBar,{posts:_,onSearchResults:Ae=>{M(Ae),V(Ae!==_)},placeholder:"Search posts, tags, categories..."})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 justify-center pt-2",children:[jsxRuntimeExports.jsx(Button,{asChild:!0,size:"lg",variant:o?"terminal-active":"default",className:cn(o&&"shadow-[0_0_16px_hsl(var(--primary)/0.4)] hover:shadow-[0_0_20px_hsl(var(--primary)/0.5)]"),children:jsxRuntimeExports.jsxs(Link,{to:"/blog",children:[jsxRuntimeExports.jsx(BookOpen,{className:"mr-2 h-5 w-5"}),"Explore Posts"]})}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"outline",size:"lg",className:cn(o&&"font-mono border-border text-foreground hover:border-primary hover:text-primary"),children:jsxRuntimeExports.jsxs(Link,{to:"/about",children:["About Me",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-5 w-5"})]})})]}),j>0&&jsxRuntimeExports.jsx("div",{className:"flex justify-center pt-2",children:jsxRuntimeExports.jsxs("div",{className:cn("inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium",o?"bg-primary/20 text-primary border border-primary/30":"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-500/20"),children:[jsxRuntimeExports.jsx("span",{className:cn("w-1.5 h-1.5 rounded-full animate-pulse",o?"bg-primary":"bg-emerald-500")}),j,"명이 지금 읽고 있어요"]})})]})}),F&&I&&jsxRuntimeExports.jsxs("section",{className:"mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:cn("text-2xl font-bold",o&&"font-mono"),children:o?"> search_results":"Search Results"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[I.length," match",I.length===1?"":"es"]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:I.slice(0,9).map(Ae=>jsxRuntimeExports.jsx(PostCard,{post:Ae,variant:"grid"},`${Ae.year}/${Ae.slug}`))})]}),jsxRuntimeExports.jsxs("section",{className:"mb-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-8",children:jsxRuntimeExports.jsx("h2",{className:cn("text-2xl font-bold",o&&"font-mono"),children:o?"// editor_picks":"Editor's Picks"})}),se?jsxRuntimeExports.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((Ae,Qe)=>jsxRuntimeExports.jsx(BlogCardSkeleton,{},Qe))}):te.length>0?jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(Link,{to:`/blog/${te[0].year}/${te[0].slug}`,className:"group block h-full",children:jsxRuntimeExports.jsxs("div",{className:cn("relative h-full min-h-[400px] rounded-2xl overflow-hidden",o?"border border-border bg-card/50 backdrop-blur-sm hover:border-primary/50":"bg-card shadow-md hover:shadow-xl","transition-all duration-300"),children:[te[0].coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:te[0].coverImage,alt:te[0].title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):jsxRuntimeExports.jsx("div",{className:cn("w-full h-full",o?"bg-gradient-to-br from-primary/5 to-card":"bg-gradient-to-br from-muted/80 to-muted")}),jsxRuntimeExports.jsx("div",{className:cn("absolute inset-0",o?"bg-gradient-to-t from-background via-background/70 to-transparent":"bg-gradient-to-t from-black/80 via-black/40 to-transparent")}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("span",{className:cn("px-3 py-1 text-xs font-medium rounded-full",o?"bg-primary/20 text-primary border border-primary/30":"bg-primary text-primary-foreground"),children:te[0].category}),te[0].readingTime&&jsxRuntimeExports.jsxs("span",{className:cn("flex items-center gap-1 text-sm",o?"text-muted-foreground":"text-white/70"),children:[jsxRuntimeExports.jsx(Clock,{className:"h-3.5 w-3.5"}),te[0].readingTime]})]}),jsxRuntimeExports.jsx("h3",{className:cn("text-2xl md:text-3xl font-bold mb-3 line-clamp-2",o?"text-foreground group-hover:text-primary":"text-white","transition-colors"),children:te[0].title}),te[0].description&&jsxRuntimeExports.jsx("p",{className:cn("line-clamp-2 max-w-xl",o?"text-muted-foreground":"text-white/80"),children:te[0].description})]}),o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none border-2 border-primary/30 rounded-2xl"})]})})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-6",children:te.slice(1,3).map(Ae=>jsxRuntimeExports.jsx(Link,{to:`/blog/${Ae.year}/${Ae.slug}`,className:"group flex-1",children:jsxRuntimeExports.jsxs("div",{className:cn("h-full rounded-xl overflow-hidden flex flex-col",o?"border border-border bg-card/30 backdrop-blur-sm hover:border-primary/50 hover:bg-card/50":"bg-card border border-border/50 shadow-sm hover:shadow-lg","transition-all duration-300"),children:[Ae.coverImage&&jsxRuntimeExports.jsx("div",{className:"aspect-[16/9] overflow-hidden",children:jsxRuntimeExports.jsx(OptimizedImage,{src:Ae.coverImage,alt:Ae.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:cn("px-2 py-0.5 text-xs rounded",o?"bg-primary/10 text-primary":"bg-secondary text-secondary-foreground"),children:Ae.category}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:formatDate$2(Ae.date)})]}),jsxRuntimeExports.jsx("h3",{className:cn("font-semibold line-clamp-2 flex-1",o?"text-foreground group-hover:text-primary":"group-hover:text-primary","transition-colors"),children:Ae.title})]})]})},`${Ae.year}/${Ae.slug}`))})]}):null]}),oe.length>0&&jsxRuntimeExports.jsxs("section",{className:"mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:cn("text-2xl font-bold",o&&"font-mono"),children:o?"// recently_viewed":"Recently Viewed"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:cn("h-8 w-8 rounded-full",o&&"hover:bg-primary/10 hover:text-primary"),onClick:()=>je("left"),children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:cn("h-8 w-8 rounded-full",o&&"hover:bg-primary/10 hover:text-primary"),onClick:()=>je("right"),children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"ghost",size:"sm",children:jsxRuntimeExports.jsxs(Link,{to:"/blog",className:cn(o&&"hover:text-primary"),children:["View all",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-1 h-3 w-3"})]})})]})]}),jsxRuntimeExports.jsx("div",{ref:ge,className:"flex gap-4 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted-foreground/20 hover:scrollbar-thumb-muted-foreground/40",children:oe.map(Ae=>jsxRuntimeExports.jsx(Link,{to:Ae.path,className:"group flex-shrink-0 w-[280px] snap-start",children:jsxRuntimeExports.jsxs("div",{className:cn("rounded-xl overflow-hidden h-full",o?"border border-border bg-card/30 backdrop-blur-sm hover:border-primary/50 hover:bg-card/50":"bg-card border border-border/50 shadow-sm hover:shadow-md","transition-all duration-300"),children:[Ae.coverImage?jsxRuntimeExports.jsx("div",{className:"aspect-[16/9] overflow-hidden",children:jsxRuntimeExports.jsx(OptimizedImage,{src:Ae.coverImage,alt:"",className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"})}):jsxRuntimeExports.jsx("div",{className:cn("aspect-[16/9]",o?"bg-gradient-to-br from-primary/5 to-card":"bg-gradient-to-br from-muted to-muted/50")}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[Ae.year,"/",Ae.slug]}),jsxRuntimeExports.jsx("h3",{className:cn("font-medium line-clamp-2 text-sm",o?"text-foreground group-hover:text-primary":"group-hover:text-primary","transition-colors"),children:Ae.title})]})]})},Ae.path))})]}),jsxRuntimeExports.jsxs("section",{className:"mb-16",children:[jsxRuntimeExports.jsx("h2",{className:cn("text-2xl font-bold mb-6 text-center",o&&"font-mono"),children:o?"// categories":"Popular Categories"}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6 md:grid-cols-12 md:gap-8 items-start",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-7",children:o?jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(TerminalCategories,{categories:ae})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ae.map(Ae=>jsxRuntimeExports.jsx(Link,{to:`/blog?category=${encodeURIComponent(Ae.name)}`,children:jsxRuntimeExports.jsx(Card,{className:cn("group cursor-pointer transition-all duration-300","hover:shadow-lg hover:-translate-y-0.5"),children:jsxRuntimeExports.jsxs(CardHeader,{className:"text-center py-4 px-3",children:[jsxRuntimeExports.jsx(Ae.icon,{className:cn("h-6 w-6 mx-auto mb-2 transition-colors",Ae.color,"group-hover:scale-110 transition-transform")}),jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:Ae.name}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-xs",children:[Ae.count," posts"]})]})})},Ae.name))})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-5",children:jsxRuntimeExports.jsx(CategorySuggestionsPanel,{isTerminal:o,activeVisitors:j})})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:cn("text-2xl font-bold",o&&"font-mono"),children:o?"// latest_posts":"Latest Posts"}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"ghost",size:"sm",children:jsxRuntimeExports.jsxs(Link,{to:"/blog",className:cn(o&&"hover:text-primary"),children:["View all posts",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-4 w-4"})]})})]}),y?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:y}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>window.location.reload(),children:"Try again"})]}):O?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((Ae,Qe)=>jsxRuntimeExports.jsx("div",{className:cn("h-32 rounded-xl animate-pulse",o?"bg-card border border-border":"bg-muted")},Qe))}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:r.map(Ae=>jsxRuntimeExports.jsx(Link,{to:`/blog/${Ae.year}/${Ae.slug}`,className:"group block",children:jsxRuntimeExports.jsxs("article",{className:cn("flex gap-5 rounded-xl p-4 transition-all duration-300",o?"border border-border bg-card/30 backdrop-blur-sm hover:border-primary/50 hover:bg-card/50":"bg-card border border-border/50 shadow-sm hover:shadow-md"),children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-32 md:w-48 aspect-[16/10] rounded-lg overflow-hidden",children:Ae.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:Ae.coverImage,alt:Ae.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):jsxRuntimeExports.jsx("div",{className:cn("w-full h-full flex items-center justify-center",o?"bg-gradient-to-br from-primary/5 to-card":"bg-gradient-to-br from-muted to-muted/50"),children:jsxRuntimeExports.jsx(BookOpen,{className:"h-8 w-8 text-muted-foreground/50"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:cn("px-2 py-0.5 text-xs font-medium rounded",o?"bg-primary/10 text-primary":"bg-secondary text-secondary-foreground"),children:Ae.category}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:formatDate$2(Ae.date)}),Ae.readingTime&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),Ae.readingTime]})]}),jsxRuntimeExports.jsx("h3",{className:cn("font-semibold text-lg mb-1 line-clamp-1",o?"text-foreground group-hover:text-primary":"group-hover:text-primary","transition-colors"),children:Ae.title}),Ae.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 sm:line-clamp-2",children:Ae.description})]}),jsxRuntimeExports.jsx("div",{className:cn("hidden md:flex items-center justify-center w-10","opacity-0 group-hover:opacity-100 transition-opacity"),children:jsxRuntimeExports.jsx(ArrowRight,{className:cn("h-5 w-5",o?"text-primary":"text-muted-foreground")})})]})},`${Ae.year}/${Ae.slug}`))})]})]})};function CategorySuggestionsPanel({isTerminal:o,activeVisitors:r}){return jsxRuntimeExports.jsxs("div",{className:cn("rounded-2xl border p-5",o?"border-primary/30 bg-[hsl(var(--terminal-code-bg))] font-mono":"border-border/60 bg-card/60 backdrop-blur"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("div",{className:cn("text-sm font-semibold",o?"text-primary":"text-foreground"),children:o?"$ live_status":"Live Status"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:o?"realtime blog activity":"실시간 블로그 현황"})]}),r>0&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium",o?"bg-primary/20 text-primary border border-primary/30":"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-500/20"),title:"현재 접속자 수",children:[jsxRuntimeExports.jsx("span",{className:cn("w-1.5 h-1.5 rounded-full animate-pulse",o?"bg-primary":"bg-emerald-500")}),r," 접속 중"]}),jsxRuntimeExports.jsx(TrendingUp,{className:cn("h-4 w-4 shrink-0",o?"text-primary":"text-muted-foreground")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"지금 읽는 중"}),jsxRuntimeExports.jsx("span",{className:cn("text-xs font-mono font-medium",o?"text-primary":"text-foreground"),children:r>0?`${r}명`:"—"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"오늘 새 글"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono font-medium text-muted-foreground",children:"—"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"트렌딩 카테고리"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono font-medium text-muted-foreground",children:"AI & ML"})]})]}),jsxRuntimeExports.jsx("div",{className:cn("mt-4 pt-3 border-t text-xs",o?"border-primary/20 text-primary/70":"border-border/60 text-muted-foreground"),children:o?"# 30s interval refresh":"30초마다 자동 갱신"})]})}function useDebounce(o,r){const[x,O]=reactExports.useState(o);return reactExports.useEffect(()=>{const E=setTimeout(()=>{O(o)},r);return()=>{clearTimeout(E)}},[o,r]),x}const POSTS_PER_PAGE=12,TAGS_PER_PAGE=20,Blog=()=>{const o=useLocation(),[r,x]=useSearchParams(),O=r.get("category"),E=r.get("page"),y=reactExports.useMemo(()=>O??"all",[O]),S=reactExports.useMemo(()=>{const Ve=E?parseInt(E,10):NaN;return!Number.isNaN(Ve)&&Ve>0?Ve:1},[E]),[j,w]=reactExports.useState({items:[],page:1,pageSize:POSTS_PER_PAGE,total:0,totalPages:1,hasMore:!1}),[_,Q]=reactExports.useState(!0),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(""),[te,re]=reactExports.useState(y),[se,ne]=reactExports.useState([]),[oe,Oe]=reactExports.useState("date"),[ae,ge]=reactExports.useState(S);reactExports.useState("grid");const[je,Ae]=reactExports.useState([]),[Qe,Xe]=reactExports.useState([]),[,Ue]=reactExports.useState(0),[Le,Ze]=reactExports.useState(!1),[Be,Ge]=reactExports.useState(""),[We,at]=reactExports.useState(1),rt=useDebounce(F,300),Je=useDebounce(Be,200),mt=reactExports.useMemo(()=>{if(!Je)return Qe;const Ve=Je.toLowerCase();return Qe.filter(dt=>dt.toLowerCase().includes(Ve))},[Qe,Je]),Ke=Math.ceil(mt.length/TAGS_PER_PAGE),ze=reactExports.useMemo(()=>{const Ve=(We-1)*TAGS_PER_PAGE;return mt.slice(Ve,Ve+TAGS_PER_PAGE)},[mt,We]);reactExports.useEffect(()=>{at(1)},[Je]);const He=reactExports.useCallback((Ve,dt)=>{re(Ve),ge(dt)},[]);reactExports.useEffect(()=>{const Ve=r.get("category")||"all",dt=r.get("page"),Rt=dt?Math.max(1,parseInt(dt,10)):1;(Ve!==te||Rt!==ae)&&He(Ve,Rt)},[r,te,ae,He]),reactExports.useEffect(()=>{let Ve=!1;return(async()=>{try{Q(!0),M(null);const Rt=await getPostsPage({page:ae,pageSize:POSTS_PER_PAGE,category:te,tags:se,search:rt,sort:oe});Ve||w(Rt)}catch(Rt){console.error("Failed to load posts page:",Rt),Ve||M("Failed to load blog posts. Please try again later.")}finally{Ve||Q(!1)}})(),()=>{Ve=!0}},[rt,te,se,oe,ae]),reactExports.useEffect(()=>{let Ve=!1;return(async()=>{try{const[Rt,It,Xt]=await Promise.all([getAllCategories(),getAllTags(),getPostsPage({page:1,pageSize:1})]);if(Ve)return;Ae(Rt.sort()),Xe(It.sort()),Ue(Xt.total)}catch{}})(),()=>{Ve=!0}},[]);const tt=j.totalPages,ct=reactExports.useCallback(Ve=>{ne(dt=>dt.includes(Ve)?dt.filter(Rt=>Rt!==Ve):[...dt,Ve])},[]),ut=reactExports.useCallback(()=>{ne([])},[]),it=reactExports.useCallback(()=>{V(""),re("all"),ne([]),Oe("date"),ge(1),x({})},[x]),yt=reactExports.useCallback(Ve=>{re(Ve),ge(1),x(dt=>{const Rt=new URLSearchParams(dt);return!Ve||Ve==="all"?Rt.delete("category"):Rt.set("category",Ve),Rt.delete("page"),Rt})},[x]),et=reactExports.useCallback(Ve=>{ge(Ve),x(dt=>{const Rt=new URLSearchParams(dt);return Ve<=1?Rt.delete("page"):Rt.set("page",Ve.toString()),Rt}),window.scrollTo({top:0,behavior:"smooth"})},[x]),qe=j.items[0],ot=j.items.slice(1,3),pt=j.items.slice(3);return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#f7f7fb] via-[#f9fafc] to-background dark:from-[#050509] dark:via-[#0d1016] dark:to-[#0d1016]",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto w-full max-w-5xl px-4 pb-28 pt-8 sm:pt-12",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-muted-foreground",children:"Discover"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-foreground dark:text-white",children:"Blog Posts"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Search posts, tags, or content...","aria-label":"Search posts",value:F,onChange:Ve=>V(Ve.target.value),className:"h-12 rounded-2xl border border-transparent bg-white pl-12 text-base shadow-sm focus-visible:ring-2 focus-visible:ring-primary dark:border-white/10 dark:bg-[#191f29] dark:text-white dark:placeholder:text-white/60"})]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-8 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[["All",...je.slice(0,5)].map(Ve=>{const dt=Ve==="All"&&te==="all"||Ve===te;return jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>yt(Ve==="All"?"all":Ve),className:["rounded-full px-4 py-1 text-sm transition-colors",dt?"bg-primary text-primary-foreground shadow-sm":"bg-white text-muted-foreground shadow-sm dark:border dark:border-white/10 dark:bg-[#191f29] dark:text-white/80"].join(" "),children:Ve},Ve)}),Qe.length>0&&jsxRuntimeExports.jsx("button",{type:"button",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",onClick:()=>{Ze(Ve=>!Ve),Le||(at(1),Ge(""))},"aria-expanded":Le,children:Le?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}),"Hide tags"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"}),"More tags (",Qe.length,")"]})})]}),se.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Filtered by:"}),se.map(Ve=>jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"cursor-pointer rounded-full px-4 py-2 text-sm gap-1 min-h-[36px] flex items-center",onClick:()=>ct(Ve),children:["#",Ve,jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})]},Ve)),jsxRuntimeExports.jsx("button",{type:"button",className:"text-xs text-muted-foreground underline hover:text-foreground min-h-[36px] flex items-center",onClick:ut,children:"Clear all"})]}),Le&&jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-border/40 bg-white p-4 shadow-soft dark:border-white/5 dark:bg-[#191f29] space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Search tags...",value:Be,onChange:Ve=>Ge(Ve.target.value),className:"h-9 pl-9 text-sm rounded-lg"}),Be&&jsxRuntimeExports.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>Ge(""),children:jsxRuntimeExports.jsx(X$1,{className:"h-3.5 w-3.5"})})]}),ze.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:ze.map(Ve=>jsxRuntimeExports.jsxs(Badge,{variant:se.includes(Ve)?"default":"outline",className:"cursor-pointer rounded-full px-4 py-2 text-sm hover:bg-primary/10 min-h-[36px] flex items-center",onClick:()=>ct(Ve),children:["#",Ve]},Ve))}):jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground text-center py-4",children:['No tags found matching "',Be,'"']}),Ke>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/40",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[mt.length," tags found"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",disabled:We<=1,onClick:()=>at(Ve=>Math.max(1,Ve-1)),children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[We," / ",Ke]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",disabled:We>=Ke,onClick:()=>at(Ve=>Math.min(Ke,Ve+1)),children:"Next"})]})]})]})]}),qe&&jsxRuntimeExports.jsxs("section",{className:"mb-10 space-y-5",children:[jsxRuntimeExports.jsx("div",{className:"rounded-[28px] border border-border/40 bg-white p-5 shadow-soft dark:border-white/5 dark:bg-[#1b202b] dark:text-white",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"overflow-hidden rounded-3xl bg-muted dark:bg-white/5",children:qe.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:qe.coverImage,alt:qe.title,className:"h-64 w-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"flex h-64 items-center justify-center text-muted-foreground",children:jsxRuntimeExports.jsx("span",{children:"No cover"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"rounded-full px-3 py-1 dark:bg-white/10",children:qe.category}),jsxRuntimeExports.jsx("span",{children:formatDate$2(qe.date)}),qe.readingTime&&jsxRuntimeExports.jsx("span",{children:qe.readingTime})]}),jsxRuntimeExports.jsxs(Link,{to:`/blog/${qe.year}/${qe.slug}`,className:"block space-y-3",state:{from:{pathname:o.pathname,search:o.search}},"data-testid":"post-link",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold leading-tight text-foreground dark:text-white",children:qe.title}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground dark:text-white/70",children:qe.excerpt||qe.description})]})]})}),ot.length>0&&jsxRuntimeExports.jsx("div",{className:"grid gap-5 md:grid-cols-2",children:ot.map(Ve=>jsxRuntimeExports.jsxs(Link,{to:`/blog/${Ve.year}/${Ve.slug}`,className:"flex gap-4 rounded-2xl border border-border/40 bg-white p-4 shadow-soft dark:border-white/5 dark:bg-[#1a1f2a] dark:text-white",state:{from:{pathname:o.pathname,search:o.search}},"data-testid":"post-link",children:[jsxRuntimeExports.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-xl bg-muted dark:bg-white/10",children:Ve.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:Ve.coverImage,alt:Ve.title,className:"h-full w-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:"No image"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center rounded-full bg-muted/60 px-2 py-1 text-[11px] uppercase tracking-wide dark:bg-white/10",children:Ve.category}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold leading-snug text-foreground dark:text-white",children:Ve.title}),jsxRuntimeExports.jsx("p",{className:"line-clamp-2 text-muted-foreground dark:text-white/70",children:Ve.excerpt||Ve.description})]})]},Ve.slug))})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"All posts"}),tt>1&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",ae," of ",tt]})]}),_?jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:Array.from({length:j.pageSize||POSTS_PER_PAGE}).map((Ve,dt)=>jsxRuntimeExports.jsx(BlogCardSkeleton,{},dt))}):I?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:I}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>window.location.reload(),children:"Try again"})]}):j.items.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-5",children:(pt.length>0?pt:j.items).map(Ve=>jsxRuntimeExports.jsxs(Link,{to:`/blog/${Ve.year}/${Ve.slug}`,className:"flex gap-4 rounded-2xl border border-border/40 bg-white p-4 shadow-soft dark:border-white/5 dark:bg-[#181d27] dark:text-white",state:{from:{pathname:o.pathname,search:o.search}},"data-testid":"post-link",children:[jsxRuntimeExports.jsx("div",{className:"h-20 w-20 flex-shrink-0 overflow-hidden rounded-xl bg-muted dark:bg-white/10",children:Ve.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:Ve.coverImage,alt:Ve.title,className:"h-full w-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:"No image"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[11px] uppercase tracking-wide text-muted-foreground dark:text-white/70",children:[jsxRuntimeExports.jsx("span",{children:Ve.category}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:formatDate$2(Ve.date)})]}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold leading-snug text-foreground dark:text-white",children:Ve.title}),jsxRuntimeExports.jsx("p",{className:"line-clamp-2 text-muted-foreground dark:text-white/70",children:Ve.excerpt||Ve.description})]})]},Ve.slug))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto mb-4 h-14 w-14 text-muted-foreground/40"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium mb-2",children:"No posts found"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:rt||te!=="all"||se.length>0?"Try adjusting your search criteria or filters.":"No blog posts are available at the moment."}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:it,children:"Clear filters"})]}),tt>1&&jsxRuntimeExports.jsx("div",{className:"pt-6",children:jsxRuntimeExports.jsx(Pagination,{currentPage:ae,totalPages:tt,onPageChange:et,className:"justify-center"})})]})]})})};let rangeFrom=[],rangeTo=[];(()=>{let o="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=0,x=0;r<o.length;r++)(r%2?rangeTo:rangeFrom).push(x=x+o[r])})();function isExtendingChar(o){if(o<768)return!1;for(let r=0,x=rangeFrom.length;;){let O=r+x>>1;if(o<rangeFrom[O])x=O;else if(o>=rangeTo[O])r=O+1;else return!0;if(r==x)return!1}}function isRegionalIndicator(o){return o>=127462&&o<=127487}const ZWJ=8205;function findClusterBreak$1(o,r,x=!0,O=!0){return(x?nextClusterBreak:prevClusterBreak)(o,r,O)}function nextClusterBreak(o,r,x){if(r==o.length)return r;r&&surrogateLow$1(o.charCodeAt(r))&&surrogateHigh$1(o.charCodeAt(r-1))&&r--;let O=codePointAt$1(o,r);for(r+=codePointSize$1(O);r<o.length;){let E=codePointAt$1(o,r);if(O==ZWJ||E==ZWJ||x&&isExtendingChar(E))r+=codePointSize$1(E),O=E;else if(isRegionalIndicator(E)){let y=0,S=r-2;for(;S>=0&&isRegionalIndicator(codePointAt$1(o,S));)y++,S-=2;if(y%2==0)break;r+=2}else break}return r}function prevClusterBreak(o,r,x){for(;r>0;){let O=nextClusterBreak(o,r-2,x);if(O<r)return O;r--}return 0}function codePointAt$1(o,r){let x=o.charCodeAt(r);if(!surrogateHigh$1(x)||r+1==o.length)return x;let O=o.charCodeAt(r+1);return surrogateLow$1(O)?(x-55296<<10)+(O-56320)+65536:x}function surrogateLow$1(o){return o>=56320&&o<57344}function surrogateHigh$1(o){return o>=55296&&o<56320}function codePointSize$1(o){return o<65536?1:2}class Text{lineAt(r){if(r<0||r>this.length)throw new RangeError(`Invalid position ${r} in document of length ${this.length}`);return this.lineInner(r,!1,1,0)}line(r){if(r<1||r>this.lines)throw new RangeError(`Invalid line number ${r} in ${this.lines}-line document`);return this.lineInner(r,!0,1,0)}replace(r,x,O){[r,x]=clip(this,r,x);let E=[];return this.decompose(0,r,E,2),O.length&&O.decompose(0,O.length,E,3),this.decompose(x,this.length,E,1),TextNode.from(E,this.length-(x-r)+O.length)}append(r){return this.replace(this.length,this.length,r)}slice(r,x=this.length){[r,x]=clip(this,r,x);let O=[];return this.decompose(r,x,O,0),TextNode.from(O,x-r)}eq(r){if(r==this)return!0;if(r.length!=this.length||r.lines!=this.lines)return!1;let x=this.scanIdentical(r,1),O=this.length-this.scanIdentical(r,-1),E=new RawTextCursor(this),y=new RawTextCursor(r);for(let S=x,j=x;;){if(E.next(S),y.next(S),S=0,E.lineBreak!=y.lineBreak||E.done!=y.done||E.value!=y.value)return!1;if(j+=E.value.length,E.done||j>=O)return!0}}iter(r=1){return new RawTextCursor(this,r)}iterRange(r,x=this.length){return new PartialTextCursor(this,r,x)}iterLines(r,x){let O;if(r==null)O=this.iter();else{x==null&&(x=this.lines+1);let E=this.line(r).from;O=this.iterRange(E,Math.max(E,x==this.lines+1?this.length:x<=1?0:this.line(x-1).to))}return new LineCursor(O)}toString(){return this.sliceString(0)}toJSON(){let r=[];return this.flatten(r),r}constructor(){}static of(r){if(r.length==0)throw new RangeError("A document must have at least one line");return r.length==1&&!r[0]?Text.empty:r.length<=32?new TextLeaf(r):TextNode.from(TextLeaf.split(r,[]))}}class TextLeaf extends Text{constructor(r,x=textLength(r)){super(),this.text=r,this.length=x}get lines(){return this.text.length}get children(){return null}lineInner(r,x,O,E){for(let y=0;;y++){let S=this.text[y],j=E+S.length;if((x?O:j)>=r)return new Line(E,j,O,S);E=j+1,O++}}decompose(r,x,O,E){let y=r<=0&&x>=this.length?this:new TextLeaf(sliceText(this.text,r,x),Math.min(x,this.length)-Math.max(0,r));if(E&1){let S=O.pop(),j=appendText(y.text,S.text.slice(),0,y.length);if(j.length<=32)O.push(new TextLeaf(j,S.length+y.length));else{let w=j.length>>1;O.push(new TextLeaf(j.slice(0,w)),new TextLeaf(j.slice(w)))}}else O.push(y)}replace(r,x,O){if(!(O instanceof TextLeaf))return super.replace(r,x,O);[r,x]=clip(this,r,x);let E=appendText(this.text,appendText(O.text,sliceText(this.text,0,r)),x),y=this.length+O.length-(x-r);return E.length<=32?new TextLeaf(E,y):TextNode.from(TextLeaf.split(E,[]),y)}sliceString(r,x=this.length,O=`
`){[r,x]=clip(this,r,x);let E="";for(let y=0,S=0;y<=x&&S<this.text.length;S++){let j=this.text[S],w=y+j.length;y>r&&S&&(E+=O),r<w&&x>y&&(E+=j.slice(Math.max(0,r-y),x-y)),y=w+1}return E}flatten(r){for(let x of this.text)r.push(x)}scanIdentical(){return 0}static split(r,x){let O=[],E=-1;for(let y of r)O.push(y),E+=y.length+1,O.length==32&&(x.push(new TextLeaf(O,E)),O=[],E=-1);return E>-1&&x.push(new TextLeaf(O,E)),x}}class TextNode extends Text{constructor(r,x){super(),this.children=r,this.length=x,this.lines=0;for(let O of r)this.lines+=O.lines}lineInner(r,x,O,E){for(let y=0;;y++){let S=this.children[y],j=E+S.length,w=O+S.lines-1;if((x?w:j)>=r)return S.lineInner(r,x,O,E);E=j+1,O=w+1}}decompose(r,x,O,E){for(let y=0,S=0;S<=x&&y<this.children.length;y++){let j=this.children[y],w=S+j.length;if(r<=w&&x>=S){let _=E&((S<=r?1:0)|(w>=x?2:0));S>=r&&w<=x&&!_?O.push(j):j.decompose(r-S,x-S,O,_)}S=w+1}}replace(r,x,O){if([r,x]=clip(this,r,x),O.lines<this.lines)for(let E=0,y=0;E<this.children.length;E++){let S=this.children[E],j=y+S.length;if(r>=y&&x<=j){let w=S.replace(r-y,x-y,O),_=this.lines-S.lines+w.lines;if(w.lines<_>>4&&w.lines>_>>6){let Q=this.children.slice();return Q[E]=w,new TextNode(Q,this.length-(x-r)+O.length)}return super.replace(y,j,w)}y=j+1}return super.replace(r,x,O)}sliceString(r,x=this.length,O=`
`){[r,x]=clip(this,r,x);let E="";for(let y=0,S=0;y<this.children.length&&S<=x;y++){let j=this.children[y],w=S+j.length;S>r&&y&&(E+=O),r<w&&x>S&&(E+=j.sliceString(r-S,x-S,O)),S=w+1}return E}flatten(r){for(let x of this.children)x.flatten(r)}scanIdentical(r,x){if(!(r instanceof TextNode))return 0;let O=0,[E,y,S,j]=x>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1];for(;;E+=x,y+=x){if(E==S||y==j)return O;let w=this.children[E],_=r.children[y];if(w!=_)return O+w.scanIdentical(_,x);O+=w.length+1}}static from(r,x=r.reduce((O,E)=>O+E.length+1,-1)){let O=0;for(let F of r)O+=F.lines;if(O<32){let F=[];for(let V of r)V.flatten(F);return new TextLeaf(F,x)}let E=Math.max(32,O>>5),y=E<<1,S=E>>1,j=[],w=0,_=-1,Q=[];function I(F){let V;if(F.lines>y&&F instanceof TextNode)for(let te of F.children)I(te);else F.lines>S&&(w>S||!w)?(M(),j.push(F)):F instanceof TextLeaf&&w&&(V=Q[Q.length-1])instanceof TextLeaf&&F.lines+V.lines<=32?(w+=F.lines,_+=F.length+1,Q[Q.length-1]=new TextLeaf(V.text.concat(F.text),V.length+1+F.length)):(w+F.lines>E&&M(),w+=F.lines,_+=F.length+1,Q.push(F))}function M(){w!=0&&(j.push(Q.length==1?Q[0]:TextNode.from(Q,_)),_=-1,w=Q.length=0)}for(let F of r)I(F);return M(),j.length==1?j[0]:new TextNode(j,x)}}Text.empty=new TextLeaf([""],0);function textLength(o){let r=-1;for(let x of o)r+=x.length+1;return r}function appendText(o,r,x=0,O=1e9){for(let E=0,y=0,S=!0;y<o.length&&E<=O;y++){let j=o[y],w=E+j.length;w>=x&&(w>O&&(j=j.slice(0,O-E)),E<x&&(j=j.slice(x-E)),S?(r[r.length-1]+=j,S=!1):r.push(j)),E=w+1}return r}function sliceText(o,r,x){return appendText(o,[""],r,x)}class RawTextCursor{constructor(r,x=1){this.dir=x,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[r],this.offsets=[x>0?1:(r instanceof TextLeaf?r.text.length:r.children.length)<<1]}nextInner(r,x){for(this.done=this.lineBreak=!1;;){let O=this.nodes.length-1,E=this.nodes[O],y=this.offsets[O],S=y>>1,j=E instanceof TextLeaf?E.text.length:E.children.length;if(S==(x>0?j:0)){if(O==0)return this.done=!0,this.value="",this;x>0&&this.offsets[O-1]++,this.nodes.pop(),this.offsets.pop()}else if((y&1)==(x>0?0:1)){if(this.offsets[O]+=x,r==0)return this.lineBreak=!0,this.value=`
`,this;r--}else if(E instanceof TextLeaf){let w=E.text[S+(x<0?-1:0)];if(this.offsets[O]+=x,w.length>Math.max(0,r))return this.value=r==0?w:x>0?w.slice(r):w.slice(0,w.length-r),this;r-=w.length}else{let w=E.children[S+(x<0?-1:0)];r>w.length?(r-=w.length,this.offsets[O]+=x):(x<0&&this.offsets[O]--,this.nodes.push(w),this.offsets.push(x>0?1:(w instanceof TextLeaf?w.text.length:w.children.length)<<1))}}}next(r=0){return r<0&&(this.nextInner(-r,-this.dir),r=this.value.length),this.nextInner(r,this.dir)}}class PartialTextCursor{constructor(r,x,O){this.value="",this.done=!1,this.cursor=new RawTextCursor(r,x>O?-1:1),this.pos=x>O?r.length:0,this.from=Math.min(x,O),this.to=Math.max(x,O)}nextInner(r,x){if(x<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;r+=Math.max(0,x<0?this.pos-this.to:this.from-this.pos);let O=x<0?this.pos-this.from:this.to-this.pos;r>O&&(r=O),O-=r;let{value:E}=this.cursor.next(r);return this.pos+=(E.length+r)*x,this.value=E.length<=O?E:x<0?E.slice(E.length-O):E.slice(0,O),this.done=!this.value,this}next(r=0){return r<0?r=Math.max(r,this.from-this.pos):r>0&&(r=Math.min(r,this.to-this.pos)),this.nextInner(r,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(r){this.inner=r,this.afterBreak=!0,this.value="",this.done=!1}next(r=0){let{done:x,lineBreak:O,value:E}=this.inner.next(r);return x&&this.afterBreak?(this.value="",this.afterBreak=!1):x?(this.done=!0,this.value=""):O?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=E,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(r,x,O,E){this.from=r,this.to=x,this.number=O,this.text=E}get length(){return this.to-this.from}}function clip(o,r,x){return r=Math.max(0,Math.min(o.length,r)),[r,Math.max(r,Math.min(o.length,x))]}function findClusterBreak(o,r,x=!0,O=!0){return findClusterBreak$1(o,r,x,O)}function surrogateLow(o){return o>=56320&&o<57344}function surrogateHigh(o){return o>=55296&&o<56320}function codePointAt(o,r){let x=o.charCodeAt(r);if(!surrogateHigh(x)||r+1==o.length)return x;let O=o.charCodeAt(r+1);return surrogateLow(O)?(x-55296<<10)+(O-56320)+65536:x}function fromCodePoint(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}function codePointSize(o){return o<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(o){return o[o.Simple=0]="Simple",o[o.TrackDel=1]="TrackDel",o[o.TrackBefore=2]="TrackBefore",o[o.TrackAfter=3]="TrackAfter",o}(MapMode||(MapMode={}));class ChangeDesc{constructor(r){this.sections=r}get length(){let r=0;for(let x=0;x<this.sections.length;x+=2)r+=this.sections[x];return r}get newLength(){let r=0;for(let x=0;x<this.sections.length;x+=2){let O=this.sections[x+1];r+=O<0?this.sections[x]:O}return r}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(r){for(let x=0,O=0,E=0;x<this.sections.length;){let y=this.sections[x++],S=this.sections[x++];S<0?(r(O,E,y),E+=y):E+=S,O+=y}}iterChangedRanges(r,x=!1){iterChanges(this,r,x)}get invertedDesc(){let r=[];for(let x=0;x<this.sections.length;){let O=this.sections[x++],E=this.sections[x++];E<0?r.push(O,E):r.push(E,O)}return new ChangeDesc(r)}composeDesc(r){return this.empty?r:r.empty?this:composeSets(this,r)}mapDesc(r,x=!1){return r.empty?this:mapSet(this,r,x)}mapPos(r,x=-1,O=MapMode.Simple){let E=0,y=0;for(let S=0;S<this.sections.length;){let j=this.sections[S++],w=this.sections[S++],_=E+j;if(w<0){if(_>r)return y+(r-E);y+=j}else{if(O!=MapMode.Simple&&_>=r&&(O==MapMode.TrackDel&&E<r&&_>r||O==MapMode.TrackBefore&&E<r||O==MapMode.TrackAfter&&_>r))return null;if(_>r||_==r&&x<0&&!j)return r==E||x<0?y:y+w;y+=w}E=_}if(r>E)throw new RangeError(`Position ${r} is out of range for changeset of length ${E}`);return y}touchesRange(r,x=r){for(let O=0,E=0;O<this.sections.length&&E<=x;){let y=this.sections[O++],S=this.sections[O++],j=E+y;if(S>=0&&E<=x&&j>=r)return E<r&&j>x?"cover":!0;E=j}return!1}toString(){let r="";for(let x=0;x<this.sections.length;){let O=this.sections[x++],E=this.sections[x++];r+=(r?" ":"")+O+(E>=0?":"+E:"")}return r}toJSON(){return this.sections}static fromJSON(r){if(!Array.isArray(r)||r.length%2||r.some(x=>typeof x!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(r)}static create(r){return new ChangeDesc(r)}}class ChangeSet extends ChangeDesc{constructor(r,x){super(r),this.inserted=x}apply(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(x,O,E,y,S)=>r=r.replace(E,E+(O-x),S),!1),r}mapDesc(r,x=!1){return mapSet(this,r,x,!0)}invert(r){let x=this.sections.slice(),O=[];for(let E=0,y=0;E<x.length;E+=2){let S=x[E],j=x[E+1];if(j>=0){x[E]=j,x[E+1]=S;let w=E>>1;for(;O.length<w;)O.push(Text.empty);O.push(S?r.slice(y,y+S):Text.empty)}y+=S}return new ChangeSet(x,O)}compose(r){return this.empty?r:r.empty?this:composeSets(this,r,!0)}map(r,x=!1){return r.empty?this:mapSet(this,r,x,!0)}iterChanges(r,x=!1){iterChanges(this,r,x)}get desc(){return ChangeDesc.create(this.sections)}filter(r){let x=[],O=[],E=[],y=new SectionIter(this);e:for(let S=0,j=0;;){let w=S==r.length?1e9:r[S++];for(;j<w||j==w&&y.len==0;){if(y.done)break e;let Q=Math.min(y.len,w-j);addSection(E,Q,-1);let I=y.ins==-1?-1:y.off==0?y.ins:0;addSection(x,Q,I),I>0&&addInsert(O,x,y.text),y.forward(Q),j+=Q}let _=r[S++];for(;j<_;){if(y.done)break e;let Q=Math.min(y.len,_-j);addSection(x,Q,-1),addSection(E,Q,y.ins==-1?-1:y.off==0?y.ins:0),y.forward(Q),j+=Q}}return{changes:new ChangeSet(x,O),filtered:ChangeDesc.create(E)}}toJSON(){let r=[];for(let x=0;x<this.sections.length;x+=2){let O=this.sections[x],E=this.sections[x+1];E<0?r.push(O):E==0?r.push([O]):r.push([O].concat(this.inserted[x>>1].toJSON()))}return r}static of(r,x,O){let E=[],y=[],S=0,j=null;function w(Q=!1){if(!Q&&!E.length)return;S<x&&addSection(E,x-S,-1);let I=new ChangeSet(E,y);j=j?j.compose(I.map(j)):I,E=[],y=[],S=0}function _(Q){if(Array.isArray(Q))for(let I of Q)_(I);else if(Q instanceof ChangeSet){if(Q.length!=x)throw new RangeError(`Mismatched change set length (got ${Q.length}, expected ${x})`);w(),j=j?j.compose(Q.map(j)):Q}else{let{from:I,to:M=I,insert:F}=Q;if(I>M||I<0||M>x)throw new RangeError(`Invalid change range ${I} to ${M} (in doc of length ${x})`);let V=F?typeof F=="string"?Text.of(F.split(O||DefaultSplit)):F:Text.empty,te=V.length;if(I==M&&te==0)return;I<S&&w(),I>S&&addSection(E,I-S,-1),addSection(E,M-I,te),addInsert(y,E,V),S=M}}return _(r),w(!j),j}static empty(r){return new ChangeSet(r?[r,-1]:[],[])}static fromJSON(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");let x=[],O=[];for(let E=0;E<r.length;E++){let y=r[E];if(typeof y=="number")x.push(y,-1);else{if(!Array.isArray(y)||typeof y[0]!="number"||y.some((S,j)=>j&&typeof S!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(y.length==1)x.push(y[0],0);else{for(;O.length<E;)O.push(Text.empty);O[E]=Text.of(y.slice(1)),x.push(y[0],O[E].length)}}}return new ChangeSet(x,O)}static createSet(r,x){return new ChangeSet(r,x)}}function addSection(o,r,x,O=!1){if(r==0&&x<=0)return;let E=o.length-2;E>=0&&x<=0&&x==o[E+1]?o[E]+=r:E>=0&&r==0&&o[E]==0?o[E+1]+=x:O?(o[E]+=r,o[E+1]+=x):o.push(r,x)}function addInsert(o,r,x){if(x.length==0)return;let O=r.length-2>>1;if(O<o.length)o[o.length-1]=o[o.length-1].append(x);else{for(;o.length<O;)o.push(Text.empty);o.push(x)}}function iterChanges(o,r,x){let O=o.inserted;for(let E=0,y=0,S=0;S<o.sections.length;){let j=o.sections[S++],w=o.sections[S++];if(w<0)E+=j,y+=j;else{let _=E,Q=y,I=Text.empty;for(;_+=j,Q+=w,w&&O&&(I=I.append(O[S-2>>1])),!(x||S==o.sections.length||o.sections[S+1]<0);)j=o.sections[S++],w=o.sections[S++];r(E,_,y,Q,I),E=_,y=Q}}}function mapSet(o,r,x,O=!1){let E=[],y=O?[]:null,S=new SectionIter(o),j=new SectionIter(r);for(let w=-1;;){if(S.done&&j.len||j.done&&S.len)throw new Error("Mismatched change set lengths");if(S.ins==-1&&j.ins==-1){let _=Math.min(S.len,j.len);addSection(E,_,-1),S.forward(_),j.forward(_)}else if(j.ins>=0&&(S.ins<0||w==S.i||S.off==0&&(j.len<S.len||j.len==S.len&&!x))){let _=j.len;for(addSection(E,j.ins,-1);_;){let Q=Math.min(S.len,_);S.ins>=0&&w<S.i&&S.len<=Q&&(addSection(E,0,S.ins),y&&addInsert(y,E,S.text),w=S.i),S.forward(Q),_-=Q}j.next()}else if(S.ins>=0){let _=0,Q=S.len;for(;Q;)if(j.ins==-1){let I=Math.min(Q,j.len);_+=I,Q-=I,j.forward(I)}else if(j.ins==0&&j.len<Q)Q-=j.len,j.next();else break;addSection(E,_,w<S.i?S.ins:0),y&&w<S.i&&addInsert(y,E,S.text),w=S.i,S.forward(S.len-Q)}else{if(S.done&&j.done)return y?ChangeSet.createSet(E,y):ChangeDesc.create(E);throw new Error("Mismatched change set lengths")}}}function composeSets(o,r,x=!1){let O=[],E=x?[]:null,y=new SectionIter(o),S=new SectionIter(r);for(let j=!1;;){if(y.done&&S.done)return E?ChangeSet.createSet(O,E):ChangeDesc.create(O);if(y.ins==0)addSection(O,y.len,0,j),y.next();else if(S.len==0&&!S.done)addSection(O,0,S.ins,j),E&&addInsert(E,O,S.text),S.next();else{if(y.done||S.done)throw new Error("Mismatched change set lengths");{let w=Math.min(y.len2,S.len),_=O.length;if(y.ins==-1){let Q=S.ins==-1?-1:S.off?0:S.ins;addSection(O,w,Q,j),E&&Q&&addInsert(E,O,S.text)}else S.ins==-1?(addSection(O,y.off?0:y.len,w,j),E&&addInsert(E,O,y.textBit(w))):(addSection(O,y.off?0:y.len,S.off?0:S.ins,j),E&&!S.off&&addInsert(E,O,S.text));j=(y.ins>w||S.ins>=0&&S.len>w)&&(j||O.length>_),y.forward2(w),S.forward(w)}}}}class SectionIter{constructor(r){this.set=r,this.i=0,this.next()}next(){let{sections:r}=this.set;this.i<r.length?(this.len=r[this.i++],this.ins=r[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:r}=this.set,x=this.i-2>>1;return x>=r.length?Text.empty:r[x]}textBit(r){let{inserted:x}=this.set,O=this.i-2>>1;return O>=x.length&&!r?Text.empty:x[O].slice(this.off,r==null?void 0:this.off+r)}forward(r){r==this.len?this.next():(this.len-=r,this.off+=r)}forward2(r){this.ins==-1?this.forward(r):r==this.ins?this.next():(this.ins-=r,this.off+=r)}}class SelectionRange{constructor(r,x,O){this.from=r,this.to=x,this.flags=O}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let r=this.flags&7;return r==7?null:r}get goalColumn(){let r=this.flags>>6;return r==16777215?void 0:r}map(r,x=-1){let O,E;return this.empty?O=E=r.mapPos(this.from,x):(O=r.mapPos(this.from,1),E=r.mapPos(this.to,-1)),O==this.from&&E==this.to?this:new SelectionRange(O,E,this.flags)}extend(r,x=r){if(r<=this.anchor&&x>=this.anchor)return EditorSelection.range(r,x);let O=Math.abs(r-this.anchor)>Math.abs(x-this.anchor)?r:x;return EditorSelection.range(this.anchor,O)}eq(r,x=!1){return this.anchor==r.anchor&&this.head==r.head&&this.goalColumn==r.goalColumn&&(!x||!this.empty||this.assoc==r.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(r){if(!r||typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(r.anchor,r.head)}static create(r,x,O){return new SelectionRange(r,x,O)}}class EditorSelection{constructor(r,x){this.ranges=r,this.mainIndex=x}map(r,x=-1){return r.empty?this:EditorSelection.create(this.ranges.map(O=>O.map(r,x)),this.mainIndex)}eq(r,x=!1){if(this.ranges.length!=r.ranges.length||this.mainIndex!=r.mainIndex)return!1;for(let O=0;O<this.ranges.length;O++)if(!this.ranges[O].eq(r.ranges[O],x))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(r,x=!0){return EditorSelection.create([r].concat(this.ranges),x?0:this.mainIndex+1)}replaceRange(r,x=this.mainIndex){let O=this.ranges.slice();return O[x]=r,EditorSelection.create(O,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(r=>r.toJSON()),main:this.mainIndex}}static fromJSON(r){if(!r||!Array.isArray(r.ranges)||typeof r.main!="number"||r.main>=r.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(r.ranges.map(x=>SelectionRange.fromJSON(x)),r.main)}static single(r,x=r){return new EditorSelection([EditorSelection.range(r,x)],0)}static create(r,x=0){if(r.length==0)throw new RangeError("A selection needs at least one range");for(let O=0,E=0;E<r.length;E++){let y=r[E];if(y.empty?y.from<=O:y.from<O)return EditorSelection.normalized(r.slice(),x);O=y.to}return new EditorSelection(r,x)}static cursor(r,x=0,O,E){return SelectionRange.create(r,r,(x==0?0:x<0?8:16)|(O==null?7:Math.min(6,O))|(E??16777215)<<6)}static range(r,x,O,E){let y=(O??16777215)<<6|(E==null?7:Math.min(6,E));return x<r?SelectionRange.create(x,r,48|y):SelectionRange.create(r,x,(x>r?8:0)|y)}static normalized(r,x=0){let O=r[x];r.sort((E,y)=>E.from-y.from),x=r.indexOf(O);for(let E=1;E<r.length;E++){let y=r[E],S=r[E-1];if(y.empty?y.from<=S.to:y.from<S.to){let j=S.from,w=Math.max(y.to,S.to);E<=x&&x--,r.splice(--E,2,y.anchor>y.head?EditorSelection.range(w,j):EditorSelection.range(j,w))}}return new EditorSelection(r,x)}}function checkSelection(o,r){for(let x of o.ranges)if(x.to>r)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(r,x,O,E,y){this.combine=r,this.compareInput=x,this.compare=O,this.isStatic=E,this.id=nextID++,this.default=r([]),this.extensions=typeof y=="function"?y(this):y}get reader(){return this}static define(r={}){return new Facet(r.combine||(x=>x),r.compareInput||((x,O)=>x===O),r.compare||(r.combine?(x,O)=>x===O:sameArray$1),!!r.static,r.enables)}of(r){return new FacetProvider([],this,0,r)}compute(r,x){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,1,x)}computeN(r,x){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,2,x)}from(r,x){return x||(x=O=>O),this.compute([r],O=>x(O.field(r)))}}function sameArray$1(o,r){return o==r||o.length==r.length&&o.every((x,O)=>x===r[O])}class FacetProvider{constructor(r,x,O,E){this.dependencies=r,this.facet=x,this.type=O,this.value=E,this.id=nextID++}dynamicSlot(r){var x;let O=this.value,E=this.facet.compareInput,y=this.id,S=r[y]>>1,j=this.type==2,w=!1,_=!1,Q=[];for(let I of this.dependencies)I=="doc"?w=!0:I=="selection"?_=!0:((x=r[I.id])!==null&&x!==void 0?x:1)&1||Q.push(r[I.id]);return{create(I){return I.values[S]=O(I),1},update(I,M){if(w&&M.docChanged||_&&(M.docChanged||M.selection)||ensureAll(I,Q)){let F=O(I);if(j?!compareArray(F,I.values[S],E):!E(F,I.values[S]))return I.values[S]=F,1}return 0},reconfigure:(I,M)=>{let F,V=M.config.address[y];if(V!=null){let te=getAddr(M,V);if(this.dependencies.every(re=>re instanceof Facet?M.facet(re)===I.facet(re):re instanceof StateField?M.field(re,!1)==I.field(re,!1):!0)||(j?compareArray(F=O(I),te,E):E(F=O(I),te)))return I.values[S]=te,0}else F=O(I);return I.values[S]=F,1}}}}function compareArray(o,r,x){if(o.length!=r.length)return!1;for(let O=0;O<o.length;O++)if(!x(o[O],r[O]))return!1;return!0}function ensureAll(o,r){let x=!1;for(let O of r)ensureAddr(o,O)&1&&(x=!0);return x}function dynamicFacetSlot(o,r,x){let O=x.map(w=>o[w.id]),E=x.map(w=>w.type),y=O.filter(w=>!(w&1)),S=o[r.id]>>1;function j(w){let _=[];for(let Q=0;Q<O.length;Q++){let I=getAddr(w,O[Q]);if(E[Q]==2)for(let M of I)_.push(M);else _.push(I)}return r.combine(_)}return{create(w){for(let _ of O)ensureAddr(w,_);return w.values[S]=j(w),1},update(w,_){if(!ensureAll(w,y))return 0;let Q=j(w);return r.compare(Q,w.values[S])?0:(w.values[S]=Q,1)},reconfigure(w,_){let Q=ensureAll(w,O),I=_.config.facets[r.id],M=_.facet(r);if(I&&!Q&&sameArray$1(x,I))return w.values[S]=M,0;let F=j(w);return r.compare(F,M)?(w.values[S]=M,0):(w.values[S]=F,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(r,x,O,E,y){this.id=r,this.createF=x,this.updateF=O,this.compareF=E,this.spec=y,this.provides=void 0}static define(r){let x=new StateField(nextID++,r.create,r.update,r.compare||((O,E)=>O===E),r);return r.provide&&(x.provides=r.provide(x)),x}create(r){let x=r.facet(initField).find(O=>O.field==this);return((x==null?void 0:x.create)||this.createF)(r)}slot(r){let x=r[this.id]>>1;return{create:O=>(O.values[x]=this.create(O),1),update:(O,E)=>{let y=O.values[x],S=this.updateF(y,E);return this.compareF(y,S)?0:(O.values[x]=S,1)},reconfigure:(O,E)=>{let y=O.facet(initField),S=E.facet(initField),j;return(j=y.find(w=>w.field==this))&&j!=S.find(w=>w.field==this)?(O.values[x]=j.create(O),1):E.config.address[this.id]!=null?(O.values[x]=E.field(this),0):(O.values[x]=this.create(O),1)}}}init(r){return[this,initField.of({field:this,create:r})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(o){return r=>new PrecExtension(r,o)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(r,x){this.inner=r,this.prec=x}}class Compartment{of(r){return new CompartmentInstance(this,r)}reconfigure(r){return Compartment.reconfigure.of({compartment:this,extension:r})}get(r){return r.config.compartments.get(this)}}class CompartmentInstance{constructor(r,x){this.compartment=r,this.inner=x}}class Configuration{constructor(r,x,O,E,y,S){for(this.base=r,this.compartments=x,this.dynamicSlots=O,this.address=E,this.staticValues=y,this.facets=S,this.statusTemplate=[];this.statusTemplate.length<O.length;)this.statusTemplate.push(0)}staticFacet(r){let x=this.address[r.id];return x==null?r.default:this.staticValues[x>>1]}static resolve(r,x,O){let E=[],y=Object.create(null),S=new Map;for(let M of flatten(r,x,S))M instanceof StateField?E.push(M):(y[M.facet.id]||(y[M.facet.id]=[])).push(M);let j=Object.create(null),w=[],_=[];for(let M of E)j[M.id]=_.length<<1,_.push(F=>M.slot(F));let Q=O==null?void 0:O.config.facets;for(let M in y){let F=y[M],V=F[0].facet,te=Q&&Q[M]||[];if(F.every(re=>re.type==0))if(j[V.id]=w.length<<1|1,sameArray$1(te,F))w.push(O.facet(V));else{let re=V.combine(F.map(se=>se.value));w.push(O&&V.compare(re,O.facet(V))?O.facet(V):re)}else{for(let re of F)re.type==0?(j[re.id]=w.length<<1|1,w.push(re.value)):(j[re.id]=_.length<<1,_.push(se=>re.dynamicSlot(se)));j[V.id]=_.length<<1,_.push(re=>dynamicFacetSlot(re,V,F))}}let I=_.map(M=>M(j));return new Configuration(r,S,I,j,w,y)}}function flatten(o,r,x){let O=[[],[],[],[],[]],E=new Map;function y(S,j){let w=E.get(S);if(w!=null){if(w<=j)return;let _=O[w].indexOf(S);_>-1&&O[w].splice(_,1),S instanceof CompartmentInstance&&x.delete(S.compartment)}if(E.set(S,j),Array.isArray(S))for(let _ of S)y(_,j);else if(S instanceof CompartmentInstance){if(x.has(S.compartment))throw new RangeError("Duplicate use of compartment in extensions");let _=r.get(S.compartment)||S.inner;x.set(S.compartment,_),y(_,j)}else if(S instanceof PrecExtension)y(S.inner,S.prec);else if(S instanceof StateField)O[j].push(S),S.provides&&y(S.provides,j);else if(S instanceof FacetProvider)O[j].push(S),S.facet.extensions&&y(S.facet.extensions,Prec_.default);else{let _=S.extension;if(!_)throw new Error(`Unrecognized extension value in extension set (${S}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);y(_,j)}}return y(o,Prec_.default),O.reduce((S,j)=>S.concat(j))}function ensureAddr(o,r){if(r&1)return 2;let x=r>>1,O=o.status[x];if(O==4)throw new Error("Cyclic dependency between fields and/or facets");if(O&2)return O;o.status[x]=4;let E=o.computeSlot(o,o.config.dynamicSlots[x]);return o.status[x]=2|E}function getAddr(o,r){return r&1?o.config.staticValues[r>>1]:o.values[r>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:o=>o.some(r=>r),static:!0}),lineSeparator=Facet.define({combine:o=>o.length?o[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:o=>o.length?o[0]:!1});class Annotation{constructor(r,x){this.type=r,this.value=x}static define(){return new AnnotationType}}class AnnotationType{of(r){return new Annotation(this,r)}}class StateEffectType{constructor(r){this.map=r}of(r){return new StateEffect(this,r)}}class StateEffect{constructor(r,x){this.type=r,this.value=x}map(r){let x=this.type.map(this.value,r);return x===void 0?void 0:x==this.value?this:new StateEffect(this.type,x)}is(r){return this.type==r}static define(r={}){return new StateEffectType(r.map||(x=>x))}static mapEffects(r,x){if(!r.length)return r;let O=[];for(let E of r){let y=E.map(x);y&&O.push(y)}return O}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(r,x,O,E,y,S){this.startState=r,this.changes=x,this.selection=O,this.effects=E,this.annotations=y,this.scrollIntoView=S,this._doc=null,this._state=null,O&&checkSelection(O,x.newLength),y.some(j=>j.type==Transaction.time)||(this.annotations=y.concat(Transaction.time.of(Date.now())))}static create(r,x,O,E,y,S){return new Transaction(r,x,O,E,y,S)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(r){for(let x of this.annotations)if(x.type==r)return x.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(r){let x=this.annotation(Transaction.userEvent);return!!(x&&(x==r||x.length>r.length&&x.slice(0,r.length)==r&&x[r.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(o,r){let x=[];for(let O=0,E=0;;){let y,S;if(O<o.length&&(E==r.length||r[E]>=o[O]))y=o[O++],S=o[O++];else if(E<r.length)y=r[E++],S=r[E++];else return x;!x.length||x[x.length-1]<y?x.push(y,S):x[x.length-1]<S&&(x[x.length-1]=S)}}function mergeTransaction(o,r,x){var O;let E,y,S;return x?(E=r.changes,y=ChangeSet.empty(r.changes.length),S=o.changes.compose(r.changes)):(E=r.changes.map(o.changes),y=o.changes.mapDesc(r.changes,!0),S=o.changes.compose(E)),{changes:S,selection:r.selection?r.selection.map(y):(O=o.selection)===null||O===void 0?void 0:O.map(E),effects:StateEffect.mapEffects(o.effects,E).concat(StateEffect.mapEffects(r.effects,y)),annotations:o.annotations.length?o.annotations.concat(r.annotations):r.annotations,scrollIntoView:o.scrollIntoView||r.scrollIntoView}}function resolveTransactionInner(o,r,x){let O=r.selection,E=asArray$1(r.annotations);return r.userEvent&&(E=E.concat(Transaction.userEvent.of(r.userEvent))),{changes:r.changes instanceof ChangeSet?r.changes:ChangeSet.of(r.changes||[],x,o.facet(lineSeparator)),selection:O&&(O instanceof EditorSelection?O:EditorSelection.single(O.anchor,O.head)),effects:asArray$1(r.effects),annotations:E,scrollIntoView:!!r.scrollIntoView}}function resolveTransaction(o,r,x){let O=resolveTransactionInner(o,r.length?r[0]:{},o.doc.length);r.length&&r[0].filter===!1&&(x=!1);for(let y=1;y<r.length;y++){r[y].filter===!1&&(x=!1);let S=!!r[y].sequential;O=mergeTransaction(O,resolveTransactionInner(o,r[y],S?O.changes.newLength:o.doc.length),S)}let E=Transaction.create(o,O.changes,O.selection,O.effects,O.annotations,O.scrollIntoView);return extendTransaction(x?filterTransaction(E):E)}function filterTransaction(o){let r=o.startState,x=!0;for(let E of r.facet(changeFilter)){let y=E(o);if(y===!1){x=!1;break}Array.isArray(y)&&(x=x===!0?y:joinRanges(x,y))}if(x!==!0){let E,y;if(x===!1)y=o.changes.invertedDesc,E=ChangeSet.empty(r.doc.length);else{let S=o.changes.filter(x);E=S.changes,y=S.filtered.mapDesc(S.changes).invertedDesc}o=Transaction.create(r,E,o.selection&&o.selection.map(y),StateEffect.mapEffects(o.effects,y),o.annotations,o.scrollIntoView)}let O=r.facet(transactionFilter);for(let E=O.length-1;E>=0;E--){let y=O[E](o);y instanceof Transaction?o=y:Array.isArray(y)&&y.length==1&&y[0]instanceof Transaction?o=y[0]:o=resolveTransaction(r,asArray$1(y),!1)}return o}function extendTransaction(o){let r=o.startState,x=r.facet(transactionExtender),O=o;for(let E=x.length-1;E>=0;E--){let y=x[E](o);y&&Object.keys(y).length&&(O=mergeTransaction(O,resolveTransactionInner(r,y,o.changes.newLength),!0))}return O==o?o:Transaction.create(r,o.changes,o.selection,O.effects,O.annotations,O.scrollIntoView)}const none$2=[];function asArray$1(o){return o==null?none$2:Array.isArray(o)?o:[o]}var CharCategory=function(o){return o[o.Word=0]="Word",o[o.Space=1]="Space",o[o.Other=2]="Other",o}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(o){}function hasWordChar(o){if(wordChar)return wordChar.test(o);for(let r=0;r<o.length;r++){let x=o[r];if(/\w/.test(x)||x>""&&(x.toUpperCase()!=x.toLowerCase()||nonASCIISingleCaseWordChar.test(x)))return!0}return!1}function makeCategorizer(o){return r=>{if(!/\S/.test(r))return CharCategory.Space;if(hasWordChar(r))return CharCategory.Word;for(let x=0;x<o.length;x++)if(r.indexOf(o[x])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(r,x,O,E,y,S){this.config=r,this.doc=x,this.selection=O,this.values=E,this.status=r.statusTemplate.slice(),this.computeSlot=y,S&&(S._state=this);for(let j=0;j<this.config.dynamicSlots.length;j++)ensureAddr(this,j<<1);this.computeSlot=null}field(r,x=!0){let O=this.config.address[r.id];if(O==null){if(x)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,O),getAddr(this,O)}update(...r){return resolveTransaction(this,r,!0)}applyTransaction(r){let x=this.config,{base:O,compartments:E}=x;for(let j of r.effects)j.is(Compartment.reconfigure)?(x&&(E=new Map,x.compartments.forEach((w,_)=>E.set(_,w)),x=null),E.set(j.value.compartment,j.value.extension)):j.is(StateEffect.reconfigure)?(x=null,O=j.value):j.is(StateEffect.appendConfig)&&(x=null,O=asArray$1(O).concat(j.value));let y;x?y=r.startState.values.slice():(x=Configuration.resolve(O,E,this),y=new EditorState(x,this.doc,this.selection,x.dynamicSlots.map(()=>null),(w,_)=>_.reconfigure(w,this),null).values);let S=r.startState.facet(allowMultipleSelections)?r.newSelection:r.newSelection.asSingle();new EditorState(x,r.newDoc,S,y,(j,w)=>w.update(j,r),r)}replaceSelection(r){return typeof r=="string"&&(r=this.toText(r)),this.changeByRange(x=>({changes:{from:x.from,to:x.to,insert:r},range:EditorSelection.cursor(x.from+r.length)}))}changeByRange(r){let x=this.selection,O=r(x.ranges[0]),E=this.changes(O.changes),y=[O.range],S=asArray$1(O.effects);for(let j=1;j<x.ranges.length;j++){let w=r(x.ranges[j]),_=this.changes(w.changes),Q=_.map(E);for(let M=0;M<j;M++)y[M]=y[M].map(Q);let I=E.mapDesc(_,!0);y.push(w.range.map(I)),E=E.compose(Q),S=StateEffect.mapEffects(S,Q).concat(StateEffect.mapEffects(asArray$1(w.effects),I))}return{changes:E,selection:EditorSelection.create(y,x.mainIndex),effects:S}}changes(r=[]){return r instanceof ChangeSet?r:ChangeSet.of(r,this.doc.length,this.facet(EditorState.lineSeparator))}toText(r){return Text.of(r.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(r=0,x=this.doc.length){return this.doc.sliceString(r,x,this.lineBreak)}facet(r){let x=this.config.address[r.id];return x==null?r.default:(ensureAddr(this,x),getAddr(this,x))}toJSON(r){let x={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(r)for(let O in r){let E=r[O];E instanceof StateField&&this.config.address[E.id]!=null&&(x[O]=E.spec.toJSON(this.field(r[O]),this))}return x}static fromJSON(r,x={},O){if(!r||typeof r.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let E=[];if(O){for(let y in O)if(Object.prototype.hasOwnProperty.call(r,y)){let S=O[y],j=r[y];E.push(S.init(w=>S.spec.fromJSON(j,w)))}}return EditorState.create({doc:r.doc,selection:EditorSelection.fromJSON(r.selection),extensions:x.extensions?E.concat([x.extensions]):E})}static create(r={}){let x=Configuration.resolve(r.extensions||[],new Map),O=r.doc instanceof Text?r.doc:Text.of((r.doc||"").split(x.staticFacet(EditorState.lineSeparator)||DefaultSplit)),E=r.selection?r.selection instanceof EditorSelection?r.selection:EditorSelection.single(r.selection.anchor,r.selection.head):EditorSelection.single(0);return checkSelection(E,O.length),x.staticFacet(allowMultipleSelections)||(E=E.asSingle()),new EditorState(x,O,E,x.dynamicSlots.map(()=>null),(y,S)=>S.create(y),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(r,...x){for(let O of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(O,r)){r=O[r];break}return x.length&&(r=r.replace(/\$(\$|\d*)/g,(O,E)=>{if(E=="$")return"$";let y=+(E||1);return!y||y>x.length?O:x[y-1]})),r}languageDataAt(r,x,O=-1){let E=[];for(let y of this.facet(languageData))for(let S of y(this,x,O))Object.prototype.hasOwnProperty.call(S,r)&&E.push(S[r]);return E}charCategorizer(r){let x=this.languageDataAt("wordChars",r);return makeCategorizer(x.length?x[0]:"")}wordAt(r){let{text:x,from:O,length:E}=this.doc.lineAt(r),y=this.charCategorizer(r),S=r-O,j=r-O;for(;S>0;){let w=findClusterBreak(x,S,!1);if(y(x.slice(w,S))!=CharCategory.Word)break;S=w}for(;j<E;){let w=findClusterBreak(x,j);if(y(x.slice(j,w))!=CharCategory.Word)break;j=w}return S==j?null:EditorSelection.range(S+O,j+O)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:o=>o.length?o[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(o,r){let x=Object.keys(o),O=Object.keys(r);return x.length==O.length&&x.every(E=>o[E]==r[E])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(o,r,x={}){let O={};for(let E of o)for(let y of Object.keys(E)){let S=E[y],j=O[y];if(j===void 0)O[y]=S;else if(!(j===S||S===void 0))if(Object.hasOwnProperty.call(x,y))O[y]=x[y](j,S);else throw new Error("Config merge conflict for field "+y)}for(let E in r)O[E]===void 0&&(O[E]=r[E]);return O}class RangeValue{eq(r){return this==r}range(r,x=r){return Range$1.create(r,x,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;function cmpVal(o,r){return o==r||o.constructor==r.constructor&&o.eq(r)}let Range$1=class Xs{constructor(r,x,O){this.from=r,this.to=x,this.value=O}static create(r,x,O){return new Xs(r,x,O)}};function cmpRange(o,r){return o.from-r.from||o.value.startSide-r.value.startSide}class Chunk{constructor(r,x,O,E){this.from=r,this.to=x,this.value=O,this.maxPoint=E}get length(){return this.to[this.to.length-1]}findIndex(r,x,O,E=0){let y=O?this.to:this.from;for(let S=E,j=y.length;;){if(S==j)return S;let w=S+j>>1,_=y[w]-r||(O?this.value[w].endSide:this.value[w].startSide)-x;if(w==S)return _>=0?S:j;_>=0?j=w:S=w+1}}between(r,x,O,E){for(let y=this.findIndex(x,-1e9,!0),S=this.findIndex(O,1e9,!1,y);y<S;y++)if(E(this.from[y]+r,this.to[y]+r,this.value[y])===!1)return!1}map(r,x){let O=[],E=[],y=[],S=-1,j=-1;for(let w=0;w<this.value.length;w++){let _=this.value[w],Q=this.from[w]+r,I=this.to[w]+r,M,F;if(Q==I){let V=x.mapPos(Q,_.startSide,_.mapMode);if(V==null||(M=F=V,_.startSide!=_.endSide&&(F=x.mapPos(Q,_.endSide),F<M)))continue}else if(M=x.mapPos(Q,_.startSide),F=x.mapPos(I,_.endSide),M>F||M==F&&_.startSide>0&&_.endSide<=0)continue;(F-M||_.endSide-_.startSide)<0||(S<0&&(S=M),_.point&&(j=Math.max(j,F-M)),O.push(_),E.push(M-S),y.push(F-S))}return{mapped:O.length?new Chunk(E,y,O,j):null,pos:S}}}class RangeSet{constructor(r,x,O,E){this.chunkPos=r,this.chunk=x,this.nextLayer=O,this.maxPoint=E}static create(r,x,O,E){return new RangeSet(r,x,O,E)}get length(){let r=this.chunk.length-1;return r<0?0:Math.max(this.chunkEnd(r),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let r=this.nextLayer.size;for(let x of this.chunk)r+=x.value.length;return r}chunkEnd(r){return this.chunkPos[r]+this.chunk[r].length}update(r){let{add:x=[],sort:O=!1,filterFrom:E=0,filterTo:y=this.length}=r,S=r.filter;if(x.length==0&&!S)return this;if(O&&(x=x.slice().sort(cmpRange)),this.isEmpty)return x.length?RangeSet.of(x):this;let j=new LayerCursor(this,null,-1).goto(0),w=0,_=[],Q=new RangeSetBuilder;for(;j.value||w<x.length;)if(w<x.length&&(j.from-x[w].from||j.startSide-x[w].value.startSide)>=0){let I=x[w++];Q.addInner(I.from,I.to,I.value)||_.push(I)}else j.rangeIndex==1&&j.chunkIndex<this.chunk.length&&(w==x.length||this.chunkEnd(j.chunkIndex)<x[w].from)&&(!S||E>this.chunkEnd(j.chunkIndex)||y<this.chunkPos[j.chunkIndex])&&Q.addChunk(this.chunkPos[j.chunkIndex],this.chunk[j.chunkIndex])?j.nextChunk():((!S||E>j.to||y<j.from||S(j.from,j.to,j.value))&&(Q.addInner(j.from,j.to,j.value)||_.push(Range$1.create(j.from,j.to,j.value))),j.next());return Q.finishInner(this.nextLayer.isEmpty&&!_.length?RangeSet.empty:this.nextLayer.update({add:_,filter:S,filterFrom:E,filterTo:y}))}map(r){if(r.empty||this.isEmpty)return this;let x=[],O=[],E=-1;for(let S=0;S<this.chunk.length;S++){let j=this.chunkPos[S],w=this.chunk[S],_=r.touchesRange(j,j+w.length);if(_===!1)E=Math.max(E,w.maxPoint),x.push(w),O.push(r.mapPos(j));else if(_===!0){let{mapped:Q,pos:I}=w.map(j,r);Q&&(E=Math.max(E,Q.maxPoint),x.push(Q),O.push(I))}}let y=this.nextLayer.map(r);return x.length==0?y:new RangeSet(O,x,y||RangeSet.empty,E)}between(r,x,O){if(!this.isEmpty){for(let E=0;E<this.chunk.length;E++){let y=this.chunkPos[E],S=this.chunk[E];if(x>=y&&r<=y+S.length&&S.between(y,r-y,x-y,O)===!1)return}this.nextLayer.between(r,x,O)}}iter(r=0){return HeapCursor.from([this]).goto(r)}get isEmpty(){return this.nextLayer==this}static iter(r,x=0){return HeapCursor.from(r).goto(x)}static compare(r,x,O,E,y=-1){let S=r.filter(I=>I.maxPoint>0||!I.isEmpty&&I.maxPoint>=y),j=x.filter(I=>I.maxPoint>0||!I.isEmpty&&I.maxPoint>=y),w=findSharedChunks(S,j,O),_=new SpanCursor(S,w,y),Q=new SpanCursor(j,w,y);O.iterGaps((I,M,F)=>compare(_,I,Q,M,F,E)),O.empty&&O.length==0&&compare(_,0,Q,0,0,E)}static eq(r,x,O=0,E){E==null&&(E=999999999);let y=r.filter(Q=>!Q.isEmpty&&x.indexOf(Q)<0),S=x.filter(Q=>!Q.isEmpty&&r.indexOf(Q)<0);if(y.length!=S.length)return!1;if(!y.length)return!0;let j=findSharedChunks(y,S),w=new SpanCursor(y,j,0).goto(O),_=new SpanCursor(S,j,0).goto(O);for(;;){if(w.to!=_.to||!sameValues(w.active,_.active)||w.point&&(!_.point||!cmpVal(w.point,_.point)))return!1;if(w.to>E)return!0;w.next(),_.next()}}static spans(r,x,O,E,y=-1){let S=new SpanCursor(r,null,y).goto(x),j=x,w=S.openStart;for(;;){let _=Math.min(S.to,O);if(S.point){let Q=S.activeForPoint(S.to),I=S.pointFrom<x?Q.length+1:S.point.startSide<0?Q.length:Math.min(Q.length,w);E.point(j,_,S.point,Q,I,S.pointRank),w=Math.min(S.openEnd(_),Q.length)}else _>j&&(E.span(j,_,S.active,w),w=S.openEnd(_));if(S.to>O)return w+(S.point&&S.to>O?1:0);j=S.to,S.next()}}static of(r,x=!1){let O=new RangeSetBuilder;for(let E of r instanceof Range$1?[r]:x?lazySort(r):r)O.add(E.from,E.to,E.value);return O.finish()}static join(r){if(!r.length)return RangeSet.empty;let x=r[r.length-1];for(let O=r.length-2;O>=0;O--)for(let E=r[O];E!=RangeSet.empty;E=E.nextLayer)x=new RangeSet(E.chunkPos,E.chunk,x,Math.max(E.maxPoint,x.maxPoint));return x}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(o){if(o.length>1)for(let r=o[0],x=1;x<o.length;x++){let O=o[x];if(cmpRange(r,O)>0)return o.slice().sort(cmpRange);r=O}return o}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(r){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,r&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(r,x,O){this.addInner(r,x,O)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(r,x,O)}addInner(r,x,O){let E=r-this.lastTo||O.startSide-this.last.endSide;if(E<=0&&(r-this.lastFrom||O.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return E<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=r),this.from.push(r-this.chunkStart),this.to.push(x-this.chunkStart),this.last=O,this.lastFrom=r,this.lastTo=x,this.value.push(O),O.point&&(this.maxPoint=Math.max(this.maxPoint,x-r)),!0)}addChunk(r,x){if((r-this.lastTo||x.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,x.maxPoint),this.chunks.push(x),this.chunkPos.push(r);let O=x.value.length-1;return this.last=x.value[O],this.lastFrom=x.from[O]+r,this.lastTo=x.to[O]+r,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(r){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return r;let x=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(r):r,this.setMaxPoint);return this.from=null,x}}function findSharedChunks(o,r,x){let O=new Map;for(let y of o)for(let S=0;S<y.chunk.length;S++)y.chunk[S].maxPoint<=0&&O.set(y.chunk[S],y.chunkPos[S]);let E=new Set;for(let y of r)for(let S=0;S<y.chunk.length;S++){let j=O.get(y.chunk[S]);j!=null&&(x?x.mapPos(j):j)==y.chunkPos[S]&&!(x!=null&&x.touchesRange(j,j+y.chunk[S].length))&&E.add(y.chunk[S])}return E}class LayerCursor{constructor(r,x,O,E=0){this.layer=r,this.skip=x,this.minPoint=O,this.rank=E}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(r,x=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(r,x,!1),this}gotoInner(r,x,O){for(;this.chunkIndex<this.layer.chunk.length;){let E=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(E)||this.layer.chunkEnd(this.chunkIndex)<r||E.maxPoint<this.minPoint))break;this.chunkIndex++,O=!1}if(this.chunkIndex<this.layer.chunk.length){let E=this.layer.chunk[this.chunkIndex].findIndex(r-this.layer.chunkPos[this.chunkIndex],x,!0);(!O||this.rangeIndex<E)&&this.setRangeIndex(E)}this.next()}forward(r,x){(this.to-r||this.endSide-x)<0&&this.gotoInner(r,x,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let r=this.layer.chunkPos[this.chunkIndex],x=this.layer.chunk[this.chunkIndex],O=r+x.from[this.rangeIndex];if(this.from=O,this.to=r+x.to[this.rangeIndex],this.value=x.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(r){if(r==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=r}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(r){return this.from-r.from||this.startSide-r.startSide||this.rank-r.rank||this.to-r.to||this.endSide-r.endSide}}class HeapCursor{constructor(r){this.heap=r}static from(r,x=null,O=-1){let E=[];for(let y=0;y<r.length;y++)for(let S=r[y];!S.isEmpty;S=S.nextLayer)S.maxPoint>=O&&E.push(new LayerCursor(S,x,O,y));return E.length==1?E[0]:new HeapCursor(E)}get startSide(){return this.value?this.value.startSide:0}goto(r,x=-1e9){for(let O of this.heap)O.goto(r,x);for(let O=this.heap.length>>1;O>=0;O--)heapBubble(this.heap,O);return this.next(),this}forward(r,x){for(let O of this.heap)O.forward(r,x);for(let O=this.heap.length>>1;O>=0;O--)heapBubble(this.heap,O);(this.to-r||this.value.endSide-x)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let r=this.heap[0];this.from=r.from,this.to=r.to,this.value=r.value,this.rank=r.rank,r.value&&r.next(),heapBubble(this.heap,0)}}}function heapBubble(o,r){for(let x=o[r];;){let O=(r<<1)+1;if(O>=o.length)break;let E=o[O];if(O+1<o.length&&E.compare(o[O+1])>=0&&(E=o[O+1],O++),x.compare(E)<0)break;o[O]=x,o[r]=E,r=O}}class SpanCursor{constructor(r,x,O){this.minPoint=O,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(r,x,O)}goto(r,x=-1e9){return this.cursor.goto(r,x),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=r,this.endSide=x,this.openStart=-1,this.next(),this}forward(r,x){for(;this.minActive>-1&&(this.activeTo[this.minActive]-r||this.active[this.minActive].endSide-x)<0;)this.removeActive(this.minActive);this.cursor.forward(r,x)}removeActive(r){remove(this.active,r),remove(this.activeTo,r),remove(this.activeRank,r),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(r){let x=0,{value:O,to:E,rank:y}=this.cursor;for(;x<this.activeRank.length&&(y-this.activeRank[x]||E-this.activeTo[x])>0;)x++;insert(this.active,x,O),insert(this.activeTo,x,E),insert(this.activeRank,x,y),r&&insert(r,x,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let r=this.to,x=this.point;this.point=null;let O=this.openStart<0?[]:null;for(;;){let E=this.minActive;if(E>-1&&(this.activeTo[E]-this.cursor.from||this.active[E].endSide-this.cursor.startSide)<0){if(this.activeTo[E]>r){this.to=this.activeTo[E],this.endSide=this.active[E].endSide;break}this.removeActive(E),O&&remove(O,E)}else if(this.cursor.value)if(this.cursor.from>r){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let y=this.cursor.value;if(!y.point)this.addActive(O),this.cursor.next();else if(x&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=y,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=y.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(O){this.openStart=0;for(let E=O.length-1;E>=0&&O[E]<r;E--)this.openStart++}}activeForPoint(r){if(!this.active.length)return this.active;let x=[];for(let O=this.active.length-1;O>=0&&!(this.activeRank[O]<this.pointRank);O--)(this.activeTo[O]>r||this.activeTo[O]==r&&this.active[O].endSide>=this.point.endSide)&&x.push(this.active[O]);return x.reverse()}openEnd(r){let x=0;for(let O=this.activeTo.length-1;O>=0&&this.activeTo[O]>r;O--)x++;return x}}function compare(o,r,x,O,E,y){o.goto(r),x.goto(O);let S=O+E,j=O,w=O-r,_=!!y.boundChange;for(let Q=!1;;){let I=o.to+w-x.to,M=I||o.endSide-x.endSide,F=M<0?o.to+w:x.to,V=Math.min(F,S);if(o.point||x.point?(o.point&&x.point&&cmpVal(o.point,x.point)&&sameValues(o.activeForPoint(o.to),x.activeForPoint(x.to))||y.comparePoint(j,V,o.point,x.point),Q=!1):(Q&&y.boundChange(j),V>j&&!sameValues(o.active,x.active)&&y.compareRange(j,V,o.active,x.active),_&&V<S&&(I||o.openEnd(F)!=x.openEnd(F))&&(Q=!0)),F>S)break;j=F,M<=0&&o.next(),M>=0&&x.next()}}function sameValues(o,r){if(o.length!=r.length)return!1;for(let x=0;x<o.length;x++)if(o[x]!=r[x]&&!cmpVal(o[x],r[x]))return!1;return!0}function remove(o,r){for(let x=r,O=o.length-1;x<O;x++)o[x]=o[x+1];o.pop()}function insert(o,r,x){for(let O=o.length-1;O>=r;O--)o[O+1]=o[O];o[r]=x}function findMinIndex(o,r){let x=-1,O=1e9;for(let E=0;E<r.length;E++)(r[E]-O||o[E].endSide-o[x].endSide)<0&&(x=E,O=r[E]);return x}function countColumn(o,r,x=o.length){let O=0;for(let E=0;E<x&&E<o.length;)o.charCodeAt(E)==9?(O+=r-O%r,E++):(O++,E=findClusterBreak(o,E));return O}function findColumn(o,r,x,O){for(let E=0,y=0;;){if(y>=r)return E;if(E==o.length)break;y+=o.charCodeAt(E)==9?x-y%x:1,E=findClusterBreak(o,E)}return O===!0?-1:o.length}const C="ͼ",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(r,x){this.rules=[];let{finish:O}=x||{};function E(S){return/^@/.test(S)?[S]:S.split(/,\s*/)}function y(S,j,w,_){let Q=[],I=/^@(\w+)\b/.exec(S[0]),M=I&&I[1]=="keyframes";if(I&&j==null)return w.push(S[0]+";");for(let F in j){let V=j[F];if(/&/.test(F))y(F.split(/,\s*/).map(te=>S.map(re=>te.replace(/&/,re))).reduce((te,re)=>te.concat(re)),V,w);else if(V&&typeof V=="object"){if(!I)throw new RangeError("The value of a property ("+F+") should be a primitive value.");y(E(F),V,Q,M)}else V!=null&&Q.push(F.replace(/_.*/,"").replace(/[A-Z]/g,te=>"-"+te.toLowerCase())+": "+V+";")}(Q.length||M)&&w.push((O&&!I&&!_?S.map(O):S).join(", ")+" {"+Q.join(" ")+"}")}for(let S in r)y(E(S),r[S],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let r=top[COUNT]||1;return top[COUNT]=r+1,C+r.toString(36)}static mount(r,x,O){let E=r[SET],y=O&&O.nonce;E?y&&E.setNonce(y):E=new StyleSet(r,y),E.mount(Array.isArray(x)?x:[x],r)}}let adoptedSet=new Map;class StyleSet{constructor(r,x){let O=r.ownerDocument||r,E=O.defaultView;if(!r.head&&r.adoptedStyleSheets&&E.CSSStyleSheet){let y=adoptedSet.get(O);if(y)return r[SET]=y;this.sheet=new E.CSSStyleSheet,adoptedSet.set(O,this)}else this.styleTag=O.createElement("style"),x&&this.styleTag.setAttribute("nonce",x);this.modules=[],r[SET]=this}mount(r,x){let O=this.sheet,E=0,y=0;for(let S=0;S<r.length;S++){let j=r[S],w=this.modules.indexOf(j);if(w<y&&w>-1&&(this.modules.splice(w,1),y--,w=-1),w==-1){if(this.modules.splice(y++,0,j),O)for(let _=0;_<j.rules.length;_++)O.insertRule(j.rules[_],E++)}else{for(;y<w;)E+=this.modules[y++].rules.length;E+=j.rules.length,y++}}if(O)x.adoptedStyleSheets.indexOf(this.sheet)<0&&(x.adoptedStyleSheets=[this.sheet,...x.adoptedStyleSheets]);else{let S="";for(let w=0;w<this.modules.length;w++)S+=this.modules[w].getRules()+`
`;this.styleTag.textContent=S;let j=x.head||x;this.styleTag.parentNode!=j&&j.insertBefore(this.styleTag,j.firstChild)}}setNonce(r){this.styleTag&&this.styleTag.getAttribute("nonce")!=r&&this.styleTag.setAttribute("nonce",r)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(o){var r=mac&&o.metaKey&&o.shiftKey&&!o.ctrlKey&&!o.altKey||ie$1&&o.shiftKey&&o.key&&o.key.length==1||o.key=="Unidentified",x=!r&&o.key||(o.shiftKey?shift:base)[o.keyCode]||o.key||"Unidentified";return x=="Esc"&&(x="Escape"),x=="Del"&&(x="Delete"),x=="Left"&&(x="ArrowLeft"),x=="Up"&&(x="ArrowUp"),x=="Right"&&(x="ArrowRight"),x=="Down"&&(x="ArrowDown"),x}function crelt(){var o=arguments[0];typeof o=="string"&&(o=document.createElement(o));var r=1,x=arguments[1];if(x&&typeof x=="object"&&x.nodeType==null&&!Array.isArray(x)){for(var O in x)if(Object.prototype.hasOwnProperty.call(x,O)){var E=x[O];typeof E=="string"?o.setAttribute(O,E):E!=null&&(o[O]=E)}r++}for(;r<arguments.length;r++)add(o,arguments[r]);return o}function add(o,r){if(typeof r=="string")o.appendChild(document.createTextNode(r));else if(r!=null)if(r.nodeType!=null)o.appendChild(r);else if(Array.isArray(r))for(var x=0;x<r.length;x++)add(o,r[x]);else throw new RangeError("Unsupported child node: "+r)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,safari,safari_version:safari?+(/\bVersion\/(\d+(\.\d+)?)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function combineAttrs(o,r){for(let x in o)x=="class"&&r.class?r.class+=" "+o.class:x=="style"&&r.style?r.style+=";"+o.style:r[x]=o[x];return r}const noAttrs$1=Object.create(null);function attrsEq(o,r,x){if(o==r)return!0;o||(o=noAttrs$1),r||(r=noAttrs$1);let O=Object.keys(o),E=Object.keys(r);if(O.length-0!=E.length-0)return!1;for(let y of O)if(y!=x&&(E.indexOf(y)==-1||o[y]!==r[y]))return!1;return!0}function setAttrs(o,r){for(let x=o.attributes.length-1;x>=0;x--){let O=o.attributes[x].name;r[O]==null&&o.removeAttribute(O)}for(let x in r){let O=r[x];x=="style"?o.style.cssText=O:o.getAttribute(x)!=O&&o.setAttribute(x,O)}}function updateAttrs(o,r,x){let O=!1;if(r)for(let E in r)x&&E in x||(O=!0,E=="style"?o.style.cssText="":o.removeAttribute(E));if(x)for(let E in x)r&&r[E]==x[E]||(O=!0,E=="style"?o.style.cssText=x[E]:o.setAttribute(E,x[E]));return O}function getAttrs(o){let r=Object.create(null);for(let x=0;x<o.attributes.length;x++){let O=o.attributes[x];r[O.name]=O.value}return r}class WidgetType{eq(r){return!1}updateDOM(r,x){return!1}compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(r){return!0}coordsAt(r,x,O){return null}get isHidden(){return!1}get editable(){return!1}destroy(r){}}var BlockType=function(o){return o[o.Text=0]="Text",o[o.WidgetBefore=1]="WidgetBefore",o[o.WidgetAfter=2]="WidgetAfter",o[o.WidgetRange=3]="WidgetRange",o}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(r,x,O,E){super(),this.startSide=r,this.endSide=x,this.widget=O,this.spec=E}get heightRelevant(){return!1}static mark(r){return new MarkDecoration(r)}static widget(r){let x=Math.max(-1e4,Math.min(1e4,r.side||0)),O=!!r.block;return x+=O&&!r.inlineOrder?x>0?3e8:-4e8:x>0?1e8:-1e8,new PointDecoration(r,x,x,O,r.widget||null,!1)}static replace(r){let x=!!r.block,O,E;if(r.isBlockGap)O=-5e8,E=4e8;else{let{start:y,end:S}=getInclusive(r,x);O=(y?x?-3e8:-1:5e8)-1,E=(S?x?2e8:1:-6e8)+1}return new PointDecoration(r,O,E,x,r.widget||null,!0)}static line(r){return new LineDecoration(r)}static set(r,x=!1){return RangeSet.of(r,x)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(r){let{start:x,end:O}=getInclusive(r);super(x?-1:5e8,O?1:-6e8,null,r),this.tagName=r.tagName||"span",this.attrs=r.class&&r.attributes?combineAttrs(r.attributes,{class:r.class}):r.class?{class:r.class}:r.attributes||noAttrs$1}eq(r){return this==r||r instanceof MarkDecoration&&this.tagName==r.tagName&&attrsEq(this.attrs,r.attrs)}range(r,x=r){if(r>=x)throw new RangeError("Mark decorations may not be empty");return super.range(r,x)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(r){super(-2e8,-2e8,null,r)}eq(r){return r instanceof LineDecoration&&this.spec.class==r.spec.class&&attrsEq(this.spec.attributes,r.spec.attributes)}range(r,x=r){if(x!=r)throw new RangeError("Line decoration ranges must be zero-length");return super.range(r,x)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(r,x,O,E,y,S){super(x,O,y,r),this.block=E,this.isReplace=S,this.mapMode=E?x<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(r){return r instanceof PointDecoration&&widgetsEq(this.widget,r.widget)&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide}range(r,x=r){if(this.isReplace&&(r>x||r==x&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&x!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(r,x)}}PointDecoration.prototype.point=!0;function getInclusive(o,r=!1){let{inclusiveStart:x,inclusiveEnd:O}=o;return x==null&&(x=o.inclusive),O==null&&(O=o.inclusive),{start:x??r,end:O??r}}function widgetsEq(o,r){return o==r||!!(o&&r&&o.compare(r))}function addRange(o,r,x,O=0){let E=x.length-1;E>=0&&x[E]+O>=o?x[E]=Math.max(x[E],r):x.push(o,r)}class BlockWrapper extends RangeValue{constructor(r,x){super(),this.tagName=r,this.attributes=x}eq(r){return r==this||r instanceof BlockWrapper&&this.tagName==r.tagName&&attrsEq(this.attributes,r.attributes)}static create(r){return new BlockWrapper(r.tagName,r.attributes||noAttrs$1)}static set(r,x=!1){return RangeSet.of(r,x)}}BlockWrapper.prototype.startSide=BlockWrapper.prototype.endSide=-1;function getSelection(o){let r;return o.nodeType==11?r=o.getSelection?o:o.ownerDocument:r=o,r.getSelection()}function contains(o,r){return r?o==r||o.contains(r.nodeType!=1?r.parentNode:r):!1}function hasSelection(o,r){if(!r.anchorNode)return!1;try{return contains(o,r.anchorNode)}catch{return!1}}function clientRectsFor(o){return o.nodeType==3?textRange(o,0,o.nodeValue.length).getClientRects():o.nodeType==1?o.getClientRects():[]}function isEquivalentPosition(o,r,x,O){return x?scanFor(o,r,x,O,-1)||scanFor(o,r,x,O,1):!1}function domIndex(o){for(var r=0;;r++)if(o=o.previousSibling,!o)return r}function isBlockElement(o){return o.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(o.nodeName)}function scanFor(o,r,x,O,E){for(;;){if(o==x&&r==O)return!0;if(r==(E<0?0:maxOffset(o))){if(o.nodeName=="DIV")return!1;let y=o.parentNode;if(!y||y.nodeType!=1)return!1;r=domIndex(o)+(E<0?0:1),o=y}else if(o.nodeType==1){if(o=o.childNodes[r+(E<0?-1:0)],o.nodeType==1&&o.contentEditable=="false")return!1;r=E<0?maxOffset(o):0}else return!1}}function maxOffset(o){return o.nodeType==3?o.nodeValue.length:o.childNodes.length}function flattenRect(o,r){let x=r?o.left:o.right;return{left:x,right:x,top:o.top,bottom:o.bottom}}function windowRect(o){let r=o.visualViewport;return r?{left:0,right:r.width,top:0,bottom:r.height}:{left:0,right:o.innerWidth,top:0,bottom:o.innerHeight}}function getScale(o,r){let x=r.width/o.offsetWidth,O=r.height/o.offsetHeight;return(x>.995&&x<1.005||!isFinite(x)||Math.abs(r.width-o.offsetWidth)<1)&&(x=1),(O>.995&&O<1.005||!isFinite(O)||Math.abs(r.height-o.offsetHeight)<1)&&(O=1),{scaleX:x,scaleY:O}}function scrollRectIntoView(o,r,x,O,E,y,S,j){let w=o.ownerDocument,_=w.defaultView||window;for(let Q=o,I=!1;Q&&!I;)if(Q.nodeType==1){let M,F=Q==w.body,V=1,te=1;if(F)M=windowRect(_);else{if(/^(fixed|sticky)$/.test(getComputedStyle(Q).position)&&(I=!0),Q.scrollHeight<=Q.clientHeight&&Q.scrollWidth<=Q.clientWidth){Q=Q.assignedSlot||Q.parentNode;continue}let ne=Q.getBoundingClientRect();({scaleX:V,scaleY:te}=getScale(Q,ne)),M={left:ne.left,right:ne.left+Q.clientWidth*V,top:ne.top,bottom:ne.top+Q.clientHeight*te}}let re=0,se=0;if(E=="nearest")r.top<M.top?(se=r.top-(M.top+S),x>0&&r.bottom>M.bottom+se&&(se=r.bottom-M.bottom+S)):r.bottom>M.bottom&&(se=r.bottom-M.bottom+S,x<0&&r.top-se<M.top&&(se=r.top-(M.top+S)));else{let ne=r.bottom-r.top,oe=M.bottom-M.top;se=(E=="center"&&ne<=oe?r.top+ne/2-oe/2:E=="start"||E=="center"&&x<0?r.top-S:r.bottom-oe+S)-M.top}if(O=="nearest"?r.left<M.left?(re=r.left-(M.left+y),x>0&&r.right>M.right+re&&(re=r.right-M.right+y)):r.right>M.right&&(re=r.right-M.right+y,x<0&&r.left<M.left+re&&(re=r.left-(M.left+y))):re=(O=="center"?r.left+(r.right-r.left)/2-(M.right-M.left)/2:O=="start"==j?r.left-y:r.right-(M.right-M.left)+y)-M.left,re||se)if(F)_.scrollBy(re,se);else{let ne=0,oe=0;if(se){let Oe=Q.scrollTop;Q.scrollTop+=se/te,oe=(Q.scrollTop-Oe)*te}if(re){let Oe=Q.scrollLeft;Q.scrollLeft+=re/V,ne=(Q.scrollLeft-Oe)*V}r={left:r.left-ne,top:r.top-oe,right:r.right-ne,bottom:r.bottom-oe},ne&&Math.abs(ne-re)<1&&(O="nearest"),oe&&Math.abs(oe-se)<1&&(E="nearest")}if(F)break;(r.top<M.top||r.bottom>M.bottom||r.left<M.left||r.right>M.right)&&(r={left:Math.max(r.left,M.left),right:Math.min(r.right,M.right),top:Math.max(r.top,M.top),bottom:Math.min(r.bottom,M.bottom)}),Q=Q.assignedSlot||Q.parentNode}else if(Q.nodeType==11)Q=Q.host;else break}function scrollableParents(o){let r=o.ownerDocument,x,O;for(let E=o.parentNode;E&&!(E==r.body||x&&O);)if(E.nodeType==1)!O&&E.scrollHeight>E.clientHeight&&(O=E),!x&&E.scrollWidth>E.clientWidth&&(x=E),E=E.assignedSlot||E.parentNode;else if(E.nodeType==11)E=E.host;else break;return{x,y:O}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(r){return this.anchorNode==r.anchorNode&&this.anchorOffset==r.anchorOffset&&this.focusNode==r.focusNode&&this.focusOffset==r.focusOffset}setRange(r){let{anchorNode:x,focusNode:O}=r;this.set(x,Math.min(r.anchorOffset,x?maxOffset(x):0),O,Math.min(r.focusOffset,O?maxOffset(O):0))}set(r,x,O,E){this.anchorNode=r,this.anchorOffset=x,this.focusNode=O,this.focusOffset=E}}let preventScrollSupported=null;browser.safari&&browser.safari_version>=26&&(preventScrollSupported=!1);function focusPreventScroll(o){if(o.setActive)return o.setActive();if(preventScrollSupported)return o.focus(preventScrollSupported);let r=[];for(let x=o;x&&(r.push(x,x.scrollTop,x.scrollLeft),x!=x.ownerDocument);x=x.parentNode);if(o.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let x=0;x<r.length;){let O=r[x++],E=r[x++],y=r[x++];O.scrollTop!=E&&(O.scrollTop=E),O.scrollLeft!=y&&(O.scrollLeft=y)}}}let scratchRange;function textRange(o,r,x=r){let O=scratchRange||(scratchRange=document.createRange());return O.setEnd(o,x),O.setStart(o,r),O}function dispatchKey(o,r,x,O){let E={key:r,code:r,keyCode:x,which:x,cancelable:!0};O&&({altKey:E.altKey,ctrlKey:E.ctrlKey,shiftKey:E.shiftKey,metaKey:E.metaKey}=O);let y=new KeyboardEvent("keydown",E);y.synthetic=!0,o.dispatchEvent(y);let S=new KeyboardEvent("keyup",E);return S.synthetic=!0,o.dispatchEvent(S),y.defaultPrevented||S.defaultPrevented}function getRoot(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}function atElementStart(o,r){let x=r.focusNode,O=r.focusOffset;if(!x||r.anchorNode!=x||r.anchorOffset!=O)return!1;for(O=Math.min(O,maxOffset(x));;)if(O){if(x.nodeType!=1)return!1;let E=x.childNodes[O-1];E.contentEditable=="false"?O--:(x=E,O=maxOffset(x))}else{if(x==o)return!0;O=domIndex(x),x=x.parentNode}}function isScrolledToBottom(o){return o.scrollTop>Math.max(1,o.scrollHeight-o.clientHeight-4)}function textNodeBefore(o,r){for(let x=o,O=r;;){if(x.nodeType==3&&O>0)return{node:x,offset:O};if(x.nodeType==1&&O>0){if(x.contentEditable=="false")return null;x=x.childNodes[O-1],O=maxOffset(x)}else if(x.parentNode&&!isBlockElement(x))O=domIndex(x),x=x.parentNode;else return null}}function textNodeAfter(o,r){for(let x=o,O=r;;){if(x.nodeType==3&&O<x.nodeValue.length)return{node:x,offset:O};if(x.nodeType==1&&O<x.childNodes.length){if(x.contentEditable=="false")return null;x=x.childNodes[O],O=0}else if(x.parentNode&&!isBlockElement(x))O=domIndex(x)+1,x=x.parentNode;else return null}}class DOMPos{constructor(r,x,O=!0){this.node=r,this.offset=x,this.precise=O}static before(r,x){return new DOMPos(r.parentNode,domIndex(r),x)}static after(r,x){return new DOMPos(r.parentNode,domIndex(r)+1,x)}}var Direction=function(o){return o[o.LTR=0]="LTR",o[o.RTL=1]="RTL",o}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(o){let r=[];for(let x=0;x<o.length;x++)r.push(1<<+o[x]);return r}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let o of["()","[]","{}"]){let r=o.charCodeAt(0),x=o.charCodeAt(1);Brackets[r]=x,Brackets[x]=-r}function charType(o){return o<=247?LowTypes[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?ArabicTypes[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8204?256:64336<=o&&o<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(r,x,O){this.from=r,this.to=x,this.level=O}side(r,x){return this.dir==x==r?this.to:this.from}forward(r,x){return r==(this.dir==x)}static find(r,x,O,E){let y=-1;for(let S=0;S<r.length;S++){let j=r[S];if(j.from<=x&&j.to>=x){if(j.level==O)return S;(y<0||(E!=0?E<0?j.from<x:j.to>x:r[y].level>j.level))&&(y=S)}}if(y<0)throw new RangeError("Index out of range");return y}}function isolatesEq(o,r){if(o.length!=r.length)return!1;for(let x=0;x<o.length;x++){let O=o[x],E=r[x];if(O.from!=E.from||O.to!=E.to||O.direction!=E.direction||!isolatesEq(O.inner,E.inner))return!1}return!0}const types=[];function computeCharTypes(o,r,x,O,E){for(let y=0;y<=O.length;y++){let S=y?O[y-1].to:r,j=y<O.length?O[y].from:x,w=y?256:E;for(let _=S,Q=w,I=w;_<j;_++){let M=charType(o.charCodeAt(_));M==512?M=Q:M==8&&I==4&&(M=16),types[_]=M==4?2:M,M&7&&(I=M),Q=M}for(let _=S,Q=w,I=w;_<j;_++){let M=types[_];if(M==128)_<j-1&&Q==types[_+1]&&Q&24?M=types[_]=Q:types[_]=256;else if(M==64){let F=_+1;for(;F<j&&types[F]==64;)F++;let V=_&&Q==8||F<x&&types[F]==8?I==1?1:8:256;for(let te=_;te<F;te++)types[te]=V;_=F-1}else M==8&&I==1&&(types[_]=1);Q=M,M&7&&(I=M)}}}function processBracketPairs(o,r,x,O,E){let y=E==1?2:1;for(let S=0,j=0,w=0;S<=O.length;S++){let _=S?O[S-1].to:r,Q=S<O.length?O[S].from:x;for(let I=_,M,F,V;I<Q;I++)if(F=Brackets[M=o.charCodeAt(I)])if(F<0){for(let te=j-3;te>=0;te-=3)if(BracketStack[te+1]==-F){let re=BracketStack[te+2],se=re&2?E:re&4?re&1?y:E:0;se&&(types[I]=types[BracketStack[te]]=se),j=te;break}}else{if(BracketStack.length==189)break;BracketStack[j++]=I,BracketStack[j++]=M,BracketStack[j++]=w}else if((V=types[I])==2||V==1){let te=V==E;w=te?0:1;for(let re=j-3;re>=0;re-=3){let se=BracketStack[re+2];if(se&2)break;if(te)BracketStack[re+2]|=2;else{if(se&4)break;BracketStack[re+2]|=4}}}}}function processNeutrals(o,r,x,O){for(let E=0,y=O;E<=x.length;E++){let S=E?x[E-1].to:o,j=E<x.length?x[E].from:r;for(let w=S;w<j;){let _=types[w];if(_==256){let Q=w+1;for(;;)if(Q==j){if(E==x.length)break;Q=x[E++].to,j=E<x.length?x[E].from:r}else if(types[Q]==256)Q++;else break;let I=y==1,M=(Q<r?types[Q]:O)==1,F=I==M?I?1:2:O;for(let V=Q,te=E,re=te?x[te-1].to:o;V>w;)V==re&&(V=x[--te].from,re=te?x[te-1].to:o),types[--V]=F;w=Q}else y=_,w++}}}function emitSpans(o,r,x,O,E,y,S){let j=O%2?2:1;if(O%2==E%2)for(let w=r,_=0;w<x;){let Q=!0,I=!1;if(_==y.length||w<y[_].from){let te=types[w];te!=j&&(Q=!1,I=te==16)}let M=!Q&&j==1?[]:null,F=Q?O:O+1,V=w;e:for(;;)if(_<y.length&&V==y[_].from){if(I)break e;let te=y[_];if(!Q)for(let re=te.to,se=_+1;;){if(re==x)break e;if(se<y.length&&y[se].from==re)re=y[se++].to;else{if(types[re]==j)break e;break}}if(_++,M)M.push(te);else{te.from>w&&S.push(new BidiSpan(w,te.from,F));let re=te.direction==LTR!=!(F%2);computeSectionOrder(o,re?O+1:O,E,te.inner,te.from,te.to,S),w=te.to}V=te.to}else{if(V==x||(Q?types[V]!=j:types[V]==j))break;V++}M?emitSpans(o,w,V,O+1,E,M,S):w<V&&S.push(new BidiSpan(w,V,F)),w=V}else for(let w=x,_=y.length;w>r;){let Q=!0,I=!1;if(!_||w>y[_-1].to){let te=types[w-1];te!=j&&(Q=!1,I=te==16)}let M=!Q&&j==1?[]:null,F=Q?O:O+1,V=w;e:for(;;)if(_&&V==y[_-1].to){if(I)break e;let te=y[--_];if(!Q)for(let re=te.from,se=_;;){if(re==r)break e;if(se&&y[se-1].to==re)re=y[--se].from;else{if(types[re-1]==j)break e;break}}if(M)M.push(te);else{te.to<w&&S.push(new BidiSpan(te.to,w,F));let re=te.direction==LTR!=!(F%2);computeSectionOrder(o,re?O+1:O,E,te.inner,te.from,te.to,S),w=te.from}V=te.from}else{if(V==r||(Q?types[V-1]!=j:types[V-1]==j))break;V--}M?emitSpans(o,V,w,O+1,E,M,S):V<w&&S.push(new BidiSpan(V,w,F)),w=V}}function computeSectionOrder(o,r,x,O,E,y,S){let j=r%2?2:1;computeCharTypes(o,E,y,O,j),processBracketPairs(o,E,y,O,j),processNeutrals(E,y,O,j),emitSpans(o,E,y,r,x,O,S)}function computeOrder(o,r,x){if(!o)return[new BidiSpan(0,0,r==RTL?1:0)];if(r==LTR&&!x.length&&!BidiRE.test(o))return trivialOrder(o.length);if(x.length)for(;o.length>types.length;)types[types.length]=256;let O=[],E=r==LTR?0:1;return computeSectionOrder(o,E,E,x,0,o.length,O),O}function trivialOrder(o){return[new BidiSpan(0,o,0)]}let movedOver="";function moveVisually(o,r,x,O,E){var y;let S=O.head-o.from,j=BidiSpan.find(r,S,(y=O.bidiLevel)!==null&&y!==void 0?y:-1,O.assoc),w=r[j],_=w.side(E,x);if(S==_){let M=j+=E?1:-1;if(M<0||M>=r.length)return null;w=r[j=M],S=w.side(!E,x),_=w.side(E,x)}let Q=findClusterBreak(o.text,S,w.forward(E,x));(Q<w.from||Q>w.to)&&(Q=_),movedOver=o.text.slice(Math.min(S,Q),Math.max(S,Q));let I=j==(E?r.length-1:0)?null:r[j+(E?1:-1)];return I&&Q==_&&I.level+(E?0:1)<w.level?EditorSelection.cursor(I.side(!E,x)+o.from,I.forward(E,x)?1:-1,I.level):EditorSelection.cursor(Q+o.from,w.forward(E,x)?-1:1,w.level)}function autoDirection(o,r,x){for(let O=r;O<x;O++){let E=charType(o.charCodeAt(O));if(E==1)return LTR;if(E==2||E==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:o=>o.some(r=>r)}),nativeSelectionHidden=Facet.define({combine:o=>o.some(r=>r)}),scrollHandler=Facet.define();class ScrollTarget{constructor(r,x="nearest",O="nearest",E=5,y=5,S=!1){this.range=r,this.y=x,this.x=O,this.yMargin=E,this.xMargin=y,this.isSnapshot=S}map(r){return r.empty?this:new ScrollTarget(this.range.map(r),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(r){return this.range.to<=r.doc.length?this:new ScrollTarget(EditorSelection.cursor(r.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(o,r)=>o.map(r)}),setEditContextFormatting=StateEffect.define();function logException(o,r,x){let O=o.facet(exceptionSink);O.length?O[0](r):window.onerror&&window.onerror(String(r),x,void 0,void 0,r)||(x?console.error(x+":",r):console.error(r))}const editable=Facet.define({combine:o=>o.length?o[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(o){return o.filter((r,x)=>{for(let O=0;O<x;O++)if(o[O].plugin==r.plugin)return!1;return!0})}});class ViewPlugin{constructor(r,x,O,E,y){this.id=r,this.create=x,this.domEventHandlers=O,this.domEventObservers=E,this.baseExtensions=y(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(r){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:r}))}static define(r,x){const{eventHandlers:O,eventObservers:E,provide:y,decorations:S}=x||{};return new ViewPlugin(nextPluginID++,r,O,E,j=>{let w=[];return S&&w.push(decorations.of(_=>{let Q=_.plugin(j);return Q?S(Q):Decoration.none})),y&&w.push(y(j)),w})}static fromClass(r,x){return ViewPlugin.define((O,E)=>new r(O,E),x)}}class PluginInstance{constructor(r){this.spec=r,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(r){if(this.value){if(this.mustUpdate){let x=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(x)}catch(O){if(logException(x.state,O,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(r,this.spec.arg)}catch(x){logException(r.state,x,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(r){var x;if(!((x=this.value)===null||x===void 0)&&x.destroy)try{this.value.destroy()}catch(O){logException(r.state,O,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),blockWrappers=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(o,r){let x=o.state.facet(bidiIsolatedRanges);if(!x.length)return x;let O=x.map(y=>y instanceof Function?y(o):y),E=[];return RangeSet.spans(O,r.from,r.to,{point(){},span(y,S,j,w){let _=y-r.from,Q=S-r.from,I=E;for(let M=j.length-1;M>=0;M--,w--){let F=j[M].spec.bidiIsolate,V;if(F==null&&(F=autoDirection(r.text,_,Q)),w>0&&I.length&&(V=I[I.length-1]).to==_&&V.direction==F)V.to=Q,I=V.inner;else{let te={from:_,to:Q,direction:F,inner:[]};I.push(te),I=te.inner}}}}),E}const scrollMargins=Facet.define();function getScrollMargins(o){let r=0,x=0,O=0,E=0;for(let y of o.state.facet(scrollMargins)){let S=y(o);S&&(S.left!=null&&(r=Math.max(r,S.left)),S.right!=null&&(x=Math.max(x,S.right)),S.top!=null&&(O=Math.max(O,S.top)),S.bottom!=null&&(E=Math.max(E,S.bottom)))}return{left:r,right:x,top:O,bottom:E}}const styleModule=Facet.define();class ChangedRange{constructor(r,x,O,E){this.fromA=r,this.toA=x,this.fromB=O,this.toB=E}join(r){return new ChangedRange(Math.min(this.fromA,r.fromA),Math.max(this.toA,r.toA),Math.min(this.fromB,r.fromB),Math.max(this.toB,r.toB))}addToSet(r){let x=r.length,O=this;for(;x>0;x--){let E=r[x-1];if(!(E.fromA>O.toA)){if(E.toA<O.fromA)break;O=O.join(E),r.splice(x-1,1)}}return r.splice(x,0,O),r}static extendWithRanges(r,x){if(x.length==0)return r;let O=[];for(let E=0,y=0,S=0;;){let j=E<r.length?r[E].fromB:1e9,w=y<x.length?x[y]:1e9,_=Math.min(j,w);if(_==1e9)break;let Q=_+S,I=_,M=Q;for(;;)if(y<x.length&&x[y]<=I){let F=x[y+1];y+=2,I=Math.max(I,F);for(let V=E;V<r.length&&r[V].fromB<=I;V++)S=r[V].toA-r[V].toB;M=Math.max(M,F+S)}else if(E<r.length&&r[E].fromB<=I){let F=r[E++];I=Math.max(I,F.toB),M=Math.max(M,F.toA),S=F.toA-F.toB}else break;O.push(new ChangedRange(Q,M,_,I))}return O}}class ViewUpdate{constructor(r,x,O){this.view=r,this.state=x,this.transactions=O,this.flags=0,this.startState=r.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let y of O)this.changes=this.changes.compose(y.changes);let E=[];this.changes.iterChangedRanges((y,S,j,w)=>E.push(new ChangedRange(y,S,j,w))),this.changedRanges=E}static create(r,x,O){return new ViewUpdate(r,x,O)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(r=>r.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const noChildren=[];class Tile{constructor(r,x,O=0){this.dom=r,this.length=x,this.flags=O,this.parent=null,r.cmTile=this}get breakAfter(){return this.flags&1}get children(){return noChildren}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(r){if(this.flags|=2,this.flags&4){this.flags&=-5;let x=this.domAttrs;x&&setAttrs(this.dom,x)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(r){this.dom=r,r.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(r,x=this.posAtStart){let O=x;for(let E of this.children){if(E==r)return O;O+=E.length+E.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(r){return this.posBefore(r)+r.length}covers(r){return!0}coordsIn(r,x){return null}domPosFor(r,x){let O=domIndex(this.dom),E=this.length?r>0:x>0;return new DOMPos(this.parent.dom,O+(E?1:0),r==0||r==this.length)}markDirty(r){this.flags&=-3,r&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let r=this;r;r=r.parent)if(r instanceof DocTile)return r;return null}static get(r){return r.cmTile}}class CompositeTile extends Tile{constructor(r){super(r,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(r){this.children.push(r),r.parent=this}sync(r){if(this.flags&2)return;super.sync(r);let x=this.dom,O=null,E,y=(r==null?void 0:r.node)==x?r:null,S=0;for(let j of this.children){if(j.sync(r),S+=j.length+j.breakAfter,E=O?O.nextSibling:x.firstChild,y&&E!=j.dom&&(y.written=!0),j.dom.parentNode==x)for(;E&&E!=j.dom;)E=rm$1(E);else x.insertBefore(j.dom,E);O=j.dom}for(E=O?O.nextSibling:x.firstChild,y&&E&&(y.written=!0);E;)E=rm$1(E);this.length=S}}function rm$1(o){let r=o.nextSibling;return o.parentNode.removeChild(o),r}class DocTile extends CompositeTile{constructor(r,x){super(x),this.view=r}owns(r){for(;r;r=r.parent)if(r==this)return!0;return!1}isBlock(){return!0}nearest(r){for(;;){if(!r)return null;let x=Tile.get(r);if(x&&this.owns(x))return x;r=r.parentNode}}blockTiles(r){for(let x=[],O=this,E=0,y=0;;)if(E==O.children.length){if(!x.length)return;O=O.parent,O.breakAfter&&y++,E=x.pop()}else{let S=O.children[E++];if(S instanceof BlockWrapperTile)x.push(E),O=S,E=0;else{let j=y+S.length,w=r(S,y);if(w!==void 0)return w;y=j+S.breakAfter}}}resolveBlock(r,x){let O,E=-1,y,S=-1;if(this.blockTiles((j,w)=>{let _=w+j.length;if(r>=w&&r<=_){if(j.isWidget()&&x>=-1&&x<=1){if(j.flags&32)return!0;j.flags&16&&(O=void 0)}(w<r||r==_&&(x<-1?j.length:j.covers(1)))&&(!O||!j.isWidget()&&O.isWidget())&&(O=j,E=r-w),(_>r||r==w&&(x>1?j.length:j.covers(-1)))&&(!y||!j.isWidget()&&y.isWidget())&&(y=j,S=r-w)}}),!O&&!y)throw new Error("No tile at position "+r);return O&&x<0||!y?{tile:O,offset:E}:{tile:y,offset:S}}}class BlockWrapperTile extends CompositeTile{constructor(r,x){super(r),this.wrapper=x}isBlock(){return!0}covers(r){return this.children.length?r<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(r,x){let O=new BlockWrapperTile(x||document.createElement(r.tagName),r);return x||(O.flags|=4),O}}class LineTile extends CompositeTile{constructor(r,x){super(r),this.attrs=x}isLine(){return!0}static start(r,x,O){let E=new LineTile(x||document.createElement("div"),r);return(!x||!O)&&(E.flags|=4),E}get domAttrs(){return this.attrs}resolveInline(r,x,O){let E=null,y=-1,S=null,j=-1;function w(Q,I){for(let M=0,F=0;M<Q.children.length&&F<=I;M++){let V=Q.children[M],te=F+V.length;te>=I&&(V.isComposite()?w(V,I-F):(!S||S.isHidden&&(x>0||O&&onSameLine(S,V)))&&(te>I||V.flags&32)?(S=V,j=I-F):(F<I||V.flags&16&&!V.isHidden)&&(E=V,y=I-F)),F=te}}w(this,r);let _=(x<0?E:S)||E||S;return _?{tile:_,offset:_==E?y:j}:null}coordsIn(r,x){let O=this.resolveInline(r,x,!0);return O?O.tile.coordsIn(Math.max(0,O.offset),x):fallbackRect(this)}domIn(r,x){let O=this.resolveInline(r,x);if(O){let{tile:E,offset:y}=O;if(this.dom.contains(E.dom))return E.isText()?new DOMPos(E.dom,Math.min(E.dom.nodeValue.length,y)):E.domPosFor(y,E.flags&16?1:E.flags&32?-1:x);let S=O.tile.parent,j=!1;for(let w of S.children){if(j)return new DOMPos(w.dom,0);w==O.tile&&(j=!0)}}return new DOMPos(this.dom,0)}}function fallbackRect(o){let r=o.dom.lastChild;if(!r)return o.dom.getBoundingClientRect();let x=clientRectsFor(r);return x[x.length-1]||null}function onSameLine(o,r){let x=o.coordsIn(0,1),O=r.coordsIn(0,1);return x&&O&&O.top<x.bottom}class MarkTile extends CompositeTile{constructor(r,x){super(r),this.mark=x}get domAttrs(){return this.mark.attrs}static of(r,x){let O=new MarkTile(x||document.createElement(r.tagName),r);return x||(O.flags|=4),O}}class TextTile extends Tile{constructor(r,x){super(r,x.length),this.text=x}sync(r){this.flags&2||(super.sync(r),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(r,x){let O=this.dom.nodeValue.length;r>O&&(r=O);let E=r,y=r,S=0;r==0&&x<0||r==O&&x>=0?browser.chrome||browser.gecko||(r?(E--,S=1):y<O&&(y++,S=-1)):x<0?E--:y<O&&y++;let j=textRange(this.dom,E,y).getClientRects();if(!j.length)return null;let w=j[(S?S<0:x>=0)?0:j.length-1];return browser.safari&&!S&&w.width==0&&(w=Array.prototype.find.call(j,_=>_.width)||w),S?flattenRect(w,S<0):w||null}static of(r,x){let O=new TextTile(x||document.createTextNode(r),r);return x||(O.flags|=2),O}}class WidgetTile extends Tile{constructor(r,x,O,E){super(r,x,E),this.widget=O}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(r){return this.flags&48?!1:(this.flags&(r<0?64:128))>0}coordsIn(r,x){return this.coordsInWidget(r,x,!1)}coordsInWidget(r,x,O){let E=this.widget.coordsAt(this.dom,r,x);if(E)return E;if(O)return flattenRect(this.dom.getBoundingClientRect(),this.length?r==0:x<=0);{let y=this.dom.getClientRects(),S=null;if(!y.length)return null;let j=this.flags&16?!0:this.flags&32?!1:r>0;for(let w=j?y.length-1:0;S=y[w],!(r>0?w==0:w==y.length-1||S.top<S.bottom);w+=j?-1:1);return flattenRect(S,!j)}}get overrideDOMText(){if(!this.length)return Text.empty;let{root:r}=this;if(!r)return Text.empty;let x=this.posAtStart;return r.view.state.doc.slice(x,x+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(r,x,O,E,y){return y||(y=r.toDOM(x),r.editable||(y.contentEditable="false")),new WidgetTile(y,O,r,E)}}class WidgetBufferTile extends Tile{constructor(r){let x=document.createElement("img");x.className="cm-widgetBuffer",x.setAttribute("aria-hidden","true"),super(x,0,r)}get isHidden(){return!0}get overrideDOMText(){return Text.empty}coordsIn(r){return this.dom.getBoundingClientRect()}}class TilePointer{constructor(r){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=r}advance(r,x,O){let{tile:E,index:y,beforeBreak:S,parents:j}=this;for(;r||x>0;)if(E.isComposite())if(S){if(!r)break;O&&O.break(),r--,S=!1}else if(y==E.children.length){if(!r&&!j.length)break;O&&O.leave(E),S=!!E.breakAfter,{tile:E,index:y}=j.pop(),y++}else{let w=E.children[y],_=w.breakAfter;(x>0?w.length<=r:w.length<r)&&(!O||O.skip(w,0,w.length)!==!1||!w.isComposite)?(S=!!_,y++,r-=w.length):(j.push({tile:E,index:y}),E=w,y=0,O&&w.isComposite()&&O.enter(w))}else if(y==E.length)S=!!E.breakAfter,{tile:E,index:y}=j.pop(),y++;else if(r){let w=Math.min(r,E.length-y);O&&O.skip(E,y,y+w),r-=w,y+=w}else break;return this.tile=E,this.index=y,this.beforeBreak=S,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class OpenWrapper{constructor(r,x,O,E){this.from=r,this.to=x,this.wrapper=O,this.rank=E}}class TileBuilder{constructor(r,x,O){this.cache=r,this.root=x,this.blockWrappers=O,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(r,x,O,E){var y;this.flushBuffer();let S=this.ensureMarks(x,O),j=S.lastChild;if(j&&j.isText()&&!(j.flags&8)&&j.length+r.length<512){this.cache.reused.set(j,2);let w=S.children[S.children.length-1]=new TextTile(j.dom,j.text+r);w.parent=S}else S.append(E||TextTile.of(r,(y=this.cache.find(TextTile))===null||y===void 0?void 0:y.dom));this.pos+=r.length,this.afterWidget=null}addComposition(r,x){let O=this.curLine;O.dom!=x.line.dom&&(O.setDOM(this.cache.reused.has(x.line)?freeNode(x.line.dom):x.line.dom),this.cache.reused.set(x.line,2));let E=O;for(let j=x.marks.length-1;j>=0;j--){let w=x.marks[j],_=E.lastChild;if(_ instanceof MarkTile&&_.mark.eq(w.mark))_.dom!=w.dom&&_.setDOM(freeNode(w.dom)),E=_;else{if(this.cache.reused.get(w)){let I=Tile.get(w.dom);I&&I.setDOM(freeNode(w.dom))}let Q=MarkTile.of(w.mark,w.dom);E.append(Q),E=Q}this.cache.reused.set(w,2)}let y=Tile.get(r.text);y&&this.cache.reused.set(y,2);let S=new TextTile(r.text,r.text.nodeValue);S.flags|=8,E.append(S)}addInlineWidget(r,x,O){let E=this.afterWidget&&r.flags&48&&(this.afterWidget.flags&48)==(r.flags&48);E||this.flushBuffer();let y=this.ensureMarks(x,O);!E&&!(r.flags&16)&&y.append(this.getBuffer(1)),y.append(r),this.pos+=r.length,this.afterWidget=r}addMark(r,x,O){this.flushBuffer(),this.ensureMarks(x,O).append(r),this.pos+=r.length,this.afterWidget=null}addBlockWidget(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}continueWidget(r){let x=this.afterWidget||this.lastBlock;x.length+=r,this.pos+=r}addLineStart(r,x){var O;r||(r=lineBaseAttrs);let E=LineTile.start(r,x||((O=this.cache.find(LineTile))===null||O===void 0?void 0:O.dom),!!x);this.getBlockPos().append(this.lastBlock=this.curLine=E)}addLine(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(r){this.blockPosCovered()||this.addLineStart(r)}ensureLine(r){this.curLine||this.addLineStart(r)}ensureMarks(r,x){var O;let E=this.curLine;for(let y=r.length-1;y>=0;y--){let S=r[y],j;if(x>0&&(j=E.lastChild)&&j instanceof MarkTile&&j.mark.eq(S))E=j,x--;else{let w=MarkTile.of(S,(O=this.cache.find(MarkTile,_=>_.mark.eq(S)))===null||O===void 0?void 0:O.dom);E.append(w),E=w,x=0}}return E}endLine(){if(this.curLine){this.flushBuffer();let r=this.curLine.lastChild;(!r||!hasContent(this.curLine,!1)||r.dom.nodeName!="BR"&&r.isWidget()&&!(browser.ios&&hasContent(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(BreakWidget,0,32)||new WidgetTile(BreakWidget.toDOM(),0,BreakWidget,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let r=this.wrappers.length-1;r>=0;r--)this.wrappers[r].to<this.pos&&this.wrappers.splice(r,1);for(let r=this.blockWrappers;r.value&&r.from<=this.pos;r.next())if(r.to>=this.pos){let x=new OpenWrapper(r.from,r.to,r.value,r.rank),O=this.wrappers.length;for(;O>0&&(this.wrappers[O-1].rank-x.rank||this.wrappers[O-1].to-x.to)<0;)O--;this.wrappers.splice(O,0,x)}this.wrapperPos=this.pos}getBlockPos(){var r;this.updateBlockWrappers();let x=this.root;for(let O of this.wrappers){let E=x.lastChild;if(O.from<this.pos&&E instanceof BlockWrapperTile&&E.wrapper.eq(O.wrapper))x=E;else{let y=BlockWrapperTile.of(O.wrapper,(r=this.cache.find(BlockWrapperTile,S=>S.wrapper.eq(O.wrapper)))===null||r===void 0?void 0:r.dom);x.append(y),x=y}}return x}blockPosCovered(){let r=this.lastBlock;return r!=null&&!r.breakAfter&&(!r.isWidget()||(r.flags&160)>0)}getBuffer(r){let x=2|(r<0?16:32),O=this.cache.find(WidgetBufferTile,void 0,1);return O&&(O.flags=x),O||new WidgetBufferTile(x)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class TextStream{constructor(r){this.skipCount=0,this.text="",this.textOff=0,this.cursor=r.iter()}skip(r){this.textOff+r<=this.text.length?this.textOff+=r:(this.skipCount+=r-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(r){if(this.textOff==this.text.length){let{value:E,lineBreak:y,done:S}=this.cursor.next(this.skipCount);if(this.skipCount=0,S)throw new Error("Ran out of text content when drawing inline views");this.text=E;let j=this.textOff=Math.min(r,E.length);return y?null:E.slice(0,j)}let x=Math.min(this.text.length,this.textOff+r),O=this.text.slice(this.textOff,x);return this.textOff=x,O}}const buckets=[WidgetTile,LineTile,TextTile,MarkTile,WidgetBufferTile,BlockWrapperTile,DocTile];for(let o=0;o<buckets.length;o++)buckets[o].bucket=o;class TileCache{constructor(r){this.view=r,this.buckets=buckets.map(()=>[]),this.index=buckets.map(()=>0),this.reused=new Map}add(r){let x=r.constructor.bucket,O=this.buckets[x];O.length<6?O.push(r):O[this.index[x]=(this.index[x]+1)%6]=r}find(r,x,O=2){let E=r.bucket,y=this.buckets[E],S=this.index[E];for(let j=y.length-1;j>=0;j--){let w=(j+S)%y.length,_=y[w];if((!x||x(_))&&!this.reused.has(_))return y.splice(w,1),w<S&&this.index[E]--,this.reused.set(_,O),_}return null}findWidget(r,x,O){let E=this.buckets[0];if(E.length)for(let y=0,S=0;;y++){if(y==E.length){if(S)return null;S=1,y=0}let j=E[y];if(!this.reused.has(j)&&(S==0?j.widget.compare(r):j.widget.constructor==r.constructor&&r.updateDOM(j.dom,this.view)))return E.splice(y,1),y<this.index[0]&&this.index[0]--,j.widget==r&&j.length==x&&(j.flags&497)==O?(this.reused.set(j,1),j):(this.reused.set(j,2),new WidgetTile(j.dom,x,r,j.flags&-498|O))}}reuse(r){return this.reused.set(r,1),r}maybeReuse(r,x=2){if(!this.reused.has(r))return this.reused.set(r,x),r.dom}clear(){for(let r=0;r<this.buckets.length;r++)this.buckets[r].length=this.index[r]=0}}class TileUpdate{constructor(r,x,O,E,y){this.view=r,this.decorations=E,this.disallowBlockEffectsFor=y,this.openWidget=!1,this.openMarks=0,this.cache=new TileCache(r),this.text=new TextStream(r.state.doc),this.builder=new TileBuilder(this.cache,new DocTile(r,r.contentDOM),RangeSet.iter(O)),this.cache.reused.set(x,2),this.old=new TilePointer(x),this.reuseWalker={skip:(S,j,w)=>{if(this.cache.add(S),S.isComposite())return!1},enter:S=>this.cache.add(S),leave:()=>{},break:()=>{}}}run(r,x){let O=x&&this.getCompositionContext(x.text);for(let E=0,y=0,S=0;;){let j=S<r.length?r[S++]:null,w=j?j.fromA:this.old.root.length;if(w>E){let _=w-E;this.preserve(_,!S,!j),E=w,y+=_}if(!j)break;x&&j.fromA<=x.range.fromA&&j.toA>=x.range.toA?(this.forward(j.fromA,x.range.fromA,x.range.fromA<x.range.toA?1:-1),this.emit(y,x.range.fromB),this.cache.clear(),this.builder.addComposition(x,O),this.text.skip(x.range.toB-x.range.fromB),this.forward(x.range.fromA,j.toA),this.emit(x.range.toB,j.toB)):(this.forward(j.fromA,j.toA),this.emit(y,j.toB)),y=j.toB,E=j.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(r,x,O){let E=getMarks(this.old),y=this.openMarks;this.old.advance(r,O?1:-1,{skip:(S,j,w)=>{if(S.isWidget())if(this.openWidget)this.builder.continueWidget(w-j);else{let _=w>0||j<S.length?WidgetTile.of(S.widget,this.view,w-j,S.flags&496,this.cache.maybeReuse(S)):this.cache.reuse(S);_.flags&256?(_.flags&=-2,this.builder.addBlockWidget(_)):(this.builder.ensureLine(null),this.builder.addInlineWidget(_,E,y),y=E.length)}else if(S.isText())this.builder.ensureLine(null),!j&&w==S.length?this.builder.addText(S.text,E,y,this.cache.reuse(S)):(this.cache.add(S),this.builder.addText(S.text.slice(j,w),E,y)),y=E.length;else if(S.isLine())S.flags&=-2,this.cache.reused.set(S,1),this.builder.addLine(S);else if(S instanceof WidgetBufferTile)this.cache.add(S);else if(S instanceof MarkTile)this.builder.ensureLine(null),this.builder.addMark(S,E,y),this.cache.reused.set(S,1),y=E.length;else return!1;this.openWidget=!1},enter:S=>{S.isLine()?this.builder.addLineStart(S.attrs,this.cache.maybeReuse(S)):(this.cache.add(S),S instanceof MarkTile&&E.unshift(S.mark)),this.openWidget=!1},leave:S=>{S.isLine()?E.length&&(E.length=y=0):S instanceof MarkTile&&(E.shift(),y=Math.min(y,E.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(r)}emit(r,x){let O=null,E=this.builder,y=0,S=RangeSet.spans(this.decorations,r,x,{point:(j,w,_,Q,I,M)=>{if(_ instanceof PointDecoration){if(this.disallowBlockEffectsFor[M]){if(_.block)throw new RangeError("Block decorations may not be specified via plugins");if(w>this.view.state.doc.lineAt(j).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(y=Q.length,I>Q.length)E.continueWidget(w-j);else{let F=_.widget||(_.block?NullWidget.block:NullWidget.inline),V=widgetFlags(_),te=this.cache.findWidget(F,w-j,V)||WidgetTile.of(F,this.view,w-j,V);_.block?(_.startSide>0&&E.addLineStartIfNotCovered(O),E.addBlockWidget(te)):(E.ensureLine(O),E.addInlineWidget(te,Q,I))}O=null}else O=addLineDeco(O,_);w>j&&this.text.skip(w-j)},span:(j,w,_,Q)=>{for(let I=j;I<w;){let M=this.text.next(Math.min(512,w-I));M==null?(E.addLineStartIfNotCovered(O),E.addBreak(),I++):(E.ensureLine(O),E.addText(M,_,I==j?Q:_.length),I+=M.length),O=null}}});E.addLineStartIfNotCovered(O),this.openWidget=S>y,this.openMarks=S}forward(r,x,O=1){x-r<=10?this.old.advance(x-r,O,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(x-r-10,-1),this.old.advance(5,O,this.reuseWalker))}getCompositionContext(r){let x=[],O=null;for(let E=r.parentNode;;E=E.parentNode){let y=Tile.get(E);if(E==this.view.contentDOM)break;y instanceof MarkTile?x.push(y):y!=null&&y.isLine()?O=y:y instanceof BlockWrapperTile||(E.nodeName=="DIV"&&!O&&E!=this.view.contentDOM?O=new LineTile(E,lineBaseAttrs):O||x.push(MarkTile.of(new MarkDecoration({tagName:E.nodeName.toLowerCase(),attributes:getAttrs(E)}),E)))}return{line:O,marks:x}}}function hasContent(o,r){let x=O=>{for(let E of O.children)if((r?E.isText():E.length)||x(E))return!0;return!1};return x(o)}function widgetFlags(o){let r=o.isReplace?(o.startSide<0?64:0)|(o.endSide>0?128:0):o.startSide>0?32:16;return o.block&&(r|=256),r}const lineBaseAttrs={class:"cm-line"};function addLineDeco(o,r){let x=r.spec.attributes,O=r.spec.class;return!x&&!O||(o||(o={class:"cm-line"}),x&&combineAttrs(x,o),O&&(o.class+=" "+O)),o}function getMarks(o){let r=[];for(let x=o.parents.length;x>1;x--){let O=x==o.parents.length?o.tile:o.parents[x].tile;O instanceof MarkTile&&r.push(O.mark)}return r}function freeNode(o){let r=Tile.get(o);return r&&r.setDOM(o.cloneNode()),o}class NullWidget extends WidgetType{constructor(r){super(),this.tag=r}eq(r){return r.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(r){return r.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");const BreakWidget=new class extends WidgetType{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class DocView{constructor(r){this.view=r,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new DocTile(r,r.contentDOM),this.updateInner([new ChangedRange(0,0,0,r.state.doc.length)],null)}update(r){var x;let O=r.changedRanges;this.minWidth>0&&O.length&&(O.every(({fromA:Q,toA:I})=>I<this.minWidthFrom||Q>this.minWidthTo)?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(r);let E=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((x=this.domChanged)===null||x===void 0)&&x.newSel?E=this.domChanged.newSel.head:!touchesComposition(r.changes,this.hasComposition)&&!r.selectionSet&&(E=r.state.selection.main.head));let y=E>-1?findCompositionRange(this.view,r.changes,E):null;if(this.domChanged=null,this.hasComposition){let{from:Q,to:I}=this.hasComposition;O=new ChangedRange(Q,I,r.changes.mapPos(Q,-1),r.changes.mapPos(I,1)).addToSet(O.slice())}this.hasComposition=y?{from:y.range.fromB,to:y.range.toB}:null,(browser.ie||browser.chrome)&&!y&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);let S=this.decorations,j=this.blockWrappers;this.updateDeco();let w=findChangedDeco(S,this.decorations,r.changes);w.length&&(O=ChangedRange.extendWithRanges(O,w));let _=findChangedWrappers(j,this.blockWrappers,r.changes);return _.length&&(O=ChangedRange.extendWithRanges(O,_)),y&&!O.some(Q=>Q.fromA<=y.range.fromA&&Q.toA>=y.range.toA)&&(O=y.range.addToSet(O.slice())),this.tile.flags&2&&O.length==0?!1:(this.updateInner(O,y),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(r,x){this.view.viewState.mustMeasureContent=!0;let{observer:O}=this.view;O.ignore(()=>{if(x||r.length){let S=this.tile,j=new TileUpdate(this.view,S,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=j.run(r,x),destroyDropped(S,j.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let y=browser.chrome||browser.ios?{node:O.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(y),y&&(y.written||O.selectionRange.focusNode!=y.node||!this.tile.dom.contains(y.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let E=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let y of this.tile.children)y.isWidget()&&y.widget instanceof BlockGapWidget&&E.push(y.dom);O.updateGaps(E)}updateEditContextFormatting(r){this.editContextFormatting=this.editContextFormatting.map(r.changes);for(let x of r.transactions)for(let O of x.effects)O.is(setEditContextFormatting)&&(this.editContextFormatting=O.value)}updateSelection(r=!1,x=!1){(r||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:O}=this.tile,E=this.view.root.activeElement,y=E==O,S=!y&&!(this.view.state.facet(editable)||O.tabIndex>-1)&&hasSelection(O,this.view.observer.selectionRange)&&!(E&&O.contains(E));if(!(y||x||S))return;let j=this.forceSelection;this.forceSelection=!1;let w=this.view.state.selection.main,_,Q;if(w.empty?Q=_=this.inlineDOMNearPos(w.anchor,w.assoc||1):(Q=this.inlineDOMNearPos(w.head,w.head==w.from?1:-1),_=this.inlineDOMNearPos(w.anchor,w.anchor==w.from?1:-1)),browser.gecko&&w.empty&&!this.hasComposition&&betweenUneditable(_)){let M=document.createTextNode("");this.view.observer.ignore(()=>_.node.insertBefore(M,_.node.childNodes[_.offset]||null)),_=Q=new DOMPos(M,0),j=!0}let I=this.view.observer.selectionRange;(j||!I.focusNode||(!isEquivalentPosition(_.node,_.offset,I.anchorNode,I.anchorOffset)||!isEquivalentPosition(Q.node,Q.offset,I.focusNode,I.focusOffset))&&!this.suppressWidgetCursorChange(I,w))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&O.contains(I.focusNode)&&inUneditable(I.focusNode,O)&&(O.blur(),O.focus({preventScroll:!0}));let M=getSelection(this.view.root);if(M)if(w.empty){if(browser.gecko){let F=nextToUneditable(_.node,_.offset);if(F&&F!=3){let V=(F==1?textNodeBefore:textNodeAfter)(_.node,_.offset);V&&(_=new DOMPos(V.node,V.offset))}}M.collapse(_.node,_.offset),w.bidiLevel!=null&&M.caretBidiLevel!==void 0&&(M.caretBidiLevel=w.bidiLevel)}else if(M.extend){M.collapse(_.node,_.offset);try{M.extend(Q.node,Q.offset)}catch{}}else{let F=document.createRange();w.anchor>w.head&&([_,Q]=[Q,_]),F.setEnd(Q.node,Q.offset),F.setStart(_.node,_.offset),M.removeAllRanges(),M.addRange(F)}S&&this.view.root.activeElement==O&&(O.blur(),E&&E.focus())}),this.view.observer.setSelectionRange(_,Q)),this.impreciseAnchor=_.precise?null:new DOMPos(I.anchorNode,I.anchorOffset),this.impreciseHead=Q.precise?null:new DOMPos(I.focusNode,I.focusOffset)}suppressWidgetCursorChange(r,x){return this.hasComposition&&x.empty&&isEquivalentPosition(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)&&this.posFromDOM(r.focusNode,r.focusOffset)==x.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:r}=this,x=r.state.selection.main,O=getSelection(r.root),{anchorNode:E,anchorOffset:y}=r.observer.selectionRange;if(!O||!x.empty||!x.assoc||!O.modify)return;let S=this.lineAt(x.head,x.assoc);if(!S)return;let j=S.posAtStart;if(x.head==j||x.head==j+S.length)return;let w=this.coordsAt(x.head,-1),_=this.coordsAt(x.head,1);if(!w||!_||w.bottom>_.top)return;let Q=this.domAtPos(x.head+x.assoc,x.assoc);O.collapse(Q.node,Q.offset),O.modify("move",x.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();let I=r.observer.selectionRange;r.docView.posFromDOM(I.anchorNode,I.anchorOffset)!=x.from&&O.collapse(E,y)}posFromDOM(r,x){let O=this.tile.nearest(r);if(!O)return this.tile.dom.compareDocumentPosition(r)&2?0:this.view.state.doc.length;let E=O.posAtStart;if(O.isComposite()){let y;if(r==O.dom)y=O.dom.childNodes[x];else{let S=maxOffset(r)==0?0:x==0?-1:1;for(;;){let j=r.parentNode;if(j==O.dom)break;S==0&&j.firstChild!=j.lastChild&&(r==j.firstChild?S=-1:S=1),r=j}S<0?y=r:y=r.nextSibling}if(y==O.dom.firstChild)return E;for(;y&&!Tile.get(y);)y=y.nextSibling;if(!y)return E+O.length;for(let S=0,j=E;;S++){let w=O.children[S];if(w.dom==y)return j;j+=w.length+w.breakAfter}}else return O.isText()?r==O.dom?E+x:E+(x?O.length:0):E}domAtPos(r,x){let{tile:O,offset:E}=this.tile.resolveBlock(r,x);return O.isWidget()?O.domPosFor(r,x):O.domIn(E,x)}inlineDOMNearPos(r,x){let O,E=-1,y=!1,S,j=-1,w=!1;return this.tile.blockTiles((_,Q)=>{if(_.isWidget()){if(_.flags&32&&Q>=r)return!0;_.flags&16&&(y=!0)}else{let I=Q+_.length;if(Q<=r&&(O=_,E=r-Q,y=I<r),I>=r&&!S&&(S=_,j=r-Q,w=Q>r),Q>r&&S)return!0}}),!O&&!S?this.domAtPos(r,x):(y&&S?O=null:w&&O&&(S=null),O&&x<0||!S?O.domIn(E,x):S.domIn(j,x))}coordsAt(r,x){let{tile:O,offset:E}=this.tile.resolveBlock(r,x);return O.isWidget()?O.widget instanceof BlockGapWidget?null:O.coordsInWidget(E,x,!0):O.coordsIn(E,x)}lineAt(r,x){let{tile:O}=this.tile.resolveBlock(r,x);return O.isLine()?O:null}coordsForChar(r){let{tile:x,offset:O}=this.tile.resolveBlock(r,1);if(!x.isLine())return null;function E(y,S){if(y.isComposite())for(let j of y.children){if(j.length>=S){let w=E(j,S);if(w)return w}if(S-=j.length,S<0)break}else if(y.isText()&&S<y.length){let j=findClusterBreak(y.text,S);if(j==S)return null;let w=textRange(y.dom,S,j).getClientRects();for(let _=0;_<w.length;_++){let Q=w[_];if(_==w.length-1||Q.top<Q.bottom&&Q.left<Q.right)return Q}}return null}return E(x,O)}measureVisibleLineHeights(r){let x=[],{from:O,to:E}=r,y=this.view.contentDOM.clientWidth,S=y>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,j=-1,w=this.view.textDirection==Direction.LTR,_=0,Q=(I,M,F)=>{for(let V=0;V<I.children.length&&!(M>E);V++){let te=I.children[V],re=M+te.length,se=te.dom.getBoundingClientRect(),{height:ne}=se;if(F&&!V&&(_+=se.top-F.top),te instanceof BlockWrapperTile)re>O&&Q(te,M,se);else if(M>=O&&(_>0&&x.push(-_),x.push(ne+_),_=0,S)){let oe=te.dom.lastChild,Oe=oe?clientRectsFor(oe):[];if(Oe.length){let ae=Oe[Oe.length-1],ge=w?ae.right-se.left:se.right-ae.left;ge>j&&(j=ge,this.minWidth=y,this.minWidthFrom=M,this.minWidthTo=re)}}F&&V==I.children.length-1&&(_+=F.bottom-se.bottom),M=re+te.breakAfter}};return Q(this.tile,0,null),x}textDirectionAt(r){let{tile:x}=this.tile.resolveBlock(r,1);return getComputedStyle(x.dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){let r=this.tile.blockTiles(S=>{if(S.isLine()&&S.children.length&&S.length<=20){let j=0,w;for(let _ of S.children){if(!_.isText()||/[^ -~]/.test(_.text))return;let Q=clientRectsFor(_.dom);if(Q.length!=1)return;j+=Q[0].width,w=Q[0].height}if(j)return{lineHeight:S.dom.getBoundingClientRect().height,charWidth:j/S.length,textHeight:w}}});if(r)return r;let x=document.createElement("div"),O,E,y;return x.className="cm-line",x.style.width="99999px",x.style.position="absolute",x.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(x);let S=clientRectsFor(x.firstChild)[0];O=x.getBoundingClientRect().height,E=S&&S.width?S.width/27:7,y=S&&S.height?S.height:O,x.remove()}),{lineHeight:O,charWidth:E,textHeight:y}}computeBlockGapDeco(){let r=[],x=this.view.viewState;for(let O=0,E=0;;E++){let y=E==x.viewports.length?null:x.viewports[E],S=y?y.from-1:this.view.state.doc.length;if(S>O){let j=(x.lineBlockAt(S).bottom-x.lineBlockAt(O).top)/this.view.scaleY;r.push(Decoration.replace({widget:new BlockGapWidget(j),block:!0,inclusive:!0,isBlockGap:!0}).range(O,S))}if(!y)break;O=y.to+1}return Decoration.set(r)}updateDeco(){let r=1,x=this.view.state.facet(decorations).map(y=>(this.dynamicDecorationMap[r++]=typeof y=="function")?y(this.view):y),O=!1,E=this.view.state.facet(outerDecorations).map((y,S)=>{let j=typeof y=="function";return j&&(O=!0),j?y(this.view):y});for(E.length&&(this.dynamicDecorationMap[r++]=O,x.push(RangeSet.join(E))),this.decorations=[this.editContextFormatting,...x,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];r<this.decorations.length;)this.dynamicDecorationMap[r++]=!1;this.blockWrappers=this.view.state.facet(blockWrappers).map(y=>typeof y=="function"?y(this.view):y)}scrollIntoView(r){if(r.isSnapshot){let _=this.view.viewState.lineBlockAt(r.range.head);this.view.scrollDOM.scrollTop=_.top-r.yMargin,this.view.scrollDOM.scrollLeft=r.xMargin;return}for(let _ of this.view.state.facet(scrollHandler))try{if(_(this.view,r.range,r))return!0}catch(Q){logException(this.view.state,Q,"scroll handler")}let{range:x}=r,O=this.coordsAt(x.head,x.empty?x.assoc:x.head>x.anchor?-1:1),E;if(!O)return;!x.empty&&(E=this.coordsAt(x.anchor,x.anchor>x.head?-1:1))&&(O={left:Math.min(O.left,E.left),top:Math.min(O.top,E.top),right:Math.max(O.right,E.right),bottom:Math.max(O.bottom,E.bottom)});let y=getScrollMargins(this.view),S={left:O.left-y.left,top:O.top-y.top,right:O.right+y.right,bottom:O.bottom+y.bottom},{offsetWidth:j,offsetHeight:w}=this.view.scrollDOM;if(scrollRectIntoView(this.view.scrollDOM,S,x.head<x.anchor?-1:1,r.x,r.y,Math.max(Math.min(r.xMargin,j),-j),Math.max(Math.min(r.yMargin,w),-w),this.view.textDirection==Direction.LTR),window.visualViewport&&window.innerHeight-window.visualViewport.height>1&&(O.top>window.pageYOffset+window.visualViewport.offsetTop+window.visualViewport.height||O.bottom<window.pageYOffset+window.visualViewport.offsetTop)){let _=this.view.docView.lineAt(x.head,1);_&&_.dom.scrollIntoView({block:"nearest"})}}lineHasWidget(r){let x=O=>O.isWidget()||O.children.some(x);return x(this.tile.resolveBlock(r,1).tile)}destroy(){destroyDropped(this.tile)}}function destroyDropped(o,r){let x=r==null?void 0:r.get(o);if(x!=1){x==null&&o.destroy();for(let O of o.children)destroyDropped(O,r)}}function betweenUneditable(o){return o.node.nodeType==1&&o.node.firstChild&&(o.offset==0||o.node.childNodes[o.offset-1].contentEditable=="false")&&(o.offset==o.node.childNodes.length||o.node.childNodes[o.offset].contentEditable=="false")}function findCompositionNode(o,r){let x=o.observer.selectionRange;if(!x.focusNode)return null;let O=textNodeBefore(x.focusNode,x.focusOffset),E=textNodeAfter(x.focusNode,x.focusOffset),y=O||E;if(E&&O&&E.node!=O.node){let j=Tile.get(E.node);if(!j||j.isText()&&j.text!=E.node.nodeValue)y=E;else if(o.docView.lastCompositionAfterCursor){let w=Tile.get(O.node);!w||w.isText()&&w.text!=O.node.nodeValue||(y=E)}}if(o.docView.lastCompositionAfterCursor=y!=O,!y)return null;let S=r-y.offset;return{from:S,to:S+y.node.nodeValue.length,node:y.node}}function findCompositionRange(o,r,x){let O=findCompositionNode(o,x);if(!O)return null;let{node:E,from:y,to:S}=O,j=E.nodeValue;if(/[\n\r]/.test(j)||o.state.doc.sliceString(O.from,O.to)!=j)return null;let w=r.invertedDesc;return{range:new ChangedRange(w.mapPos(y),w.mapPos(S),y,S),text:E}}function nextToUneditable(o,r){return o.nodeType!=1?0:(r&&o.childNodes[r-1].contentEditable=="false"?1:0)|(r<o.childNodes.length&&o.childNodes[r].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(r,x){addRange(r,x,this.changes)}comparePoint(r,x){addRange(r,x,this.changes)}boundChange(r){addRange(r,r,this.changes)}};function findChangedDeco(o,r,x){let O=new DecorationComparator$1;return RangeSet.compare(o,r,x,O),O.changes}class WrapperComparator{constructor(){this.changes=[]}compareRange(r,x){addRange(r,x,this.changes)}comparePoint(){}boundChange(r){addRange(r,r,this.changes)}}function findChangedWrappers(o,r,x){let O=new WrapperComparator;return RangeSet.compare(o,r,x,O),O.changes}function inUneditable(o,r){for(let x=o;x&&x!=r;x=x.assignedSlot||x.parentNode)if(x.nodeType==1&&x.contentEditable=="false")return!0;return!1}function touchesComposition(o,r){let x=!1;return r&&o.iterChangedRanges((O,E)=>{O<r.to&&E>r.from&&(x=!0)}),x}class BlockGapWidget extends WidgetType{constructor(r){super(),this.height=r}toDOM(){let r=document.createElement("div");return r.className="cm-gap",this.updateDOM(r),r}eq(r){return r.height==this.height}updateDOM(r){return r.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function groupAt(o,r,x=1){let O=o.charCategorizer(r),E=o.doc.lineAt(r),y=r-E.from;if(E.length==0)return EditorSelection.cursor(r);y==0?x=1:y==E.length&&(x=-1);let S=y,j=y;x<0?S=findClusterBreak(E.text,y,!1):j=findClusterBreak(E.text,y);let w=O(E.text.slice(S,j));for(;S>0;){let _=findClusterBreak(E.text,S,!1);if(O(E.text.slice(_,S))!=w)break;S=_}for(;j<E.length;){let _=findClusterBreak(E.text,j);if(O(E.text.slice(j,_))!=w)break;j=_}return EditorSelection.range(S+E.from,j+E.from)}function posAtCoordsImprecise(o,r,x,O,E){let y=Math.round((O-r.left)*o.defaultCharacterWidth);if(o.lineWrapping&&x.height>o.defaultLineHeight*1.5){let j=o.viewState.heightOracle.textHeight,w=Math.floor((E-x.top-(o.defaultLineHeight-j)*.5)/j);y+=w*o.viewState.heightOracle.lineLength}let S=o.state.sliceDoc(x.from,x.to);return x.from+findColumn(S,y,o.state.tabSize)}function blockAt(o,r,x){let O=o.lineBlockAt(r);if(Array.isArray(O.type)){let E;for(let y of O.type){if(y.from>r)break;if(!(y.to<r)){if(y.from<r&&y.to>r)return y;(!E||y.type==BlockType.Text&&(E.type!=y.type||(x<0?y.from<r:y.to>r)))&&(E=y)}}return E||O}return O}function moveToLineBoundary(o,r,x,O){let E=blockAt(o,r.head,r.assoc||-1),y=!O||E.type!=BlockType.Text||!(o.lineWrapping||E.widgetLineBreaks)?null:o.coordsAtPos(r.assoc<0&&r.head>E.from?r.head-1:r.head);if(y){let S=o.dom.getBoundingClientRect(),j=o.textDirectionAt(E.from),w=o.posAtCoords({x:x==(j==Direction.LTR)?S.right-1:S.left+1,y:(y.top+y.bottom)/2});if(w!=null)return EditorSelection.cursor(w,x?-1:1)}return EditorSelection.cursor(x?E.to:E.from,x?-1:1)}function moveByChar(o,r,x,O){let E=o.state.doc.lineAt(r.head),y=o.bidiSpans(E),S=o.textDirectionAt(E.from);for(let j=r,w=null;;){let _=moveVisually(E,y,S,j,x),Q=movedOver;if(!_){if(E.number==(x?o.state.doc.lines:1))return j;Q=`
`,E=o.state.doc.line(E.number+(x?1:-1)),y=o.bidiSpans(E),_=o.visualLineSide(E,!x)}if(w){if(!w(Q))return j}else{if(!O)return _;w=O(Q)}j=_}}function byGroup(o,r,x){let O=o.state.charCategorizer(r),E=O(x);return y=>{let S=O(y);return E==CharCategory.Space&&(E=S),E==S}}function moveVertically(o,r,x,O){let E=r.head,y=x?1:-1;if(E==(x?o.state.doc.length:0))return EditorSelection.cursor(E,r.assoc);let S=r.goalColumn,j,w=o.contentDOM.getBoundingClientRect(),_=o.coordsAtPos(E,(r.empty?r.assoc:0)||(x?1:-1)),Q=o.documentTop;if(_)S==null&&(S=_.left-w.left),j=y<0?_.top:_.bottom;else{let V=o.viewState.lineBlockAt(E);S==null&&(S=Math.min(w.right-w.left,o.defaultCharacterWidth*(E-V.from))),j=(y<0?V.top:V.bottom)+Q}let I=w.left+S,M=O??o.viewState.heightOracle.textHeight>>1,F=posAtCoords(o,{x:I,y:j+M*y},!1,y);return EditorSelection.cursor(F.pos,F.assoc,void 0,S)}function skipAtomicRanges(o,r,x){for(;;){let O=0;for(let E of o)E.between(r-1,r+1,(y,S,j)=>{if(r>y&&r<S){let w=O||x||(r-y<S-r?-1:1);r=w<0?y:S,O=w}});if(!O)return r}}function skipAtomsForSelection(o,r){let x=null;for(let O=0;O<r.ranges.length;O++){let E=r.ranges[O],y=null;if(E.empty){let S=skipAtomicRanges(o,E.from,0);S!=E.from&&(y=EditorSelection.cursor(S,-1))}else{let S=skipAtomicRanges(o,E.from,-1),j=skipAtomicRanges(o,E.to,1);(S!=E.from||j!=E.to)&&(y=EditorSelection.range(E.from==E.anchor?S:j,E.from==E.head?S:j))}y&&(x||(x=r.ranges.slice()),x[O]=y)}return x?EditorSelection.create(x,r.mainIndex):r}function skipAtoms(o,r,x){let O=skipAtomicRanges(o.state.facet(atomicRanges).map(E=>E(o)),x.from,r.head>x.from?-1:1);return O==x.from?x:EditorSelection.cursor(O,O<x.from?1:-1)}class PosAssoc{constructor(r,x){this.pos=r,this.assoc=x}}function posAtCoords(o,r,x,O){let E=o.contentDOM.getBoundingClientRect(),y=E.top+o.viewState.paddingTop,{x:S,y:j}=r,w=j-y,_;for(;;){if(w<0)return new PosAssoc(0,1);if(w>o.viewState.docHeight)return new PosAssoc(o.state.doc.length,-1);if(_=o.elementAtHeight(w),O==null)break;if(_.type==BlockType.Text){if(O<0?_.to<o.viewport.from:_.from>o.viewport.to)break;let M=o.docView.coordsAt(O<0?_.from:_.to,O>0?-1:1);if(M&&(O<0?M.top<=w+y:M.bottom>=w+y))break}let I=o.viewState.heightOracle.textHeight/2;w=O>0?_.bottom+I:_.top-I}if(o.viewport.from>=_.to||o.viewport.to<=_.from){if(x)return null;if(_.type==BlockType.Text){let I=posAtCoordsImprecise(o,E,_,S,j);return new PosAssoc(I,I==_.from?1:-1)}}if(_.type!=BlockType.Text)return w<(_.top+_.bottom)/2?new PosAssoc(_.from,1):new PosAssoc(_.to,-1);let Q=o.docView.lineAt(_.from,2);return(!Q||Q.length!=_.length)&&(Q=o.docView.lineAt(_.from,-2)),new InlineCoordsScan(o,S,j,o.textDirectionAt(_.from)).scanTile(Q,_.from)}class InlineCoordsScan{constructor(r,x,O,E){this.view=r,this.x=x,this.y=O,this.baseDir=E,this.line=null,this.spans=null}bidiSpansAt(r){return(!this.line||this.line.from>r||this.line.to<r)&&(this.line=this.view.state.doc.lineAt(r),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(r,x){let{line:O,spans:E}=this.bidiSpansAt(r);return E[BidiSpan.find(E,r-O.from,-1,x)].level==this.baseDir}dirAt(r,x){let{line:O,spans:E}=this.bidiSpansAt(r);return E[BidiSpan.find(E,r-O.from,-1,x)].dir}bidiIn(r,x){let{spans:O,line:E}=this.bidiSpansAt(r);return O.length>1||O.length&&(O[0].level!=this.baseDir||O[0].to+E.from<x)}scan(r,x){let O=0,E=r.length-1,y=new Set,S=this.bidiIn(r[0],r[E]),j,w,_=-1,Q=1e9,I;e:for(;O<E;){let F=E-O,V=O+E>>1;t:if(y.has(V)){let re=O+Math.floor(Math.random()*F);for(let se=0;se<F;se++){if(!y.has(re)){V=re;break t}re++,re==E&&(re=O)}break e}y.add(V);let te=x(V);if(te)for(let re=0;re<te.length;re++){let se=te[re],ne=0;if(se.bottom<this.y)(!j||j.bottom<se.bottom)&&(j=se),ne=1;else if(se.top>this.y)(!w||w.top>se.top)&&(w=se),ne=-1;else{let oe=se.left>this.x?this.x-se.left:se.right<this.x?this.x-se.right:0,Oe=Math.abs(oe);Oe<Q&&(_=V,Q=Oe,I=se),oe&&(ne=oe<0==(this.baseDir==Direction.LTR)?-1:1)}ne==-1&&(!S||this.baseDirAt(r[V],1))?E=V:ne==1&&(!S||this.baseDirAt(r[V+1],-1))&&(O=V+1)}}if(!I){let F=j&&(!w||this.y-j.bottom<w.top-this.y)?j:w;return this.y=(F.top+F.bottom)/2,this.scan(r,x)}let M=(S?this.dirAt(r[_],1):this.baseDir)==Direction.LTR;return{i:_,after:this.x>(I.left+I.right)/2==M}}scanText(r,x){let O=[];for(let y=0;y<r.length;y=findClusterBreak(r.text,y))O.push(x+y);O.push(x+r.length);let E=this.scan(O,y=>{let S=O[y]-x,j=O[y+1]-x;return textRange(r.dom,S,j).getClientRects()});return E.after?new PosAssoc(O[E.i+1],-1):new PosAssoc(O[E.i],1)}scanTile(r,x){if(!r.length)return new PosAssoc(x,1);if(r.children.length==1){let j=r.children[0];if(j.isText())return this.scanText(j,x);if(j.isComposite())return this.scanTile(j,x)}let O=[x];for(let j=0,w=x;j<r.children.length;j++)O.push(w+=r.children[j].length);let E=this.scan(O,j=>{let w=r.children[j];return w.flags&48?null:(w.dom.nodeType==1?w.dom:textRange(w.dom,0,w.length)).getClientRects()}),y=r.children[E.i],S=O[E.i];return y.isText()?this.scanText(y,S):y.isComposite()?this.scanTile(y,S):E.after?new PosAssoc(O[E.i+1],-1):new PosAssoc(S,1)}}const LineBreakPlaceholder="￿";class DOMReader{constructor(r,x){this.points=r,this.view=x,this.text="",this.lineSeparator=x.state.facet(EditorState.lineSeparator)}append(r){this.text+=r}lineBreak(){this.text+=LineBreakPlaceholder}readRange(r,x){if(!r)return this;let O=r.parentNode;for(let E=r;;){this.findPointBefore(O,E);let y=this.text.length;this.readNode(E);let S=Tile.get(E),j=E.nextSibling;if(j==x){S!=null&&S.breakAfter&&!j&&O!=this.view.contentDOM&&this.lineBreak();break}let w=Tile.get(j);(S&&w?S.breakAfter:(S?S.breakAfter:isBlockElement(E))||isBlockElement(j)&&(E.nodeName!="BR"||S!=null&&S.isWidget())&&this.text.length>y)&&!isEmptyToEnd(j,x)&&this.lineBreak(),E=j}return this.findPointBefore(O,x),this}readTextNode(r){let x=r.nodeValue;for(let O of this.points)O.node==r&&(O.pos=this.text.length+Math.min(O.offset,x.length));for(let O=0,E=this.lineSeparator?null:/\r\n?|\n/g;;){let y=-1,S=1,j;if(this.lineSeparator?(y=x.indexOf(this.lineSeparator,O),S=this.lineSeparator.length):(j=E.exec(x))&&(y=j.index,S=j[0].length),this.append(x.slice(O,y<0?x.length:y)),y<0)break;if(this.lineBreak(),S>1)for(let w of this.points)w.node==r&&w.pos>this.text.length&&(w.pos-=S-1);O=y+S}}readNode(r){let x=Tile.get(r),O=x&&x.overrideDOMText;if(O!=null){this.findPointInside(r,O.length);for(let E=O.iter();!E.next().done;)E.lineBreak?this.lineBreak():this.append(E.value)}else r.nodeType==3?this.readTextNode(r):r.nodeName=="BR"?r.nextSibling&&this.lineBreak():r.nodeType==1&&this.readRange(r.firstChild,null)}findPointBefore(r,x){for(let O of this.points)O.node==r&&r.childNodes[O.offset]==x&&(O.pos=this.text.length)}findPointInside(r,x){for(let O of this.points)(r.nodeType==3?O.node==r:r.contains(O.node))&&(O.pos=this.text.length+(isAtEnd(r,O.node,O.offset)?x:0))}}function isAtEnd(o,r,x){for(;;){if(!r||x<maxOffset(r))return!1;if(r==o)return!0;x=domIndex(r)+1,r=r.parentNode}}function isEmptyToEnd(o,r){let x;for(;!(o==r||!o);o=o.nextSibling){let O=Tile.get(o);if(!(O!=null&&O.isWidget()))return!1;O&&(x||(x=[])).push(O)}if(x)for(let O of x){let E=O.overrideDOMText;if(E!=null&&E.length)return!1}return!0}class DOMPoint{constructor(r,x){this.node=r,this.offset=x,this.pos=-1}}class DOMChange{constructor(r,x,O,E){this.typeOver=E,this.bounds=null,this.text="",this.domChanged=x>-1;let{impreciseHead:y,impreciseAnchor:S}=r.docView;if(r.state.readOnly&&x>-1)this.newSel=null;else if(x>-1&&(this.bounds=domBoundsAround(r.docView.tile,x,O,0))){let j=y||S?[]:selectionPoints(r),w=new DOMReader(j,r);w.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=w.text,this.newSel=selectionFromPoints(j,this.bounds.from)}else{let j=r.observer.selectionRange,w=y&&y.node==j.focusNode&&y.offset==j.focusOffset||!contains(r.contentDOM,j.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(j.focusNode,j.focusOffset),_=S&&S.node==j.anchorNode&&S.offset==j.anchorOffset||!contains(r.contentDOM,j.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(j.anchorNode,j.anchorOffset),Q=r.viewport;if((browser.ios||browser.chrome)&&r.state.selection.main.empty&&w!=_&&(Q.from>0||Q.to<r.state.doc.length)){let I=Math.min(w,_),M=Math.max(w,_),F=Q.from-I,V=Q.to-M;(F==0||F==1||I==0)&&(V==0||V==-1||M==r.state.doc.length)&&(w=0,_=r.state.doc.length)}r.inputState.composing>-1&&r.state.selection.ranges.length>1?this.newSel=r.state.selection.replaceRange(EditorSelection.range(_,w)):this.newSel=EditorSelection.single(_,w)}}}function domBoundsAround(o,r,x,O){if(o.isComposite()){let E=-1,y=-1,S=-1,j=-1;for(let w=0,_=O,Q=O;w<o.children.length;w++){let I=o.children[w],M=_+I.length;if(_<r&&M>x)return domBoundsAround(I,r,x,_);if(M>=r&&E==-1&&(E=w,y=_),_>x&&I.dom.parentNode==o.dom){S=w,j=Q;break}Q=M,_=M+I.breakAfter}return{from:y,to:j<0?O+o.length:j,startDOM:(E?o.children[E-1].dom.nextSibling:null)||o.dom.firstChild,endDOM:S<o.children.length&&S>=0?o.children[S].dom:null}}else return o.isText()?{from:O,to:O+o.length,startDOM:o.dom,endDOM:o.dom.nextSibling}:null}function applyDOMChange(o,r){let x,{newSel:O}=r,E=o.state.selection.main,y=o.inputState.lastKeyTime>Date.now()-100?o.inputState.lastKeyCode:-1;if(r.bounds){let{from:S,to:j}=r.bounds,w=E.from,_=null;(y===8||browser.android&&r.text.length<j-S)&&(w=E.to,_="end");let Q=findDiff(o.state.doc.sliceString(S,j,LineBreakPlaceholder),r.text,w-S,_);Q&&(browser.chrome&&y==13&&Q.toB==Q.from+2&&r.text.slice(Q.from,Q.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&Q.toB--,x={from:S+Q.from,to:S+Q.toA,insert:Text.of(r.text.slice(Q.from,Q.toB).split(LineBreakPlaceholder))})}else O&&(!o.hasFocus&&o.state.facet(editable)||sameSelPos(O,E))&&(O=null);if(!x&&!O)return!1;if(!x&&r.typeOver&&!E.empty&&O&&O.main.empty?x={from:E.from,to:E.to,insert:o.state.doc.slice(E.from,E.to)}:(browser.mac||browser.android)&&x&&x.from==x.to&&x.from==E.head-1&&/^\. ?$/.test(x.insert.toString())&&o.contentDOM.getAttribute("autocorrect")=="off"?(O&&x.insert.length==2&&(O=EditorSelection.single(O.main.anchor-1,O.main.head-1)),x={from:x.from,to:x.to,insert:Text.of([x.insert.toString().replace("."," ")])}):x&&x.from>=E.from&&x.to<=E.to&&(x.from!=E.from||x.to!=E.to)&&E.to-E.from-(x.to-x.from)<=4?x={from:E.from,to:E.to,insert:o.state.doc.slice(E.from,x.from).append(x.insert).append(o.state.doc.slice(x.to,E.to))}:o.state.doc.lineAt(E.from).to<E.to&&o.docView.lineHasWidget(E.to)&&o.inputState.insertingTextAt>Date.now()-50?x={from:E.from,to:E.to,insert:o.state.toText(o.inputState.insertingText)}:browser.chrome&&x&&x.from==x.to&&x.from==E.head&&x.insert.toString()==`
 `&&o.lineWrapping&&(O&&(O=EditorSelection.single(O.main.anchor-1,O.main.head-1)),x={from:E.from,to:E.to,insert:Text.of([" "])}),x)return applyDOMChangeInner(o,x,O,y);if(O&&!sameSelPos(O,E)){let S=!1,j="select";return o.inputState.lastSelectionTime>Date.now()-50&&(o.inputState.lastSelectionOrigin=="select"&&(S=!0),j=o.inputState.lastSelectionOrigin,j=="select.pointer"&&(O=skipAtomsForSelection(o.state.facet(atomicRanges).map(w=>w(o)),O))),o.dispatch({selection:O,scrollIntoView:S,userEvent:j}),!0}else return!1}function applyDOMChangeInner(o,r,x,O=-1){if(browser.ios&&o.inputState.flushIOSKey(r))return!0;let E=o.state.selection.main;if(browser.android&&(r.to==E.to&&(r.from==E.from||r.from==E.from-1&&o.state.sliceDoc(r.from,E.from)==" ")&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(o.contentDOM,"Enter",13)||(r.from==E.from-1&&r.to==E.to&&r.insert.length==0||O==8&&r.insert.length<r.to-r.from&&r.to>E.head)&&dispatchKey(o.contentDOM,"Backspace",8)||r.from==E.from&&r.to==E.to+1&&r.insert.length==0&&dispatchKey(o.contentDOM,"Delete",46)))return!0;let y=r.insert.toString();o.inputState.composing>=0&&o.inputState.composing++;let S,j=()=>S||(S=applyDefaultInsert(o,r,x));return o.state.facet(inputHandler$1).some(w=>w(o,r.from,r.to,y,j))||o.dispatch(j()),!0}function applyDefaultInsert(o,r,x){let O,E=o.state,y=E.selection.main,S=-1;if(r.from==r.to&&r.from<y.from||r.from>y.to){let w=r.from<y.from?-1:1,_=w<0?y.from:y.to,Q=skipAtomicRanges(E.facet(atomicRanges).map(I=>I(o)),_,w);r.from==Q&&(S=Q)}if(S>-1)O={changes:r,selection:EditorSelection.cursor(r.from+r.insert.length,-1)};else if(r.from>=y.from&&r.to<=y.to&&r.to-r.from>=(y.to-y.from)/3&&(!x||x.main.empty&&x.main.from==r.from+r.insert.length)&&o.inputState.composing<0){let w=y.from<r.from?E.sliceDoc(y.from,r.from):"",_=y.to>r.to?E.sliceDoc(r.to,y.to):"";O=E.replaceSelection(o.state.toText(w+r.insert.sliceString(0,void 0,o.state.lineBreak)+_))}else{let w=E.changes(r),_=x&&x.main.to<=w.newLength?x.main:void 0;if(E.selection.ranges.length>1&&(o.inputState.composing>=0||o.inputState.compositionPendingChange)&&r.to<=y.to+10&&r.to>=y.to-10){let Q=o.state.sliceDoc(r.from,r.to),I,M=x&&findCompositionNode(o,x.main.head);if(M){let V=r.insert.length-(r.to-r.from);I={from:M.from,to:M.to-V}}else I=o.state.doc.lineAt(y.head);let F=y.to-r.to;O=E.changeByRange(V=>{if(V.from==y.from&&V.to==y.to)return{changes:w,range:_||V.map(w)};let te=V.to-F,re=te-Q.length;if(o.state.sliceDoc(re,te)!=Q||te>=I.from&&re<=I.to)return{range:V};let se=E.changes({from:re,to:te,insert:r.insert}),ne=V.to-y.to;return{changes:se,range:_?EditorSelection.range(Math.max(0,_.anchor+ne),Math.max(0,_.head+ne)):V.map(se)}})}else O={changes:w,selection:_&&E.selection.replaceRange(_)}}let j="input.type";return(o.composing||o.inputState.compositionPendingChange&&o.inputState.compositionEndedAt>Date.now()-50)&&(o.inputState.compositionPendingChange=!1,j+=".compose",o.inputState.compositionFirstChange&&(j+=".start",o.inputState.compositionFirstChange=!1)),E.update(O,{userEvent:j,scrollIntoView:!0})}function findDiff(o,r,x,O){let E=Math.min(o.length,r.length),y=0;for(;y<E&&o.charCodeAt(y)==r.charCodeAt(y);)y++;if(y==E&&o.length==r.length)return null;let S=o.length,j=r.length;for(;S>0&&j>0&&o.charCodeAt(S-1)==r.charCodeAt(j-1);)S--,j--;if(O=="end"){let w=Math.max(0,y-Math.min(S,j));x-=S+w-y}if(S<y&&o.length<r.length){let w=x<=y&&x>=S?y-x:0;y-=w,j=y+(j-S),S=y}else if(j<y){let w=x<=y&&x>=j?y-x:0;y-=w,S=y+(S-j),j=y}return{from:y,toA:S,toB:j}}function selectionPoints(o){let r=[];if(o.root.activeElement!=o.contentDOM)return r;let{anchorNode:x,anchorOffset:O,focusNode:E,focusOffset:y}=o.observer.selectionRange;return x&&(r.push(new DOMPoint(x,O)),(E!=x||y!=O)&&r.push(new DOMPoint(E,y))),r}function selectionFromPoints(o,r){if(o.length==0)return null;let x=o[0].pos,O=o.length==2?o[1].pos:x;return x>-1&&O>-1?EditorSelection.single(x+r,O+r):null}function sameSelPos(o,r){return r.head==o.main.head&&r.anchor==o.main.anchor}class InputState{setSelectionOrigin(r){this.lastSelectionOrigin=r,this.lastSelectionTime=Date.now()}constructor(r){this.view=r,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=r.hasFocus,browser.safari&&r.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(r.contentDOM.ownerDocument)}handleEvent(r){!eventBelongsToEditor(this.view,r)||this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(r)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(r.type,r)):this.runHandlers(r.type,r))}runHandlers(r,x){let O=this.handlers[r];if(O){for(let E of O.observers)E(this.view,x);for(let E of O.handlers){if(x.defaultPrevented)break;if(E(this.view,x)){x.preventDefault();break}}}}ensureHandlers(r){let x=computeHandlers(r),O=this.handlers,E=this.view.contentDOM;for(let y in x)if(y!="scroll"){let S=!x[y].handlers.length,j=O[y];j&&S!=!j.handlers.length&&(E.removeEventListener(y,this.handleEvent),j=null),j||E.addEventListener(y,this.handleEvent,{passive:S})}for(let y in O)y!="scroll"&&!x[y]&&E.removeEventListener(y,this.handleEvent);this.handlers=x}keydown(r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&r.keyCode!=27&&modifierCodes.indexOf(r.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return this.view.observer.delayAndroidKey(r.key,r.keyCode),!0;let x;return browser.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((x=PendingKeys.find(O=>O.keyCode==r.keyCode))&&!r.ctrlKey||EmacsyPendingKeys.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=x||r,setTimeout(()=>this.flushIOSKey(),250),!0):(r.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(r){let x=this.pendingIOSKey;return!x||x.key=="Enter"&&r&&r.from<r.to&&/^\S+$/.test(r.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,x.key,x.keyCode,x instanceof KeyboardEvent?x:void 0))}ignoreDuringComposition(r){return!/^key/.test(r.type)||r.synthetic?!1:this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(r){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=r}update(r){this.view.observer.update(r),this.mouseSelection&&this.mouseSelection.update(r),this.draggedContent&&r.docChanged&&(this.draggedContent=this.draggedContent.map(r.changes)),r.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(o,r){return(x,O)=>{try{return r.call(o,O,x)}catch(E){logException(x.state,E)}}}function computeHandlers(o){let r=Object.create(null);function x(O){return r[O]||(r[O]={observers:[],handlers:[]})}for(let O of o){let E=O.spec,y=E&&E.plugin.domEventHandlers,S=E&&E.plugin.domEventObservers;if(y)for(let j in y){let w=y[j];w&&x(j).handlers.push(bindHandler(O.value,w))}if(S)for(let j in S){let w=S[j];w&&x(j).observers.push(bindHandler(O.value,w))}}for(let O in handlers)x(O).handlers.push(handlers[O]);for(let O in observers)x(O).observers.push(observers[O]);return r}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(o){return Math.max(0,o)*.7+8}function dist(o,r){return Math.max(Math.abs(o.clientX-r.clientX),Math.abs(o.clientY-r.clientY))}class MouseSelection{constructor(r,x,O,E){this.view=r,this.startEvent=x,this.style=O,this.mustSelect=E,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=x,this.scrollParents=scrollableParents(r.contentDOM),this.atoms=r.state.facet(atomicRanges).map(S=>S(r));let y=r.contentDOM.ownerDocument;y.addEventListener("mousemove",this.move=this.move.bind(this)),y.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=x.shiftKey,this.multiple=r.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(r,x),this.dragging=isInPrimarySelection(r,x)&&getClickType(x)==1?null:!1}start(r){this.dragging===!1&&this.select(r)}move(r){if(r.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,r)<10)return;this.select(this.lastEvent=r);let x=0,O=0,E=0,y=0,S=this.view.win.innerWidth,j=this.view.win.innerHeight;this.scrollParents.x&&({left:E,right:S}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:y,bottom:j}=this.scrollParents.y.getBoundingClientRect());let w=getScrollMargins(this.view);r.clientX-w.left<=E+dragScrollMargin?x=-dragScrollSpeed(E-r.clientX):r.clientX+w.right>=S-dragScrollMargin&&(x=dragScrollSpeed(r.clientX-S)),r.clientY-w.top<=y+dragScrollMargin?O=-dragScrollSpeed(y-r.clientY):r.clientY+w.bottom>=j-dragScrollMargin&&(O=dragScrollSpeed(r.clientY-j)),this.setScrollSpeed(x,O)}up(r){this.dragging==null&&this.select(this.lastEvent),this.dragging||r.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let r=this.view.contentDOM.ownerDocument;r.removeEventListener("mousemove",this.move),r.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(r,x){this.scrollSpeed={x:r,y:x},r||x?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:r,y:x}=this.scrollSpeed;r&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=r,r=0),x&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=x,x=0),(r||x)&&this.view.win.scrollBy(r,x),this.dragging===!1&&this.select(this.lastEvent)}select(r){let{view:x}=this,O=skipAtomsForSelection(this.atoms,this.style.get(r,this.extend,this.multiple));(this.mustSelect||!O.eq(x.state.selection,this.dragging===!1))&&this.view.dispatch({selection:O,userEvent:"select.pointer"}),this.mustSelect=!1}update(r){r.transactions.some(x=>x.isUserEvent("input.type"))?this.destroy():this.style.update(r)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(o,r){let x=o.state.facet(clickAddsSelectionRange);return x.length?x[0](r):browser.mac?r.metaKey:r.ctrlKey}function dragMovesSelection(o,r){let x=o.state.facet(dragMovesSelection$1);return x.length?x[0](r):browser.mac?!r.altKey:!r.ctrlKey}function isInPrimarySelection(o,r){let{main:x}=o.state.selection;if(x.empty)return!1;let O=getSelection(o.root);if(!O||O.rangeCount==0)return!0;let E=O.getRangeAt(0).getClientRects();for(let y=0;y<E.length;y++){let S=E[y];if(S.left<=r.clientX&&S.right>=r.clientX&&S.top<=r.clientY&&S.bottom>=r.clientY)return!0}return!1}function eventBelongsToEditor(o,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let x=r.target,O;x!=o.contentDOM;x=x.parentNode)if(!x||x.nodeType==11||(O=Tile.get(x))&&O.isWidget()&&!O.isHidden&&O.widget.ignoreEvent(r))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(o){let r=o.dom.parentNode;if(!r)return;let x=r.appendChild(document.createElement("textarea"));x.style.cssText="position: fixed; left: -10000px; top: 10px",x.focus(),setTimeout(()=>{o.focus(),x.remove(),doPaste(o,x.value)},50)}function textFilter(o,r,x){for(let O of o.facet(r))x=O(x,o);return x}function doPaste(o,r){r=textFilter(o.state,clipboardInputFilter,r);let{state:x}=o,O,E=1,y=x.toText(r),S=y.lines==x.selection.ranges.length;if(lastLinewiseCopy!=null&&x.selection.ranges.every(w=>w.empty)&&lastLinewiseCopy==y.toString()){let w=-1;O=x.changeByRange(_=>{let Q=x.doc.lineAt(_.from);if(Q.from==w)return{range:_};w=Q.from;let I=x.toText((S?y.line(E++).text:r)+x.lineBreak);return{changes:{from:Q.from,insert:I},range:EditorSelection.cursor(_.from+I.length)}})}else S?O=x.changeByRange(w=>{let _=y.line(E++);return{changes:{from:w.from,to:w.to,insert:_.text},range:EditorSelection.cursor(w.from+_.length)}}):O=x.replaceSelection(y);o.dispatch(O,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=o=>{o.inputState.lastScrollTop=o.scrollDOM.scrollTop,o.inputState.lastScrollLeft=o.scrollDOM.scrollLeft};handlers.keydown=(o,r)=>(o.inputState.setSelectionOrigin("select"),r.keyCode==27&&o.inputState.tabFocusMode!=0&&(o.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(o,r)=>{o.inputState.lastTouchTime=Date.now(),o.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=o=>{o.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(o,r)=>{if(o.observer.flush(),o.inputState.lastTouchTime>Date.now()-2e3)return!1;let x=null;for(let O of o.state.facet(mouseSelectionStyle))if(x=O(o,r),x)break;if(!x&&r.button==0&&(x=basicMouseSelection(o,r)),x){let O=!o.hasFocus;o.inputState.startMouseSelection(new MouseSelection(o,r,x,O)),O&&o.observer.ignore(()=>{focusPreventScroll(o.contentDOM);let y=o.root.activeElement;y&&!y.contains(o.contentDOM)&&y.blur()});let E=o.inputState.mouseSelection;if(E)return E.start(r),E.dragging===!1}else o.inputState.setSelectionOrigin("select.pointer");return!1};function rangeForClick(o,r,x,O){if(O==1)return EditorSelection.cursor(r,x);if(O==2)return groupAt(o.state,r,x);{let E=o.docView.lineAt(r,x),y=o.state.doc.lineAt(E?E.posAtEnd:r),S=E?E.posAtStart:y.from,j=E?E.posAtEnd:y.to;return j<o.state.doc.length&&j==y.to&&j++,EditorSelection.range(S,j)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(o){if(!BadMouseDetail)return o.detail;let r=lastMouseDown,x=lastMouseDownTime;return lastMouseDown=o,lastMouseDownTime=Date.now(),lastMouseDownCount=!r||x>Date.now()-400&&Math.abs(r.clientX-o.clientX)<2&&Math.abs(r.clientY-o.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(o,r){let x=o.posAndSideAtCoords({x:r.clientX,y:r.clientY},!1),O=getClickType(r),E=o.state.selection;return{update(y){y.docChanged&&(x.pos=y.changes.mapPos(x.pos),E=E.map(y.changes))},get(y,S,j){let w=o.posAndSideAtCoords({x:y.clientX,y:y.clientY},!1),_,Q=rangeForClick(o,w.pos,w.assoc,O);if(x.pos!=w.pos&&!S){let I=rangeForClick(o,x.pos,x.assoc,O),M=Math.min(I.from,Q.from),F=Math.max(I.to,Q.to);Q=M<Q.from?EditorSelection.range(M,F):EditorSelection.range(F,M)}return S?E.replaceRange(E.main.extend(Q.from,Q.to)):j&&O==1&&E.ranges.length>1&&(_=removeRangeAround(E,w.pos))?_:j?E.addRange(Q):EditorSelection.create([Q])}}}function removeRangeAround(o,r){for(let x=0;x<o.ranges.length;x++){let{from:O,to:E}=o.ranges[x];if(O<=r&&E>=r)return EditorSelection.create(o.ranges.slice(0,x).concat(o.ranges.slice(x+1)),o.mainIndex==x?0:o.mainIndex-(o.mainIndex>x?1:0))}return null}handlers.dragstart=(o,r)=>{let{selection:{main:x}}=o.state;if(r.target.draggable){let E=o.docView.tile.nearest(r.target);if(E&&E.isWidget()){let y=E.posAtStart,S=y+E.length;(y>=x.to||S<=x.from)&&(x=EditorSelection.range(y,S))}}let{inputState:O}=o;return O.mouseSelection&&(O.mouseSelection.dragging=!0),O.draggedContent=x,r.dataTransfer&&(r.dataTransfer.setData("Text",textFilter(o.state,clipboardOutputFilter,o.state.sliceDoc(x.from,x.to))),r.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=o=>(o.inputState.draggedContent=null,!1);function dropText(o,r,x,O){if(x=textFilter(o.state,clipboardInputFilter,x),!x)return;let E=o.posAtCoords({x:r.clientX,y:r.clientY},!1),{draggedContent:y}=o.inputState,S=O&&y&&dragMovesSelection(o,r)?{from:y.from,to:y.to}:null,j={from:E,insert:x},w=o.state.changes(S?[S,j]:j);o.focus(),o.dispatch({changes:w,selection:{anchor:w.mapPos(E,-1),head:w.mapPos(E,1)},userEvent:S?"move.drop":"input.drop"}),o.inputState.draggedContent=null}handlers.drop=(o,r)=>{if(!r.dataTransfer)return!1;if(o.state.readOnly)return!0;let x=r.dataTransfer.files;if(x&&x.length){let O=Array(x.length),E=0,y=()=>{++E==x.length&&dropText(o,r,O.filter(S=>S!=null).join(o.state.lineBreak),!1)};for(let S=0;S<x.length;S++){let j=new FileReader;j.onerror=y,j.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(j.result)||(O[S]=j.result),y()},j.readAsText(x[S])}return!0}else{let O=r.dataTransfer.getData("Text");if(O)return dropText(o,r,O,!0),!0}return!1};handlers.paste=(o,r)=>{if(o.state.readOnly)return!0;o.observer.flush();let x=brokenClipboardAPI?null:r.clipboardData;return x?(doPaste(o,x.getData("text/plain")||x.getData("text/uri-list")),!0):(capturePaste(o),!1)};function captureCopy(o,r){let x=o.dom.parentNode;if(!x)return;let O=x.appendChild(document.createElement("textarea"));O.style.cssText="position: fixed; left: -10000px; top: 10px",O.value=r,O.focus(),O.selectionEnd=r.length,O.selectionStart=0,setTimeout(()=>{O.remove(),o.focus()},50)}function copiedRange(o){let r=[],x=[],O=!1;for(let E of o.selection.ranges)E.empty||(r.push(o.sliceDoc(E.from,E.to)),x.push(E));if(!r.length){let E=-1;for(let{from:y}of o.selection.ranges){let S=o.doc.lineAt(y);S.number>E&&(r.push(S.text),x.push({from:S.from,to:Math.min(o.doc.length,S.to+1)})),E=S.number}O=!0}return{text:textFilter(o,clipboardOutputFilter,r.join(o.lineBreak)),ranges:x,linewise:O}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(o,r)=>{if(!hasSelection(o.contentDOM,o.observer.selectionRange))return!1;let{text:x,ranges:O,linewise:E}=copiedRange(o.state);if(!x&&!E)return!1;lastLinewiseCopy=E?x:null,r.type=="cut"&&!o.state.readOnly&&o.dispatch({changes:O,scrollIntoView:!0,userEvent:"delete.cut"});let y=brokenClipboardAPI?null:r.clipboardData;return y?(y.clearData(),y.setData("text/plain",x),!0):(captureCopy(o,x),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(o,r){let x=[];for(let O of o.facet(focusChangeEffect)){let E=O(o,r);E&&x.push(E)}return x.length?o.update({effects:x,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(o){setTimeout(()=>{let r=o.hasFocus;if(r!=o.inputState.notifiedFocused){let x=focusChangeTransaction(o.state,r);x?o.dispatch(x):o.update([])}},10)}observers.focus=o=>{o.inputState.lastFocusTime=Date.now(),!o.scrollDOM.scrollTop&&(o.inputState.lastScrollTop||o.inputState.lastScrollLeft)&&(o.scrollDOM.scrollTop=o.inputState.lastScrollTop,o.scrollDOM.scrollLeft=o.inputState.lastScrollLeft),updateForFocusChange(o)};observers.blur=o=>{o.observer.clearSelectionRange(),updateForFocusChange(o)};observers.compositionstart=observers.compositionupdate=o=>{o.observer.editContext||(o.inputState.compositionFirstChange==null&&(o.inputState.compositionFirstChange=!0),o.inputState.composing<0&&(o.inputState.composing=0))};observers.compositionend=o=>{o.observer.editContext||(o.inputState.composing=-1,o.inputState.compositionEndedAt=Date.now(),o.inputState.compositionPendingKey=!0,o.inputState.compositionPendingChange=o.observer.pendingRecords().length>0,o.inputState.compositionFirstChange=null,browser.chrome&&browser.android?o.observer.flushSoon():o.inputState.compositionPendingChange?Promise.resolve().then(()=>o.observer.flush()):setTimeout(()=>{o.inputState.composing<0&&o.docView.hasComposition&&o.update([])},50))};observers.contextmenu=o=>{o.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(o,r)=>{var x,O;if((r.inputType=="insertText"||r.inputType=="insertCompositionText")&&(o.inputState.insertingText=r.data,o.inputState.insertingTextAt=Date.now()),r.inputType=="insertReplacementText"&&o.observer.editContext){let y=(x=r.dataTransfer)===null||x===void 0?void 0:x.getData("text/plain"),S=r.getTargetRanges();if(y&&S.length){let j=S[0],w=o.posAtDOM(j.startContainer,j.startOffset),_=o.posAtDOM(j.endContainer,j.endOffset);return applyDOMChangeInner(o,{from:w,to:_,insert:o.state.toText(y)},null),!0}}let E;if(browser.chrome&&browser.android&&(E=PendingKeys.find(y=>y.inputType==r.inputType))&&(o.observer.delayAndroidKey(E.key,E.keyCode),E.key=="Backspace"||E.key=="Delete")){let y=((O=window.visualViewport)===null||O===void 0?void 0:O.height)||0;setTimeout(()=>{var S;(((S=window.visualViewport)===null||S===void 0?void 0:S.height)||0)>y+10&&o.hasFocus&&(o.contentDOM.blur(),o.focus())},100)}return browser.ios&&r.inputType=="deleteContentForward"&&o.observer.flushSoon(),browser.safari&&r.inputType=="insertText"&&o.inputState.composing>=0&&setTimeout(()=>observers.compositionend(o,r),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(o){appliedFirefoxHack.has(o)||(appliedFirefoxHack.add(o),o.addEventListener("copy",()=>{}),o.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(r){this.lineWrapping=r,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(r,x){let O=this.doc.lineAt(x).number-this.doc.lineAt(r).number+1;return this.lineWrapping&&(O+=Math.max(0,Math.ceil((x-r-O*this.lineLength*.5)/this.lineLength))),this.lineHeight*O}heightForLine(r){return this.lineWrapping?(1+Math.max(0,Math.ceil((r-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(r){return this.doc=r,this}mustRefreshForWrapping(r){return wrappingWhiteSpace.indexOf(r)>-1!=this.lineWrapping}mustRefreshForHeights(r){let x=!1;for(let O=0;O<r.length;O++){let E=r[O];E<0?O++:this.heightSamples[Math.floor(E*10)]||(x=!0,this.heightSamples[Math.floor(E*10)]=!0)}return x}refresh(r,x,O,E,y,S){let j=wrappingWhiteSpace.indexOf(r)>-1,w=Math.abs(x-this.lineHeight)>.3||this.lineWrapping!=j||Math.abs(O-this.charWidth)>.1;if(this.lineWrapping=j,this.lineHeight=x,this.charWidth=O,this.textHeight=E,this.lineLength=y,w){this.heightSamples={};for(let _=0;_<S.length;_++){let Q=S[_];Q<0?_++:this.heightSamples[Math.floor(Q*10)]=!0}}return w}}class MeasuredHeights{constructor(r,x){this.from=r,this.heights=x,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(r,x,O,E,y){this.from=r,this.length=x,this.top=O,this.height=E,this._content=y}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(r){let x=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(r._content)?r._content:[r]);return new BlockInfo(this.from,this.length+r.length,this.top,this.height+r.height,x)}}var QueryType$1=function(o){return o[o.ByPos=0]="ByPos",o[o.ByHeight=1]="ByHeight",o[o.ByPosNoHeight=2]="ByPosNoHeight",o}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(r,x,O=2){this.length=r,this.height=x,this.flags=O}get outdated(){return(this.flags&2)>0}set outdated(r){this.flags=(r?2:0)|this.flags&-3}setHeight(r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(heightChangeFlag=!0),this.height=r)}replace(r,x,O){return HeightMap.of(O)}decomposeLeft(r,x){x.push(this)}decomposeRight(r,x){x.push(this)}applyChanges(r,x,O,E){let y=this,S=O.doc;for(let j=E.length-1;j>=0;j--){let{fromA:w,toA:_,fromB:Q,toB:I}=E[j],M=y.lineAt(w,QueryType$1.ByPosNoHeight,O.setDoc(x),0,0),F=M.to>=_?M:y.lineAt(_,QueryType$1.ByPosNoHeight,O,0,0);for(I+=F.to-_,_=F.to;j>0&&M.from<=E[j-1].toA;)w=E[j-1].fromA,Q=E[j-1].fromB,j--,w<M.from&&(M=y.lineAt(w,QueryType$1.ByPosNoHeight,O,0,0));Q+=M.from-w,w=M.from;let V=NodeBuilder.build(O.setDoc(S),r,Q,I);y=replace(y,y.replace(w,_,V))}return y.updateHeight(O,0)}static empty(){return new HeightMapText(0,0,0)}static of(r){if(r.length==1)return r[0];let x=0,O=r.length,E=0,y=0;for(;;)if(x==O)if(E>y*2){let j=r[x-1];j.break?r.splice(--x,1,j.left,null,j.right):r.splice(--x,1,j.left,j.right),O+=1+j.break,E-=j.size}else if(y>E*2){let j=r[O];j.break?r.splice(O,1,j.left,null,j.right):r.splice(O,1,j.left,j.right),O+=2+j.break,y-=j.size}else break;else if(E<y){let j=r[x++];j&&(E+=j.size)}else{let j=r[--O];j&&(y+=j.size)}let S=0;return r[x-1]==null?(S=1,x--):r[x]==null&&(S=1,O++),new HeightMapBranch(HeightMap.of(r.slice(0,x)),S,HeightMap.of(r.slice(O)))}}function replace(o,r){return o==r?o:(o.constructor!=r.constructor&&(heightChangeFlag=!0),r)}HeightMap.prototype.size=1;const SpaceDeco=Decoration.replace({});class HeightMapBlock extends HeightMap{constructor(r,x,O){super(r,x),this.deco=O,this.spaceAbove=0}mainBlock(r,x){return new BlockInfo(x,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(r,x,O,E){return this.spaceAbove&&r<O+this.spaceAbove?new BlockInfo(E,0,O,this.spaceAbove,SpaceDeco):this.mainBlock(O,E)}lineAt(r,x,O,E,y){let S=this.mainBlock(E,y);return this.spaceAbove?this.blockAt(0,O,E,y).join(S):S}forEachLine(r,x,O,E,y,S){r<=y+this.length&&x>=y&&S(this.lineAt(0,QueryType$1.ByPos,O,E,y))}setMeasuredHeight(r){let x=r.heights[r.index++];x<0?(this.spaceAbove=-x,x=r.heights[r.index++]):this.spaceAbove=0,this.setHeight(x)}updateHeight(r,x=0,O=!1,E){return E&&E.from<=x&&E.more&&this.setMeasuredHeight(E),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(r,x,O){super(r,x,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=O}mainBlock(r,x){return new BlockInfo(x,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(r,x,O){let E=O[0];return O.length==1&&(E instanceof HeightMapText||E instanceof HeightMapGap&&E.flags&4)&&Math.abs(this.length-E.length)<10?(E instanceof HeightMapGap?E=new HeightMapText(E.length,this.height,this.spaceAbove):E.height=this.height,this.outdated||(E.outdated=!1),E):HeightMap.of(O)}updateHeight(r,x=0,O=!1,E){return E&&E.from<=x&&E.more?this.setMeasuredHeight(E):(O||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))+this.breaks*r.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(r){super(r,0)}heightMetrics(r,x){let O=r.doc.lineAt(x).number,E=r.doc.lineAt(x+this.length).number,y=E-O+1,S,j=0;if(r.lineWrapping){let w=Math.min(this.height,r.lineHeight*y);S=w/y,this.length>y+1&&(j=(this.height-w)/(this.length-y-1))}else S=this.height/y;return{firstLine:O,lastLine:E,perLine:S,perChar:j}}blockAt(r,x,O,E){let{firstLine:y,lastLine:S,perLine:j,perChar:w}=this.heightMetrics(x,E);if(x.lineWrapping){let _=E+(r<x.lineHeight?0:Math.round(Math.max(0,Math.min(1,(r-O)/this.height))*this.length)),Q=x.doc.lineAt(_),I=j+Q.length*w,M=Math.max(O,r-I/2);return new BlockInfo(Q.from,Q.length,M,I,0)}else{let _=Math.max(0,Math.min(S-y,Math.floor((r-O)/j))),{from:Q,length:I}=x.doc.line(y+_);return new BlockInfo(Q,I,O+j*_,j,0)}}lineAt(r,x,O,E,y){if(x==QueryType$1.ByHeight)return this.blockAt(r,O,E,y);if(x==QueryType$1.ByPosNoHeight){let{from:F,to:V}=O.doc.lineAt(r);return new BlockInfo(F,V-F,0,0,0)}let{firstLine:S,perLine:j,perChar:w}=this.heightMetrics(O,y),_=O.doc.lineAt(r),Q=j+_.length*w,I=_.number-S,M=E+j*I+w*(_.from-y-I);return new BlockInfo(_.from,_.length,Math.max(E,Math.min(M,E+this.height-Q)),Q,0)}forEachLine(r,x,O,E,y,S){r=Math.max(r,y),x=Math.min(x,y+this.length);let{firstLine:j,perLine:w,perChar:_}=this.heightMetrics(O,y);for(let Q=r,I=E;Q<=x;){let M=O.doc.lineAt(Q);if(Q==r){let V=M.number-j;I+=w*V+_*(r-y-V)}let F=w+_*M.length;S(new BlockInfo(M.from,M.length,I,F,0)),I+=F,Q=M.to+1}}replace(r,x,O){let E=this.length-x;if(E>0){let y=O[O.length-1];y instanceof HeightMapGap?O[O.length-1]=new HeightMapGap(y.length+E):O.push(null,new HeightMapGap(E-1))}if(r>0){let y=O[0];y instanceof HeightMapGap?O[0]=new HeightMapGap(r+y.length):O.unshift(new HeightMapGap(r-1),null)}return HeightMap.of(O)}decomposeLeft(r,x){x.push(new HeightMapGap(r-1),null)}decomposeRight(r,x){x.push(null,new HeightMapGap(this.length-r-1))}updateHeight(r,x=0,O=!1,E){let y=x+this.length;if(E&&E.from<=x+this.length&&E.more){let S=[],j=Math.max(x,E.from),w=-1;for(E.from>x&&S.push(new HeightMapGap(E.from-x-1).updateHeight(r,x));j<=y&&E.more;){let Q=r.doc.lineAt(j).length;S.length&&S.push(null);let I=E.heights[E.index++],M=0;I<0&&(M=-I,I=E.heights[E.index++]),w==-1?w=I:Math.abs(I-w)>=Epsilon&&(w=-2);let F=new HeightMapText(Q,I,M);F.outdated=!1,S.push(F),j+=Q+1}j<=y&&S.push(null,new HeightMapGap(y-j).updateHeight(r,j));let _=HeightMap.of(S);return(w<0||Math.abs(_.height-this.height)>=Epsilon||Math.abs(w-this.heightMetrics(r,x).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,_)}else(O||this.outdated)&&(this.setHeight(r.heightForGap(x,x+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(r,x,O){super(r.length+x+O.length,r.height+O.height,x|(r.outdated||O.outdated?2:0)),this.left=r,this.right=O,this.size=r.size+O.size}get break(){return this.flags&1}blockAt(r,x,O,E){let y=O+this.left.height;return r<y?this.left.blockAt(r,x,O,E):this.right.blockAt(r,x,y,E+this.left.length+this.break)}lineAt(r,x,O,E,y){let S=E+this.left.height,j=y+this.left.length+this.break,w=x==QueryType$1.ByHeight?r<S:r<j,_=w?this.left.lineAt(r,x,O,E,y):this.right.lineAt(r,x,O,S,j);if(this.break||(w?_.to<j:_.from>j))return _;let Q=x==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return w?_.join(this.right.lineAt(j,Q,O,S,j)):this.left.lineAt(j,Q,O,E,y).join(_)}forEachLine(r,x,O,E,y,S){let j=E+this.left.height,w=y+this.left.length+this.break;if(this.break)r<w&&this.left.forEachLine(r,x,O,E,y,S),x>=w&&this.right.forEachLine(r,x,O,j,w,S);else{let _=this.lineAt(w,QueryType$1.ByPos,O,E,y);r<_.from&&this.left.forEachLine(r,_.from-1,O,E,y,S),_.to>=r&&_.from<=x&&S(_),x>_.to&&this.right.forEachLine(_.to+1,x,O,j,w,S)}}replace(r,x,O){let E=this.left.length+this.break;if(x<E)return this.balanced(this.left.replace(r,x,O),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-E,x-E,O));let y=[];r>0&&this.decomposeLeft(r,y);let S=y.length;for(let j of O)y.push(j);if(r>0&&mergeGaps(y,S-1),x<this.length){let j=y.length;this.decomposeRight(x,y),mergeGaps(y,j)}return HeightMap.of(y)}decomposeLeft(r,x){let O=this.left.length;if(r<=O)return this.left.decomposeLeft(r,x);x.push(this.left),this.break&&(O++,r>=O&&x.push(null)),r>O&&this.right.decomposeLeft(r-O,x)}decomposeRight(r,x){let O=this.left.length,E=O+this.break;if(r>=E)return this.right.decomposeRight(r-E,x);r<O&&this.left.decomposeRight(r,x),this.break&&r<E&&x.push(null),x.push(this.right)}balanced(r,x){return r.size>2*x.size||x.size>2*r.size?HeightMap.of(this.break?[r,null,x]:[r,x]):(this.left=replace(this.left,r),this.right=replace(this.right,x),this.setHeight(r.height+x.height),this.outdated=r.outdated||x.outdated,this.size=r.size+x.size,this.length=r.length+this.break+x.length,this)}updateHeight(r,x=0,O=!1,E){let{left:y,right:S}=this,j=x+y.length+this.break,w=null;return E&&E.from<=x+y.length&&E.more?w=y=y.updateHeight(r,x,O,E):y.updateHeight(r,x,O),E&&E.from<=j+S.length&&E.more?w=S=S.updateHeight(r,j,O,E):S.updateHeight(r,j,O),w?this.balanced(y,S):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(o,r){let x,O;o[r]==null&&(x=o[r-1])instanceof HeightMapGap&&(O=o[r+1])instanceof HeightMapGap&&o.splice(r-1,3,new HeightMapGap(x.length+1+O.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(r,x){this.pos=r,this.oracle=x,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=r}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(r,x){if(this.lineStart>-1){let O=Math.min(x,this.lineEnd),E=this.nodes[this.nodes.length-1];E instanceof HeightMapText?E.length+=O-this.pos:(O>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(O-this.pos,-1,0)),this.writtenTo=O,x>O&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=x}point(r,x,O){if(r<x||O.heightRelevant){let E=O.widget?O.widget.estimatedHeight:0,y=O.widget?O.widget.lineBreaks:0;E<0&&(E=this.oracle.lineHeight);let S=x-r;O.block?this.addBlock(new HeightMapBlock(S,E,O)):(S||y||E>=relevantWidgetHeight)&&this.addLineDeco(E,y,S)}else x>r&&this.span(r,x);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:r,to:x}=this.oracle.doc.lineAt(this.pos);this.lineStart=r,this.lineEnd=x,this.writtenTo<r&&((this.writtenTo<r-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,r-1)),this.nodes.push(null)),this.pos>r&&this.nodes.push(new HeightMapText(this.pos-r,-1,0)),this.writtenTo=this.pos}blankContent(r,x){let O=new HeightMapGap(x-r);return this.oracle.doc.lineAt(r).to==x&&(O.flags|=4),O}ensureLine(){this.enterLine();let r=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(r instanceof HeightMapText)return r;let x=new HeightMapText(0,-1,0);return this.nodes.push(x),x}addBlock(r){this.enterLine();let x=r.deco;x&&x.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(r),this.writtenTo=this.pos=this.pos+r.length,x&&x.endSide>0&&(this.covering=r)}addLineDeco(r,x,O){let E=this.ensureLine();E.length+=O,E.collapsed+=O,E.widgetHeight=Math.max(E.widgetHeight,r),E.breaks+=x,this.writtenTo=this.pos=this.pos+O}finish(r){let x=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(x instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1,0)):(this.writtenTo<this.pos||x==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let O=r;for(let E of this.nodes)E instanceof HeightMapText&&E.updateHeight(this.oracle,O),O+=E?E.length:1;return this.nodes}static build(r,x,O,E){let y=new NodeBuilder(O,r);return RangeSet.spans(x,O,E,y,0),y.finish(O)}}function heightRelevantDecoChanges(o,r,x){let O=new DecorationComparator;return RangeSet.compare(o,r,x,O,0),O.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(r,x,O,E){(r<x||O&&O.heightRelevant||E&&E.heightRelevant)&&addRange(r,x,this.changes,5)}}function visiblePixelRange(o,r){let x=o.getBoundingClientRect(),O=o.ownerDocument,E=O.defaultView||window,y=Math.max(0,x.left),S=Math.min(E.innerWidth,x.right),j=Math.max(0,x.top),w=Math.min(E.innerHeight,x.bottom);for(let _=o.parentNode;_&&_!=O.body;)if(_.nodeType==1){let Q=_,I=window.getComputedStyle(Q);if((Q.scrollHeight>Q.clientHeight||Q.scrollWidth>Q.clientWidth)&&I.overflow!="visible"){let M=Q.getBoundingClientRect();y=Math.max(y,M.left),S=Math.min(S,M.right),j=Math.max(j,M.top),w=Math.min(_==o.parentNode?E.innerHeight:w,M.bottom)}_=I.position=="absolute"||I.position=="fixed"?Q.offsetParent:Q.parentNode}else if(_.nodeType==11)_=_.host;else break;return{left:y-x.left,right:Math.max(y,S)-x.left,top:j-(x.top+r),bottom:Math.max(j,w)-(x.top+r)}}function inWindow(o){let r=o.getBoundingClientRect(),x=o.ownerDocument.defaultView||window;return r.left<x.innerWidth&&r.right>0&&r.top<x.innerHeight&&r.bottom>0}function fullPixelRange(o,r){let x=o.getBoundingClientRect();return{left:0,right:x.right-x.left,top:r,bottom:x.bottom-(x.top+r)}}class LineGap{constructor(r,x,O,E){this.from=r,this.to=x,this.size=O,this.displaySize=E}static same(r,x){if(r.length!=x.length)return!1;for(let O=0;O<r.length;O++){let E=r[O],y=x[O];if(E.from!=y.from||E.to!=y.to||E.size!=y.size)return!1}return!0}draw(r,x){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(x?r.scaleY:r.scaleX),x)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(r,x){super(),this.size=r,this.vertical=x}eq(r){return r.size==this.size&&r.vertical==this.vertical}toDOM(){let r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(r){this.state=r,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let x=r.facet(contentAttributes).some(O=>typeof O!="function"&&O.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(x),this.stateDeco=staticDeco(r),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(r.doc),[new ChangedRange(0,0,0,r.doc.length)]);for(let O=0;O<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());O++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(O=>O.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let r=[this.viewport],{main:x}=this.state.selection;for(let O=0;O<=1;O++){let E=O?x.head:x.anchor;if(!r.some(({from:y,to:S})=>E>=y&&E<=S)){let{from:y,to:S}=this.lineBlockAt(E);r.push(new Viewport(y,S))}}return this.viewports=r.sort((O,E)=>O.from-E.from),this.updateScaler()}updateScaler(){let r=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),r.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,r=>{this.viewportLines.push(scaleBlock(r,this.scaler))})}update(r,x=null){this.state=r.state;let O=this.stateDeco;this.stateDeco=staticDeco(this.state);let E=r.changedRanges,y=ChangedRange.extendWithRanges(E,heightRelevantDecoChanges(O,this.stateDeco,r?r.changes:ChangeSet.empty(this.state.doc.length))),S=this.heightMap.height,j=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,r.startState.doc,this.heightOracle.setDoc(this.state.doc),y),(this.heightMap.height!=S||heightChangeFlag)&&(r.flags|=2),j?(this.scrollAnchorPos=r.changes.mapPos(j.from,-1),this.scrollAnchorHeight=j.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=S);let w=y.length?this.mapViewport(this.viewport,r.changes):this.viewport;(x&&(x.range.head<w.from||x.range.head>w.to)||!this.viewportIsAppropriate(w))&&(w=this.getViewport(0,x));let _=w.from!=this.viewport.from||w.to!=this.viewport.to;this.viewport=w,r.flags|=this.updateForViewport(),(_||!r.changes.empty||r.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,r.changes))),r.flags|=this.computeVisibleRanges(r.changes),x&&(this.scrollTarget=x),!this.mustEnforceCursorAssoc&&(r.selectionSet||r.focusChanged)&&r.view.lineWrapping&&r.state.selection.main.empty&&r.state.selection.main.assoc&&!r.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(r){let x=r.contentDOM,O=window.getComputedStyle(x),E=this.heightOracle,y=O.whiteSpace;this.defaultTextDirection=O.direction=="rtl"?Direction.RTL:Direction.LTR;let S=this.heightOracle.mustRefreshForWrapping(y)||this.mustMeasureContent==="refresh",j=x.getBoundingClientRect(),w=S||this.mustMeasureContent||this.contentDOMHeight!=j.height;this.contentDOMHeight=j.height,this.mustMeasureContent=!1;let _=0,Q=0;if(j.width&&j.height){let{scaleX:Oe,scaleY:ae}=getScale(x,j);(Oe>.005&&Math.abs(this.scaleX-Oe)>.005||ae>.005&&Math.abs(this.scaleY-ae)>.005)&&(this.scaleX=Oe,this.scaleY=ae,_|=16,S=w=!0)}let I=(parseInt(O.paddingTop)||0)*this.scaleY,M=(parseInt(O.paddingBottom)||0)*this.scaleY;(this.paddingTop!=I||this.paddingBottom!=M)&&(this.paddingTop=I,this.paddingBottom=M,_|=18),this.editorWidth!=r.scrollDOM.clientWidth&&(E.lineWrapping&&(w=!0),this.editorWidth=r.scrollDOM.clientWidth,_|=16);let F=r.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=F&&(this.scrollAnchorHeight=-1,this.scrollTop=F),this.scrolledToBottom=isScrolledToBottom(r.scrollDOM);let V=(this.printing?fullPixelRange:visiblePixelRange)(x,this.paddingTop),te=V.top-this.pixelViewport.top,re=V.bottom-this.pixelViewport.bottom;this.pixelViewport=V;let se=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(se!=this.inView&&(this.inView=se,se&&(w=!0)),!this.inView&&!this.scrollTarget&&!inWindow(r.dom))return 0;let ne=j.width;if((this.contentDOMWidth!=ne||this.editorHeight!=r.scrollDOM.clientHeight)&&(this.contentDOMWidth=j.width,this.editorHeight=r.scrollDOM.clientHeight,_|=16),w){let Oe=r.docView.measureVisibleLineHeights(this.viewport);if(E.mustRefreshForHeights(Oe)&&(S=!0),S||E.lineWrapping&&Math.abs(ne-this.contentDOMWidth)>E.charWidth){let{lineHeight:ae,charWidth:ge,textHeight:je}=r.docView.measureTextSize();S=ae>0&&E.refresh(y,ae,ge,je,Math.max(5,ne/ge),Oe),S&&(r.docView.minWidth=0,_|=16)}te>0&&re>0?Q=Math.max(te,re):te<0&&re<0&&(Q=Math.min(te,re)),clearHeightChangeFlag();for(let ae of this.viewports){let ge=ae.from==this.viewport.from?Oe:r.docView.measureVisibleLineHeights(ae);this.heightMap=(S?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,r.state.doc.length)]):this.heightMap).updateHeight(E,0,S,new MeasuredHeights(ae.from,ge))}heightChangeFlag&&(_|=2)}let oe=!this.viewportIsAppropriate(this.viewport,Q)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return oe&&(_&2&&(_|=this.updateScaler()),this.viewport=this.getViewport(Q,this.scrollTarget),_|=this.updateForViewport()),(_&2||oe)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(S?[]:this.lineGaps,r)),_|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,r.docView.enforceCursorAssoc()),_}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(r,x){let O=.5-Math.max(-.5,Math.min(.5,r/1e3/2)),E=this.heightMap,y=this.heightOracle,{visibleTop:S,visibleBottom:j}=this,w=new Viewport(E.lineAt(S-O*1e3,QueryType$1.ByHeight,y,0,0).from,E.lineAt(j+(1-O)*1e3,QueryType$1.ByHeight,y,0,0).to);if(x){let{head:_}=x.range;if(_<w.from||_>w.to){let Q=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),I=E.lineAt(_,QueryType$1.ByPos,y,0,0),M;x.y=="center"?M=(I.top+I.bottom)/2-Q/2:x.y=="start"||x.y=="nearest"&&_<w.from?M=I.top:M=I.bottom-Q,w=new Viewport(E.lineAt(M-1e3/2,QueryType$1.ByHeight,y,0,0).from,E.lineAt(M+Q+1e3/2,QueryType$1.ByHeight,y,0,0).to)}}return w}mapViewport(r,x){let O=x.mapPos(r.from,-1),E=x.mapPos(r.to,1);return new Viewport(this.heightMap.lineAt(O,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(E,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:r,to:x},O=0){if(!this.inView)return!0;let{top:E}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:y}=this.heightMap.lineAt(x,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:S,visibleBottom:j}=this;return(r==0||E<=S-Math.max(10,Math.min(-O,250)))&&(x==this.state.doc.length||y>=j+Math.max(10,Math.min(O,250)))&&E>S-2*1e3&&y<j+2*1e3}mapLineGaps(r,x){if(!r.length||x.empty)return r;let O=[];for(let E of r)x.touchesRange(E.from,E.to)||O.push(new LineGap(x.mapPos(E.from),x.mapPos(E.to),E.size,E.displaySize));return O}ensureLineGaps(r,x){let O=this.heightOracle.lineWrapping,E=O?1e4:2e3,y=E>>1,S=E<<1;if(this.defaultTextDirection!=Direction.LTR&&!O)return[];let j=[],w=(Q,I,M,F)=>{if(I-Q<y)return;let V=this.state.selection.main,te=[V.from];V.empty||te.push(V.to);for(let se of te)if(se>Q&&se<I){w(Q,se-10,M,F),w(se+10,I,M,F);return}let re=find(r,se=>se.from>=M.from&&se.to<=M.to&&Math.abs(se.from-Q)<y&&Math.abs(se.to-I)<y&&!te.some(ne=>se.from<ne&&se.to>ne));if(!re){if(I<M.to&&x&&O&&x.visibleRanges.some(oe=>oe.from<=I&&oe.to>=I)){let oe=x.moveToLineBoundary(EditorSelection.cursor(I),!1,!0).head;oe>Q&&(I=oe)}let se=this.gapSize(M,Q,I,F),ne=O||se<2e6?se:2e6;re=new LineGap(Q,I,se,ne)}j.push(re)},_=Q=>{if(Q.length<S||Q.type!=BlockType.Text)return;let I=lineStructure(Q.from,Q.to,this.stateDeco);if(I.total<S)return;let M=this.scrollTarget?this.scrollTarget.range.head:null,F,V;if(O){let te=E/this.heightOracle.lineLength*this.heightOracle.lineHeight,re,se;if(M!=null){let ne=findFraction(I,M),oe=((this.visibleBottom-this.visibleTop)/2+te)/Q.height;re=ne-oe,se=ne+oe}else re=(this.visibleTop-Q.top-te)/Q.height,se=(this.visibleBottom-Q.top+te)/Q.height;F=findPosition(I,re),V=findPosition(I,se)}else{let te=I.total*this.heightOracle.charWidth,re=E*this.heightOracle.charWidth,se=0;if(te>2e6)for(let ge of r)ge.from>=Q.from&&ge.from<Q.to&&ge.size!=ge.displaySize&&ge.from*this.heightOracle.charWidth+se<this.pixelViewport.left&&(se=ge.size-ge.displaySize);let ne=this.pixelViewport.left+se,oe=this.pixelViewport.right+se,Oe,ae;if(M!=null){let ge=findFraction(I,M),je=((oe-ne)/2+re)/te;Oe=ge-je,ae=ge+je}else Oe=(ne-re)/te,ae=(oe+re)/te;F=findPosition(I,Oe),V=findPosition(I,ae)}F>Q.from&&w(Q.from,F,Q,I),V<Q.to&&w(V,Q.to,Q,I)};for(let Q of this.viewportLines)Array.isArray(Q.type)?Q.type.forEach(_):_(Q);return j}gapSize(r,x,O,E){let y=findFraction(E,O)-findFraction(E,x);return this.heightOracle.lineWrapping?r.height*y:E.total*this.heightOracle.charWidth*y}updateLineGaps(r){LineGap.same(r,this.lineGaps)||(this.lineGaps=r,this.lineGapDeco=Decoration.set(r.map(x=>x.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(r){let x=this.stateDeco;this.lineGaps.length&&(x=x.concat(this.lineGapDeco));let O=[];RangeSet.spans(x,this.viewport.from,this.viewport.to,{span(y,S){O.push({from:y,to:S})},point(){}},20);let E=0;if(O.length!=this.visibleRanges.length)E=12;else for(let y=0;y<O.length&&!(E&8);y++){let S=this.visibleRanges[y],j=O[y];(S.from!=j.from||S.to!=j.to)&&(E|=4,r&&r.mapPos(S.from,-1)==j.from&&r.mapPos(S.to,1)==j.to||(E|=8))}return this.visibleRanges=O,E}lineBlockAt(r){return r>=this.viewport.from&&r<=this.viewport.to&&this.viewportLines.find(x=>x.from<=r&&x.to>=r)||scaleBlock(this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(r){return r>=this.viewportLines[0].top&&r<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(x=>x.top<=r&&x.bottom>=r)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(r),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(r){let x=this.lineBlockAtHeight(r+8);return x.from>=this.viewport.from||this.viewportLines[0].top-r>200?x:this.viewportLines[0]}elementAtHeight(r){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(r),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(r,x){this.from=r,this.to=x}}function lineStructure(o,r,x){let O=[],E=o,y=0;return RangeSet.spans(x,o,r,{span(){},point(S,j){S>E&&(O.push({from:E,to:S}),y+=S-E),E=j}},20),E<r&&(O.push({from:E,to:r}),y+=r-E),{total:y,ranges:O}}function findPosition({total:o,ranges:r},x){if(x<=0)return r[0].from;if(x>=1)return r[r.length-1].to;let O=Math.floor(o*x);for(let E=0;;E++){let{from:y,to:S}=r[E],j=S-y;if(O<=j)return y+O;O-=j}}function findFraction(o,r){let x=0;for(let{from:O,to:E}of o.ranges){if(r<=E){x+=r-O;break}x+=E-O}return x/o.total}function find(o,r){for(let x of o)if(r(x))return x}const IdScaler={toDOM(o){return o},fromDOM(o){return o},scale:1,eq(o){return o==this}};function staticDeco(o){let r=o.facet(decorations).filter(O=>typeof O!="function"),x=o.facet(outerDecorations).filter(O=>typeof O!="function");return x.length&&r.push(RangeSet.join(x)),r}class BigScaler{constructor(r,x,O){let E=0,y=0,S=0;this.viewports=O.map(({from:j,to:w})=>{let _=x.lineAt(j,QueryType$1.ByPos,r,0,0).top,Q=x.lineAt(w,QueryType$1.ByPos,r,0,0).bottom;return E+=Q-_,{from:j,to:w,top:_,bottom:Q,domTop:0,domBottom:0}}),this.scale=(7e6-E)/(x.height-E);for(let j of this.viewports)j.domTop=S+(j.top-y)*this.scale,S=j.domBottom=j.domTop+(j.bottom-j.top),y=j.bottom}toDOM(r){for(let x=0,O=0,E=0;;x++){let y=x<this.viewports.length?this.viewports[x]:null;if(!y||r<y.top)return E+(r-O)*this.scale;if(r<=y.bottom)return y.domTop+(r-y.top);O=y.bottom,E=y.domBottom}}fromDOM(r){for(let x=0,O=0,E=0;;x++){let y=x<this.viewports.length?this.viewports[x]:null;if(!y||r<y.domTop)return O+(r-E)/this.scale;if(r<=y.domBottom)return y.top+(r-y.domTop);O=y.bottom,E=y.domBottom}}eq(r){return r instanceof BigScaler?this.scale==r.scale&&this.viewports.length==r.viewports.length&&this.viewports.every((x,O)=>x.from==r.viewports[O].from&&x.to==r.viewports[O].to):!1}}function scaleBlock(o,r){if(r.scale==1)return o;let x=r.toDOM(o.top),O=r.toDOM(o.bottom);return new BlockInfo(o.from,o.length,x,O-x,Array.isArray(o._content)?o._content.map(E=>scaleBlock(E,r)):o._content)}const theme=Facet.define({combine:o=>o.join(" ")}),darkTheme=Facet.define({combine:o=>o.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(o,r,x){return new StyleModule(r,{finish(O){return/&/.test(O)?O.replace(/&\w*/,E=>{if(E=="&")return o;if(!x||!x[E])throw new RangeError(`Unsupported selector: ${E}`);return x[E]}):o+" "+O}})}const baseTheme$1$2=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(r){this.view=r,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=r.contentDOM,this.observer=new MutationObserver(x=>{for(let O of x)this.queue.push(O);(browser.ie&&browser.ie_version<=11||browser.ios&&r.composing)&&x.some(O=>O.type=="childList"&&O.removedNodes.length||O.type=="characterData"&&O.oldValue.length>O.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&r.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(r),r.state.facet(editable)&&(r.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=x=>{this.queue.push({target:x.target,type:"characterData",oldValue:x.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var x;((x=this.view.docView)===null||x===void 0?void 0:x.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(r.scrollDOM)),this.addWindowListeners(this.win=r.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(x=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),x.length>0&&x[x.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(x=>{x.length>0&&x[x.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(r){this.view.inputState.runHandlers("scroll",r),this.intersecting&&this.view.measure()}onScroll(r){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(r)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(r){(r.type=="change"||!r.type)&&!r.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(r){if(this.gapIntersection&&(r.length!=this.gaps.length||this.gaps.some((x,O)=>x!=r[O]))){this.gapIntersection.disconnect();for(let x of r)this.gapIntersection.observe(x);this.gaps=r}}onSelectionChange(r){let x=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:O}=this,E=this.selectionRange;if(O.state.facet(editable)?O.root.activeElement!=this.dom:!hasSelection(this.dom,E))return;let y=E.anchorNode&&O.docView.tile.nearest(E.anchorNode);if(y&&y.isWidget()&&y.widget.ignoreEvent(r)){x||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!O.state.selection.main.empty&&E.focusNode&&isEquivalentPosition(E.focusNode,E.focusOffset,E.anchorNode,E.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:r}=this,x=getSelection(r.root);if(!x)return!1;let O=browser.safari&&r.root.nodeType==11&&r.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,x)||x;if(!O||this.selectionRange.eq(O))return!1;let E=hasSelection(this.dom,O);return E&&!this.selectionChanged&&r.inputState.lastFocusTime>Date.now()-200&&r.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,O)?(this.view.inputState.lastFocusTime=0,r.docView.updateSelection(),!1):(this.selectionRange.setRange(O),E&&(this.selectionChanged=!0),!0)}setSelectionRange(r,x){this.selectionRange.set(r.node,r.offset,x.node,x.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let r=0,x=null;for(let O=this.dom;O;)if(O.nodeType==1)!x&&r<this.scrollTargets.length&&this.scrollTargets[r]==O?r++:x||(x=this.scrollTargets.slice(0,r)),x&&x.push(O),O=O.assignedSlot||O.parentNode;else if(O.nodeType==11)O=O.host;else break;if(r<this.scrollTargets.length&&!x&&(x=this.scrollTargets.slice(0,r)),x){for(let O of this.scrollTargets)O.removeEventListener("scroll",this.onScroll);for(let O of this.scrollTargets=x)O.addEventListener("scroll",this.onScroll)}}ignore(r){if(!this.active)return r();try{return this.stop(),r()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(r,x){var O;if(!this.delayedAndroidKey){let E=()=>{let y=this.delayedAndroidKey;y&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=y.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&y.force&&dispatchKey(this.dom,y.key,y.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(E)}(!this.delayedAndroidKey||r=="Enter")&&(this.delayedAndroidKey={key:r,keyCode:x,force:this.lastChange<Date.now()-50||!!(!((O=this.delayedAndroidKey)===null||O===void 0)&&O.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let r of this.observer.takeRecords())this.queue.push(r);return this.queue}processRecords(){let r=this.pendingRecords();r.length&&(this.queue=[]);let x=-1,O=-1,E=!1;for(let y of r){let S=this.readMutation(y);S&&(S.typeOver&&(E=!0),x==-1?{from:x,to:O}=S:(x=Math.min(S.from,x),O=Math.max(S.to,O)))}return{from:x,to:O,typeOver:E}}readChange(){let{from:r,to:x,typeOver:O}=this.processRecords(),E=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(r<0&&!E)return null;r>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let y=new DOMChange(this.view,r,x,O);return this.view.docView.domChanged={newSel:y.newSel?y.newSel.main:null},y}flush(r=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;r&&this.readSelectionRange();let x=this.readChange();if(!x)return this.view.requestMeasure(),!1;let O=this.view.state,E=applyDOMChange(this.view,x);return this.view.state==O&&(x.domChanged||x.newSel&&!sameSelPos(this.view.state.selection,x.newSel.main))&&this.view.update([]),E}readMutation(r){let x=this.view.docView.tile.nearest(r.target);if(!x||x.isWidget())return null;if(x.markDirty(r.type=="attributes"),r.type=="childList"){let O=findChild(x,r.previousSibling||r.target.previousSibling,-1),E=findChild(x,r.nextSibling||r.target.nextSibling,1);return{from:O?x.posAfter(O):x.posAtStart,to:E?x.posBefore(E):x.posAtEnd,typeOver:!1}}else return r.type=="characterData"?{from:x.posAtStart,to:x.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}:null}setWindow(r){r!=this.win&&(this.removeWindowListeners(this.win),this.win=r,this.addWindowListeners(this.win))}addWindowListeners(r){r.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):r.addEventListener("beforeprint",this.onPrint),r.addEventListener("scroll",this.onScroll),r.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(r){r.removeEventListener("scroll",this.onScroll),r.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):r.removeEventListener("beforeprint",this.onPrint),r.document.removeEventListener("selectionchange",this.onSelectionChange)}update(r){this.editContext&&(this.editContext.update(r),r.startState.facet(editable)!=r.state.facet(editable)&&(r.view.contentDOM.editContext=r.state.facet(editable)?this.editContext.editContext:null))}destroy(){var r,x,O;this.stop(),(r=this.intersection)===null||r===void 0||r.disconnect(),(x=this.gapIntersection)===null||x===void 0||x.disconnect(),(O=this.resizeScroll)===null||O===void 0||O.disconnect();for(let E of this.scrollTargets)E.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(o,r,x){for(;r;){let O=Tile.get(r);if(O&&O.parent==o)return O;let E=r.parentNode;r=E!=o.dom?E:x>0?r.nextSibling:r.previousSibling}return null}function buildSelectionRangeFromRange(o,r){let x=r.startContainer,O=r.startOffset,E=r.endContainer,y=r.endOffset,S=o.docView.domAtPos(o.state.selection.main.anchor,1);return isEquivalentPosition(S.node,S.offset,E,y)&&([x,O,E,y]=[E,y,x,O]),{anchorNode:x,anchorOffset:O,focusNode:E,focusOffset:y}}function safariSelectionRangeHack(o,r){if(r.getComposedRanges){let E=r.getComposedRanges(o.root)[0];if(E)return buildSelectionRangeFromRange(o,E)}let x=null;function O(E){E.preventDefault(),E.stopImmediatePropagation(),x=E.getTargetRanges()[0]}return o.contentDOM.addEventListener("beforeinput",O,!0),o.dom.ownerDocument.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",O,!0),x?buildSelectionRangeFromRange(o,x):null}class EditContextManager{constructor(r){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(r.state);let x=this.editContext=new window.EditContext({text:r.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,r.state.selection.main.anchor))),selectionEnd:this.toContextPos(r.state.selection.main.head)});this.handlers.textupdate=O=>{let E=r.state.selection.main,{anchor:y,head:S}=E,j=this.toEditorPos(O.updateRangeStart),w=this.toEditorPos(O.updateRangeEnd);r.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:O.updateRangeStart,editorBase:j,drifted:!1});let _=w-j>O.text.length;j==this.from&&y<this.from?j=y:w==this.to&&y>this.to&&(w=y);let Q=findDiff(r.state.sliceDoc(j,w),O.text,(_?E.from:E.to)-j,_?"end":null);if(!Q){let M=EditorSelection.single(this.toEditorPos(O.selectionStart),this.toEditorPos(O.selectionEnd));sameSelPos(M,E)||r.dispatch({selection:M,userEvent:"select"});return}let I={from:Q.from+j,to:Q.toA+j,insert:Text.of(O.text.slice(Q.from,Q.toB).split(`
`))};if((browser.mac||browser.android)&&I.from==S-1&&/^\. ?$/.test(O.text)&&r.contentDOM.getAttribute("autocorrect")=="off"&&(I={from:j,to:w,insert:Text.of([O.text.replace("."," ")])}),this.pendingContextChange=I,!r.state.readOnly){let M=this.to-this.from+(I.to-I.from+I.insert.length);applyDOMChangeInner(r,I,EditorSelection.single(this.toEditorPos(O.selectionStart,M),this.toEditorPos(O.selectionEnd,M)))}this.pendingContextChange&&(this.revertPending(r.state),this.setSelection(r.state)),I.from<I.to&&!I.insert.length&&r.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(x.text.slice(Math.max(0,O.updateRangeStart-1),Math.min(x.text.length,O.updateRangeStart+1)))&&this.handlers.compositionend(O)},this.handlers.characterboundsupdate=O=>{let E=[],y=null;for(let S=this.toEditorPos(O.rangeStart),j=this.toEditorPos(O.rangeEnd);S<j;S++){let w=r.coordsForChar(S);y=w&&new DOMRect(w.left,w.top,w.right-w.left,w.bottom-w.top)||y||new DOMRect,E.push(y)}x.updateCharacterBounds(O.rangeStart,E)},this.handlers.textformatupdate=O=>{let E=[];for(let y of O.getTextFormats()){let S=y.underlineStyle,j=y.underlineThickness;if(!/none/i.test(S)&&!/none/i.test(j)){let w=this.toEditorPos(y.rangeStart),_=this.toEditorPos(y.rangeEnd);if(w<_){let Q=`text-decoration: underline ${/^[a-z]/.test(S)?S+" ":S=="Dashed"?"dashed ":S=="Squiggle"?"wavy ":""}${/thin/i.test(j)?1:2}px`;E.push(Decoration.mark({attributes:{style:Q}}).range(w,_))}}}r.dispatch({effects:setEditContextFormatting.of(Decoration.set(E))})},this.handlers.compositionstart=()=>{r.inputState.composing<0&&(r.inputState.composing=0,r.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(r.inputState.composing=-1,r.inputState.compositionFirstChange=null,this.composing){let{drifted:O}=this.composing;this.composing=null,O&&this.reset(r.state)}};for(let O in this.handlers)x.addEventListener(O,this.handlers[O]);this.measureReq={read:O=>{this.editContext.updateControlBounds(O.contentDOM.getBoundingClientRect());let E=getSelection(O.root);E&&E.rangeCount&&this.editContext.updateSelectionBounds(E.getRangeAt(0).getBoundingClientRect())}}}applyEdits(r){let x=0,O=!1,E=this.pendingContextChange;return r.changes.iterChanges((y,S,j,w,_)=>{if(O)return;let Q=_.length-(S-y);if(E&&S>=E.to)if(E.from==y&&E.to==S&&E.insert.eq(_)){E=this.pendingContextChange=null,x+=Q,this.to+=Q;return}else E=null,this.revertPending(r.state);if(y+=x,S+=x,S<=this.from)this.from+=Q,this.to+=Q;else if(y<this.to){if(y<this.from||S>this.to||this.to-this.from+_.length>3e4){O=!0;return}this.editContext.updateText(this.toContextPos(y),this.toContextPos(S),_.toString()),this.to+=Q}x+=Q}),E&&!O&&this.revertPending(r.state),!O}update(r){let x=this.pendingContextChange,O=r.startState.selection.main;this.composing&&(this.composing.drifted||!r.changes.touchesRange(O.from,O.to)&&r.transactions.some(E=>!E.isUserEvent("input.type")&&E.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=r.changes.mapPos(this.composing.editorBase)):!this.applyEdits(r)||!this.rangeIsValid(r.state)?(this.pendingContextChange=null,this.reset(r.state)):(r.docChanged||r.selectionSet||x)&&this.setSelection(r.state),(r.geometryChanged||r.docChanged||r.selectionSet)&&r.view.requestMeasure(this.measureReq)}resetRange(r){let{head:x}=r.selection.main;this.from=Math.max(0,x-1e4),this.to=Math.min(r.doc.length,x+1e4)}reset(r){this.resetRange(r),this.editContext.updateText(0,this.editContext.text.length,r.doc.sliceString(this.from,this.to)),this.setSelection(r)}revertPending(r){let x=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(x.from),this.toContextPos(x.from+x.insert.length),r.doc.sliceString(x.from,x.to))}setSelection(r){let{main:x}=r.selection,O=this.toContextPos(Math.max(this.from,Math.min(this.to,x.anchor))),E=this.toContextPos(x.head);(this.editContext.selectionStart!=O||this.editContext.selectionEnd!=E)&&this.editContext.updateSelection(O,E)}rangeIsValid(r){let{head:x}=r.selection.main;return!(this.from>0&&x-this.from<500||this.to<r.doc.length&&this.to-x<500||this.to-this.from>1e4*3)}toEditorPos(r,x=this.to-this.from){r=Math.min(r,x);let O=this.composing;return O&&O.drifted?O.editorBase+(r-O.contextBase):r+this.from}toContextPos(r){let x=this.composing;return x&&x.drifted?x.contextBase+(r-x.editorBase):r-this.from}destroy(){for(let r in this.handlers)this.editContext.removeEventListener(r,this.handlers[r])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(r={}){var x;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),r.parent&&r.parent.appendChild(this.dom);let{dispatch:O}=r;this.dispatchTransactions=r.dispatchTransactions||O&&(E=>E.forEach(y=>O(y,this)))||(E=>this.update(E)),this.dispatch=this.dispatch.bind(this),this._root=r.root||getRoot(r.parent)||document,this.viewState=new ViewState(r.state||EditorState.create(r)),r.scrollTo&&r.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=r.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(E=>new PluginInstance(E));for(let E of this.plugins)E.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((x=document.fonts)===null||x===void 0)&&x.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent="refresh",this.requestMeasure()})}dispatch(...r){let x=r.length==1&&r[0]instanceof Transaction?r:r.length==1&&Array.isArray(r[0])?r[0]:[this.state.update(...r)];this.dispatchTransactions(x,this)}update(r){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let x=!1,O=!1,E,y=this.state;for(let M of r){if(M.startState!=y)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");y=M.state}if(this.destroyed){this.viewState.state=y;return}let S=this.hasFocus,j=0,w=null;r.some(M=>M.annotation(isFocusChange))?(this.inputState.notifiedFocused=S,j=1):S!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=S,w=focusChangeTransaction(y,S),w||(j=1));let _=this.observer.delayedAndroidKey,Q=null;if(_?(this.observer.clearDelayedAndroidKey(),Q=this.observer.readChange(),(Q&&!this.state.doc.eq(y.doc)||!this.state.selection.eq(y.selection))&&(Q=null)):this.observer.clear(),y.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(y);E=ViewUpdate.create(this,y,r),E.flags|=j;let I=this.viewState.scrollTarget;try{this.updateState=2;for(let M of r){if(I&&(I=I.map(M.changes)),M.scrollIntoView){let{main:F}=M.state.selection;I=new ScrollTarget(F.empty?F:EditorSelection.cursor(F.head,F.head>F.anchor?-1:1))}for(let F of M.effects)F.is(scrollIntoView$1)&&(I=F.value.clip(this.state))}this.viewState.update(E,I),this.bidiCache=CachedOrder.update(this.bidiCache,E.changes),E.empty||(this.updatePlugins(E),this.inputState.update(E)),x=this.docView.update(E),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),O=this.updateAttrs(),this.showAnnouncements(r),this.docView.updateSelection(x,r.some(M=>M.isUserEvent("select.pointer")))}finally{this.updateState=0}if(E.startState.facet(theme)!=E.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(x||O||I||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),x&&this.docViewUpdate(),!E.empty)for(let M of this.state.facet(updateListener))try{M(E)}catch(F){logException(this.state,F,"update listener")}(w||Q)&&Promise.resolve().then(()=>{w&&this.state==w.startState&&this.dispatch(w),Q&&!applyDOMChange(this,Q)&&_.force&&dispatchKey(this.contentDOM,_.key,_.keyCode)})}setState(r){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=r;return}this.updateState=2;let x=this.hasFocus;try{for(let O of this.plugins)O.destroy(this);this.viewState=new ViewState(r),this.plugins=r.facet(viewPlugin).map(O=>new PluginInstance(O)),this.pluginMap.clear();for(let O of this.plugins)O.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}x&&this.focus(),this.requestMeasure()}updatePlugins(r){let x=r.startState.facet(viewPlugin),O=r.state.facet(viewPlugin);if(x!=O){let E=[];for(let y of O){let S=x.indexOf(y);if(S<0)E.push(new PluginInstance(y));else{let j=this.plugins[S];j.mustUpdate=r,E.push(j)}}for(let y of this.plugins)y.mustUpdate!=r&&y.destroy(this);this.plugins=E,this.pluginMap.clear()}else for(let E of this.plugins)E.mustUpdate=r;for(let E=0;E<this.plugins.length;E++)this.plugins[E].update(this);x!=O&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let r of this.plugins){let x=r.value;if(x&&x.docViewUpdate)try{x.docViewUpdate(this)}catch(O){logException(this.state,O,"doc view update listener")}}}measure(r=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,r&&this.observer.forceFlush();let x=null,O=this.scrollDOM,E=O.scrollTop*this.scaleY,{scrollAnchorPos:y,scrollAnchorHeight:S}=this.viewState;Math.abs(E-this.viewState.scrollTop)>1&&(S=-1),this.viewState.scrollAnchorHeight=-1;try{for(let j=0;;j++){if(S<0)if(isScrolledToBottom(O))y=-1,S=this.viewState.heightMap.height;else{let F=this.viewState.scrollAnchorAt(E);y=F.from,S=F.top}this.updateState=1;let w=this.viewState.measure(this);if(!w&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(j>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let _=[];w&4||([this.measureRequests,_]=[_,this.measureRequests]);let Q=_.map(F=>{try{return F.read(this)}catch(V){return logException(this.state,V),BadMeasure}}),I=ViewUpdate.create(this,this.state,[]),M=!1;I.flags|=w,x?x.flags|=w:x=I,this.updateState=2,I.empty||(this.updatePlugins(I),this.inputState.update(I),this.updateAttrs(),M=this.docView.update(I),M&&this.docViewUpdate());for(let F=0;F<_.length;F++)if(Q[F]!=BadMeasure)try{let V=_[F];V.write&&V.write(Q[F],this)}catch(V){logException(this.state,V)}if(M&&this.docView.updateSelection(!0),!I.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,S=-1;continue}else{let V=(y<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(y).top)-S;if(V>1||V<-1){E=E+V,O.scrollTop=E/this.scaleY,S=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(x&&!x.empty)for(let j of this.state.facet(updateListener))j(x)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let r=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),x={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(x["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,x);let O=this.observer.ignore(()=>{let E=updateAttrs(this.contentDOM,this.contentAttrs,x),y=updateAttrs(this.dom,this.editorAttrs,r);return E||y});return this.editorAttrs=r,this.contentAttrs=x,O}showAnnouncements(r){let x=!0;for(let O of r)for(let E of O.effects)if(E.is(EditorView.announce)){x&&(this.announceDOM.textContent=""),x=!1;let y=this.announceDOM.appendChild(document.createElement("div"));y.textContent=E.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let r=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$2).reverse(),r?{nonce:r}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(r){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),r){if(this.measureRequests.indexOf(r)>-1)return;if(r.key!=null){for(let x=0;x<this.measureRequests.length;x++)if(this.measureRequests[x].key===r.key){this.measureRequests[x]=r;return}}this.measureRequests.push(r)}}plugin(r){let x=this.pluginMap.get(r);return(x===void 0||x&&x.plugin!=r)&&this.pluginMap.set(r,x=this.plugins.find(O=>O.plugin==r)||null),x&&x.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(r){return this.readMeasured(),this.viewState.elementAtHeight(r)}lineBlockAtHeight(r){return this.readMeasured(),this.viewState.lineBlockAtHeight(r)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(r){return this.viewState.lineBlockAt(r)}get contentHeight(){return this.viewState.contentHeight}moveByChar(r,x,O){return skipAtoms(this,r,moveByChar(this,r,x,O))}moveByGroup(r,x){return skipAtoms(this,r,moveByChar(this,r,x,O=>byGroup(this,r.head,O)))}visualLineSide(r,x){let O=this.bidiSpans(r),E=this.textDirectionAt(r.from),y=O[x?O.length-1:0];return EditorSelection.cursor(y.side(x,E)+r.from,y.forward(!x,E)?1:-1)}moveToLineBoundary(r,x,O=!0){return moveToLineBoundary(this,r,x,O)}moveVertically(r,x,O){return skipAtoms(this,r,moveVertically(this,r,x,O))}domAtPos(r,x=1){return this.docView.domAtPos(r,x)}posAtDOM(r,x=0){return this.docView.posFromDOM(r,x)}posAtCoords(r,x=!0){this.readMeasured();let O=posAtCoords(this,r,x);return O&&O.pos}posAndSideAtCoords(r,x=!0){return this.readMeasured(),posAtCoords(this,r,x)}coordsAtPos(r,x=1){this.readMeasured();let O=this.docView.coordsAt(r,x);if(!O||O.left==O.right)return O;let E=this.state.doc.lineAt(r),y=this.bidiSpans(E),S=y[BidiSpan.find(y,r-E.from,-1,x)];return flattenRect(O,S.dir==Direction.LTR==x>0)}coordsForChar(r){return this.readMeasured(),this.docView.coordsForChar(r)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(r){return!this.state.facet(perLineTextDirection)||r<this.viewport.from||r>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(r))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(r){if(r.length>MaxBidiLine)return trivialOrder(r.length);let x=this.textDirectionAt(r.from),O;for(let y of this.bidiCache)if(y.from==r.from&&y.dir==x&&(y.fresh||isolatesEq(y.isolates,O=getIsolatedRanges(this,r))))return y.order;O||(O=getIsolatedRanges(this,r));let E=computeOrder(r.text,x,O);return this.bidiCache.push(new CachedOrder(r.from,r.to,x,O,!0,E)),E}get hasFocus(){var r;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((r=this.inputState)===null||r===void 0?void 0:r.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(r){this._root!=r&&(this._root=r,this.observer.setWindow((r.nodeType==9?r:r.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let r of this.plugins)r.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(r,x={}){return scrollIntoView$1.of(new ScrollTarget(typeof r=="number"?EditorSelection.cursor(r):r,x.y,x.x,x.yMargin,x.xMargin))}scrollSnapshot(){let{scrollTop:r,scrollLeft:x}=this.scrollDOM,O=this.viewState.scrollAnchorAt(r);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(O.from),"start","start",O.top-r,x,!0))}setTabFocusMode(r){r==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof r=="boolean"?this.inputState.tabFocusMode=r?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+r)}static domEventHandlers(r){return ViewPlugin.define(()=>({}),{eventHandlers:r})}static domEventObservers(r){return ViewPlugin.define(()=>({}),{eventObservers:r})}static theme(r,x){let O=StyleModule.newName(),E=[theme.of(O),styleModule.of(buildTheme(`.${O}`,r))];return x&&x.dark&&E.push(darkTheme.of(!0)),E}static baseTheme(r){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,r,lightDarkIDs)))}static findFromDOM(r){var x;let O=r.querySelector(".cm-content"),E=O&&Tile.get(O)||Tile.get(r);return((x=E==null?void 0:E.root)===null||x===void 0?void 0:x.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.blockWrappers=blockWrappers;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:o=>o.length?o[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(r,x,O,E,y,S){this.from=r,this.to=x,this.dir=O,this.isolates=E,this.fresh=y,this.order=S}static update(r,x){if(x.empty&&!r.some(y=>y.fresh))return r;let O=[],E=r.length?r[r.length-1].dir:Direction.LTR;for(let y=Math.max(0,r.length-10);y<r.length;y++){let S=r[y];S.dir==E&&!x.touchesRange(S.from,S.to)&&O.push(new CachedOrder(x.mapPos(S.from,1),x.mapPos(S.to,-1),S.dir,S.isolates,!1,S.order))}return O}}function attrsFromFacet(o,r,x){for(let O=o.state.facet(r),E=O.length-1;E>=0;E--){let y=O[E],S=typeof y=="function"?y(o):y;S&&combineAttrs(S,x)}return x}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(o,r){const x=o.split(/-(?!$)/);let O=x[x.length-1];O=="Space"&&(O=" ");let E,y,S,j;for(let w=0;w<x.length-1;++w){const _=x[w];if(/^(cmd|meta|m)$/i.test(_))j=!0;else if(/^a(lt)?$/i.test(_))E=!0;else if(/^(c|ctrl|control)$/i.test(_))y=!0;else if(/^s(hift)?$/i.test(_))S=!0;else if(/^mod$/i.test(_))r=="mac"?j=!0:y=!0;else throw new Error("Unrecognized modifier name: "+_)}return E&&(O="Alt-"+O),y&&(O="Ctrl-"+O),j&&(O="Meta-"+O),S&&(O="Shift-"+O),O}function modifiers(o,r,x){return r.altKey&&(o="Alt-"+o),r.ctrlKey&&(o="Ctrl-"+o),r.metaKey&&(o="Meta-"+o),x!==!1&&r.shiftKey&&(o="Shift-"+o),o}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(o,r){return runHandlers(getKeymap(r.state),o,r,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(o){let r=o.facet(keymap),x=Keymaps.get(r);return x||Keymaps.set(r,x=buildKeymap(r.reduce((O,E)=>O.concat(E),[]))),x}function runScopeHandlers(o,r,x){return runHandlers(getKeymap(o.state),r,o,x)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(o,r=currentPlatform){let x=Object.create(null),O=Object.create(null),E=(S,j)=>{let w=O[S];if(w==null)O[S]=j;else if(w!=j)throw new Error("Key binding "+S+" is used both as a regular binding and as a multi-stroke prefix")},y=(S,j,w,_,Q)=>{var I,M;let F=x[S]||(x[S]=Object.create(null)),V=j.split(/ (?!$)/).map(se=>normalizeKeyName(se,r));for(let se=1;se<V.length;se++){let ne=V.slice(0,se).join(" ");E(ne,!0),F[ne]||(F[ne]={preventDefault:!0,stopPropagation:!1,run:[oe=>{let Oe=storedPrefix={view:oe,prefix:ne,scope:S};return setTimeout(()=>{storedPrefix==Oe&&(storedPrefix=null)},PrefixTimeout),!0}]})}let te=V.join(" ");E(te,!1);let re=F[te]||(F[te]={preventDefault:!1,stopPropagation:!1,run:((M=(I=F._any)===null||I===void 0?void 0:I.run)===null||M===void 0?void 0:M.slice())||[]});w&&re.run.push(w),_&&(re.preventDefault=!0),Q&&(re.stopPropagation=!0)};for(let S of o){let j=S.scope?S.scope.split(" "):["editor"];if(S.any)for(let _ of j){let Q=x[_]||(x[_]=Object.create(null));Q._any||(Q._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:I}=S;for(let M in Q)Q[M].run.push(F=>I(F,currentKeyEvent))}let w=S[r]||S.key;if(w)for(let _ of j)y(_,w,S.run,S.preventDefault,S.stopPropagation),S.shift&&y(_,"Shift-"+w,S.shift,S.preventDefault,S.stopPropagation)}return x}let currentKeyEvent=null;function runHandlers(o,r,x,O){currentKeyEvent=r;let E=keyName(r),y=codePointAt(E,0),S=codePointSize(y)==E.length&&E!=" ",j="",w=!1,_=!1,Q=!1;storedPrefix&&storedPrefix.view==x&&storedPrefix.scope==O&&(j=storedPrefix.prefix+" ",modifierCodes.indexOf(r.keyCode)<0&&(_=!0,storedPrefix=null));let I=new Set,M=re=>{if(re){for(let se of re.run)if(!I.has(se)&&(I.add(se),se(x)))return re.stopPropagation&&(Q=!0),!0;re.preventDefault&&(re.stopPropagation&&(Q=!0),_=!0)}return!1},F=o[O],V,te;return F&&(M(F[j+modifiers(E,r,!S)])?w=!0:S&&(r.altKey||r.metaKey||r.ctrlKey)&&!(browser.windows&&r.ctrlKey&&r.altKey)&&!(browser.mac&&r.altKey&&!(r.ctrlKey||r.metaKey))&&(V=base[r.keyCode])&&V!=E?(M(F[j+modifiers(V,r,!0)])||r.shiftKey&&(te=shift[r.keyCode])!=E&&te!=V&&M(F[j+modifiers(te,r,!1)]))&&(w=!0):S&&r.shiftKey&&M(F[j+modifiers(E,r,!0)])&&(w=!0),!w&&M(F._any)&&(w=!0)),_&&(w=!0),w&&Q&&r.stopPropagation(),currentKeyEvent=null,w}class RectangleMarker{constructor(r,x,O,E,y){this.className=r,this.left=x,this.top=O,this.width=E,this.height=y}draw(){let r=document.createElement("div");return r.className=this.className,this.adjust(r),r}update(r,x){return x.className!=this.className?!1:(this.adjust(r),!0)}adjust(r){r.style.left=this.left+"px",r.style.top=this.top+"px",this.width!=null&&(r.style.width=this.width+"px"),r.style.height=this.height+"px"}eq(r){return this.left==r.left&&this.top==r.top&&this.width==r.width&&this.height==r.height&&this.className==r.className}static forRange(r,x,O){if(O.empty){let E=r.coordsAtPos(O.head,O.assoc||1);if(!E)return[];let y=getBase(r);return[new RectangleMarker(x,E.left-y.left,E.top-y.top,null,E.bottom-E.top)]}else return rectanglesForRange(r,x,O)}}function getBase(o){let r=o.scrollDOM.getBoundingClientRect();return{left:(o.textDirection==Direction.LTR?r.left:r.right-o.scrollDOM.clientWidth*o.scaleX)-o.scrollDOM.scrollLeft*o.scaleX,top:r.top-o.scrollDOM.scrollTop*o.scaleY}}function wrappedLine(o,r,x,O){let E=o.coordsAtPos(r,x*2);if(!E)return O;let y=o.dom.getBoundingClientRect(),S=(E.top+E.bottom)/2,j=o.posAtCoords({x:y.left+1,y:S}),w=o.posAtCoords({x:y.right-1,y:S});return j==null||w==null?O:{from:Math.max(O.from,Math.min(j,w)),to:Math.min(O.to,Math.max(j,w))}}function rectanglesForRange(o,r,x){if(x.to<=o.viewport.from||x.from>=o.viewport.to)return[];let O=Math.max(x.from,o.viewport.from),E=Math.min(x.to,o.viewport.to),y=o.textDirection==Direction.LTR,S=o.contentDOM,j=S.getBoundingClientRect(),w=getBase(o),_=S.querySelector(".cm-line"),Q=_&&window.getComputedStyle(_),I=j.left+(Q?parseInt(Q.paddingLeft)+Math.min(0,parseInt(Q.textIndent)):0),M=j.right-(Q?parseInt(Q.paddingRight):0),F=blockAt(o,O,1),V=blockAt(o,E,-1),te=F.type==BlockType.Text?F:null,re=V.type==BlockType.Text?V:null;if(te&&(o.lineWrapping||F.widgetLineBreaks)&&(te=wrappedLine(o,O,1,te)),re&&(o.lineWrapping||V.widgetLineBreaks)&&(re=wrappedLine(o,E,-1,re)),te&&re&&te.from==re.from&&te.to==re.to)return ne(oe(x.from,x.to,te));{let ae=te?oe(x.from,null,te):Oe(F,!1),ge=re?oe(null,x.to,re):Oe(V,!0),je=[];return(te||F).to<(re||V).from-(te&&re?1:0)||F.widgetLineBreaks>1&&ae.bottom+o.defaultLineHeight/2<ge.top?je.push(se(I,ae.bottom,M,ge.top)):ae.bottom<ge.top&&o.elementAtHeight((ae.bottom+ge.top)/2).type==BlockType.Text&&(ae.bottom=ge.top=(ae.bottom+ge.top)/2),ne(ae).concat(je).concat(ne(ge))}function se(ae,ge,je,Ae){return new RectangleMarker(r,ae-w.left,ge-w.top,Math.max(0,je-ae),Ae-ge)}function ne({top:ae,bottom:ge,horizontal:je}){let Ae=[];for(let Qe=0;Qe<je.length;Qe+=2)Ae.push(se(je[Qe],ae,je[Qe+1],ge));return Ae}function oe(ae,ge,je){let Ae=1e9,Qe=-1e9,Xe=[];function Ue(Be,Ge,We,at,rt){let Je=o.coordsAtPos(Be,Be==je.to?-2:2),mt=o.coordsAtPos(We,We==je.from?2:-2);!Je||!mt||(Ae=Math.min(Je.top,mt.top,Ae),Qe=Math.max(Je.bottom,mt.bottom,Qe),rt==Direction.LTR?Xe.push(y&&Ge?I:Je.left,y&&at?M:mt.right):Xe.push(!y&&at?I:mt.left,!y&&Ge?M:Je.right))}let Le=ae??je.from,Ze=ge??je.to;for(let Be of o.visibleRanges)if(Be.to>Le&&Be.from<Ze)for(let Ge=Math.max(Be.from,Le),We=Math.min(Be.to,Ze);;){let at=o.state.doc.lineAt(Ge);for(let rt of o.bidiSpans(at)){let Je=rt.from+at.from,mt=rt.to+at.from;if(Je>=We)break;mt>Ge&&Ue(Math.max(Je,Ge),ae==null&&Je<=Le,Math.min(mt,We),ge==null&&mt>=Ze,rt.dir)}if(Ge=at.to+1,Ge>=We)break}return Xe.length==0&&Ue(Le,ae==null,Ze,ge==null,o.textDirection),{top:Ae,bottom:Qe,horizontal:Xe}}function Oe(ae,ge){let je=j.top+(ge?ae.top:ae.bottom);return{top:je,bottom:je,horizontal:[]}}}function sameMarker(o,r){return o.constructor==r.constructor&&o.eq(r)}class LayerView{constructor(r,x){this.view=r,this.layer=x,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=r.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),x.above&&this.dom.classList.add("cm-layer-above"),x.class&&this.dom.classList.add(x.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(r.state),r.requestMeasure(this.measureReq),x.mount&&x.mount(this.dom,r)}update(r){r.startState.facet(layerOrder)!=r.state.facet(layerOrder)&&this.setOrder(r.state),(this.layer.update(r,this.dom)||r.geometryChanged)&&(this.scale(),r.view.requestMeasure(this.measureReq))}docViewUpdate(r){this.layer.updateOnDocViewUpdate!==!1&&r.requestMeasure(this.measureReq)}setOrder(r){let x=0,O=r.facet(layerOrder);for(;x<O.length&&O[x]!=this.layer;)x++;this.dom.style.zIndex=String((this.layer.above?150:-1)-x)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:r,scaleY:x}=this.view;(r!=this.scaleX||x!=this.scaleY)&&(this.scaleX=r,this.scaleY=x,this.dom.style.transform=`scale(${1/r}, ${1/x})`)}draw(r){if(r.length!=this.drawn.length||r.some((x,O)=>!sameMarker(x,this.drawn[O]))){let x=this.dom.firstChild,O=0;for(let E of r)E.update&&x&&E.constructor&&this.drawn[O].constructor&&E.update(x,this.drawn[O])?(x=x.nextSibling,O++):this.dom.insertBefore(E.draw(),x);for(;x;){let E=x.nextSibling;x.remove(),x=E}this.drawn=r,browser.safari&&browser.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(o){return[ViewPlugin.define(r=>new LayerView(r,o)),layerOrder.of(o)]}const selectionConfig=Facet.define({combine(o){return combineConfig(o,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(r,x)=>Math.min(r,x),drawRangeCursor:(r,x)=>r||x})}});function drawSelection(o={}){return[selectionConfig.of(o),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(o){return o.startState.facet(selectionConfig)!=o.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(o){let{state:r}=o,x=r.facet(selectionConfig),O=[];for(let E of r.selection.ranges){let y=E==r.selection.main;if(E.empty||x.drawRangeCursor){let S=y?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",j=E.empty?E:EditorSelection.cursor(E.head,E.head>E.anchor?-1:1);for(let w of RectangleMarker.forRange(o,S,j))O.push(w)}}return O},update(o,r){o.transactions.some(O=>O.selection)&&(r.style.animationName=r.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let x=configChanged(o);return x&&setBlinkRate(o.state,r),o.docChanged||o.selectionSet||x},mount(o,r){setBlinkRate(r.state,o)},class:"cm-cursorLayer"});function setBlinkRate(o,r){r.style.animationDuration=o.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(o){return o.state.selection.ranges.map(r=>r.empty?[]:RectangleMarker.forRange(o,"cm-selectionBackground",r)).reduce((r,x)=>r.concat(x))},update(o,r){return o.docChanged||o.selectionSet||o.viewportChanged||configChanged(o)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(o,r){return o==null?null:r.mapPos(o)}}),dropCursorPos=StateField.define({create(){return null},update(o,r){return o!=null&&(o=r.changes.mapPos(o)),r.effects.reduce((x,O)=>O.is(setDropCursorPos)?O.value:x,o)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(o){var r;let x=o.state.field(dropCursorPos);x==null?this.cursor!=null&&((r=this.cursor)===null||r===void 0||r.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(o.startState.field(dropCursorPos)!=x||o.docChanged||o.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:o}=this,r=o.state.field(dropCursorPos),x=r!=null&&o.coordsAtPos(r);if(!x)return null;let O=o.scrollDOM.getBoundingClientRect();return{left:x.left-O.left+o.scrollDOM.scrollLeft*o.scaleX,top:x.top-O.top+o.scrollDOM.scrollTop*o.scaleY,height:x.bottom-x.top}}drawCursor(o){if(this.cursor){let{scaleX:r,scaleY:x}=this.view;o?(this.cursor.style.left=o.left/r+"px",this.cursor.style.top=o.top/x+"px",this.cursor.style.height=o.height/x+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(o){this.view.state.field(dropCursorPos)!=o&&this.view.dispatch({effects:setDropCursorPos.of(o)})}},{eventObservers:{dragover(o){this.setDropPos(this.view.posAtCoords({x:o.clientX,y:o.clientY}))},dragleave(o){(o.target==this.view.contentDOM||!this.view.contentDOM.contains(o.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(o,r,x,O,E){r.lastIndex=0;for(let y=o.iterRange(x,O),S=x,j;!y.next().done;S+=y.value.length)if(!y.lineBreak)for(;j=r.exec(y.value);)E(S+j.index,j)}function matchRanges(o,r){let x=o.visibleRanges;if(x.length==1&&x[0].from==o.viewport.from&&x[0].to==o.viewport.to)return x;let O=[];for(let{from:E,to:y}of x)E=Math.max(o.state.doc.lineAt(E).from,E-r),y=Math.min(o.state.doc.lineAt(y).to,y+r),O.length&&O[O.length-1].to>=E?O[O.length-1].to=y:O.push({from:E,to:y});return O}class MatchDecorator{constructor(r){const{regexp:x,decoration:O,decorate:E,boundary:y,maxLength:S=1e3}=r;if(!x.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=x,E)this.addMatch=(j,w,_,Q)=>E(Q,_,_+j[0].length,j,w);else if(typeof O=="function")this.addMatch=(j,w,_,Q)=>{let I=O(j,w,_);I&&Q(_,_+j[0].length,I)};else if(O)this.addMatch=(j,w,_,Q)=>Q(_,_+j[0].length,O);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=y,this.maxLength=S}createDeco(r){let x=new RangeSetBuilder,O=x.add.bind(x);for(let{from:E,to:y}of matchRanges(r,this.maxLength))iterMatches(r.state.doc,this.regexp,E,y,(S,j)=>this.addMatch(j,r,S,O));return x.finish()}updateDeco(r,x){let O=1e9,E=-1;return r.docChanged&&r.changes.iterChanges((y,S,j,w)=>{w>=r.view.viewport.from&&j<=r.view.viewport.to&&(O=Math.min(j,O),E=Math.max(w,E))}),r.viewportMoved||E-O>1e3?this.createDeco(r.view):E>-1?this.updateRange(r.view,x.map(r.changes),O,E):x}updateRange(r,x,O,E){for(let y of r.visibleRanges){let S=Math.max(y.from,O),j=Math.min(y.to,E);if(j>=S){let w=r.state.doc.lineAt(S),_=w.to<j?r.state.doc.lineAt(j):w,Q=Math.max(y.from,w.from),I=Math.min(y.to,_.to);if(this.boundary){for(;S>w.from;S--)if(this.boundary.test(w.text[S-1-w.from])){Q=S;break}for(;j<_.to;j++)if(this.boundary.test(_.text[j-_.from])){I=j;break}}let M=[],F,V=(te,re,se)=>M.push(se.range(te,re));if(w==_)for(this.regexp.lastIndex=Q-w.from;(F=this.regexp.exec(w.text))&&F.index<I-w.from;)this.addMatch(F,r,F.index+w.from,V);else iterMatches(r.state.doc,this.regexp,Q,I,(te,re)=>this.addMatch(re,r,te,V));x=x.update({filterFrom:Q,filterTo:I,filter:(te,re)=>te<Q||re>I,add:M})}}return x}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var o;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let r=document.body.style;_supportsTabSize=((o=r.tabSize)!==null&&o!==void 0?o:r.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(o){let r=combineConfig(o,{render:null,specialChars:Specials,addSpecialChars:null});return(r.replaceTabs=!supportsTabSize())&&(r.specialChars=new RegExp("	|"+r.specialChars.source,UnicodeRegexpSupport)),r.addSpecialChars&&(r.specialChars=new RegExp(r.specialChars.source+"|"+r.addSpecialChars.source,UnicodeRegexpSupport)),r}});function highlightSpecialChars(o={}){return[specialCharConfig.of(o),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(o.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(o)}makeDecorator(o){return new MatchDecorator({regexp:o.specialChars,decoration:(r,x,O)=>{let{doc:E}=x.state,y=codePointAt(r[0],0);if(y==9){let S=E.lineAt(O),j=x.state.tabSize,w=countColumn(S.text,j,O-S.from);return Decoration.replace({widget:new TabWidget((j-w%j)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[y]||(this.decorationCache[y]=Decoration.replace({widget:new SpecialCharWidget(o,y)}))},boundary:o.replaceTabs?void 0:/[^]/})}update(o){let r=o.state.facet(specialCharConfig);o.startState.facet(specialCharConfig)!=r?(this.decorator=this.makeDecorator(r),this.decorations=this.decorator.createDeco(o.view)):this.decorations=this.decorator.updateDeco(o,this.decorations)}},{decorations:o=>o.decorations}))}const DefaultPlaceholder="•";function placeholder$1(o){return o>=32?DefaultPlaceholder:o==10?"␤":String.fromCharCode(9216+o)}class SpecialCharWidget extends WidgetType{constructor(r,x){super(),this.options=r,this.code=x}eq(r){return r.code==this.code}toDOM(r){let x=placeholder$1(this.code),O=r.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),E=this.options.render&&this.options.render(this.code,O,x);if(E)return E;let y=document.createElement("span");return y.textContent=x,y.title=O,y.setAttribute("aria-label",O),y.className="cm-specialChar",y}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(r){super(),this.width=r}eq(r){return r.width==this.width}toDOM(){let r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.docChanged||o.selectionSet)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let r=-1,x=[];for(let O of o.state.selection.ranges){let E=o.lineBlockAt(O.head);E.from>r&&(x.push(lineDeco.range(E.from)),r=E.from)}return Decoration.set(x)}},{decorations:o=>o.decorations}),MaxOff=2e3;function rectangleFor(o,r,x){let O=Math.min(r.line,x.line),E=Math.max(r.line,x.line),y=[];if(r.off>MaxOff||x.off>MaxOff||r.col<0||x.col<0){let S=Math.min(r.off,x.off),j=Math.max(r.off,x.off);for(let w=O;w<=E;w++){let _=o.doc.line(w);_.length<=j&&y.push(EditorSelection.range(_.from+S,_.to+j))}}else{let S=Math.min(r.col,x.col),j=Math.max(r.col,x.col);for(let w=O;w<=E;w++){let _=o.doc.line(w),Q=findColumn(_.text,S,o.tabSize,!0);if(Q<0)y.push(EditorSelection.cursor(_.to));else{let I=findColumn(_.text,j,o.tabSize);y.push(EditorSelection.range(_.from+Q,_.from+I))}}}return y}function absoluteColumn(o,r){let x=o.coordsAtPos(o.viewport.from);return x?Math.round(Math.abs((x.left-r)/o.defaultCharacterWidth)):-1}function getPos(o,r){let x=o.posAtCoords({x:r.clientX,y:r.clientY},!1),O=o.state.doc.lineAt(x),E=x-O.from,y=E>MaxOff?-1:E==O.length?absoluteColumn(o,r.clientX):countColumn(O.text,o.state.tabSize,x-O.from);return{line:O.number,col:y,off:E}}function rectangleSelectionStyle(o,r){let x=getPos(o,r),O=o.state.selection;return x?{update(E){if(E.docChanged){let y=E.changes.mapPos(E.startState.doc.line(x.line).from),S=E.state.doc.lineAt(y);x={line:S.number,col:x.col,off:Math.min(x.off,S.length)},O=O.map(E.changes)}},get(E,y,S){let j=getPos(o,E);if(!j)return O;let w=rectangleFor(o.state,x,j);return w.length?S?EditorSelection.create(w.concat(O.ranges)):EditorSelection.create(w):O}}:null}function rectangularSelection(o){let r=x=>x.altKey&&x.button==0;return EditorView.mouseSelectionStyle.of((x,O)=>r(O)?rectangleSelectionStyle(x,O):null)}const keys={Alt:[18,o=>!!o.altKey],Control:[17,o=>!!o.ctrlKey],Shift:[16,o=>!!o.shiftKey],Meta:[91,o=>!!o.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(o={}){let[r,x]=keys[o.key||"Alt"],O=ViewPlugin.fromClass(class{constructor(E){this.view=E,this.isDown=!1}set(E){this.isDown!=E&&(this.isDown=E,this.view.update([]))}},{eventObservers:{keydown(E){this.set(E.keyCode==r||x(E))},keyup(E){(E.keyCode==r||!x(E))&&this.set(!1)},mousemove(E){this.set(x(E))}}});return[O,EditorView.contentAttributes.of(E=>{var y;return!((y=E.plugin(O))===null||y===void 0)&&y.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(r,x,O,E){this.facet=x,this.createTooltipView=O,this.removeTooltipView=E,this.input=r.state.facet(x),this.tooltips=this.input.filter(S=>S);let y=null;this.tooltipViews=this.tooltips.map(S=>y=O(S,y))}update(r,x){var O;let E=r.state.facet(this.facet),y=E.filter(w=>w);if(E===this.input){for(let w of this.tooltipViews)w.update&&w.update(r);return!1}let S=[],j=x?[]:null;for(let w=0;w<y.length;w++){let _=y[w],Q=-1;if(_){for(let I=0;I<this.tooltips.length;I++){let M=this.tooltips[I];M&&M.create==_.create&&(Q=I)}if(Q<0)S[w]=this.createTooltipView(_,w?S[w-1]:null),j&&(j[w]=!!_.above);else{let I=S[w]=this.tooltipViews[Q];j&&(j[w]=x[Q]),I.update&&I.update(r)}}}for(let w of this.tooltipViews)S.indexOf(w)<0&&(this.removeTooltipView(w),(O=w.destroy)===null||O===void 0||O.call(w));return x&&(j.forEach((w,_)=>x[_]=w),x.length=j.length),this.input=E,this.tooltips=y,this.tooltipViews=S,!0}}function windowSpace(o){let r=o.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:r.clientHeight,right:r.clientWidth}}const tooltipConfig=Facet.define({combine:o=>{var r,x,O;return{position:browser.ios?"absolute":((r=o.find(E=>E.position))===null||r===void 0?void 0:r.position)||"fixed",parent:((x=o.find(E=>E.parent))===null||x===void 0?void 0:x.parent)||null,tooltipSpace:((O=o.find(E=>E.tooltipSpace))===null||O===void 0?void 0:O.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let r=o.state.facet(tooltipConfig);this.position=r.position,this.parent=r.parent,this.classes=o.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(o,showTooltip,(x,O)=>this.createTooltip(x,O),x=>{this.resizeObserver&&this.resizeObserver.unobserve(x.dom),x.dom.remove()}),this.above=this.manager.tooltips.map(x=>!!x.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(x=>{Date.now()>this.lastTransaction-50&&x.length>0&&x[x.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),o.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let o of this.manager.tooltipViews)this.intersectionObserver.observe(o.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(o){o.transactions.length&&(this.lastTransaction=Date.now());let r=this.manager.update(o,this.above);r&&this.observeIntersection();let x=r||o.geometryChanged,O=o.state.facet(tooltipConfig);if(O.position!=this.position&&!this.madeAbsolute){this.position=O.position;for(let E of this.manager.tooltipViews)E.dom.style.position=this.position;x=!0}if(O.parent!=this.parent){this.parent&&this.container.remove(),this.parent=O.parent,this.createContainer();for(let E of this.manager.tooltipViews)this.container.appendChild(E.dom);x=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);x&&this.maybeMeasure()}createTooltip(o,r){let x=o.create(this.view),O=r?r.dom:null;if(x.dom.classList.add("cm-tooltip"),o.arrow&&!x.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let E=document.createElement("div");E.className="cm-tooltip-arrow",x.dom.appendChild(E)}return x.dom.style.position=this.position,x.dom.style.top=Outside,x.dom.style.left="0px",this.container.insertBefore(x.dom,O),x.mount&&x.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(x.dom),x}destroy(){var o,r,x;this.view.win.removeEventListener("resize",this.measureSoon);for(let O of this.manager.tooltipViews)O.dom.remove(),(o=O.destroy)===null||o===void 0||o.call(O);this.parent&&this.container.remove(),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),(x=this.intersectionObserver)===null||x===void 0||x.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let o=1,r=1,x=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:y}=this.manager.tooltipViews[0];if(browser.safari){let S=y.getBoundingClientRect();x=Math.abs(S.top+1e4)>1||Math.abs(S.left)>1}else x=!!y.offsetParent&&y.offsetParent!=this.container.ownerDocument.body}if(x||this.position=="absolute")if(this.parent){let y=this.parent.getBoundingClientRect();y.width&&y.height&&(o=y.width/this.parent.offsetWidth,r=y.height/this.parent.offsetHeight)}else({scaleX:o,scaleY:r}=this.view.viewState);let O=this.view.scrollDOM.getBoundingClientRect(),E=getScrollMargins(this.view);return{visible:{left:O.left+E.left,top:O.top+E.top,right:O.right-E.right,bottom:O.bottom-E.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((y,S)=>{let j=this.manager.tooltipViews[S];return j.getCoords?j.getCoords(y.pos):this.view.coordsAtPos(y.pos)}),size:this.manager.tooltipViews.map(({dom:y})=>y.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:o,scaleY:r,makeAbsolute:x}}writeMeasure(o){var r;if(o.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let j of this.manager.tooltipViews)j.dom.style.position="absolute"}let{visible:x,space:O,scaleX:E,scaleY:y}=o,S=[];for(let j=0;j<this.manager.tooltips.length;j++){let w=this.manager.tooltips[j],_=this.manager.tooltipViews[j],{dom:Q}=_,I=o.pos[j],M=o.size[j];if(!I||w.clip!==!1&&(I.bottom<=Math.max(x.top,O.top)||I.top>=Math.min(x.bottom,O.bottom)||I.right<Math.max(x.left,O.left)-.1||I.left>Math.min(x.right,O.right)+.1)){Q.style.top=Outside;continue}let F=w.arrow?_.dom.querySelector(".cm-tooltip-arrow"):null,V=F?7:0,te=M.right-M.left,re=(r=knownHeight.get(_))!==null&&r!==void 0?r:M.bottom-M.top,se=_.offset||noOffset,ne=this.view.textDirection==Direction.LTR,oe=M.width>O.right-O.left?ne?O.left:O.right-M.width:ne?Math.max(O.left,Math.min(I.left-(F?14:0)+se.x,O.right-te)):Math.min(Math.max(O.left,I.left-te+(F?14:0)-se.x),O.right-te),Oe=this.above[j];!w.strictSide&&(Oe?I.top-re-V-se.y<O.top:I.bottom+re+V+se.y>O.bottom)&&Oe==O.bottom-I.bottom>I.top-O.top&&(Oe=this.above[j]=!Oe);let ae=(Oe?I.top-O.top:O.bottom-I.bottom)-V;if(ae<re&&_.resize!==!1){if(ae<this.view.defaultLineHeight){Q.style.top=Outside;continue}knownHeight.set(_,re),Q.style.height=(re=ae)/y+"px"}else Q.style.height&&(Q.style.height="");let ge=Oe?I.top-re-V-se.y:I.bottom+V+se.y,je=oe+te;if(_.overlap!==!0)for(let Ae of S)Ae.left<je&&Ae.right>oe&&Ae.top<ge+re&&Ae.bottom>ge&&(ge=Oe?Ae.top-re-2-V:Ae.bottom+V+2);if(this.position=="absolute"?(Q.style.top=(ge-o.parent.top)/y+"px",setLeftStyle(Q,(oe-o.parent.left)/E)):(Q.style.top=ge/y+"px",setLeftStyle(Q,oe/E)),F){let Ae=I.left+(ne?se.x:-se.x)-(oe+14-7);F.style.left=Ae/E+"px"}_.overlap!==!0&&S.push({left:oe,top:ge,right:je,bottom:ge+re}),Q.classList.toggle("cm-tooltip-above",Oe),Q.classList.toggle("cm-tooltip-below",!Oe),_.positioned&&_.positioned(o.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let o of this.manager.tooltipViews)o.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(o,r){let x=parseInt(o.style.left,10);(isNaN(x)||Math.abs(r-x)>1)&&(o.style.left=r+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:o=>o.reduce((r,x)=>r.concat(x),[])});class HoverTooltipHost{static create(r){return new HoverTooltipHost(r)}constructor(r){this.view=r,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(r,showHoverTooltip,(x,O)=>this.createHostedView(x,O),x=>x.dom.remove())}createHostedView(r,x){let O=r.create(this.view);return O.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(O.dom,x?x.dom.nextSibling:this.dom.firstChild),this.mounted&&O.mount&&O.mount(this.view),O}mount(r){for(let x of this.manager.tooltipViews)x.mount&&x.mount(r);this.mounted=!0}positioned(r){for(let x of this.manager.tooltipViews)x.positioned&&x.positioned(r)}update(r){this.manager.update(r)}destroy(){var r;for(let x of this.manager.tooltipViews)(r=x.destroy)===null||r===void 0||r.call(x)}passProp(r){let x;for(let O of this.manager.tooltipViews){let E=O[r];if(E!==void 0){if(x===void 0)x=E;else if(x!==E)return}}return x}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],o=>{let r=o.facet(showHoverTooltip);return r.length===0?null:{pos:Math.min(...r.map(x=>x.pos)),end:Math.max(...r.map(x=>{var O;return(O=x.end)!==null&&O!==void 0?O:x.pos})),create:HoverTooltipHost.create,above:r[0].above,arrow:r.some(x=>x.arrow)}});class HoverPlugin{constructor(r,x,O,E,y){this.view=r,this.source=x,this.field=O,this.setHover=E,this.hoverTime=y,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:r.dom,time:0},this.checkHover=this.checkHover.bind(this),r.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),r.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let r=Date.now()-this.lastMove.time;r<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-r):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:r,lastMove:x}=this,O=r.docView.tile.nearest(x.target);if(!O)return;let E,y=1;if(O.isWidget())E=O.posAtStart;else{if(E=r.posAtCoords(x),E==null)return;let j=r.coordsAtPos(E);if(!j||x.y<j.top||x.y>j.bottom||x.x<j.left-r.defaultCharacterWidth||x.x>j.right+r.defaultCharacterWidth)return;let w=r.bidiSpans(r.state.doc.lineAt(E)).find(Q=>Q.from<=E&&Q.to>=E),_=w&&w.dir==Direction.RTL?-1:1;y=x.x<j.left?-_:_}let S=this.source(r,E,y);if(S!=null&&S.then){let j=this.pending={pos:E};S.then(w=>{this.pending==j&&(this.pending=null,w&&!(Array.isArray(w)&&!w.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(w)?w:[w])}))},w=>logException(r.state,w,"hover tooltip"))}else S&&!(Array.isArray(S)&&!S.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(S)?S:[S])})}get tooltip(){let r=this.view.plugin(tooltipPlugin),x=r?r.manager.tooltips.findIndex(O=>O.create==HoverTooltipHost.create):-1;return x>-1?r.manager.tooltipViews[x]:null}mousemove(r){var x,O;this.lastMove={x:r.clientX,y:r.clientY,target:r.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:E,tooltip:y}=this;if(E.length&&y&&!isInTooltip(y.dom,r)||this.pending){let{pos:S}=E[0]||this.pending,j=(O=(x=E[0])===null||x===void 0?void 0:x.end)!==null&&O!==void 0?O:S;(S==j?this.view.posAtCoords(this.lastMove)!=S:!isOverRange(this.view,S,j,r.clientX,r.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(r){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:x}=this;if(x.length){let{tooltip:O}=this;O&&O.dom.contains(r.relatedTarget)?this.watchTooltipLeave(O.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(r){let x=O=>{r.removeEventListener("mouseleave",x),this.active.length&&!this.view.dom.contains(O.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};r.addEventListener("mouseleave",x)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(o,r){let{left:x,right:O,top:E,bottom:y}=o.getBoundingClientRect(),S;if(S=o.querySelector(".cm-tooltip-arrow")){let j=S.getBoundingClientRect();E=Math.min(j.top,E),y=Math.max(j.bottom,y)}return r.clientX>=x-tooltipMargin&&r.clientX<=O+tooltipMargin&&r.clientY>=E-tooltipMargin&&r.clientY<=y+tooltipMargin}function isOverRange(o,r,x,O,E,y){let S=o.scrollDOM.getBoundingClientRect(),j=o.documentTop+o.documentPadding.top+o.contentHeight;if(S.left>O||S.right<O||S.top>E||Math.min(S.bottom,j)<E)return!1;let w=o.posAtCoords({x:O,y:E},!1);return w>=r&&w<=x}function hoverTooltip(o,r={}){let x=StateEffect.define(),O=StateField.define({create(){return[]},update(E,y){if(E.length&&(r.hideOnChange&&(y.docChanged||y.selection)?E=[]:r.hideOn&&(E=E.filter(S=>!r.hideOn(y,S))),y.docChanged)){let S=[];for(let j of E){let w=y.changes.mapPos(j.pos,-1,MapMode.TrackDel);if(w!=null){let _=Object.assign(Object.create(null),j);_.pos=w,_.end!=null&&(_.end=y.changes.mapPos(_.end)),S.push(_)}}E=S}for(let S of y.effects)S.is(x)&&(E=S.value),S.is(closeHoverTooltipEffect)&&(E=[]);return E},provide:E=>showHoverTooltip.from(E)});return{active:O,extension:[O,ViewPlugin.define(E=>new HoverPlugin(E,o,O,x,r.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(o,r){let x=o.plugin(tooltipPlugin);if(!x)return null;let O=x.manager.tooltips.indexOf(r);return O<0?null:x.manager.tooltipViews[O]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(o){let r,x;for(let O of o)r=r||O.topContainer,x=x||O.bottomContainer;return{topContainer:r,bottomContainer:x}}});function getPanel(o,r){let x=o.plugin(panelPlugin),O=x?x.specs.indexOf(r):-1;return O>-1?x.panels[O]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(o){this.input=o.state.facet(showPanel),this.specs=this.input.filter(x=>x),this.panels=this.specs.map(x=>x(o));let r=o.state.facet(panelConfig);this.top=new PanelGroup(o,!0,r.topContainer),this.bottom=new PanelGroup(o,!1,r.bottomContainer),this.top.sync(this.panels.filter(x=>x.top)),this.bottom.sync(this.panels.filter(x=>!x.top));for(let x of this.panels)x.dom.classList.add("cm-panel"),x.mount&&x.mount()}update(o){let r=o.state.facet(panelConfig);this.top.container!=r.topContainer&&(this.top.sync([]),this.top=new PanelGroup(o.view,!0,r.topContainer)),this.bottom.container!=r.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(o.view,!1,r.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let x=o.state.facet(showPanel);if(x!=this.input){let O=x.filter(w=>w),E=[],y=[],S=[],j=[];for(let w of O){let _=this.specs.indexOf(w),Q;_<0?(Q=w(o.view),j.push(Q)):(Q=this.panels[_],Q.update&&Q.update(o)),E.push(Q),(Q.top?y:S).push(Q)}this.specs=O,this.panels=E,this.top.sync(y),this.bottom.sync(S);for(let w of j)w.dom.classList.add("cm-panel"),w.mount&&w.mount()}else for(let O of this.panels)O.update&&O.update(o)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o=>EditorView.scrollMargins.of(r=>{let x=r.plugin(o);return x&&{top:x.top.scrollMargin(),bottom:x.bottom.scrollMargin()}})});class PanelGroup{constructor(r,x,O){this.view=r,this.top=x,this.container=O,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(r){for(let x of this.panels)x.destroy&&r.indexOf(x)<0&&x.destroy();this.panels=r,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let x=this.container||this.view.dom;x.insertBefore(this.dom,this.top?x.firstChild:null)}let r=this.dom.firstChild;for(let x of this.panels)if(x.dom.parentNode==this.dom){for(;r!=x.dom;)r=rm(r);r=r.nextSibling}else this.dom.insertBefore(x.dom,r);for(;r;)r=rm(r)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let r of this.classes.split(" "))r&&this.container.classList.remove(r);for(let r of(this.classes=this.view.themeClasses).split(" "))r&&this.container.classList.add(r)}}}function rm(o){let r=o.nextSibling;return o.remove(),r}const showPanel=Facet.define({enables:panelPlugin});function showDialog(o,r){let x,O=new Promise(S=>x=S),E=S=>createDialog(S,r,x);o.state.field(dialogField,!1)?o.dispatch({effects:openDialogEffect.of(E)}):o.dispatch({effects:StateEffect.appendConfig.of(dialogField.init(()=>[E]))});let y=closeDialogEffect.of(E);return{close:y,result:O.then(S=>((o.win.queueMicrotask||(w=>o.win.setTimeout(w,10)))(()=>{o.state.field(dialogField).indexOf(E)>-1&&o.dispatch({effects:y})}),S))}}const dialogField=StateField.define({create(){return[]},update(o,r){for(let x of r.effects)x.is(openDialogEffect)?o=[x.value].concat(o):x.is(closeDialogEffect)&&(o=o.filter(O=>O!=x.value));return o},provide:o=>showPanel.computeN([o],r=>r.field(o))}),openDialogEffect=StateEffect.define(),closeDialogEffect=StateEffect.define();function createDialog(o,r,x){let O=r.content?r.content(o,()=>S(null)):null;if(!O){if(O=crelt("form"),r.input){let j=crelt("input",r.input);/^(text|password|number|email|tel|url)$/.test(j.type)&&j.classList.add("cm-textfield"),j.name||(j.name="input"),O.appendChild(crelt("label",(r.label||"")+": ",j))}else O.appendChild(document.createTextNode(r.label||""));O.appendChild(document.createTextNode(" ")),O.appendChild(crelt("button",{class:"cm-button",type:"submit"},r.submitLabel||"OK"))}let E=O.nodeName=="FORM"?[O]:O.querySelectorAll("form");for(let j=0;j<E.length;j++){let w=E[j];w.addEventListener("keydown",_=>{_.keyCode==27?(_.preventDefault(),S(null)):_.keyCode==13&&(_.preventDefault(),S(w))}),w.addEventListener("submit",_=>{_.preventDefault(),S(w)})}let y=crelt("div",O,crelt("button",{onclick:()=>S(null),"aria-label":o.state.phrase("close"),class:"cm-dialog-close",type:"button"},["×"]));r.class&&(y.className=r.class),y.classList.add("cm-dialog");function S(j){y.contains(y.ownerDocument.activeElement)&&o.focus(),x(j)}return{dom:y,top:r.top,mount:()=>{if(r.focus){let j;typeof r.focus=="string"?j=O.querySelector(r.focus):j=O.querySelector("input")||O.querySelector("button"),j&&"select"in j?j.select():j&&"focus"in j&&j.focus()}}}}class GutterMarker extends RangeValue{compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}eq(r){return!1}destroy(r){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(o){return[gutters(),activeGutters.of({...defaults$1,...o})]}const unfixGutters=Facet.define({combine:o=>o.some(r=>r)});function gutters(o){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.domAfter=null,this.prevViewport=o.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=o.state.facet(activeGutters).map(r=>new SingleGutterView(o,r)),this.fixed=!o.state.facet(unfixGutters);for(let r of this.gutters)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),o.scrollDOM.insertBefore(this.dom,o.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(o){if(this.updateGutters(o)){let r=this.prevViewport,x=o.view.viewport,O=Math.min(r.to,x.to)-Math.max(r.from,x.from);this.syncGutters(O<(x.to-x.from)*.8)}if(o.geometryChanged){let r=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=r,this.domAfter&&(this.domAfter.style.minHeight=r)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=o.view.viewport}syncGutters(o){let r=this.dom.nextSibling;o&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let x=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),O=[],E=this.gutters.map(y=>new UpdateContext(y,this.view.viewport,-this.view.documentPadding.top));for(let y of this.view.viewportLineBlocks)if(O.length&&(O=[]),Array.isArray(y.type)){let S=!0;for(let j of y.type)if(j.type==BlockType.Text&&S){advanceCursor(x,O,j.from);for(let w of E)w.line(this.view,j,O);S=!1}else if(j.widget)for(let w of E)w.widget(this.view,j)}else if(y.type==BlockType.Text){advanceCursor(x,O,y.from);for(let S of E)S.line(this.view,y,O)}else if(y.widget)for(let S of E)S.widget(this.view,y);for(let y of E)y.finish();o&&(this.view.scrollDOM.insertBefore(this.dom,r),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(o){let r=o.startState.facet(activeGutters),x=o.state.facet(activeGutters),O=o.docChanged||o.heightChanged||o.viewportChanged||!RangeSet.eq(o.startState.facet(gutterLineClass),o.state.facet(gutterLineClass),o.view.viewport.from,o.view.viewport.to);if(r==x)for(let E of this.gutters)E.update(o)&&(O=!0);else{O=!0;let E=[];for(let y of x){let S=r.indexOf(y);S<0?E.push(new SingleGutterView(this.view,y)):(this.gutters[S].update(o),E.push(this.gutters[S]))}for(let y of this.gutters)y.dom.remove(),E.indexOf(y)<0&&y.destroy();for(let y of E)y.config.side=="after"?this.getDOMAfter().appendChild(y.dom):this.dom.appendChild(y.dom);this.gutters=E}return O}destroy(){for(let o of this.gutters)o.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:o=>EditorView.scrollMargins.of(r=>{let x=r.plugin(o);if(!x||x.gutters.length==0||!x.fixed)return null;let O=x.dom.offsetWidth*r.scaleX,E=x.domAfter?x.domAfter.offsetWidth*r.scaleX:0;return r.textDirection==Direction.LTR?{left:O,right:E}:{right:O,left:E}})});function asArray(o){return Array.isArray(o)?o:[o]}function advanceCursor(o,r,x){for(;o.value&&o.from<=x;)o.from==x&&r.push(o.value),o.next()}class UpdateContext{constructor(r,x,O){this.gutter=r,this.height=O,this.i=0,this.cursor=RangeSet.iter(r.markers,x.from)}addElement(r,x,O){let{gutter:E}=this,y=(x.top-this.height)/r.scaleY,S=x.height/r.scaleY;if(this.i==E.elements.length){let j=new GutterElement(r,S,y,O);E.elements.push(j),E.dom.appendChild(j.dom)}else E.elements[this.i].update(r,S,y,O);this.height=x.bottom,this.i++}line(r,x,O){let E=[];advanceCursor(this.cursor,E,x.from),O.length&&(E=E.concat(O));let y=this.gutter.config.lineMarker(r,x,E);y&&E.unshift(y);let S=this.gutter;E.length==0&&!S.config.renderEmptyElements||this.addElement(r,x,E)}widget(r,x){let O=this.gutter.config.widgetMarker(r,x.widget,x),E=O?[O]:null;for(let y of r.state.facet(gutterWidgetClass)){let S=y(r,x.widget,x);S&&(E||(E=[])).push(S)}E&&this.addElement(r,x,E)}finish(){let r=this.gutter;for(;r.elements.length>this.i;){let x=r.elements.pop();r.dom.removeChild(x.dom),x.destroy()}}}class SingleGutterView{constructor(r,x){this.view=r,this.config=x,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let O in x.domEventHandlers)this.dom.addEventListener(O,E=>{let y=E.target,S;if(y!=this.dom&&this.dom.contains(y)){for(;y.parentNode!=this.dom;)y=y.parentNode;let w=y.getBoundingClientRect();S=(w.top+w.bottom)/2}else S=E.clientY;let j=r.lineBlockAtHeight(S-r.documentTop);x.domEventHandlers[O](r,j,E)&&E.preventDefault()});this.markers=asArray(x.markers(r)),x.initialSpacer&&(this.spacer=new GutterElement(r,0,0,[x.initialSpacer(r)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(r){let x=this.markers;if(this.markers=asArray(this.config.markers(r.view)),this.spacer&&this.config.updateSpacer){let E=this.config.updateSpacer(this.spacer.markers[0],r);E!=this.spacer.markers[0]&&this.spacer.update(r.view,0,0,[E])}let O=r.view.viewport;return!RangeSet.eq(this.markers,x,O.from,O.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(r):!1)}destroy(){for(let r of this.elements)r.destroy()}}class GutterElement{constructor(r,x,O,E){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(r,x,O,E)}update(r,x,O,E){this.height!=x&&(this.height=x,this.dom.style.height=x+"px"),this.above!=O&&(this.dom.style.marginTop=(this.above=O)?O+"px":""),sameMarkers(this.markers,E)||this.setMarkers(r,E)}setMarkers(r,x){let O="cm-gutterElement",E=this.dom.firstChild;for(let y=0,S=0;;){let j=S,w=y<x.length?x[y++]:null,_=!1;if(w){let Q=w.elementClass;Q&&(O+=" "+Q);for(let I=S;I<this.markers.length;I++)if(this.markers[I].compare(w)){j=I,_=!0;break}}else j=this.markers.length;for(;S<j;){let Q=this.markers[S++];if(Q.toDOM){Q.destroy(E);let I=E.nextSibling;E.remove(),E=I}}if(!w)break;w.toDOM&&(_?E=E.nextSibling:this.dom.insertBefore(w.toDOM(r),E)),_&&S++}this.dom.className=O,this.markers=x}destroy(){this.setMarkers(null,[])}}function sameMarkers(o,r){if(o.length!=r.length)return!1;for(let x=0;x<o.length;x++)if(!o[x].compare(r[x]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(o){return combineConfig(o,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(r,x){let O=Object.assign({},r);for(let E in x){let y=O[E],S=x[E];O[E]=y?(j,w,_)=>y(j,w,_)||S(j,w,_):S}return O}})}});class NumberMarker extends GutterMarker{constructor(r){super(),this.number=r}eq(r){return this.number==r.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber$1(o,r){return o.state.facet(lineNumberConfig).formatNumber(r,o.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],o=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(r){return r.state.facet(lineNumberMarkers)},lineMarker(r,x,O){return O.some(E=>E.toDOM)?null:new NumberMarker(formatNumber$1(r,r.state.doc.lineAt(x.from).number))},widgetMarker:(r,x,O)=>{for(let E of r.state.facet(lineNumberWidgetMarker)){let y=E(r,x,O);if(y)return y}return null},lineMarkerChange:r=>r.startState.facet(lineNumberConfig)!=r.state.facet(lineNumberConfig),initialSpacer(r){return new NumberMarker(formatNumber$1(r,maxLineNumber(r.state.doc.lines)))},updateSpacer(r,x){let O=formatNumber$1(x.view,maxLineNumber(x.view.state.doc.lines));return O==r.number?r:new NumberMarker(O)},domEventHandlers:o.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(o={}){return[lineNumberConfig.of(o),gutters(),lineNumberGutter]}function maxLineNumber(o){let r=9;for(;r<o;)r=r*10+9;return r}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],o=>{let r=[],x=-1;for(let O of o.selection.ranges){let E=o.doc.lineAt(O.head).from;E>x&&(x=E,r.push(activeLineGutterMarker.range(E)))}return RangeSet.of(r)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(r,x){this.from=r,this.to=x}}class NodeProp{constructor(r={}){this.id=nextPropID++,this.perNode=!!r.perNode,this.deserialize=r.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=r.combine||null}add(r){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof r!="function"&&(r=NodeType.match(r)),x=>{let O=r(x);return O===void 0?null:[this,O]}}}NodeProp.closedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.group=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.isolate=new NodeProp({deserialize:o=>{if(o&&o!="rtl"&&o!="ltr"&&o!="auto")throw new RangeError("Invalid value for isolate: "+o);return o||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(r,x,O,E=!1){this.tree=r,this.overlay=x,this.parser=O,this.bracketed=E}static get(r){return r&&r.props&&r.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(r,x,O,E=0){this.name=r,this.props=x,this.id=O,this.flags=E}static define(r){let x=r.props&&r.props.length?Object.create(null):noProps,O=(r.top?1:0)|(r.skipped?2:0)|(r.error?4:0)|(r.name==null?8:0),E=new NodeType(r.name||"",x,r.id,O);if(r.props){for(let y of r.props)if(Array.isArray(y)||(y=y(E)),y){if(y[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");x[y[0].id]=y[1]}}return E}prop(r){return this.props[r.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(r){if(typeof r=="string"){if(this.name==r)return!0;let x=this.prop(NodeProp.group);return x?x.indexOf(r)>-1:!1}return this.id==r}static match(r){let x=Object.create(null);for(let O in r)for(let E of O.split(" "))x[E]=r[O];return O=>{for(let E=O.prop(NodeProp.group),y=-1;y<(E?E.length:0);y++){let S=x[y<0?O.name:E[y]];if(S)return S}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(r){this.types=r;for(let x=0;x<r.length;x++)if(r[x].id!=x)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...r){let x=[];for(let O of this.types){let E=null;for(let y of r){let S=y(O);if(S){E||(E=Object.assign({},O.props));let j=S[1],w=S[0];w.combine&&w.id in E&&(j=w.combine(E[w.id],j)),E[w.id]=j}}x.push(E?new NodeType(O.name,E,O.id,O.flags):O)}return new NodeSet(x)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(o){o[o.ExcludeBuffers=1]="ExcludeBuffers",o[o.IncludeAnonymous=2]="IncludeAnonymous",o[o.IgnoreMounts=4]="IgnoreMounts",o[o.IgnoreOverlays=8]="IgnoreOverlays",o[o.EnterBracketed=16]="EnterBracketed"})(IterMode||(IterMode={}));class Tree{constructor(r,x,O,E,y){if(this.type=r,this.children=x,this.positions=O,this.length=E,this.props=null,y&&y.length){this.props=Object.create(null);for(let[S,j]of y)this.props[typeof S=="number"?S:S.id]=j}}toString(){let r=MountedTree.get(this);if(r&&!r.overlay)return r.tree.toString();let x="";for(let O of this.children){let E=O.toString();E&&(x&&(x+=","),x+=E)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(x.length?"("+x+")":""):x}cursor(r=0){return new TreeCursor(this.topNode,r)}cursorAt(r,x=0,O=0){let E=CachedNode.get(this)||this.topNode,y=new TreeCursor(E);return y.moveTo(r,x),CachedNode.set(this,y._tree),y}get topNode(){return new TreeNode(this,0,0,null)}resolve(r,x=0){let O=resolveNode(CachedNode.get(this)||this.topNode,r,x,!1);return CachedNode.set(this,O),O}resolveInner(r,x=0){let O=resolveNode(CachedInnerNode.get(this)||this.topNode,r,x,!0);return CachedInnerNode.set(this,O),O}resolveStack(r,x=0){return stackIterator(this,r,x)}iterate(r){let{enter:x,leave:O,from:E=0,to:y=this.length}=r,S=r.mode||0,j=(S&IterMode.IncludeAnonymous)>0;for(let w=this.cursor(S|IterMode.IncludeAnonymous);;){let _=!1;if(w.from<=y&&w.to>=E&&(!j&&w.type.isAnonymous||x(w)!==!1)){if(w.firstChild())continue;_=!0}for(;_&&O&&(j||!w.type.isAnonymous)&&O(w),!w.nextSibling();){if(!w.parent())return;_=!0}}}prop(r){return r.perNode?this.props?this.props[r.id]:void 0:this.type.prop(r)}get propValues(){let r=[];if(this.props)for(let x in this.props)r.push([+x,this.props[x]]);return r}balance(r={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(x,O,E)=>new Tree(this.type,x,O,E,this.propValues),r.makeTree||((x,O,E)=>new Tree(NodeType.none,x,O,E)))}static build(r){return buildTree(r)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(r,x){this.buffer=r,this.index=x}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(r,x,O){this.buffer=r,this.length=x,this.set=O}get type(){return NodeType.none}toString(){let r=[];for(let x=0;x<this.buffer.length;)r.push(this.childString(x)),x=this.buffer[x+3];return r.join(",")}childString(r){let x=this.buffer[r],O=this.buffer[r+3],E=this.set.types[x],y=E.name;if(/\W/.test(y)&&!E.isError&&(y=JSON.stringify(y)),r+=4,O==r)return y;let S=[];for(;r<O;)S.push(this.childString(r)),r=this.buffer[r+3];return y+"("+S.join(",")+")"}findChild(r,x,O,E,y){let{buffer:S}=this,j=-1;for(let w=r;w!=x&&!(checkSide(y,E,S[w+1],S[w+2])&&(j=w,O>0));w=S[w+3]);return j}slice(r,x,O){let E=this.buffer,y=new Uint16Array(x-r),S=0;for(let j=r,w=0;j<x;){y[w++]=E[j++],y[w++]=E[j++]-O;let _=y[w++]=E[j++]-O;y[w++]=E[j++]-r,S=Math.max(S,_)}return new TreeBuffer(y,S,this.set)}}function checkSide(o,r,x,O){switch(o){case-2:return x<r;case-1:return O>=r&&x<r;case 0:return x<r&&O>r;case 1:return x<=r&&O>r;case 2:return O>r;case 4:return!0}}function resolveNode(o,r,x,O){for(var E;o.from==o.to||(x<1?o.from>=r:o.from>r)||(x>-1?o.to<=r:o.to<r);){let S=!O&&o instanceof TreeNode&&o.index<0?null:o.parent;if(!S)return o;o=S}let y=O?0:IterMode.IgnoreOverlays;if(O)for(let S=o,j=S.parent;j;S=j,j=S.parent)S instanceof TreeNode&&S.index<0&&((E=j.enter(r,x,y))===null||E===void 0?void 0:E.from)!=S.from&&(o=j);for(;;){let S=o.enter(r,x,y);if(!S)return o;o=S}}class BaseNode{cursor(r=0){return new TreeCursor(this,r)}getChild(r,x=null,O=null){let E=getChildren(this,r,x,O);return E.length?E[0]:null}getChildren(r,x=null,O=null){return getChildren(this,r,x,O)}resolve(r,x=0){return resolveNode(this,r,x,!1)}resolveInner(r,x=0){return resolveNode(this,r,x,!0)}matchContext(r){return matchNodeContext(this.parent,r)}enterUnfinishedNodesBefore(r){let x=this.childBefore(r),O=this;for(;x;){let E=x.lastChild;if(!E||E.to!=x.to)break;E.type.isError&&E.from==E.to?(O=x,x=E.prevSibling):x=E}return O}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(r,x,O,E){super(),this._tree=r,this.from=x,this.index=O,this._parent=E}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(r,x,O,E,y=0){for(let S=this;;){for(let{children:j,positions:w}=S._tree,_=x>0?j.length:-1;r!=_;r+=x){let Q=j[r],I=w[r]+S.from,M;if(!(!(y&IterMode.EnterBracketed&&Q instanceof Tree&&(M=MountedTree.get(Q))&&!M.overlay&&M.bracketed&&O>=I&&O<=I+Q.length)&&!checkSide(E,O,I,I+Q.length))){if(Q instanceof TreeBuffer){if(y&IterMode.ExcludeBuffers)continue;let F=Q.findChild(0,Q.buffer.length,x,O-I,E);if(F>-1)return new BufferNode(new BufferContext(S,Q,r,I),null,F)}else if(y&IterMode.IncludeAnonymous||!Q.type.isAnonymous||hasChild(Q)){let F;if(!(y&IterMode.IgnoreMounts)&&(F=MountedTree.get(Q))&&!F.overlay)return new TreeNode(F.tree,I,r,S);let V=new TreeNode(Q,I,r,S);return y&IterMode.IncludeAnonymous||!V.type.isAnonymous?V:V.nextChild(x<0?Q.children.length-1:0,x,O,E,y)}}}if(y&IterMode.IncludeAnonymous||!S.type.isAnonymous||(S.index>=0?r=S.index+x:r=x<0?-1:S._parent._tree.children.length,S=S._parent,!S))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(r){return this.nextChild(0,1,r,2)}childBefore(r){return this.nextChild(this._tree.children.length-1,-1,r,-2)}prop(r){return this._tree.prop(r)}enter(r,x,O=0){let E;if(!(O&IterMode.IgnoreOverlays)&&(E=MountedTree.get(this._tree))&&E.overlay){let y=r-this.from,S=O&IterMode.EnterBracketed&&E.bracketed;for(let{from:j,to:w}of E.overlay)if((x>0||S?j<=y:j<y)&&(x<0||S?w>=y:w>y))return new TreeNode(E.tree,E.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,r,x,O)}nextSignificantParent(){let r=this;for(;r.type.isAnonymous&&r._parent;)r=r._parent;return r}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(o,r,x,O){let E=o.cursor(),y=[];if(!E.firstChild())return y;if(x!=null){for(let S=!1;!S;)if(S=E.type.is(x),!E.nextSibling())return y}for(;;){if(O!=null&&E.type.is(O))return y;if(E.type.is(r)&&y.push(E.node),!E.nextSibling())return O==null?y:[]}}function matchNodeContext(o,r,x=r.length-1){for(let O=o;x>=0;O=O.parent){if(!O)return!1;if(!O.type.isAnonymous){if(r[x]&&r[x]!=O.name)return!1;x--}}return!0}class BufferContext{constructor(r,x,O,E){this.parent=r,this.buffer=x,this.index=O,this.start=E}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(r,x,O){super(),this.context=r,this._parent=x,this.index=O,this.type=r.buffer.set.types[r.buffer.buffer[O]]}child(r,x,O){let{buffer:E}=this.context,y=E.findChild(this.index+4,E.buffer[this.index+3],r,x-this.context.start,O);return y<0?null:new BufferNode(this.context,this,y)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(r){return this.child(1,r,2)}childBefore(r){return this.child(-1,r,-2)}prop(r){return this.type.prop(r)}enter(r,x,O=0){if(O&IterMode.ExcludeBuffers)return null;let{buffer:E}=this.context,y=E.findChild(this.index+4,E.buffer[this.index+3],x>0?1:-1,r-this.context.start,x);return y<0?null:new BufferNode(this.context,this,y)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(r){return this._parent?null:this.context.parent.nextChild(this.context.index+r,r,0,4)}get nextSibling(){let{buffer:r}=this.context,x=r.buffer[this.index+3];return x<(this._parent?r.buffer[this._parent.index+3]:r.buffer.length)?new BufferNode(this.context,this._parent,x):this.externalSibling(1)}get prevSibling(){let{buffer:r}=this.context,x=this._parent?this._parent.index+4:0;return this.index==x?this.externalSibling(-1):new BufferNode(this.context,this._parent,r.findChild(x,this.index,-1,0,4))}get tree(){return null}toTree(){let r=[],x=[],{buffer:O}=this.context,E=this.index+4,y=O.buffer[this.index+3];if(y>E){let S=O.buffer[this.index+1];r.push(O.slice(E,y,S)),x.push(0)}return new Tree(this.type,r,x,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(o){if(!o.length)return null;let r=0,x=o[0];for(let y=1;y<o.length;y++){let S=o[y];(S.from>x.from||S.to<x.to)&&(x=S,r=y)}let O=x instanceof TreeNode&&x.index<0?null:x.parent,E=o.slice();return O?E[r]=O:E.splice(r,1),new StackIterator(E,x)}class StackIterator{constructor(r,x){this.heads=r,this.node=x}get next(){return iterStack(this.heads)}}function stackIterator(o,r,x){let O=o.resolveInner(r,x),E=null;for(let y=O instanceof TreeNode?O:O.context.parent;y;y=y.parent)if(y.index<0){let S=y.parent;(E||(E=[O])).push(S.resolve(r,x)),y=S}else{let S=MountedTree.get(y.tree);if(S&&S.overlay&&S.overlay[0].from<=r&&S.overlay[S.overlay.length-1].to>=r){let j=new TreeNode(S.tree,S.overlay[0].from+y.from,-1,y);(E||(E=[O])).push(resolveNode(j,r,x,!1))}}return E?iterStack(E):O}class TreeCursor{get name(){return this.type.name}constructor(r,x=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=x&~IterMode.EnterBracketed,r instanceof TreeNode)this.yieldNode(r);else{this._tree=r.context.parent,this.buffer=r.context;for(let O=r._parent;O;O=O._parent)this.stack.unshift(O.index);this.bufferNode=r,this.yieldBuf(r.index)}}yieldNode(r){return r?(this._tree=r,this.type=r.type,this.from=r.from,this.to=r.to,!0):!1}yieldBuf(r,x){this.index=r;let{start:O,buffer:E}=this.buffer;return this.type=x||E.set.types[E.buffer[r]],this.from=O+E.buffer[r+1],this.to=O+E.buffer[r+2],!0}yield(r){return r?r instanceof TreeNode?(this.buffer=null,this.yieldNode(r)):(this.buffer=r.context,this.yieldBuf(r.index,r.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(r,x,O){if(!this.buffer)return this.yield(this._tree.nextChild(r<0?this._tree._tree.children.length-1:0,r,x,O,this.mode));let{buffer:E}=this.buffer,y=E.findChild(this.index+4,E.buffer[this.index+3],r,x-this.buffer.start,O);return y<0?!1:(this.stack.push(this.index),this.yieldBuf(y))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(r){return this.enterChild(1,r,2)}childBefore(r){return this.enterChild(-1,r,-2)}enter(r,x,O=this.mode){return this.buffer?O&IterMode.ExcludeBuffers?!1:this.enterChild(1,r,x):this.yield(this._tree.enter(r,x,O))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let r=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(r)}sibling(r){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+r,r,0,4,this.mode)):!1;let{buffer:x}=this.buffer,O=this.stack.length-1;if(r<0){let E=O<0?0:this.stack[O]+4;if(this.index!=E)return this.yieldBuf(x.findChild(E,this.index,-1,0,4))}else{let E=x.buffer[this.index+3];if(E<(O<0?x.buffer.length:x.buffer[this.stack[O]+3]))return this.yieldBuf(E)}return O<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+r,r,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(r){let x,O,{buffer:E}=this;if(E){if(r>0){if(this.index<E.buffer.buffer.length)return!1}else for(let y=0;y<this.index;y++)if(E.buffer.buffer[y+3]<this.index)return!1;({index:x,parent:O}=E)}else({index:x,_parent:O}=this._tree);for(;O;{index:x,_parent:O}=O)if(x>-1)for(let y=x+r,S=r<0?-1:O._tree.children.length;y!=S;y+=r){let j=O._tree.children[y];if(this.mode&IterMode.IncludeAnonymous||j instanceof TreeBuffer||!j.type.isAnonymous||hasChild(j))return!1}return!0}move(r,x){if(x&&this.enterChild(r,0,4))return!0;for(;;){if(this.sibling(r))return!0;if(this.atLastNode(r)||!this.parent())return!1}}next(r=!0){return this.move(1,r)}prev(r=!0){return this.move(-1,r)}moveTo(r,x=0){for(;(this.from==this.to||(x<1?this.from>=r:this.from>r)||(x>-1?this.to<=r:this.to<r))&&this.parent(););for(;this.enterChild(1,r,x););return this}get node(){if(!this.buffer)return this._tree;let r=this.bufferNode,x=null,O=0;if(r&&r.context==this.buffer)e:for(let E=this.index,y=this.stack.length;y>=0;){for(let S=r;S;S=S._parent)if(S.index==E){if(E==this.index)return S;x=S,O=y+1;break e}E=this.stack[--y]}for(let E=O;E<this.stack.length;E++)x=new BufferNode(this.buffer,x,this.stack[E]);return this.bufferNode=new BufferNode(this.buffer,x,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(r,x){for(let O=0;;){let E=!1;if(this.type.isAnonymous||r(this)!==!1){if(this.firstChild()){O++;continue}this.type.isAnonymous||(E=!0)}for(;;){if(E&&x&&x(this),E=this.type.isAnonymous,!O)return;if(this.nextSibling())break;this.parent(),O--,E=!0}}}matchContext(r){if(!this.buffer)return matchNodeContext(this.node.parent,r);let{buffer:x}=this.buffer,{types:O}=x.set;for(let E=r.length-1,y=this.stack.length-1;E>=0;y--){if(y<0)return matchNodeContext(this._tree,r,E);let S=O[x.buffer[this.stack[y]]];if(!S.isAnonymous){if(r[E]&&r[E]!=S.name)return!1;E--}}return!0}}function hasChild(o){return o.children.some(r=>r instanceof TreeBuffer||!r.type.isAnonymous||hasChild(r))}function buildTree(o){var r;let{buffer:x,nodeSet:O,maxBufferLength:E=DefaultBufferLength,reused:y=[],minRepeatType:S=O.types.length}=o,j=Array.isArray(x)?new FlatBufferCursor(x,x.length):x,w=O.types,_=0,Q=0;function I(ae,ge,je,Ae,Qe,Xe){let{id:Ue,start:Le,end:Ze,size:Be}=j,Ge=Q,We=_;if(Be<0)if(j.next(),Be==-1){let Ke=y[Ue];je.push(Ke),Ae.push(Le-ae);return}else if(Be==-3){_=Ue;return}else if(Be==-4){Q=Ue;return}else throw new RangeError(`Unrecognized record size: ${Be}`);let at=w[Ue],rt,Je,mt=Le-ae;if(Ze-Le<=E&&(Je=re(j.pos-ge,Qe))){let Ke=new Uint16Array(Je.size-Je.skip),ze=j.pos-Je.size,He=Ke.length;for(;j.pos>ze;)He=se(Je.start,Ke,He);rt=new TreeBuffer(Ke,Ze-Je.start,O),mt=Je.start-ae}else{let Ke=j.pos-Be;j.next();let ze=[],He=[],tt=Ue>=S?Ue:-1,ct=0,ut=Ze;for(;j.pos>Ke;)tt>=0&&j.id==tt&&j.size>=0?(j.end<=ut-E&&(V(ze,He,Le,ct,j.end,ut,tt,Ge,We),ct=ze.length,ut=j.end),j.next()):Xe>2500?M(Le,Ke,ze,He):I(Le,Ke,ze,He,tt,Xe+1);if(tt>=0&&ct>0&&ct<ze.length&&V(ze,He,Le,ct,Le,ut,tt,Ge,We),ze.reverse(),He.reverse(),tt>-1&&ct>0){let it=F(at,We);rt=balanceRange(at,ze,He,0,ze.length,0,Ze-Le,it,it)}else rt=te(at,ze,He,Ze-Le,Ge-Ze,We)}je.push(rt),Ae.push(mt)}function M(ae,ge,je,Ae){let Qe=[],Xe=0,Ue=-1;for(;j.pos>ge;){let{id:Le,start:Ze,end:Be,size:Ge}=j;if(Ge>4)j.next();else{if(Ue>-1&&Ze<Ue)break;Ue<0&&(Ue=Be-E),Qe.push(Le,Ze,Be),Xe++,j.next()}}if(Xe){let Le=new Uint16Array(Xe*4),Ze=Qe[Qe.length-2];for(let Be=Qe.length-3,Ge=0;Be>=0;Be-=3)Le[Ge++]=Qe[Be],Le[Ge++]=Qe[Be+1]-Ze,Le[Ge++]=Qe[Be+2]-Ze,Le[Ge++]=Ge;je.push(new TreeBuffer(Le,Qe[2]-Ze,O)),Ae.push(Ze-ae)}}function F(ae,ge){return(je,Ae,Qe)=>{let Xe=0,Ue=je.length-1,Le,Ze;if(Ue>=0&&(Le=je[Ue])instanceof Tree){if(!Ue&&Le.type==ae&&Le.length==Qe)return Le;(Ze=Le.prop(NodeProp.lookAhead))&&(Xe=Ae[Ue]+Le.length+Ze)}return te(ae,je,Ae,Qe,Xe,ge)}}function V(ae,ge,je,Ae,Qe,Xe,Ue,Le,Ze){let Be=[],Ge=[];for(;ae.length>Ae;)Be.push(ae.pop()),Ge.push(ge.pop()+je-Qe);ae.push(te(O.types[Ue],Be,Ge,Xe-Qe,Le-Xe,Ze)),ge.push(Qe-je)}function te(ae,ge,je,Ae,Qe,Xe,Ue){if(Xe){let Le=[NodeProp.contextHash,Xe];Ue=Ue?[Le].concat(Ue):[Le]}if(Qe>25){let Le=[NodeProp.lookAhead,Qe];Ue=Ue?[Le].concat(Ue):[Le]}return new Tree(ae,ge,je,Ae,Ue)}function re(ae,ge){let je=j.fork(),Ae=0,Qe=0,Xe=0,Ue=je.end-E,Le={size:0,start:0,skip:0};e:for(let Ze=je.pos-ae;je.pos>Ze;){let Be=je.size;if(je.id==ge&&Be>=0){Le.size=Ae,Le.start=Qe,Le.skip=Xe,Xe+=4,Ae+=4,je.next();continue}let Ge=je.pos-Be;if(Be<0||Ge<Ze||je.start<Ue)break;let We=je.id>=S?4:0,at=je.start;for(je.next();je.pos>Ge;){if(je.size<0)if(je.size==-3||je.size==-4)We+=4;else break e;else je.id>=S&&(We+=4);je.next()}Qe=at,Ae+=Be,Xe+=We}return(ge<0||Ae==ae)&&(Le.size=Ae,Le.start=Qe,Le.skip=Xe),Le.size>4?Le:void 0}function se(ae,ge,je){let{id:Ae,start:Qe,end:Xe,size:Ue}=j;if(j.next(),Ue>=0&&Ae<S){let Le=je;if(Ue>4){let Ze=j.pos-(Ue-4);for(;j.pos>Ze;)je=se(ae,ge,je)}ge[--je]=Le,ge[--je]=Xe-ae,ge[--je]=Qe-ae,ge[--je]=Ae}else Ue==-3?_=Ae:Ue==-4&&(Q=Ae);return je}let ne=[],oe=[];for(;j.pos>0;)I(o.start||0,o.bufferStart||0,ne,oe,-1,0);let Oe=(r=o.length)!==null&&r!==void 0?r:ne.length?oe[0]+ne[0].length:0;return new Tree(w[o.topID],ne.reverse(),oe.reverse(),Oe)}const nodeSizeCache=new WeakMap;function nodeSize(o,r){if(!o.isAnonymous||r instanceof TreeBuffer||r.type!=o)return 1;let x=nodeSizeCache.get(r);if(x==null){x=1;for(let O of r.children){if(O.type!=o||!(O instanceof Tree)){x=1;break}x+=nodeSize(o,O)}nodeSizeCache.set(r,x)}return x}function balanceRange(o,r,x,O,E,y,S,j,w){let _=0;for(let V=O;V<E;V++)_+=nodeSize(o,r[V]);let Q=Math.ceil(_*1.5/8),I=[],M=[];function F(V,te,re,se,ne){for(let oe=re;oe<se;){let Oe=oe,ae=te[oe],ge=nodeSize(o,V[oe]);for(oe++;oe<se;oe++){let je=nodeSize(o,V[oe]);if(ge+je>=Q)break;ge+=je}if(oe==Oe+1){if(ge>Q){let je=V[Oe];F(je.children,je.positions,0,je.children.length,te[Oe]+ne);continue}I.push(V[Oe])}else{let je=te[oe-1]+V[oe-1].length-ae;I.push(balanceRange(o,V,te,Oe,oe,ae,je,null,w))}M.push(ae+ne-y)}}return F(r,x,O,E,0),(j||w)(I,M,S)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(r,x,O){let E=this.map.get(r);E||this.map.set(r,E=new Map),E.set(x,O)}getBuffer(r,x){let O=this.map.get(r);return O&&O.get(x)}set(r,x){r instanceof BufferNode?this.setBuffer(r.context.buffer,r.index,x):r instanceof TreeNode&&this.map.set(r.tree,x)}get(r){return r instanceof BufferNode?this.getBuffer(r.context.buffer,r.index):r instanceof TreeNode?this.map.get(r.tree):void 0}cursorSet(r,x){r.buffer?this.setBuffer(r.buffer.buffer,r.index,x):this.map.set(r.tree,x)}cursorGet(r){return r.buffer?this.getBuffer(r.buffer.buffer,r.index):this.map.get(r.tree)}}class TreeFragment{constructor(r,x,O,E,y=!1,S=!1){this.from=r,this.to=x,this.tree=O,this.offset=E,this.open=(y?1:0)|(S?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(r,x=[],O=!1){let E=[new TreeFragment(0,r.length,r,0,!1,O)];for(let y of x)y.to>r.length&&E.push(y);return E}static applyChanges(r,x,O=128){if(!x.length)return r;let E=[],y=1,S=r.length?r[0]:null;for(let j=0,w=0,_=0;;j++){let Q=j<x.length?x[j]:null,I=Q?Q.fromA:1e9;if(I-w>=O)for(;S&&S.from<I;){let M=S;if(w>=M.from||I<=M.to||_){let F=Math.max(M.from,w)-_,V=Math.min(M.to,I)-_;M=F>=V?null:new TreeFragment(F,V,M.tree,M.offset+_,j>0,!!Q)}if(M&&E.push(M),S.to>I)break;S=y<r.length?r[y++]:null}if(!Q)break;w=Q.toA,_=Q.toA-Q.toB}return E}}class Parser{startParse(r,x,O){return typeof r=="string"&&(r=new StringInput(r)),O=O?O.length?O.map(E=>new Range(E.from,E.to)):[new Range(0,0)]:[new Range(0,r.length)],this.createParse(r,x||[],O)}parse(r,x,O){let E=this.startParse(r,x,O);for(;;){let y=E.advance();if(y)return y}}}class StringInput{constructor(r){this.string=r}get length(){return this.string.length}chunk(r){return this.string.slice(r)}get lineChunks(){return!1}read(r,x){return this.string.slice(r,x)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(r,x,O,E){this.name=r,this.set=x,this.base=O,this.modified=E,this.id=nextTagID++}toString(){let{name:r}=this;for(let x of this.modified)x.name&&(r=`${x.name}(${r})`);return r}static define(r,x){let O=typeof r=="string"?r:"?";if(r instanceof Tag&&(x=r),x!=null&&x.base)throw new Error("Can not derive from a modified tag");let E=new Tag(O,[],null,[]);if(E.set.push(E),x)for(let y of x.set)E.set.push(y);return E}static defineModifier(r){let x=new Modifier(r);return O=>O.modified.indexOf(x)>-1?O:Modifier.get(O.base||O,O.modified.concat(x).sort((E,y)=>E.id-y.id))}}let nextModifierID=0;class Modifier{constructor(r){this.name=r,this.instances=[],this.id=nextModifierID++}static get(r,x){if(!x.length)return r;let O=x[0].instances.find(j=>j.base==r&&sameArray(x,j.modified));if(O)return O;let E=[],y=new Tag(r.name,E,r,x);for(let j of x)j.instances.push(y);let S=powerSet(x);for(let j of r.set)if(!j.modified.length)for(let w of S)E.push(Modifier.get(j,w));return y}}function sameArray(o,r){return o.length==r.length&&o.every((x,O)=>x==r[O])}function powerSet(o){let r=[[]];for(let x=0;x<o.length;x++)for(let O=0,E=r.length;O<E;O++)r.push(r[O].concat(o[x]));return r.sort((x,O)=>O.length-x.length)}function styleTags(o){let r=Object.create(null);for(let x in o){let O=o[x];Array.isArray(O)||(O=[O]);for(let E of x.split(" "))if(E){let y=[],S=2,j=E;for(let I=0;;){if(j=="..."&&I>0&&I+3==E.length){S=1;break}let M=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(j);if(!M)throw new RangeError("Invalid path: "+E);if(y.push(M[0]=="*"?"":M[0][0]=='"'?JSON.parse(M[0]):M[0]),I+=M[0].length,I==E.length)break;let F=E[I++];if(I==E.length&&F=="!"){S=0;break}if(F!="/")throw new RangeError("Invalid path: "+E);j=E.slice(I)}let w=y.length-1,_=y[w];if(!_)throw new RangeError("Invalid path: "+E);let Q=new Rule(O,S,w>0?y.slice(0,w):null);r[_]=Q.sort(r[_])}}return ruleNodeProp.add(r)}const ruleNodeProp=new NodeProp({combine(o,r){let x,O,E;for(;o||r;){if(!o||r&&o.depth>=r.depth?(E=r,r=r.next):(E=o,o=o.next),x&&x.mode==E.mode&&!E.context&&!x.context)continue;let y=new Rule(E.tags,E.mode,E.context);x?x.next=y:O=y,x=y}return O}});class Rule{constructor(r,x,O,E){this.tags=r,this.mode=x,this.context=O,this.next=E}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(r){return!r||r.depth<this.depth?(this.next=r,this):(r.next=this.sort(r.next),r)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(o,r){let x=Object.create(null);for(let y of o)if(!Array.isArray(y.tag))x[y.tag.id]=y.class;else for(let S of y.tag)x[S.id]=y.class;let{scope:O,all:E=null}=r||{};return{style:y=>{let S=E;for(let j of y)for(let w of j.set){let _=x[w.id];if(_){S=S?S+" "+_:_;break}}return S},scope:O}}function highlightTags(o,r){let x=null;for(let O of o){let E=O.style(r);E&&(x=x?x+" "+E:E)}return x}function highlightTree(o,r,x,O=0,E=o.length){let y=new HighlightBuilder(O,Array.isArray(r)?r:[r],x);y.highlightRange(o.cursor(),O,E,"",y.highlighters),y.flush(E)}class HighlightBuilder{constructor(r,x,O){this.at=r,this.highlighters=x,this.span=O,this.class=""}startSpan(r,x){x!=this.class&&(this.flush(r),r>this.at&&(this.at=r),this.class=x)}flush(r){r>this.at&&this.class&&this.span(this.at,r,this.class)}highlightRange(r,x,O,E,y){let{type:S,from:j,to:w}=r;if(j>=O||w<=x)return;S.isTop&&(y=this.highlighters.filter(F=>!F.scope||F.scope(S)));let _=E,Q=getStyleTags(r)||Rule.empty,I=highlightTags(y,Q.tags);if(I&&(_&&(_+=" "),_+=I,Q.mode==1&&(E+=(E?" ":"")+I)),this.startSpan(Math.max(x,j),_),Q.opaque)return;let M=r.tree&&r.tree.prop(NodeProp.mounted);if(M&&M.overlay){let F=r.node.enter(M.overlay[0].from+j,1),V=this.highlighters.filter(re=>!re.scope||re.scope(M.tree.type)),te=r.firstChild();for(let re=0,se=j;;re++){let ne=re<M.overlay.length?M.overlay[re]:null,oe=ne?ne.from+j:w,Oe=Math.max(x,se),ae=Math.min(O,oe);if(Oe<ae&&te)for(;r.from<ae&&(this.highlightRange(r,Oe,ae,E,y),this.startSpan(Math.min(ae,r.to),_),!(r.to>=oe||!r.nextSibling())););if(!ne||oe>O)break;se=ne.to+j,se>x&&(this.highlightRange(F.cursor(),Math.max(x,ne.from+j),Math.min(O,se),"",V),this.startSpan(Math.min(O,se),_))}te&&r.parent()}else if(r.firstChild()){M&&(E="");do if(!(r.to<=x)){if(r.from>=O)break;this.highlightRange(r,x,O,E,y),this.startSpan(Math.min(O,r.to),_)}while(r.nextSibling());r.parent()}}}function getStyleTags(o){let r=o.type.prop(ruleNodeProp);for(;r&&r.context&&!o.matchContext(r.context);)r=r.next;return r||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let o in tags){let r=tags[o];r instanceof Tag&&(r.name=o)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(o){return Facet.define({combine:o?r=>r.concat(o):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(r,x,O=[],E=""){this.data=r,this.name=E,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=x,this.extension=[language.of(this),EditorState.languageData.of((y,S,j)=>{let w=topNodeAt(y,S,j),_=w.type.prop(languageDataProp);if(!_)return[];let Q=y.facet(_),I=w.type.prop(sublanguageProp);if(I){let M=w.resolve(S-w.from,j);for(let F of I)if(F.test(M,y)){let V=y.facet(F.facet);return F.type=="replace"?V:V.concat(Q)}}return Q})].concat(O)}isActiveAt(r,x,O=-1){return topNodeAt(r,x,O).type.prop(languageDataProp)==this.data}findRegions(r){let x=r.facet(language);if((x==null?void 0:x.data)==this.data)return[{from:0,to:r.doc.length}];if(!x||!x.allowsNesting)return[];let O=[],E=(y,S)=>{if(y.prop(languageDataProp)==this.data){O.push({from:S,to:S+y.length});return}let j=y.prop(NodeProp.mounted);if(j){if(j.tree.prop(languageDataProp)==this.data){if(j.overlay)for(let w of j.overlay)O.push({from:w.from+S,to:w.to+S});else O.push({from:S,to:S+y.length});return}else if(j.overlay){let w=O.length;if(E(j.tree,j.overlay[0].from+S),O.length>w)return}}for(let w=0;w<y.children.length;w++){let _=y.children[w];_ instanceof Tree&&E(_,y.positions[w]+S)}};return E(syntaxTree(r),0),O}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(o,r,x){let O=o.facet(language),E=syntaxTree(o).topNode;if(!O||O.allowsNesting)for(let y=E;y;y=y.enter(r,x,IterMode.ExcludeBuffers|IterMode.EnterBracketed))y.type.isTop&&(E=y);return E}class LRLanguage extends Language{constructor(r,x,O){super(r,x,[],O),this.parser=x}static define(r){let x=defineLanguageFacet(r.languageData);return new LRLanguage(x,r.parser.configure({props:[languageDataProp.add(O=>O.isTop?x:void 0)]}),r.name)}configure(r,x){return new LRLanguage(this.data,this.parser.configure(r),x||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(o){let r=o.field(Language.state,!1);return r?r.tree:Tree.empty}class DocInput{constructor(r){this.doc=r,this.cursorPos=0,this.string="",this.cursor=r.iter()}get length(){return this.doc.length}syncTo(r){return this.string=this.cursor.next(r-this.cursorPos).value,this.cursorPos=r+this.string.length,this.cursorPos-this.string.length}chunk(r){return this.syncTo(r),this.string}get lineChunks(){return!0}read(r,x){let O=this.cursorPos-this.string.length;return r<O||x>=this.cursorPos?this.doc.sliceString(r,x):this.string.slice(r-O,x-O)}}let currentContext=null;class ParseContext{constructor(r,x,O=[],E,y,S,j,w){this.parser=r,this.state=x,this.fragments=O,this.tree=E,this.treeLen=y,this.viewport=S,this.skipped=j,this.scheduleOn=w,this.parse=null,this.tempSkipped=[]}static create(r,x,O){return new ParseContext(r,x,[],Tree.empty,0,O,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(r,x){return x!=null&&x>=this.state.doc.length&&(x=void 0),this.tree!=Tree.empty&&this.isDone(x??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var O;if(typeof r=="number"){let E=Date.now()+r;r=()=>Date.now()>E}for(this.parse||(this.parse=this.startParse()),x!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>x)&&x<this.state.doc.length&&this.parse.stopAt(x);;){let E=this.parse.advance();if(E)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(E,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(O=this.parse.stoppedAt)!==null&&O!==void 0?O:this.state.doc.length,this.tree=E,this.parse=null,this.treeLen<(x??this.state.doc.length))this.parse=this.startParse();else return!0;if(r())return!1}})}takeTree(){let r,x;this.parse&&(r=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&this.parse.stopAt(r),this.withContext(()=>{for(;!(x=this.parse.advance()););}),this.treeLen=r,this.tree=x,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(r){let x=currentContext;currentContext=this;try{return r()}finally{currentContext=x}}withoutTempSkipped(r){for(let x;x=this.tempSkipped.pop();)r=cutFragments(r,x.from,x.to);return r}changes(r,x){let{fragments:O,tree:E,treeLen:y,viewport:S,skipped:j}=this;if(this.takeTree(),!r.empty){let w=[];if(r.iterChangedRanges((_,Q,I,M)=>w.push({fromA:_,toA:Q,fromB:I,toB:M})),O=TreeFragment.applyChanges(O,w),E=Tree.empty,y=0,S={from:r.mapPos(S.from,-1),to:r.mapPos(S.to,1)},this.skipped.length){j=[];for(let _ of this.skipped){let Q=r.mapPos(_.from,1),I=r.mapPos(_.to,-1);Q<I&&j.push({from:Q,to:I})}}}return new ParseContext(this.parser,x,O,E,y,S,j,this.scheduleOn)}updateViewport(r){if(this.viewport.from==r.from&&this.viewport.to==r.to)return!1;this.viewport=r;let x=this.skipped.length;for(let O=0;O<this.skipped.length;O++){let{from:E,to:y}=this.skipped[O];E<r.to&&y>r.from&&(this.fragments=cutFragments(this.fragments,E,y),this.skipped.splice(O--,1))}return this.skipped.length>=x?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(r,x){this.skipped.push({from:r,to:x})}static getSkippingParser(r){return new class extends Parser{createParse(x,O,E){let y=E[0].from,S=E[E.length-1].to;return{parsedPos:y,advance(){let w=currentContext;if(w){for(let _ of E)w.tempSkipped.push(_);r&&(w.scheduleOn=w.scheduleOn?Promise.all([w.scheduleOn,r]):r)}return this.parsedPos=S,new Tree(NodeType.none,[],[],S-y)},stoppedAt:null,stopAt(){}}}}}isDone(r){r=Math.min(r,this.state.doc.length);let x=this.fragments;return this.treeLen>=r&&x.length&&x[0].from==0&&x[0].to>=r}static get(){return currentContext}}function cutFragments(o,r,x){return TreeFragment.applyChanges(o,[{fromA:r,toA:x,fromB:r,toB:x}])}class LanguageState{constructor(r){this.context=r,this.tree=r.tree}apply(r){if(!r.docChanged&&this.tree==this.context.tree)return this;let x=this.context.changes(r.changes,r.state),O=this.context.treeLen==r.startState.doc.length?void 0:Math.max(r.changes.mapPos(this.context.treeLen),x.viewport.to);return x.work(20,O)||x.takeTree(),new LanguageState(x)}static init(r){let x=Math.min(3e3,r.doc.length),O=ParseContext.create(r.facet(language).parser,r,{from:0,to:x});return O.work(20,x)||O.takeTree(),new LanguageState(O)}}Language.state=StateField.define({create:LanguageState.init,update(o,r){for(let x of r.effects)if(x.is(Language.setState))return x.value;return r.startState.facet(language)!=r.state.facet(language)?LanguageState.init(r.state):o.apply(r)}});let requestIdle=o=>{let r=setTimeout(()=>o(),500);return()=>clearTimeout(r)};typeof requestIdleCallback<"u"&&(requestIdle=o=>{let r=-1,x=setTimeout(()=>{r=requestIdleCallback(o,{timeout:400})},100);return()=>r<0?clearTimeout(x):cancelIdleCallback(r)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(r){let x=this.view.state.field(Language.state).context;(x.updateViewport(r.view.viewport)||this.view.viewport.to>x.treeLen)&&this.scheduleWork(),(r.docChanged||r.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(x)}scheduleWork(){if(this.working)return;let{state:r}=this.view,x=r.field(Language.state);(x.tree!=x.context.tree||!x.context.isDone(r.doc.length))&&(this.working=requestIdle(this.work))}work(r){this.working=null;let x=Date.now();if(this.chunkEnd<x&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=x+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:O,viewport:{to:E}}=this.view,y=O.field(Language.state);if(y.tree==y.context.tree&&y.context.isDone(E+1e5))return;let S=Date.now()+Math.min(this.chunkBudget,100,r&&!isInputPending?Math.max(25,r.timeRemaining()-5):1e9),j=y.context.treeLen<E&&O.doc.length>E+1e3,w=y.context.work(()=>isInputPending&&isInputPending()||Date.now()>S,E+(j?0:1e5));this.chunkBudget-=Date.now()-x,(w||this.chunkBudget<=0)&&(y.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(y.context))})),this.chunkBudget>0&&!(w&&!j)&&this.scheduleWork(),this.checkAsyncSchedule(y.context)}checkAsyncSchedule(r){r.scheduleOn&&(this.workScheduled++,r.scheduleOn.then(()=>this.scheduleWork()).catch(x=>logException(this.view.state,x)).then(()=>this.workScheduled--),r.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(o){return o.length?o[0]:null},enables:o=>[Language.state,parseWorker,EditorView.contentAttributes.compute([o],r=>{let x=r.facet(o);return x&&x.name?{"data-language":x.name}:{}})]});class LanguageSupport{constructor(r,x=[]){this.language=r,this.support=x,this.extension=[r,x]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:o=>{if(!o.length)return"  ";let r=o[0];if(!r||/\S/.test(r)||Array.from(r).some(x=>x!=r[0]))throw new Error("Invalid indent unit: "+JSON.stringify(o[0]));return r}});function getIndentUnit(o){let r=o.facet(indentUnit);return r.charCodeAt(0)==9?o.tabSize*r.length:r.length}function indentString(o,r){let x="",O=o.tabSize,E=o.facet(indentUnit)[0];if(E=="	"){for(;r>=O;)x+="	",r-=O;E=" "}for(let y=0;y<r;y++)x+=E;return x}function getIndentation(o,r){o instanceof EditorState&&(o=new IndentContext(o));for(let O of o.state.facet(indentService)){let E=O(o,r);if(E!==void 0)return E}let x=syntaxTree(o.state);return x.length>=r?syntaxIndentation(o,x,r):null}class IndentContext{constructor(r,x={}){this.state=r,this.options=x,this.unit=getIndentUnit(r)}lineAt(r,x=1){let O=this.state.doc.lineAt(r),{simulateBreak:E,simulateDoubleBreak:y}=this.options;return E!=null&&E>=O.from&&E<=O.to?y&&E==r?{text:"",from:r}:(x<0?E<r:E<=r)?{text:O.text.slice(E-O.from),from:E}:{text:O.text.slice(0,E-O.from),from:O.from}:O}textAfterPos(r,x=1){if(this.options.simulateDoubleBreak&&r==this.options.simulateBreak)return"";let{text:O,from:E}=this.lineAt(r,x);return O.slice(r-E,Math.min(O.length,r+100-E))}column(r,x=1){let{text:O,from:E}=this.lineAt(r,x),y=this.countColumn(O,r-E),S=this.options.overrideIndentation?this.options.overrideIndentation(E):-1;return S>-1&&(y+=S-this.countColumn(O,O.search(/\S|$/))),y}countColumn(r,x=r.length){return countColumn(r,this.state.tabSize,x)}lineIndent(r,x=1){let{text:O,from:E}=this.lineAt(r,x),y=this.options.overrideIndentation;if(y){let S=y(E);if(S>-1)return S}return this.countColumn(O,O.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(o,r,x){let O=r.resolveStack(x),E=r.resolveInner(x,-1).resolve(x,0).enterUnfinishedNodesBefore(x);if(E!=O.node){let y=[];for(let S=E;S&&!(S.from<O.node.from||S.to>O.node.to||S.from==O.node.from&&S.type==O.node.type);S=S.parent)y.push(S);for(let S=y.length-1;S>=0;S--)O={node:y[S],next:O}}return indentFor(O,o,x)}function indentFor(o,r,x){for(let O=o;O;O=O.next){let E=indentStrategy(O.node);if(E)return E(TreeIndentContext.create(r,x,O))}return 0}function ignoreClosed(o){return o.pos==o.options.simulateBreak&&o.options.simulateDoubleBreak}function indentStrategy(o){let r=o.type.prop(indentNodeProp);if(r)return r;let x=o.firstChild,O;if(x&&(O=x.type.prop(NodeProp.closedBy))){let E=o.lastChild,y=E&&O.indexOf(E.name)>-1;return S=>delimitedStrategy(S,!0,1,void 0,y&&!ignoreClosed(S)?E.from:void 0)}return o.parent==null?topIndent$1:null}function topIndent$1(){return 0}class TreeIndentContext extends IndentContext{constructor(r,x,O){super(r.state,r.options),this.base=r,this.pos=x,this.context=O}get node(){return this.context.node}static create(r,x,O){return new TreeIndentContext(r,x,O)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(r){let x=this.state.doc.lineAt(r.from);for(;;){let O=r.resolve(x.from);for(;O.parent&&O.parent.from==O.from;)O=O.parent;if(isParent(O,r))break;x=this.state.doc.lineAt(O.from)}return this.lineIndent(x.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(o,r){for(let x=r;x;x=x.parent)if(o==x)return!0;return!1}function bracketedAligned(o){let r=o.node,x=r.childAfter(r.from),O=r.lastChild;if(!x)return null;let E=o.options.simulateBreak,y=o.state.doc.lineAt(x.from),S=E==null||E<=y.from?y.to:Math.min(y.to,E);for(let j=x.to;;){let w=r.childAfter(j);if(!w||w==O)return null;if(!w.type.isSkipped){if(w.from>=S)return null;let _=/^ */.exec(y.text.slice(x.to-y.from))[0].length;return{from:x.from,to:x.to+_}}j=w.to}}function delimitedIndent({closing:o,align:r=!0,units:x=1}){return O=>delimitedStrategy(O,r,x,o)}function delimitedStrategy(o,r,x,O,E){let y=o.textAfter,S=y.match(/^\s*/)[0].length,j=O&&y.slice(S,S+O.length)==O||E==o.pos+S,w=r?bracketedAligned(o):null;return w?j?o.column(w.from):o.column(w.to):o.baseIndent+(j?0:o.unit*x)}const flatIndent=o=>o.baseIndent;function continuedIndent({except:o,units:r=1}={}){return x=>{let O=o&&o.test(x.textAfter);return x.baseIndent+(O?0:r*x.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(o=>{if(!o.docChanged||!o.isUserEvent("input.type")&&!o.isUserEvent("input.complete"))return o;let r=o.startState.languageDataAt("indentOnInput",o.startState.selection.main.head);if(!r.length)return o;let x=o.newDoc,{head:O}=o.newSelection.main,E=x.lineAt(O);if(O>E.from+DontIndentBeyond)return o;let y=x.sliceString(E.from,O);if(!r.some(_=>_.test(y)))return o;let{state:S}=o,j=-1,w=[];for(let{head:_}of S.selection.ranges){let Q=S.doc.lineAt(_);if(Q.from==j)continue;j=Q.from;let I=getIndentation(S,Q.from);if(I==null)continue;let M=/^\s*/.exec(Q.text)[0],F=indentString(S,I);M!=F&&w.push({from:Q.from,to:Q.from+M.length,insert:F})}return w.length?[o,{changes:w,sequential:!0}]:o})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(o){let r=o.firstChild,x=o.lastChild;return r&&r.to<x.from?{from:r.to,to:x.type.isError?o.to:x.from}:null}function syntaxFolding(o,r,x){let O=syntaxTree(o);if(O.length<x)return null;let E=O.resolveStack(x,1),y=null;for(let S=E;S;S=S.next){let j=S.node;if(j.to<=x||j.from>x)continue;if(y&&j.from<r)break;let w=j.type.prop(foldNodeProp);if(w&&(j.to<O.length-50||O.length==o.doc.length||!isUnfinished(j))){let _=w(j,o);_&&_.from<=x&&_.from>=r&&_.to>x&&(y=_)}}return y}function isUnfinished(o){let r=o.lastChild;return r&&r.to==o.to&&r.type.isError}function foldable(o,r,x){for(let O of o.facet(foldService)){let E=O(o,r,x);if(E)return E}return syntaxFolding(o,r,x)}function mapRange(o,r){let x=r.mapPos(o.from,1),O=r.mapPos(o.to,-1);return x>=O?void 0:{from:x,to:O}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(o){let r=[];for(let{head:x}of o.state.selection.ranges)r.some(O=>O.from<=x&&O.to>=x)||r.push(o.lineBlockAt(x));return r}const foldState=StateField.define({create(){return Decoration.none},update(o,r){r.isUserEvent("delete")&&r.changes.iterChangedRanges((x,O)=>o=clearTouchedFolds(o,x,O)),o=o.map(r.changes);for(let x of r.effects)if(x.is(foldEffect)&&!foldExists(o,x.value.from,x.value.to)){let{preparePlaceholder:O}=r.state.facet(foldConfig),E=O?Decoration.replace({widget:new PreparedFoldWidget(O(r.state,x.value))}):foldWidget;o=o.update({add:[E.range(x.value.from,x.value.to)]})}else x.is(unfoldEffect)&&(o=o.update({filter:(O,E)=>x.value.from!=O||x.value.to!=E,filterFrom:x.value.from,filterTo:x.value.to}));return r.selection&&(o=clearTouchedFolds(o,r.selection.main.head)),o},provide:o=>EditorView.decorations.from(o),toJSON(o,r){let x=[];return o.between(0,r.doc.length,(O,E)=>{x.push(O,E)}),x},fromJSON(o){if(!Array.isArray(o)||o.length%2)throw new RangeError("Invalid JSON for fold state");let r=[];for(let x=0;x<o.length;){let O=o[x++],E=o[x++];if(typeof O!="number"||typeof E!="number")throw new RangeError("Invalid JSON for fold state");r.push(foldWidget.range(O,E))}return Decoration.set(r,!0)}});function clearTouchedFolds(o,r,x=r){let O=!1;return o.between(r,x,(E,y)=>{E<x&&y>r&&(O=!0)}),O?o.update({filterFrom:r,filterTo:x,filter:(E,y)=>E>=x||y<=r}):o}function findFold(o,r,x){var O;let E=null;return(O=o.field(foldState,!1))===null||O===void 0||O.between(r,x,(y,S)=>{(!E||E.from>y)&&(E={from:y,to:S})}),E}function foldExists(o,r,x){let O=!1;return o.between(r,r,(E,y)=>{E==r&&y==x&&(O=!0)}),O}function maybeEnable(o,r){return o.field(foldState,!1)?r:r.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=o=>{for(let r of selectedLines(o)){let x=foldable(o.state,r.from,r.to);if(x)return o.dispatch({effects:maybeEnable(o.state,[foldEffect.of(x),announceFold(o,x)])}),!0}return!1},unfoldCode=o=>{if(!o.state.field(foldState,!1))return!1;let r=[];for(let x of selectedLines(o)){let O=findFold(o.state,x.from,x.to);O&&r.push(unfoldEffect.of(O),announceFold(o,O,!1))}return r.length&&o.dispatch({effects:r}),r.length>0};function announceFold(o,r,x=!0){let O=o.state.doc.lineAt(r.from).number,E=o.state.doc.lineAt(r.to).number;return EditorView.announce.of(`${o.state.phrase(x?"Folded lines":"Unfolded lines")} ${O} ${o.state.phrase("to")} ${E}.`)}const foldAll=o=>{let{state:r}=o,x=[];for(let O=0;O<r.doc.length;){let E=o.lineBlockAt(O),y=foldable(r,E.from,E.to);y&&x.push(foldEffect.of(y)),O=(y?o.lineBlockAt(y.to):E).to+1}return x.length&&o.dispatch({effects:maybeEnable(o.state,x)}),!!x.length},unfoldAll=o=>{let r=o.state.field(foldState,!1);if(!r||!r.size)return!1;let x=[];return r.between(0,o.state.doc.length,(O,E)=>{x.push(unfoldEffect.of({from:O,to:E}))}),o.dispatch({effects:x}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},foldConfig=Facet.define({combine(o){return combineConfig(o,defaultConfig)}});function codeFolding(o){return[foldState,baseTheme$1$1]}function widgetToDOM(o,r){let{state:x}=o,O=x.facet(foldConfig),E=S=>{let j=o.lineBlockAt(o.posAtDOM(S.target)),w=findFold(o.state,j.from,j.to);w&&o.dispatch({effects:unfoldEffect.of(w)}),S.preventDefault()};if(O.placeholderDOM)return O.placeholderDOM(o,E,r);let y=document.createElement("span");return y.textContent=O.placeholderText,y.setAttribute("aria-label",x.phrase("folded code")),y.title=x.phrase("unfold"),y.className="cm-foldPlaceholder",y.onclick=E,y}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(o){return widgetToDOM(o,null)}}});class PreparedFoldWidget extends WidgetType{constructor(r){super(),this.value=r}eq(r){return this.value==r.value}toDOM(r){return widgetToDOM(r,this.value)}}const foldGutterDefaults={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(r,x){super(),this.config=r,this.open=x}eq(r){return this.config==r.config&&this.open==r.open}toDOM(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);let x=document.createElement("span");return x.textContent=this.open?this.config.openText:this.config.closedText,x.title=r.state.phrase(this.open?"Fold line":"Unfold line"),x}}function foldGutter(o={}){let r={...foldGutterDefaults,...o},x=new FoldMarker(r,!0),O=new FoldMarker(r,!1),E=ViewPlugin.fromClass(class{constructor(S){this.from=S.viewport.from,this.markers=this.buildMarkers(S)}update(S){(S.docChanged||S.viewportChanged||S.startState.facet(language)!=S.state.facet(language)||S.startState.field(foldState,!1)!=S.state.field(foldState,!1)||syntaxTree(S.startState)!=syntaxTree(S.state)||r.foldingChanged(S))&&(this.markers=this.buildMarkers(S.view))}buildMarkers(S){let j=new RangeSetBuilder;for(let w of S.viewportLineBlocks){let _=findFold(S.state,w.from,w.to)?O:foldable(S.state,w.from,w.to)?x:null;_&&j.add(w.from,w.from,_)}return j.finish()}}),{domEventHandlers:y}=r;return[E,gutter({class:"cm-foldGutter",markers(S){var j;return((j=S.plugin(E))===null||j===void 0?void 0:j.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(r,!1)},domEventHandlers:{...y,click:(S,j,w)=>{if(y.click&&y.click(S,j,w))return!0;let _=findFold(S.state,j.from,j.to);if(_)return S.dispatch({effects:unfoldEffect.of(_)}),!0;let Q=foldable(S.state,j.from,j.to);return Q?(S.dispatch({effects:foldEffect.of(Q)}),!0):!1}}}),codeFolding()]}const baseTheme$1$1=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(r,x){this.specs=r;let O;function E(j){let w=StyleModule.newName();return(O||(O=Object.create(null)))["."+w]=j,w}const y=typeof x.all=="string"?x.all:x.all?E(x.all):void 0,S=x.scope;this.scope=S instanceof Language?j=>j.prop(languageDataProp)==S.data:S?j=>j==S:void 0,this.style=tagHighlighter(r.map(j=>({tag:j.tag,class:j.class||E(Object.assign({},j,{tag:null}))})),{all:y}).style,this.module=O?new StyleModule(O):null,this.themeType=x.themeType}static define(r,x){return new HighlightStyle(r,x||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(o){return o.length?[o[0]]:null}});function getHighlighters(o){let r=o.facet(highlighterFacet);return r.length?r:o.facet(fallbackHighlighter)}function syntaxHighlighting(o,r){let x=[treeHighlighter],O;return o instanceof HighlightStyle&&(o.module&&x.push(EditorView.styleModule.of(o.module)),O=o.themeType),r!=null&&r.fallback?x.push(fallbackHighlighter.of(o)):O?x.push(highlighterFacet.computeN([EditorView.darkTheme],E=>E.facet(EditorView.darkTheme)==(O=="dark")?[o]:[])):x.push(highlighterFacet.of(o)),x}class TreeHighlighter{constructor(r){this.markCache=Object.create(null),this.tree=syntaxTree(r.state),this.decorations=this.buildDeco(r,getHighlighters(r.state)),this.decoratedTo=r.viewport.to}update(r){let x=syntaxTree(r.state),O=getHighlighters(r.state),E=O!=getHighlighters(r.startState),{viewport:y}=r.view,S=r.changes.mapPos(this.decoratedTo,1);x.length<y.to&&!E&&x.type==this.tree.type&&S>=y.to?(this.decorations=this.decorations.map(r.changes),this.decoratedTo=S):(x!=this.tree||r.viewportChanged||E)&&(this.tree=x,this.decorations=this.buildDeco(r.view,O),this.decoratedTo=y.to)}buildDeco(r,x){if(!x||!this.tree.length)return Decoration.none;let O=new RangeSetBuilder;for(let{from:E,to:y}of r.visibleRanges)highlightTree(this.tree,x,(S,j,w)=>{O.add(S,j,this.markCache[w]||(this.markCache[w]=Decoration.mark({class:w})))},E,y);return O.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:o=>o.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(o){return combineConfig(o,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(o){let r=[],x=o.matched?matchingMark:nonmatchingMark;return r.push(x.range(o.start.from,o.start.to)),o.end&&r.push(x.range(o.end.from,o.end.to)),r}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(o,r){if(!r.docChanged&&!r.selection)return o;let x=[],O=r.state.facet(bracketMatchingConfig);for(let E of r.state.selection.ranges){if(!E.empty)continue;let y=matchBrackets(r.state,E.head,-1,O)||E.head>0&&matchBrackets(r.state,E.head-1,1,O)||O.afterCursor&&(matchBrackets(r.state,E.head,1,O)||E.head<r.state.doc.length&&matchBrackets(r.state,E.head+1,-1,O));y&&(x=x.concat(O.renderMatch(y,r.state)))}return Decoration.set(x,!0)},provide:o=>EditorView.decorations.from(o)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(o={}){return[bracketMatchingConfig.of(o),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(o,r,x){let O=o.prop(r<0?NodeProp.openedBy:NodeProp.closedBy);if(O)return O;if(o.name.length==1){let E=x.indexOf(o.name);if(E>-1&&E%2==(r<0?1:0))return[x[E+r]]}return null}function findHandle(o){let r=o.type.prop(bracketMatchingHandle);return r?r(o.node):o}function matchBrackets(o,r,x,O={}){let E=O.maxScanDistance||DefaultScanDist,y=O.brackets||DefaultBrackets,S=syntaxTree(o),j=S.resolveInner(r,x);for(let w=j;w;w=w.parent){let _=matchingNodes(w.type,x,y);if(_&&w.from<w.to){let Q=findHandle(w);if(Q&&(x>0?r>=Q.from&&r<Q.to:r>Q.from&&r<=Q.to))return matchMarkedBrackets(o,r,x,w,Q,_,y)}}return matchPlainBrackets(o,r,x,S,j.type,E,y)}function matchMarkedBrackets(o,r,x,O,E,y,S){let j=O.parent,w={from:E.from,to:E.to},_=0,Q=j==null?void 0:j.cursor();if(Q&&(x<0?Q.childBefore(O.from):Q.childAfter(O.to)))do if(x<0?Q.to<=O.from:Q.from>=O.to){if(_==0&&y.indexOf(Q.type.name)>-1&&Q.from<Q.to){let I=findHandle(Q);return{start:w,end:I?{from:I.from,to:I.to}:void 0,matched:!0}}else if(matchingNodes(Q.type,x,S))_++;else if(matchingNodes(Q.type,-x,S)){if(_==0){let I=findHandle(Q);return{start:w,end:I&&I.from<I.to?{from:I.from,to:I.to}:void 0,matched:!1}}_--}}while(x<0?Q.prevSibling():Q.nextSibling());return{start:w,matched:!1}}function matchPlainBrackets(o,r,x,O,E,y,S){let j=x<0?o.sliceDoc(r-1,r):o.sliceDoc(r,r+1),w=S.indexOf(j);if(w<0||w%2==0!=x>0)return null;let _={from:x<0?r-1:r,to:x>0?r+1:r},Q=o.doc.iterRange(r,x>0?o.doc.length:0),I=0;for(let M=0;!Q.next().done&&M<=y;){let F=Q.value;x<0&&(M+=F.length);let V=r+M*x;for(let te=x>0?0:F.length-1,re=x>0?F.length:-1;te!=re;te+=x){let se=S.indexOf(F[te]);if(!(se<0||O.resolveInner(V+te,1).type!=E))if(se%2==0==x>0)I++;else{if(I==1)return{start:_,end:{from:V+te,to:V+te+1},matched:se>>1==w>>1};I--}}x>0&&(M+=F.length)}return Q.done?{start:_,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[o,r]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[o]=createTokenType(noTokens,r);function warnForPart(o,r){warned.indexOf(o)>-1||(warned.push(o),console.warn(r))}function createTokenType(o,r){let x=[];for(let j of r.split(" ")){let w=[];for(let _ of j.split(".")){let Q=o[_]||tags[_];Q?typeof Q=="function"?w.length?w=w.map(Q):warnForPart(_,`Modifier ${_} used at start of tag`):w.length?warnForPart(_,`Tag ${_} used as modifier`):w=Array.isArray(Q)?Q:[Q]:warnForPart(_,`Unknown highlighting tag ${_}`)}for(let _ of w)x.push(_)}if(!x.length)return 0;let O=r.replace(/ /g,"_"),E=O+" "+x.map(j=>j.id),y=byTag[E];if(y)return y.id;let S=byTag[E]=NodeType.define({id:typeArray.length,name:O,props:[styleTags({[O]:x})]});return typeArray.push(S),S.id}Direction.RTL,Direction.LTR;const toggleComment=o=>{let{state:r}=o,x=r.doc.lineAt(r.selection.main.from),O=getConfig(o.state,x.from);return O.line?toggleLineComment(o):O.block?toggleBlockCommentByLine(o):!1};function command(o,r){return({state:x,dispatch:O})=>{if(x.readOnly)return!1;let E=o(r,x);return E?(O(x.update(E)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((o,r)=>changeBlockComment(o,r,selectedLineRanges(r)),0);function getConfig(o,r){let x=o.languageDataAt("commentTokens",r,1);return x.length?x[0]:{}}const SearchMargin=50;function findBlockComment(o,{open:r,close:x},O,E){let y=o.sliceDoc(O-SearchMargin,O),S=o.sliceDoc(E,E+SearchMargin),j=/\s*$/.exec(y)[0].length,w=/^\s*/.exec(S)[0].length,_=y.length-j;if(y.slice(_-r.length,_)==r&&S.slice(w,w+x.length)==x)return{open:{pos:O-j,margin:j&&1},close:{pos:E+w,margin:w&&1}};let Q,I;E-O<=2*SearchMargin?Q=I=o.sliceDoc(O,E):(Q=o.sliceDoc(O,O+SearchMargin),I=o.sliceDoc(E-SearchMargin,E));let M=/^\s*/.exec(Q)[0].length,F=/\s*$/.exec(I)[0].length,V=I.length-F-x.length;return Q.slice(M,M+r.length)==r&&I.slice(V,V+x.length)==x?{open:{pos:O+M+r.length,margin:/\s/.test(Q.charAt(M+r.length))?1:0},close:{pos:E-F-x.length,margin:/\s/.test(I.charAt(V-1))?1:0}}:null}function selectedLineRanges(o){let r=[];for(let x of o.selection.ranges){let O=o.doc.lineAt(x.from),E=x.to<=O.to?O:o.doc.lineAt(x.to);E.from>O.from&&E.from==x.to&&(E=x.to==O.to+1?O:o.doc.lineAt(x.to-1));let y=r.length-1;y>=0&&r[y].to>O.from?r[y].to=E.to:r.push({from:O.from+/^\s*/.exec(O.text)[0].length,to:E.to})}return r}function changeBlockComment(o,r,x=r.selection.ranges){let O=x.map(y=>getConfig(r,y.from).block);if(!O.every(y=>y))return null;let E=x.map((y,S)=>findBlockComment(r,O[S],y.from,y.to));if(o!=2&&!E.every(y=>y))return{changes:r.changes(x.map((y,S)=>E[S]?[]:[{from:y.from,insert:O[S].open+" "},{from:y.to,insert:" "+O[S].close}]))};if(o!=1&&E.some(y=>y)){let y=[];for(let S=0,j;S<E.length;S++)if(j=E[S]){let w=O[S],{open:_,close:Q}=j;y.push({from:_.pos-w.open.length,to:_.pos+_.margin},{from:Q.pos-Q.margin,to:Q.pos+w.close.length})}return{changes:y}}return null}function changeLineComment(o,r,x=r.selection.ranges){let O=[],E=-1;e:for(let{from:y,to:S}of x){let j=O.length,w=1e9,_;for(let Q=y;Q<=S;){let I=r.doc.lineAt(Q);if(_==null&&(_=getConfig(r,I.from).line,!_))continue e;if(I.from>E&&(y==S||S>I.from)){E=I.from;let M=/^\s*/.exec(I.text)[0].length,F=M==I.length,V=I.text.slice(M,M+_.length)==_?M:-1;M<I.text.length&&M<w&&(w=M),O.push({line:I,comment:V,token:_,indent:M,empty:F,single:!1})}Q=I.to+1}if(w<1e9)for(let Q=j;Q<O.length;Q++)O[Q].indent<O[Q].line.text.length&&(O[Q].indent=w);O.length==j+1&&(O[j].single=!0)}if(o!=2&&O.some(y=>y.comment<0&&(!y.empty||y.single))){let y=[];for(let{line:j,token:w,indent:_,empty:Q,single:I}of O)(I||!Q)&&y.push({from:j.from+_,insert:w+" "});let S=r.changes(y);return{changes:S,selection:r.selection.map(S,1)}}else if(o!=1&&O.some(y=>y.comment>=0)){let y=[];for(let{line:S,comment:j,token:w}of O)if(j>=0){let _=S.from+j,Q=_+w.length;S.text[Q-S.from]==" "&&Q++,y.push({from:_,to:Q})}return{changes:y}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(o){return combineConfig(o,{minDepth:100,newGroupDelay:500,joinToEvent:(r,x)=>x},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(r,x)=>(O,E)=>r(O,E)||x(O,E)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(o,r){let x=r.state.facet(historyConfig),O=r.annotation(fromHistory);if(O){let w=HistEvent.fromTransaction(r,O.selection),_=O.side,Q=_==0?o.undone:o.done;return w?Q=updateBranch(Q,Q.length,x.minDepth,w):Q=addSelection(Q,r.startState.selection),new HistoryState(_==0?O.rest:Q,_==0?Q:O.rest)}let E=r.annotation(isolateHistory);if((E=="full"||E=="before")&&(o=o.isolate()),r.annotation(Transaction.addToHistory)===!1)return r.changes.empty?o:o.addMapping(r.changes.desc);let y=HistEvent.fromTransaction(r),S=r.annotation(Transaction.time),j=r.annotation(Transaction.userEvent);return y?o=o.addChanges(y,S,j,x,r):r.selection&&(o=o.addSelection(r.startState.selection,S,j,x.newGroupDelay)),(E=="full"||E=="after")&&(o=o.isolate()),o},toJSON(o){return{done:o.done.map(r=>r.toJSON()),undone:o.undone.map(r=>r.toJSON())}},fromJSON(o){return new HistoryState(o.done.map(HistEvent.fromJSON),o.undone.map(HistEvent.fromJSON))}});function history(o={}){return[historyField_,historyConfig.of(o),EditorView.domEventHandlers({beforeinput(r,x){let O=r.inputType=="historyUndo"?undo:r.inputType=="historyRedo"?redo:null;return O?(r.preventDefault(),O(x)):!1}})]}function cmd(o,r){return function({state:x,dispatch:O}){if(!r&&x.readOnly)return!1;let E=x.field(historyField_,!1);if(!E)return!1;let y=E.pop(o,x,r);return y?(O(y),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(r,x,O,E,y){this.changes=r,this.effects=x,this.mapped=O,this.startSelection=E,this.selectionsAfter=y}setSelAfter(r){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,r)}toJSON(){var r,x,O;return{changes:(r=this.changes)===null||r===void 0?void 0:r.toJSON(),mapped:(x=this.mapped)===null||x===void 0?void 0:x.toJSON(),startSelection:(O=this.startSelection)===null||O===void 0?void 0:O.toJSON(),selectionsAfter:this.selectionsAfter.map(E=>E.toJSON())}}static fromJSON(r){return new HistEvent(r.changes&&ChangeSet.fromJSON(r.changes),[],r.mapped&&ChangeDesc.fromJSON(r.mapped),r.startSelection&&EditorSelection.fromJSON(r.startSelection),r.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(r,x){let O=none$1;for(let E of r.startState.facet(invertedEffects)){let y=E(r);y.length&&(O=O.concat(y))}return!O.length&&r.changes.empty?null:new HistEvent(r.changes.invert(r.startState.doc),O,void 0,x||r.startState.selection,none$1)}static selection(r){return new HistEvent(void 0,none$1,void 0,void 0,r)}}function updateBranch(o,r,x,O){let E=r+1>x+20?r-x-1:0,y=o.slice(E,r);return y.push(O),y}function isAdjacent(o,r){let x=[],O=!1;return o.iterChangedRanges((E,y)=>x.push(E,y)),r.iterChangedRanges((E,y,S,j)=>{for(let w=0;w<x.length;){let _=x[w++],Q=x[w++];j>=_&&S<=Q&&(O=!0)}}),O}function eqSelectionShape(o,r){return o.ranges.length==r.ranges.length&&o.ranges.filter((x,O)=>x.empty!=r.ranges[O].empty).length===0}function conc(o,r){return o.length?r.length?o.concat(r):o:r}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(o,r){if(o.length){let x=o[o.length-1],O=x.selectionsAfter.slice(Math.max(0,x.selectionsAfter.length-MaxSelectionsPerEvent));return O.length&&O[O.length-1].eq(r)?o:(O.push(r),updateBranch(o,o.length-1,1e9,x.setSelAfter(O)))}else return[HistEvent.selection([r])]}function popSelection(o){let r=o[o.length-1],x=o.slice();return x[o.length-1]=r.setSelAfter(r.selectionsAfter.slice(0,r.selectionsAfter.length-1)),x}function addMappingToBranch(o,r){if(!o.length)return o;let x=o.length,O=none$1;for(;x;){let E=mapEvent(o[x-1],r,O);if(E.changes&&!E.changes.empty||E.effects.length){let y=o.slice(0,x);return y[x-1]=E,y}else r=E.mapped,x--,O=E.selectionsAfter}return O.length?[HistEvent.selection(O)]:none$1}function mapEvent(o,r,x){let O=conc(o.selectionsAfter.length?o.selectionsAfter.map(j=>j.map(r)):none$1,x);if(!o.changes)return HistEvent.selection(O);let E=o.changes.map(r),y=r.mapDesc(o.changes,!0),S=o.mapped?o.mapped.composeDesc(y):y;return new HistEvent(E,StateEffect.mapEffects(o.effects,r),S,o.startSelection.map(y),O)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(r,x,O=0,E=void 0){this.done=r,this.undone=x,this.prevTime=O,this.prevUserEvent=E}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(r,x,O,E,y){let S=this.done,j=S[S.length-1];return j&&j.changes&&!j.changes.empty&&r.changes&&(!O||joinableUserEvent.test(O))&&(!j.selectionsAfter.length&&x-this.prevTime<E.newGroupDelay&&E.joinToEvent(y,isAdjacent(j.changes,r.changes))||O=="input.type.compose")?S=updateBranch(S,S.length-1,E.minDepth,new HistEvent(r.changes.compose(j.changes),conc(StateEffect.mapEffects(r.effects,j.changes),j.effects),j.mapped,j.startSelection,none$1)):S=updateBranch(S,S.length,E.minDepth,r),new HistoryState(S,none$1,x,O)}addSelection(r,x,O,E){let y=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return y.length>0&&x-this.prevTime<E&&O==this.prevUserEvent&&O&&/^select($|\.)/.test(O)&&eqSelectionShape(y[y.length-1],r)?this:new HistoryState(addSelection(this.done,r),this.undone,x,O)}addMapping(r){return new HistoryState(addMappingToBranch(this.done,r),addMappingToBranch(this.undone,r),this.prevTime,this.prevUserEvent)}pop(r,x,O){let E=r==0?this.done:this.undone;if(E.length==0)return null;let y=E[E.length-1],S=y.selectionsAfter[0]||(y.startSelection?y.startSelection.map(y.changes.invertedDesc,1):x.selection);if(O&&y.selectionsAfter.length)return x.update({selection:y.selectionsAfter[y.selectionsAfter.length-1],annotations:fromHistory.of({side:r,rest:popSelection(E),selection:S}),userEvent:r==0?"select.undo":"select.redo",scrollIntoView:!0});if(y.changes){let j=E.length==1?none$1:E.slice(0,E.length-1);return y.mapped&&(j=addMappingToBranch(j,y.mapped)),x.update({changes:y.changes,selection:y.startSelection,effects:y.effects,annotations:fromHistory.of({side:r,rest:j,selection:S}),filter:!1,userEvent:r==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(o,r){return EditorSelection.create(o.ranges.map(r),o.mainIndex)}function setSel(o,r){return o.update({selection:r,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:o,dispatch:r},x){let O=updateSel(o.selection,x);return O.eq(o.selection,!0)?!1:(r(setSel(o,O)),!0)}function rangeEnd(o,r){return EditorSelection.cursor(r?o.to:o.from)}function cursorByChar(o,r){return moveSel(o,x=>x.empty?o.moveByChar(x,r):rangeEnd(x,r))}function ltrAtCursor(o){return o.textDirectionAt(o.state.selection.main.head)==Direction.LTR}const cursorCharLeft=o=>cursorByChar(o,!ltrAtCursor(o)),cursorCharRight=o=>cursorByChar(o,ltrAtCursor(o));function cursorByGroup(o,r){return moveSel(o,x=>x.empty?o.moveByGroup(x,r):rangeEnd(x,r))}const cursorGroupLeft=o=>cursorByGroup(o,!ltrAtCursor(o)),cursorGroupRight=o=>cursorByGroup(o,ltrAtCursor(o));function interestingNode(o,r,x){if(r.type.prop(x))return!0;let O=r.to-r.from;return O&&(O>2||/[^\s,.;:]/.test(o.sliceDoc(r.from,r.to)))||r.firstChild}function moveBySyntax(o,r,x){let O=syntaxTree(o).resolveInner(r.head),E=x?NodeProp.closedBy:NodeProp.openedBy;for(let w=r.head;;){let _=x?O.childAfter(w):O.childBefore(w);if(!_)break;interestingNode(o,_,E)?O=_:w=x?_.to:_.from}let y=O.type.prop(E),S,j;return y&&(S=x?matchBrackets(o,O.from,1):matchBrackets(o,O.to,-1))&&S.matched?j=x?S.end.to:S.end.from:j=x?O.to:O.from,EditorSelection.cursor(j,x?-1:1)}const cursorSyntaxLeft=o=>moveSel(o,r=>moveBySyntax(o.state,r,!ltrAtCursor(o))),cursorSyntaxRight=o=>moveSel(o,r=>moveBySyntax(o.state,r,ltrAtCursor(o)));function cursorByLine(o,r){return moveSel(o,x=>{if(!x.empty)return rangeEnd(x,r);let O=o.moveVertically(x,r);return O.head!=x.head?O:o.moveToLineBoundary(x,r)})}const cursorLineUp=o=>cursorByLine(o,!1),cursorLineDown=o=>cursorByLine(o,!0);function pageInfo(o){let r=o.scrollDOM.clientHeight<o.scrollDOM.scrollHeight-2,x=0,O=0,E;if(r){for(let y of o.state.facet(EditorView.scrollMargins)){let S=y(o);S!=null&&S.top&&(x=Math.max(S==null?void 0:S.top,x)),S!=null&&S.bottom&&(O=Math.max(S==null?void 0:S.bottom,O))}E=o.scrollDOM.clientHeight-x-O}else E=(o.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:x,marginBottom:O,selfScroll:r,height:Math.max(o.defaultLineHeight,E-5)}}function cursorByPage(o,r){let x=pageInfo(o),{state:O}=o,E=updateSel(O.selection,S=>S.empty?o.moveVertically(S,r,x.height):rangeEnd(S,r));if(E.eq(O.selection))return!1;let y;if(x.selfScroll){let S=o.coordsAtPos(O.selection.main.head),j=o.scrollDOM.getBoundingClientRect(),w=j.top+x.marginTop,_=j.bottom-x.marginBottom;S&&S.top>w&&S.bottom<_&&(y=EditorView.scrollIntoView(E.main.head,{y:"start",yMargin:S.top-w}))}return o.dispatch(setSel(O,E),{effects:y}),!0}const cursorPageUp=o=>cursorByPage(o,!1),cursorPageDown=o=>cursorByPage(o,!0);function moveByLineBoundary(o,r,x){let O=o.lineBlockAt(r.head),E=o.moveToLineBoundary(r,x);if(E.head==r.head&&E.head!=(x?O.to:O.from)&&(E=o.moveToLineBoundary(r,x,!1)),!x&&E.head==O.from&&O.length){let y=/^\s*/.exec(o.state.sliceDoc(O.from,Math.min(O.from+100,O.to)))[0].length;y&&r.head!=O.from+y&&(E=EditorSelection.cursor(O.from+y))}return E}const cursorLineBoundaryForward=o=>moveSel(o,r=>moveByLineBoundary(o,r,!0)),cursorLineBoundaryBackward=o=>moveSel(o,r=>moveByLineBoundary(o,r,!1)),cursorLineBoundaryLeft=o=>moveSel(o,r=>moveByLineBoundary(o,r,!ltrAtCursor(o))),cursorLineBoundaryRight=o=>moveSel(o,r=>moveByLineBoundary(o,r,ltrAtCursor(o))),cursorLineStart=o=>moveSel(o,r=>EditorSelection.cursor(o.lineBlockAt(r.head).from,1)),cursorLineEnd=o=>moveSel(o,r=>EditorSelection.cursor(o.lineBlockAt(r.head).to,-1));function toMatchingBracket(o,r,x){let O=!1,E=updateSel(o.selection,y=>{let S=matchBrackets(o,y.head,-1)||matchBrackets(o,y.head,1)||y.head>0&&matchBrackets(o,y.head-1,1)||y.head<o.doc.length&&matchBrackets(o,y.head+1,-1);if(!S||!S.end)return y;O=!0;let j=S.start.from==y.head?S.end.to:S.end.from;return EditorSelection.cursor(j)});return O?(r(setSel(o,E)),!0):!1}const cursorMatchingBracket=({state:o,dispatch:r})=>toMatchingBracket(o,r);function extendSel(o,r){let x=updateSel(o.state.selection,O=>{let E=r(O);return EditorSelection.range(O.anchor,E.head,E.goalColumn,E.bidiLevel||void 0)});return x.eq(o.state.selection)?!1:(o.dispatch(setSel(o.state,x)),!0)}function selectByChar(o,r){return extendSel(o,x=>o.moveByChar(x,r))}const selectCharLeft=o=>selectByChar(o,!ltrAtCursor(o)),selectCharRight=o=>selectByChar(o,ltrAtCursor(o));function selectByGroup(o,r){return extendSel(o,x=>o.moveByGroup(x,r))}const selectGroupLeft=o=>selectByGroup(o,!ltrAtCursor(o)),selectGroupRight=o=>selectByGroup(o,ltrAtCursor(o)),selectSyntaxLeft=o=>extendSel(o,r=>moveBySyntax(o.state,r,!ltrAtCursor(o))),selectSyntaxRight=o=>extendSel(o,r=>moveBySyntax(o.state,r,ltrAtCursor(o)));function selectByLine(o,r){return extendSel(o,x=>o.moveVertically(x,r))}const selectLineUp=o=>selectByLine(o,!1),selectLineDown=o=>selectByLine(o,!0);function selectByPage(o,r){return extendSel(o,x=>o.moveVertically(x,r,pageInfo(o).height))}const selectPageUp=o=>selectByPage(o,!1),selectPageDown=o=>selectByPage(o,!0),selectLineBoundaryForward=o=>extendSel(o,r=>moveByLineBoundary(o,r,!0)),selectLineBoundaryBackward=o=>extendSel(o,r=>moveByLineBoundary(o,r,!1)),selectLineBoundaryLeft=o=>extendSel(o,r=>moveByLineBoundary(o,r,!ltrAtCursor(o))),selectLineBoundaryRight=o=>extendSel(o,r=>moveByLineBoundary(o,r,ltrAtCursor(o))),selectLineStart=o=>extendSel(o,r=>EditorSelection.cursor(o.lineBlockAt(r.head).from)),selectLineEnd=o=>extendSel(o,r=>EditorSelection.cursor(o.lineBlockAt(r.head).to)),cursorDocStart=({state:o,dispatch:r})=>(r(setSel(o,{anchor:0})),!0),cursorDocEnd=({state:o,dispatch:r})=>(r(setSel(o,{anchor:o.doc.length})),!0),selectDocStart=({state:o,dispatch:r})=>(r(setSel(o,{anchor:o.selection.main.anchor,head:0})),!0),selectDocEnd=({state:o,dispatch:r})=>(r(setSel(o,{anchor:o.selection.main.anchor,head:o.doc.length})),!0),selectAll=({state:o,dispatch:r})=>(r(o.update({selection:{anchor:0,head:o.doc.length},userEvent:"select"})),!0),selectLine=({state:o,dispatch:r})=>{let x=selectedLineBlocks(o).map(({from:O,to:E})=>EditorSelection.range(O,Math.min(E+1,o.doc.length)));return r(o.update({selection:EditorSelection.create(x),userEvent:"select"})),!0},selectParentSyntax=({state:o,dispatch:r})=>{let x=updateSel(o.selection,O=>{let E=syntaxTree(o),y=E.resolveStack(O.from,1);if(O.empty){let S=E.resolveStack(O.from,-1);S.node.from>=y.node.from&&S.node.to<=y.node.to&&(y=S)}for(let S=y;S;S=S.next){let{node:j}=S;if((j.from<O.from&&j.to>=O.to||j.to>O.to&&j.from<=O.from)&&S.next)return EditorSelection.range(j.to,j.from)}return O});return x.eq(o.selection)?!1:(r(setSel(o,x)),!0)};function addCursorVertically(o,r){let{state:x}=o,O=x.selection,E=x.selection.ranges.slice();for(let y of x.selection.ranges){let S=x.doc.lineAt(y.head);if(r?S.to<o.state.doc.length:S.from>0)for(let j=y;;){let w=o.moveVertically(j,r);if(w.head<S.from||w.head>S.to){E.some(_=>_.head==w.head)||E.push(w);break}else{if(w.head==j.head)break;j=w}}}return E.length==O.ranges.length?!1:(o.dispatch(setSel(x,EditorSelection.create(E,E.length-1))),!0)}const addCursorAbove=o=>addCursorVertically(o,!1),addCursorBelow=o=>addCursorVertically(o,!0),simplifySelection=({state:o,dispatch:r})=>{let x=o.selection,O=null;return x.ranges.length>1?O=EditorSelection.create([x.main]):x.main.empty||(O=EditorSelection.create([EditorSelection.cursor(x.main.head)])),O?(r(setSel(o,O)),!0):!1};function deleteBy(o,r){if(o.state.readOnly)return!1;let x="delete.selection",{state:O}=o,E=O.changeByRange(y=>{let{from:S,to:j}=y;if(S==j){let w=r(y);w<S?(x="delete.backward",w=skipAtomic(o,w,!1)):w>S&&(x="delete.forward",w=skipAtomic(o,w,!0)),S=Math.min(S,w),j=Math.max(j,w)}else S=skipAtomic(o,S,!1),j=skipAtomic(o,j,!0);return S==j?{range:y}:{changes:{from:S,to:j},range:EditorSelection.cursor(S,S<y.head?-1:1)}});return E.changes.empty?!1:(o.dispatch(O.update(E,{scrollIntoView:!0,userEvent:x,effects:x=="delete.selection"?EditorView.announce.of(O.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(o,r,x){if(o instanceof EditorView)for(let O of o.state.facet(EditorView.atomicRanges).map(E=>E(o)))O.between(r,r,(E,y)=>{E<r&&y>r&&(r=x?y:E)});return r}const deleteByChar=(o,r,x)=>deleteBy(o,O=>{let E=O.from,{state:y}=o,S=y.doc.lineAt(E),j,w;if(x&&!r&&E>S.from&&E<S.from+200&&!/[^ \t]/.test(j=S.text.slice(0,E-S.from))){if(j[j.length-1]=="	")return E-1;let _=countColumn(j,y.tabSize),Q=_%getIndentUnit(y)||getIndentUnit(y);for(let I=0;I<Q&&j[j.length-1-I]==" ";I++)E--;w=E}else w=findClusterBreak(S.text,E-S.from,r,r)+S.from,w==E&&S.number!=(r?y.doc.lines:1)?w+=r?1:-1:!r&&/[\ufe00-\ufe0f]/.test(S.text.slice(w-S.from,E-S.from))&&(w=findClusterBreak(S.text,w-S.from,!1,!1)+S.from);return w}),deleteCharBackward=o=>deleteByChar(o,!1,!0),deleteCharForward=o=>deleteByChar(o,!0,!1),deleteByGroup=(o,r)=>deleteBy(o,x=>{let O=x.head,{state:E}=o,y=E.doc.lineAt(O),S=E.charCategorizer(O);for(let j=null;;){if(O==(r?y.to:y.from)){O==x.head&&y.number!=(r?E.doc.lines:1)&&(O+=r?1:-1);break}let w=findClusterBreak(y.text,O-y.from,r)+y.from,_=y.text.slice(Math.min(O,w)-y.from,Math.max(O,w)-y.from),Q=S(_);if(j!=null&&Q!=j)break;(_!=" "||O!=x.head)&&(j=Q),O=w}return O}),deleteGroupBackward=o=>deleteByGroup(o,!1),deleteGroupForward=o=>deleteByGroup(o,!0),deleteToLineEnd=o=>deleteBy(o,r=>{let x=o.lineBlockAt(r.head).to;return r.head<x?x:Math.min(o.state.doc.length,r.head+1)}),deleteLineBoundaryBackward=o=>deleteBy(o,r=>{let x=o.moveToLineBoundary(r,!1).head;return r.head>x?x:Math.max(0,r.head-1)}),deleteLineBoundaryForward=o=>deleteBy(o,r=>{let x=o.moveToLineBoundary(r,!0).head;return r.head<x?x:Math.min(o.state.doc.length,r.head+1)}),splitLine=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let x=o.changeByRange(O=>({changes:{from:O.from,to:O.to,insert:Text.of(["",""])},range:EditorSelection.cursor(O.from)}));return r(o.update(x,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let x=o.changeByRange(O=>{if(!O.empty||O.from==0||O.from==o.doc.length)return{range:O};let E=O.from,y=o.doc.lineAt(E),S=E==y.from?E-1:findClusterBreak(y.text,E-y.from,!1)+y.from,j=E==y.to?E+1:findClusterBreak(y.text,E-y.from,!0)+y.from;return{changes:{from:S,to:j,insert:o.doc.slice(E,j).append(o.doc.slice(S,E))},range:EditorSelection.cursor(j)}});return x.changes.empty?!1:(r(o.update(x,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(o){let r=[],x=-1;for(let O of o.selection.ranges){let E=o.doc.lineAt(O.from),y=o.doc.lineAt(O.to);if(!O.empty&&O.to==y.from&&(y=o.doc.lineAt(O.to-1)),x>=E.number){let S=r[r.length-1];S.to=y.to,S.ranges.push(O)}else r.push({from:E.from,to:y.to,ranges:[O]});x=y.number+1}return r}function moveLine(o,r,x){if(o.readOnly)return!1;let O=[],E=[];for(let y of selectedLineBlocks(o)){if(x?y.to==o.doc.length:y.from==0)continue;let S=o.doc.lineAt(x?y.to+1:y.from-1),j=S.length+1;if(x){O.push({from:y.to,to:S.to},{from:y.from,insert:S.text+o.lineBreak});for(let w of y.ranges)E.push(EditorSelection.range(Math.min(o.doc.length,w.anchor+j),Math.min(o.doc.length,w.head+j)))}else{O.push({from:S.from,to:y.from},{from:y.to,insert:o.lineBreak+S.text});for(let w of y.ranges)E.push(EditorSelection.range(w.anchor-j,w.head-j))}}return O.length?(r(o.update({changes:O,scrollIntoView:!0,selection:EditorSelection.create(E,o.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:o,dispatch:r})=>moveLine(o,r,!1),moveLineDown=({state:o,dispatch:r})=>moveLine(o,r,!0);function copyLine(o,r,x){if(o.readOnly)return!1;let O=[];for(let y of selectedLineBlocks(o))x?O.push({from:y.from,insert:o.doc.slice(y.from,y.to)+o.lineBreak}):O.push({from:y.to,insert:o.lineBreak+o.doc.slice(y.from,y.to)});let E=o.changes(O);return r(o.update({changes:E,selection:o.selection.map(E,x?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:o,dispatch:r})=>copyLine(o,r,!1),copyLineDown=({state:o,dispatch:r})=>copyLine(o,r,!0),deleteLine=o=>{if(o.state.readOnly)return!1;let{state:r}=o,x=r.changes(selectedLineBlocks(r).map(({from:E,to:y})=>(E>0?E--:y<r.doc.length&&y++,{from:E,to:y}))),O=updateSel(r.selection,E=>{let y;if(o.lineWrapping){let S=o.lineBlockAt(E.head),j=o.coordsAtPos(E.head,E.assoc||1);j&&(y=S.bottom+o.documentTop-j.bottom+o.defaultLineHeight/2)}return o.moveVertically(E,!0,y)}).map(x);return o.dispatch({changes:x,selection:O,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(o,r){if(/\(\)|\[\]|\{\}/.test(o.sliceDoc(r-1,r+1)))return{from:r,to:r};let x=syntaxTree(o).resolveInner(r),O=x.childBefore(r),E=x.childAfter(r),y;return O&&E&&O.to<=r&&E.from>=r&&(y=O.type.prop(NodeProp.closedBy))&&y.indexOf(E.name)>-1&&o.doc.lineAt(O.to).from==o.doc.lineAt(E.from).from&&!/\S/.test(o.sliceDoc(O.to,E.from))?{from:O.to,to:E.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(o){return({state:r,dispatch:x})=>{if(r.readOnly)return!1;let O=r.changeByRange(E=>{let{from:y,to:S}=E,j=r.doc.lineAt(y),w=!o&&y==S&&isBetweenBrackets(r,y);o&&(y=S=(S<=j.to?j:r.doc.lineAt(S)).to);let _=new IndentContext(r,{simulateBreak:y,simulateDoubleBreak:!!w}),Q=getIndentation(_,y);for(Q==null&&(Q=countColumn(/^\s*/.exec(r.doc.lineAt(y).text)[0],r.tabSize));S<j.to&&/\s/.test(j.text[S-j.from]);)S++;w?{from:y,to:S}=w:y>j.from&&y<j.from+100&&!/\S/.test(j.text.slice(0,y))&&(y=j.from);let I=["",indentString(r,Q)];return w&&I.push(indentString(r,_.lineIndent(j.from,-1))),{changes:{from:y,to:S,insert:Text.of(I)},range:EditorSelection.cursor(y+1+I[1].length)}});return x(r.update(O,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(o,r){let x=-1;return o.changeByRange(O=>{let E=[];for(let S=O.from;S<=O.to;){let j=o.doc.lineAt(S);j.number>x&&(O.empty||O.to>j.from)&&(r(j,E,O),x=j.number),S=j.to+1}let y=o.changes(E);return{changes:E,range:EditorSelection.range(y.mapPos(O.anchor,1),y.mapPos(O.head,1))}})}const indentSelection=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let x=Object.create(null),O=new IndentContext(o,{overrideIndentation:y=>{let S=x[y];return S??-1}}),E=changeBySelectedLine(o,(y,S,j)=>{let w=getIndentation(O,y.from);if(w==null)return;/\S/.test(y.text)||(w=0);let _=/^\s*/.exec(y.text)[0],Q=indentString(o,w);(_!=Q||j.from<y.from+_.length)&&(x[y.from]=w,S.push({from:y.from,to:y.from+_.length,insert:Q}))});return E.changes.empty||r(o.update(E,{userEvent:"indent"})),!0},indentMore=({state:o,dispatch:r})=>o.readOnly?!1:(r(o.update(changeBySelectedLine(o,(x,O)=>{O.push({from:x.from,insert:o.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:o,dispatch:r})=>o.readOnly?!1:(r(o.update(changeBySelectedLine(o,(x,O)=>{let E=/^\s*/.exec(x.text)[0];if(!E)return;let y=countColumn(E,o.tabSize),S=0,j=indentString(o,Math.max(0,y-getIndentUnit(o)));for(;S<E.length&&S<j.length&&E.charCodeAt(S)==j.charCodeAt(S);)S++;O.push({from:x.from+S,to:x.from+E.length,insert:j.slice(S)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=o=>(o.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward,preventDefault:!0},{key:"Delete",run:deleteCharForward,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward,preventDefault:!0},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward,preventDefault:!0},{mac:"Mod-Delete",run:deleteLineBoundaryForward,preventDefault:!0}].concat(emacsStyleKeymap.map(o=>({mac:o.key,run:o.run,shift:o.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Mod-Alt-ArrowUp",run:addCursorAbove},{key:"Mod-Alt-ArrowDown",run:addCursorBelow},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),basicNormalize=typeof String.prototype.normalize=="function"?o=>o.normalize("NFKD"):o=>o;class SearchCursor{constructor(r,x,O=0,E=r.length,y,S){this.test=S,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=r.iterRange(O,E),this.bufferStart=O,this.normalize=y?j=>y(basicNormalize(j)):basicNormalize,this.query=this.normalize(x)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let r=this.peek();if(r<0)return this.done=!0,this;let x=fromCodePoint(r),O=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(r);let E=this.normalize(x);if(E.length)for(let y=0,S=O;;y++){let j=E.charCodeAt(y),w=this.match(j,S,this.bufferPos+this.bufferStart);if(y==E.length-1){if(w)return this.value=w,this;break}S==O&&y<x.length&&x.charCodeAt(y)==j&&S++}}}match(r,x,O){let E=null;for(let y=0;y<this.matches.length;y+=2){let S=this.matches[y],j=!1;this.query.charCodeAt(S)==r&&(S==this.query.length-1?E={from:this.matches[y+1],to:O}:(this.matches[y]++,j=!0)),j||(this.matches.splice(y,2),y-=2)}return this.query.charCodeAt(0)==r&&(this.query.length==1?E={from:x,to:O}:this.matches.push(1,x)),E&&this.test&&!this.test(E.from,E.to,this.buffer,this.bufferStart)&&(E=null),E}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(r,x,O,E=0,y=r.length){if(this.text=r,this.to=y,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(x))return new MultilineRegExpCursor(r,x,O,E,y);this.re=new RegExp(x,baseFlags+(O!=null&&O.ignoreCase?"i":"")),this.test=O==null?void 0:O.test,this.iter=r.iter();let S=r.lineAt(E);this.curLineStart=S.from,this.matchPos=toCharEnd(r,E),this.getLine(this.curLineStart)}getLine(r){this.iter.next(r),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let r=this.matchPos-this.curLineStart;;){this.re.lastIndex=r;let x=this.matchPos<=this.to&&this.re.exec(this.curLine);if(x){let O=this.curLineStart+x.index,E=O+x[0].length;if(this.matchPos=toCharEnd(this.text,E+(O==E?1:0)),O==this.curLineStart+this.curLine.length&&this.nextLine(),(O<E||O>this.value.to)&&(!this.test||this.test(O,E,x)))return this.value={from:O,to:E,match:x},this;r=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),r=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(r,x){this.from=r,this.text=x}get to(){return this.from+this.text.length}static get(r,x,O){let E=flattened.get(r);if(!E||E.from>=O||E.to<=x){let j=new FlattenedDoc(x,r.sliceString(x,O));return flattened.set(r,j),j}if(E.from==x&&E.to==O)return E;let{text:y,from:S}=E;return S>x&&(y=r.sliceString(x,S)+y,S=x),E.to<O&&(y+=r.sliceString(E.to,O)),flattened.set(r,new FlattenedDoc(S,y)),new FlattenedDoc(x,y.slice(x-S,O-S))}}class MultilineRegExpCursor{constructor(r,x,O,E,y){this.text=r,this.to=y,this.done=!1,this.value=empty,this.matchPos=toCharEnd(r,E),this.re=new RegExp(x,baseFlags+(O!=null&&O.ignoreCase?"i":"")),this.test=O==null?void 0:O.test,this.flat=FlattenedDoc.get(r,E,this.chunkEnd(E+5e3))}chunkEnd(r){return r>=this.to?this.to:this.text.lineAt(r).to}next(){for(;;){let r=this.re.lastIndex=this.matchPos-this.flat.from,x=this.re.exec(this.flat.text);if(x&&!x[0]&&x.index==r&&(this.re.lastIndex=r+1,x=this.re.exec(this.flat.text)),x){let O=this.flat.from+x.index,E=O+x[0].length;if((this.flat.to>=this.to||x.index+x[0].length<=this.flat.text.length-10)&&(!this.test||this.test(O,E,x)))return this.value={from:O,to:E,match:x},this.matchPos=toCharEnd(this.text,E+(O==E?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(o){try{return new RegExp(o,baseFlags),!0}catch{return!1}}function toCharEnd(o,r){if(r>=o.length)return r;let x=o.lineAt(r),O;for(;r<x.to&&(O=x.text.charCodeAt(r-x.from))>=56320&&O<57344;)r++;return r}const gotoLine=o=>{let{state:r}=o,x=String(r.doc.lineAt(o.state.selection.main.head).number),{close:O,result:E}=showDialog(o,{label:r.phrase("Go to line"),input:{type:"text",name:"line",value:x},focus:!0,submitLabel:r.phrase("go")});return E.then(y=>{let S=y&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(y.elements.line.value);if(!S){o.dispatch({effects:O});return}let j=r.doc.lineAt(r.selection.main.head),[,w,_,Q,I]=S,M=Q?+Q.slice(1):0,F=_?+_:j.number;if(_&&I){let re=F/100;w&&(re=re*(w=="-"?-1:1)+j.number/r.doc.lines),F=Math.round(r.doc.lines*re)}else _&&w&&(F=F*(w=="-"?-1:1)+j.number);let V=r.doc.line(Math.max(1,Math.min(r.doc.lines,F))),te=EditorSelection.cursor(V.from+Math.max(0,Math.min(M,V.length)));o.dispatch({effects:[O,EditorView.scrollIntoView(te.from,{y:"center"})],selection:te})}),!0},defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(o){return combineConfig(o,defaultHighlightOptions,{highlightWordAroundCursor:(r,x)=>r||x,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(o){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(o,r,x,O){return(x==0||o(r.sliceDoc(x-1,x))!=CharCategory.Word)&&(O==r.doc.length||o(r.sliceDoc(O,O+1))!=CharCategory.Word)}function insideWord(o,r,x,O){return o(r.sliceDoc(x,x+1))==CharCategory.Word&&o(r.sliceDoc(O-1,O))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.selectionSet||o.docChanged||o.viewportChanged)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let r=o.state.facet(highlightConfig),{state:x}=o,O=x.selection;if(O.ranges.length>1)return Decoration.none;let E=O.main,y,S=null;if(E.empty){if(!r.highlightWordAroundCursor)return Decoration.none;let w=x.wordAt(E.head);if(!w)return Decoration.none;S=x.charCategorizer(E.head),y=x.sliceDoc(w.from,w.to)}else{let w=E.to-E.from;if(w<r.minSelectionLength||w>200)return Decoration.none;if(r.wholeWords){if(y=x.sliceDoc(E.from,E.to),S=x.charCategorizer(E.head),!(insideWordBoundaries(S,x,E.from,E.to)&&insideWord(S,x,E.from,E.to)))return Decoration.none}else if(y=x.sliceDoc(E.from,E.to),!y)return Decoration.none}let j=[];for(let w of o.visibleRanges){let _=new SearchCursor(x.doc,y,w.from,w.to);for(;!_.next().done;){let{from:Q,to:I}=_.value;if((!S||insideWordBoundaries(S,x,Q,I))&&(E.empty&&Q<=E.from&&I>=E.to?j.push(mainMatchDeco.range(Q,I)):(Q>=E.to||I<=E.from)&&j.push(matchDeco.range(Q,I)),j.length>r.maxMatches))return Decoration.none}}return Decoration.set(j)}},{decorations:o=>o.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:o,dispatch:r})=>{let{selection:x}=o,O=EditorSelection.create(x.ranges.map(E=>o.wordAt(E.head)||EditorSelection.cursor(E.head)),x.mainIndex);return O.eq(x)?!1:(r(o.update({selection:O})),!0)};function findNextOccurrence(o,r){let{main:x,ranges:O}=o.selection,E=o.wordAt(x.head),y=E&&E.from==x.from&&E.to==x.to;for(let S=!1,j=new SearchCursor(o.doc,r,O[O.length-1].to);;)if(j.next(),j.done){if(S)return null;j=new SearchCursor(o.doc,r,0,Math.max(0,O[O.length-1].from-1)),S=!0}else{if(S&&O.some(w=>w.from==j.value.from))continue;if(y){let w=o.wordAt(j.value.from);if(!w||w.from!=j.value.from||w.to!=j.value.to)continue}return j.value}}const selectNextOccurrence=({state:o,dispatch:r})=>{let{ranges:x}=o.selection;if(x.some(y=>y.from===y.to))return selectWord({state:o,dispatch:r});let O=o.sliceDoc(x[0].from,x[0].to);if(o.selection.ranges.some(y=>o.sliceDoc(y.from,y.to)!=O))return!1;let E=findNextOccurrence(o,O);return E?(r(o.update({selection:o.selection.addRange(EditorSelection.range(E.from,E.to),!1),effects:EditorView.scrollIntoView(E.to)})),!0):!1},searchConfigFacet=Facet.define({combine(o){return combineConfig(o,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:r=>new SearchPanel(r),scrollToMatch:r=>EditorView.scrollIntoView(r)})}});class SearchQuery{constructor(r){this.search=r.search,this.caseSensitive=!!r.caseSensitive,this.literal=!!r.literal,this.regexp=!!r.regexp,this.replace=r.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!r.wholeWord,this.test=r.test}unquote(r){return this.literal?r:r.replace(/\\([nrt\\])/g,(x,O)=>O=="n"?`
`:O=="r"?"\r":O=="t"?"	":"\\")}eq(r){return this.search==r.search&&this.replace==r.replace&&this.caseSensitive==r.caseSensitive&&this.regexp==r.regexp&&this.wholeWord==r.wholeWord&&this.test==r.test}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(r,x=0,O){let E=r.doc?r:EditorState.create({doc:r});return O==null&&(O=E.doc.length),this.regexp?regexpCursor(this,E,x,O):stringCursor(this,E,x,O)}}class QueryType{constructor(r){this.spec=r}}function wrapStringTest(o,r,x){return(O,E,y,S)=>{if(x&&!x(O,E,y,S))return!1;let j=O>=S&&E<=S+y.length?y.slice(O-S,E-S):r.doc.sliceString(O,E);return o(j,r,O,E)}}function stringCursor(o,r,x,O){let E;return o.wholeWord&&(E=stringWordTest(r.doc,r.charCategorizer(r.selection.main.head))),o.test&&(E=wrapStringTest(o.test,r,E)),new SearchCursor(r.doc,o.unquoted,x,O,o.caseSensitive?void 0:y=>y.toLowerCase(),E)}function stringWordTest(o,r){return(x,O,E,y)=>((y>x||y+E.length<O)&&(y=Math.max(0,x-2),E=o.sliceString(y,Math.min(o.length,O+2))),(r(charBefore(E,x-y))!=CharCategory.Word||r(charAfter(E,x-y))!=CharCategory.Word)&&(r(charAfter(E,O-y))!=CharCategory.Word||r(charBefore(E,O-y))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(r){super(r)}nextMatch(r,x,O){let E=stringCursor(this.spec,r,O,r.doc.length).nextOverlapping();if(E.done){let y=Math.min(r.doc.length,x+this.spec.unquoted.length);E=stringCursor(this.spec,r,0,y).nextOverlapping()}return E.done||E.value.from==x&&E.value.to==O?null:E.value}prevMatchInRange(r,x,O){for(let E=O;;){let y=Math.max(x,E-1e4-this.spec.unquoted.length),S=stringCursor(this.spec,r,y,E),j=null;for(;!S.nextOverlapping().done;)j=S.value;if(j)return j;if(y==x)return null;E-=1e4}}prevMatch(r,x,O){let E=this.prevMatchInRange(r,0,x);return E||(E=this.prevMatchInRange(r,Math.max(0,O-this.spec.unquoted.length),r.doc.length)),E&&(E.from!=x||E.to!=O)?E:null}getReplacement(r){return this.spec.unquote(this.spec.replace)}matchAll(r,x){let O=stringCursor(this.spec,r,0,r.doc.length),E=[];for(;!O.next().done;){if(E.length>=x)return null;E.push(O.value)}return E}highlight(r,x,O,E){let y=stringCursor(this.spec,r,Math.max(0,x-this.spec.unquoted.length),Math.min(O+this.spec.unquoted.length,r.doc.length));for(;!y.next().done;)E(y.value.from,y.value.to)}}function wrapRegexpTest(o,r,x){return(O,E,y)=>(!x||x(O,E,y))&&o(y[0],r,O,E)}function regexpCursor(o,r,x,O){let E;return o.wholeWord&&(E=regexpWordTest(r.charCategorizer(r.selection.main.head))),o.test&&(E=wrapRegexpTest(o.test,r,E)),new RegExpCursor(r.doc,o.search,{ignoreCase:!o.caseSensitive,test:E},x,O)}function charBefore(o,r){return o.slice(findClusterBreak(o,r,!1),r)}function charAfter(o,r){return o.slice(r,findClusterBreak(o,r))}function regexpWordTest(o){return(r,x,O)=>!O[0].length||(o(charBefore(O.input,O.index))!=CharCategory.Word||o(charAfter(O.input,O.index))!=CharCategory.Word)&&(o(charAfter(O.input,O.index+O[0].length))!=CharCategory.Word||o(charBefore(O.input,O.index+O[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(r,x,O){let E=regexpCursor(this.spec,r,O,r.doc.length).next();return E.done&&(E=regexpCursor(this.spec,r,0,x).next()),E.done?null:E.value}prevMatchInRange(r,x,O){for(let E=1;;E++){let y=Math.max(x,O-E*1e4),S=regexpCursor(this.spec,r,y,O),j=null;for(;!S.next().done;)j=S.value;if(j&&(y==x||j.from>y+10))return j;if(y==x)return null}}prevMatch(r,x,O){return this.prevMatchInRange(r,0,x)||this.prevMatchInRange(r,O,r.doc.length)}getReplacement(r){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(x,O)=>{if(O=="&")return r.match[0];if(O=="$")return"$";for(let E=O.length;E>0;E--){let y=+O.slice(0,E);if(y>0&&y<r.match.length)return r.match[y]+O.slice(E)}return x})}matchAll(r,x){let O=regexpCursor(this.spec,r,0,r.doc.length),E=[];for(;!O.next().done;){if(E.length>=x)return null;E.push(O.value)}return E}highlight(r,x,O,E){let y=regexpCursor(this.spec,r,Math.max(0,x-250),Math.min(O+250,r.doc.length));for(;!y.next().done;)E(y.value.from,y.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(o){return new SearchState(defaultQuery(o).create(),null)},update(o,r){for(let x of r.effects)x.is(setSearchQuery)?o=new SearchState(x.value.create(),o.panel):x.is(togglePanel$1)&&(o=new SearchState(o.query,x.value?createSearchPanel:null));return o},provide:o=>showPanel.from(o,r=>r.panel)});class SearchState{constructor(r,x){this.query=r,this.panel=x}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=this.highlight(o.state.field(searchState))}update(o){let r=o.state.field(searchState);(r!=o.startState.field(searchState)||o.docChanged||o.selectionSet||o.viewportChanged)&&(this.decorations=this.highlight(r))}highlight({query:o,panel:r}){if(!r||!o.spec.valid)return Decoration.none;let{view:x}=this,O=new RangeSetBuilder;for(let E=0,y=x.visibleRanges,S=y.length;E<S;E++){let{from:j,to:w}=y[E];for(;E<S-1&&w>y[E+1].from-2*250;)w=y[++E].to;o.highlight(x.state,j,w,(_,Q)=>{let I=x.state.selection.ranges.some(M=>M.from==_&&M.to==Q);O.add(_,Q,I?selectedMatchMark:matchMark)})}return O.finish()}},{decorations:o=>o.decorations});function searchCommand(o){return r=>{let x=r.state.field(searchState,!1);return x&&x.query.spec.valid?o(r,x):openSearchPanel(r)}}const findNext=searchCommand((o,{query:r})=>{let{to:x}=o.state.selection.main,O=r.nextMatch(o.state,x,x);if(!O)return!1;let E=EditorSelection.single(O.from,O.to),y=o.state.facet(searchConfigFacet);return o.dispatch({selection:E,effects:[announceMatch(o,O),y.scrollToMatch(E.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),findPrevious=searchCommand((o,{query:r})=>{let{state:x}=o,{from:O}=x.selection.main,E=r.prevMatch(x,O,O);if(!E)return!1;let y=EditorSelection.single(E.from,E.to),S=o.state.facet(searchConfigFacet);return o.dispatch({selection:y,effects:[announceMatch(o,E),S.scrollToMatch(y.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),selectMatches=searchCommand((o,{query:r})=>{let x=r.matchAll(o.state,1e3);return!x||!x.length?!1:(o.dispatch({selection:EditorSelection.create(x.map(O=>EditorSelection.range(O.from,O.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:o,dispatch:r})=>{let x=o.selection;if(x.ranges.length>1||x.main.empty)return!1;let{from:O,to:E}=x.main,y=[],S=0;for(let j=new SearchCursor(o.doc,o.sliceDoc(O,E));!j.next().done;){if(y.length>1e3)return!1;j.value.from==O&&(S=y.length),y.push(EditorSelection.range(j.value.from,j.value.to))}return r(o.update({selection:EditorSelection.create(y,S),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((o,{query:r})=>{let{state:x}=o,{from:O,to:E}=x.selection.main;if(x.readOnly)return!1;let y=r.nextMatch(x,O,O);if(!y)return!1;let S=y,j=[],w,_,Q=[];S.from==O&&S.to==E&&(_=x.toText(r.getReplacement(S)),j.push({from:S.from,to:S.to,insert:_}),S=r.nextMatch(x,S.from,S.to),Q.push(EditorView.announce.of(x.phrase("replaced match on line $",x.doc.lineAt(O).number)+".")));let I=o.state.changes(j);return S&&(w=EditorSelection.single(S.from,S.to).map(I),Q.push(announceMatch(o,S)),Q.push(x.facet(searchConfigFacet).scrollToMatch(w.main,o))),o.dispatch({changes:I,selection:w,effects:Q,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((o,{query:r})=>{if(o.state.readOnly)return!1;let x=r.matchAll(o.state,1e9).map(E=>{let{from:y,to:S}=E;return{from:y,to:S,insert:r.getReplacement(E)}});if(!x.length)return!1;let O=o.state.phrase("replaced $ matches",x.length)+".";return o.dispatch({changes:x,effects:EditorView.announce.of(O),userEvent:"input.replace.all"}),!0});function createSearchPanel(o){return o.state.facet(searchConfigFacet).createPanel(o)}function defaultQuery(o,r){var x,O,E,y,S;let j=o.selection.main,w=j.empty||j.to>j.from+100?"":o.sliceDoc(j.from,j.to);if(r&&!w)return r;let _=o.facet(searchConfigFacet);return new SearchQuery({search:((x=r==null?void 0:r.literal)!==null&&x!==void 0?x:_.literal)?w:w.replace(/\n/g,"\\n"),caseSensitive:(O=r==null?void 0:r.caseSensitive)!==null&&O!==void 0?O:_.caseSensitive,literal:(E=r==null?void 0:r.literal)!==null&&E!==void 0?E:_.literal,regexp:(y=r==null?void 0:r.regexp)!==null&&y!==void 0?y:_.regexp,wholeWord:(S=r==null?void 0:r.wholeWord)!==null&&S!==void 0?S:_.wholeWord})}function getSearchInput(o){let r=getPanel(o,createSearchPanel);return r&&r.dom.querySelector("[main-field]")}function selectSearchInput(o){let r=getSearchInput(o);r&&r==o.root.activeElement&&r.select()}const openSearchPanel=o=>{let r=o.state.field(searchState,!1);if(r&&r.panel){let x=getSearchInput(o);if(x&&x!=o.root.activeElement){let O=defaultQuery(o.state,r.query.spec);O.valid&&o.dispatch({effects:setSearchQuery.of(O)}),x.focus(),x.select()}}else o.dispatch({effects:[togglePanel$1.of(!0),r?setSearchQuery.of(defaultQuery(o.state,r.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=o=>{let r=o.state.field(searchState,!1);if(!r||!r.panel)return!1;let x=getPanel(o,createSearchPanel);return x&&x.dom.contains(o.root.activeElement)&&o.focus(),o.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(r){this.view=r;let x=this.query=r.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:x.search,placeholder:phrase(r,"Find"),"aria-label":phrase(r,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:x.replace,placeholder:phrase(r,"Replace"),"aria-label":phrase(r,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:x.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:x.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:x.wholeWord,onchange:this.commit});function O(E,y,S){return crelt("button",{class:"cm-button",name:E,onclick:y,type:"button"},S)}this.dom=crelt("div",{onkeydown:E=>this.keydown(E),class:"cm-search"},[this.searchField,O("next",()=>findNext(r),[phrase(r,"next")]),O("prev",()=>findPrevious(r),[phrase(r,"previous")]),O("select",()=>selectMatches(r),[phrase(r,"all")]),crelt("label",null,[this.caseField,phrase(r,"match case")]),crelt("label",null,[this.reField,phrase(r,"regexp")]),crelt("label",null,[this.wordField,phrase(r,"by word")]),...r.state.readOnly?[]:[crelt("br"),this.replaceField,O("replace",()=>replaceNext(r),[phrase(r,"replace")]),O("replaceAll",()=>replaceAll(r),[phrase(r,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(r),"aria-label":phrase(r,"close"),type:"button"},["×"])])}commit(){let r=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});r.eq(this.query)||(this.query=r,this.view.dispatch({effects:setSearchQuery.of(r)}))}keydown(r){runScopeHandlers(this.view,r,"search-panel")?r.preventDefault():r.keyCode==13&&r.target==this.searchField?(r.preventDefault(),(r.shiftKey?findPrevious:findNext)(this.view)):r.keyCode==13&&r.target==this.replaceField&&(r.preventDefault(),replaceNext(this.view))}update(r){for(let x of r.transactions)for(let O of x.effects)O.is(setSearchQuery)&&!O.value.eq(this.query)&&this.setQuery(O.value)}setQuery(r){this.query=r,this.searchField.value=r.search,this.replaceField.value=r.replace,this.caseField.checked=r.caseSensitive,this.reField.checked=r.regexp,this.wordField.checked=r.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(o,r){return o.state.phrase(r)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(o,{from:r,to:x}){let O=o.state.doc.lineAt(r),E=o.state.doc.lineAt(x).to,y=Math.max(O.from,r-AnnounceMargin),S=Math.min(E,x+AnnounceMargin),j=o.state.sliceDoc(y,S);if(y!=O.from){for(let w=0;w<AnnounceMargin;w++)if(!Break.test(j[w+1])&&Break.test(j[w])){j=j.slice(w);break}}if(S!=E){for(let w=j.length-1;w>j.length-AnnounceMargin;w--)if(!Break.test(j[w-1])&&Break.test(j[w])){j=j.slice(0,w);break}}return EditorView.announce.of(`${o.state.phrase("current match")}. ${j} ${o.state.phrase("on line")} ${O.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(r,x,O,E){this.state=r,this.pos=x,this.explicit=O,this.view=E,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(r){let x=syntaxTree(this.state).resolveInner(this.pos,-1);for(;x&&r.indexOf(x.name)<0;)x=x.parent;return x?{from:x.from,to:this.pos,text:this.state.sliceDoc(x.from,this.pos),type:x.type}:null}matchBefore(r){let x=this.state.doc.lineAt(this.pos),O=Math.max(x.from,this.pos-250),E=x.text.slice(O-x.from,this.pos-x.from),y=E.search(ensureAnchor(r,!1));return y<0?null:{from:O+y,to:this.pos,text:E.slice(y)}}get aborted(){return this.abortListeners==null}addEventListener(r,x,O){r=="abort"&&this.abortListeners&&(this.abortListeners.push(x),O&&O.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(o){let r=Object.keys(o).join(""),x=/\w/.test(r);return x&&(r=r.replace(/\w/g,"")),`[${x?"\\w":""}${r.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(o){let r=Object.create(null),x=Object.create(null);for(let{label:E}of o){r[E[0]]=!0;for(let y=1;y<E.length;y++)x[E[y]]=!0}let O=toSet(r)+toSet(x)+"*$";return[new RegExp("^"+O),new RegExp(O)]}function completeFromList(o){let r=o.map(E=>typeof E=="string"?{label:E}:E),[x,O]=r.every(E=>/^\w+$/.test(E.label))?[/\w*$/,/\w+$/]:prefixMatch(r);return E=>{let y=E.matchBefore(O);return y||E.explicit?{from:y?y.from:E.pos,options:r,validFor:x}:null}}function ifNotIn(o,r){return x=>{for(let O=syntaxTree(x.state).resolveInner(x.pos,-1);O;O=O.parent){if(o.indexOf(O.name)>-1)return null;if(O.type.isTop)break}return r(x)}}class Option{constructor(r,x,O,E){this.completion=r,this.source=x,this.match=O,this.score=E}}function cur(o){return o.selection.main.from}function ensureAnchor(o,r){var x;let{source:O}=o,E=r&&O[0]!="^",y=O[O.length-1]!="$";return!E&&!y?o:new RegExp(`${E?"^":""}(?:${O})${y?"$":""}`,(x=o.flags)!==null&&x!==void 0?x:o.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(o,r,x,O){let{main:E}=o.selection,y=x-E.from,S=O-E.from;return{...o.changeByRange(j=>{if(j!=E&&x!=O&&o.sliceDoc(j.from+y,j.from+S)!=o.sliceDoc(x,O))return{range:j};let w=o.toText(r);return{changes:{from:j.from+y,to:O==E.from?j.to:j.from+S,insert:w},range:EditorSelection.cursor(j.from+y+w.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SourceCache=new WeakMap;function asSource(o){if(!Array.isArray(o))return o;let r=SourceCache.get(o);return r||SourceCache.set(o,r=completeFromList(o)),r}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(r){this.pattern=r,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let x=0;x<r.length;){let O=codePointAt(r,x),E=codePointSize(O);this.chars.push(O);let y=r.slice(x,x+E),S=y.toUpperCase();this.folded.push(codePointAt(S==y?y.toLowerCase():S,0)),x+=E}this.astral=r.length!=this.chars.length}ret(r,x){return this.score=r,this.matched=x,this}match(r){if(this.pattern.length==0)return this.ret(-100,[]);if(r.length<this.pattern.length)return null;let{chars:x,folded:O,any:E,precise:y,byWord:S}=this;if(x.length==1){let ne=codePointAt(r,0),oe=codePointSize(ne),Oe=oe==r.length?0:-100;if(ne!=x[0])if(ne==O[0])Oe+=-200;else return null;return this.ret(Oe,[0,oe])}let j=r.indexOf(this.pattern);if(j==0)return this.ret(r.length==this.pattern.length?0:-100,[0,this.pattern.length]);let w=x.length,_=0;if(j<0){for(let ne=0,oe=Math.min(r.length,200);ne<oe&&_<w;){let Oe=codePointAt(r,ne);(Oe==x[_]||Oe==O[_])&&(E[_++]=ne),ne+=codePointSize(Oe)}if(_<w)return null}let Q=0,I=0,M=!1,F=0,V=-1,te=-1,re=/[a-z]/.test(r),se=!0;for(let ne=0,oe=Math.min(r.length,200),Oe=0;ne<oe&&I<w;){let ae=codePointAt(r,ne);j<0&&(Q<w&&ae==x[Q]&&(y[Q++]=ne),F<w&&(ae==x[F]||ae==O[F]?(F==0&&(V=ne),te=ne+1,F++):F=0));let ge,je=ae<255?ae>=48&&ae<=57||ae>=97&&ae<=122?2:ae>=65&&ae<=90?1:0:(ge=fromCodePoint(ae))!=ge.toLowerCase()?1:ge!=ge.toUpperCase()?2:0;(!ne||je==1&&re||Oe==0&&je!=0)&&(x[I]==ae||O[I]==ae&&(M=!0)?S[I++]=ne:S.length&&(se=!1)),Oe=je,ne+=codePointSize(ae)}return I==w&&S[0]==0&&se?this.result(-100+(M?-200:0),S,r):F==w&&V==0?this.ret(-200-r.length+(te==r.length?0:-100),[0,te]):j>-1?this.ret(-700-r.length,[j,j+this.pattern.length]):F==w?this.ret(-900-r.length,[V,te]):I==w?this.result(-100+(M?-200:0)+-700+(se?0:-1100),S,r):x.length==2?null:this.result((E[0]?-700:0)+-200+-1100,E,r)}result(r,x,O){let E=[],y=0;for(let S of x){let j=S+(this.astral?codePointSize(codePointAt(O,S)):1);y&&E[y-1]==S?E[y-1]=j:(E[y++]=S,E[y++]=j)}return this.ret(r-O.length,E)}}class StrictMatcher{constructor(r){this.pattern=r,this.matched=[],this.score=0,this.folded=r.toLowerCase()}match(r){if(r.length<this.pattern.length)return null;let x=r.slice(0,this.pattern.length),O=x==this.pattern?0:x.toLowerCase()==this.folded?-200:null;return O==null?null:(this.matched=[0,x.length],this.score=O+(r.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(o){return combineConfig(o,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(r,x)=>(r.sortText||r.label).localeCompare(x.sortText||x.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(r,x)=>r&&x,closeOnBlur:(r,x)=>r&&x,icons:(r,x)=>r&&x,tooltipClass:(r,x)=>O=>joinClass(r(O),x(O)),optionClass:(r,x)=>O=>joinClass(r(O),x(O)),addToOptions:(r,x)=>r.concat(x),filterStrict:(r,x)=>r||x})}});function joinClass(o,r){return o?r?o+" "+r:o:r}function defaultPositionInfo(o,r,x,O,E,y){let S=o.textDirection==Direction.RTL,j=S,w=!1,_="top",Q,I,M=r.left-E.left,F=E.right-r.right,V=O.right-O.left,te=O.bottom-O.top;if(j&&M<Math.min(V,F)?j=!1:!j&&F<Math.min(V,M)&&(j=!0),V<=(j?M:F))Q=Math.max(E.top,Math.min(x.top,E.bottom-te))-r.top,I=Math.min(400,j?M:F);else{w=!0,I=Math.min(400,(S?r.right:E.right-r.left)-30);let ne=E.bottom-r.bottom;ne>=te||ne>r.top?Q=x.bottom-r.top:(_="bottom",Q=r.bottom-x.top)}let re=(r.bottom-r.top)/y.offsetHeight,se=(r.right-r.left)/y.offsetWidth;return{style:`${_}: ${Q/re}px; max-width: ${I/se}px`,class:"cm-completionInfo-"+(w?S?"left-narrow":"right-narrow":j?"left":"right")}}function optionContent(o){let r=o.addToOptions.slice();return o.icons&&r.push({render(x){let O=document.createElement("div");return O.classList.add("cm-completionIcon"),x.type&&O.classList.add(...x.type.split(/\s+/g).map(E=>"cm-completionIcon-"+E)),O.setAttribute("aria-hidden","true"),O},position:20}),r.push({render(x,O,E,y){let S=document.createElement("span");S.className="cm-completionLabel";let j=x.displayLabel||x.label,w=0;for(let _=0;_<y.length;){let Q=y[_++],I=y[_++];Q>w&&S.appendChild(document.createTextNode(j.slice(w,Q)));let M=S.appendChild(document.createElement("span"));M.appendChild(document.createTextNode(j.slice(Q,I))),M.className="cm-completionMatchedText",w=I}return w<j.length&&S.appendChild(document.createTextNode(j.slice(w))),S},position:50},{render(x){if(!x.detail)return null;let O=document.createElement("span");return O.className="cm-completionDetail",O.textContent=x.detail,O},position:80}),r.sort((x,O)=>x.position-O.position).map(x=>x.render)}function rangeAroundSelected(o,r,x){if(o<=x)return{from:0,to:o};if(r<0&&(r=0),r<=o>>1){let E=Math.floor(r/x);return{from:E*x,to:(E+1)*x}}let O=Math.floor((o-r)/x);return{from:o-(O+1)*x,to:o-O*x}}class CompletionTooltip{constructor(r,x,O){this.view=r,this.stateField=x,this.applyCompletion=O,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:w=>this.placeInfo(w),key:this},this.space=null,this.currentClass="";let E=r.state.field(x),{options:y,selected:S}=E.open,j=r.state.facet(completionConfig);this.optionContent=optionContent(j),this.optionClass=j.optionClass,this.tooltipClass=j.tooltipClass,this.range=rangeAroundSelected(y.length,S,j.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(r.state),this.dom.addEventListener("mousedown",w=>{let{options:_}=r.state.field(x).open;for(let Q=w.target,I;Q&&Q!=this.dom;Q=Q.parentNode)if(Q.nodeName=="LI"&&(I=/-(\d+)$/.exec(Q.id))&&+I[1]<_.length){this.applyCompletion(r,_[+I[1]]),w.preventDefault();return}}),this.dom.addEventListener("focusout",w=>{let _=r.state.field(this.stateField,!1);_&&_.tooltip&&r.state.facet(completionConfig).closeOnBlur&&w.relatedTarget!=r.contentDOM&&r.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(y,E.id)}mount(){this.updateSel()}showOptions(r,x){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r,x,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(r){var x;let O=r.state.field(this.stateField),E=r.startState.field(this.stateField);if(this.updateTooltipClass(r.state),O!=E){let{options:y,selected:S,disabled:j}=O.open;(!E.open||E.open.options!=y)&&(this.range=rangeAroundSelected(y.length,S,r.state.facet(completionConfig).maxRenderedOptions),this.showOptions(y,O.id)),this.updateSel(),j!=((x=E.open)===null||x===void 0?void 0:x.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!j)}}updateTooltipClass(r){let x=this.tooltipClass(r);if(x!=this.currentClass){for(let O of this.currentClass.split(" "))O&&this.dom.classList.remove(O);for(let O of x.split(" "))O&&this.dom.classList.add(O);this.currentClass=x}}positioned(r){this.space=r,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let r=this.view.state.field(this.stateField),x=r.open;(x.selected>-1&&x.selected<this.range.from||x.selected>=this.range.to)&&(this.range=rangeAroundSelected(x.options.length,x.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(x.options,r.id));let O=this.updateSelectedOption(x.selected);if(O){this.destroyInfo();let{completion:E}=x.options[x.selected],{info:y}=E;if(!y)return;let S=typeof y=="string"?document.createTextNode(y):y(E);if(!S)return;"then"in S?S.then(j=>{j&&this.view.state.field(this.stateField,!1)==r&&this.addInfoPane(j,E)}).catch(j=>logException(this.view.state,j,"completion info")):(this.addInfoPane(S,E),O.setAttribute("aria-describedby",this.info.id))}}addInfoPane(r,x){this.destroyInfo();let O=this.info=document.createElement("div");if(O.className="cm-tooltip cm-completionInfo",O.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),r.nodeType!=null)O.appendChild(r),this.infoDestroy=null;else{let{dom:E,destroy:y}=r;O.appendChild(E),this.infoDestroy=y||null}this.dom.appendChild(O),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(r){let x=null;for(let O=this.list.firstChild,E=this.range.from;O;O=O.nextSibling,E++)O.nodeName!="LI"||!O.id?E--:E==r?O.hasAttribute("aria-selected")||(O.setAttribute("aria-selected","true"),x=O):O.hasAttribute("aria-selected")&&(O.removeAttribute("aria-selected"),O.removeAttribute("aria-describedby"));return x&&scrollIntoView(this.list,x),x}measureInfo(){let r=this.dom.querySelector("[aria-selected]");if(!r||!this.info)return null;let x=this.dom.getBoundingClientRect(),O=this.info.getBoundingClientRect(),E=r.getBoundingClientRect(),y=this.space;if(!y){let S=this.dom.ownerDocument.documentElement;y={left:0,top:0,right:S.clientWidth,bottom:S.clientHeight}}return E.top>Math.min(y.bottom,x.bottom)-10||E.bottom<Math.max(y.top,x.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,x,E,O,y,this.dom)}placeInfo(r){this.info&&(r?(r.style&&(this.info.style.cssText=r.style),this.info.className="cm-tooltip cm-completionInfo "+(r.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(r,x,O){const E=document.createElement("ul");E.id=x,E.setAttribute("role","listbox"),E.setAttribute("aria-expanded","true"),E.setAttribute("aria-label",this.view.state.phrase("Completions")),E.addEventListener("mousedown",S=>{S.target==E&&S.preventDefault()});let y=null;for(let S=O.from;S<O.to;S++){let{completion:j,match:w}=r[S],{section:_}=j;if(_){let M=typeof _=="string"?_:_.name;if(M!=y&&(S>O.from||O.from==0))if(y=M,typeof _!="string"&&_.header)E.appendChild(_.header(_));else{let F=E.appendChild(document.createElement("completion-section"));F.textContent=M}}const Q=E.appendChild(document.createElement("li"));Q.id=x+"-"+S,Q.setAttribute("role","option");let I=this.optionClass(j);I&&(Q.className=I);for(let M of this.optionContent){let F=M(j,this.view.state,this.view,w);F&&Q.appendChild(F)}}return O.from&&E.classList.add("cm-completionListIncompleteTop"),O.to<r.length&&E.classList.add("cm-completionListIncompleteBottom"),E}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(o,r){return x=>new CompletionTooltip(x,o,r)}function scrollIntoView(o,r){let x=o.getBoundingClientRect(),O=r.getBoundingClientRect(),E=x.height/o.offsetHeight;O.top<x.top?o.scrollTop-=(x.top-O.top)/E:O.bottom>x.bottom&&(o.scrollTop+=(O.bottom-x.bottom)/E)}function score(o){return(o.boost||0)*100+(o.apply?10:0)+(o.info?5:0)+(o.type?1:0)}function sortOptions(o,r){let x=[],O=null,E=null,y=Q=>{x.push(Q);let{section:I}=Q.completion;if(I){O||(O=[]);let M=typeof I=="string"?I:I.name;O.some(F=>F.name==M)||O.push(typeof I=="string"?{name:M}:I)}},S=r.facet(completionConfig);for(let Q of o)if(Q.hasResult()){let I=Q.result.getMatch;if(Q.result.filter===!1)for(let M of Q.result.options)y(new Option(M,Q.source,I?I(M):[],1e9-x.length));else{let M=r.sliceDoc(Q.from,Q.to),F,V=S.filterStrict?new StrictMatcher(M):new FuzzyMatcher(M);for(let te of Q.result.options)if(F=V.match(te.label)){let re=te.displayLabel?I?I(te,F.matched):[]:F.matched,se=F.score+(te.boost||0);if(y(new Option(te,Q.source,re,se)),typeof te.section=="object"&&te.section.rank==="dynamic"){let{name:ne}=te.section;E||(E=Object.create(null)),E[ne]=Math.max(se,E[ne]||-1e9)}}}}if(O){let Q=Object.create(null),I=0,M=(F,V)=>(F.rank==="dynamic"&&V.rank==="dynamic"?E[V.name]-E[F.name]:0)||(typeof F.rank=="number"?F.rank:1e9)-(typeof V.rank=="number"?V.rank:1e9)||(F.name<V.name?-1:1);for(let F of O.sort(M))I-=1e5,Q[F.name]=I;for(let F of x){let{section:V}=F.completion;V&&(F.score+=Q[typeof V=="string"?V:V.name])}}let j=[],w=null,_=S.compareCompletions;for(let Q of x.sort((I,M)=>M.score-I.score||_(I.completion,M.completion))){let I=Q.completion;!w||w.label!=I.label||w.detail!=I.detail||w.type!=null&&I.type!=null&&w.type!=I.type||w.apply!=I.apply||w.boost!=I.boost?j.push(Q):score(Q.completion)>score(w)&&(j[j.length-1]=Q),w=Q.completion}return j}class CompletionDialog{constructor(r,x,O,E,y,S){this.options=r,this.attrs=x,this.tooltip=O,this.timestamp=E,this.selected=y,this.disabled=S}setSelected(r,x){return r==this.selected||r>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(x,r),this.tooltip,this.timestamp,r,this.disabled)}static build(r,x,O,E,y,S){if(E&&!S&&r.some(_=>_.isPending))return E.setDisabled();let j=sortOptions(r,x);if(!j.length)return E&&r.some(_=>_.isPending)?E.setDisabled():null;let w=x.facet(completionConfig).selectOnOpen?0:-1;if(E&&E.selected!=w&&E.selected!=-1){let _=E.options[E.selected].completion;for(let Q=0;Q<j.length;Q++)if(j[Q].completion==_){w=Q;break}}return new CompletionDialog(j,makeAttrs(O,w),{pos:r.reduce((_,Q)=>Q.hasResult()?Math.min(_,Q.from):_,1e8),create:createTooltip,above:y.aboveCursor},E?E.timestamp:Date.now(),w,!1)}map(r){return new CompletionDialog(this.options,this.attrs,{...this.tooltip,pos:r.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(r,x,O){this.active=r,this.id=x,this.open=O}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(r){let{state:x}=r,O=x.facet(completionConfig),y=(O.override||x.languageDataAt("autocomplete",cur(x)).map(asSource)).map(w=>(this.active.find(Q=>Q.source==w)||new ActiveSource(w,this.active.some(Q=>Q.state!=0)?1:0)).update(r,O));y.length==this.active.length&&y.every((w,_)=>w==this.active[_])&&(y=this.active);let S=this.open,j=r.effects.some(w=>w.is(setActiveEffect));S&&r.docChanged&&(S=S.map(r.changes)),r.selection||y.some(w=>w.hasResult()&&r.changes.touchesRange(w.from,w.to))||!sameResults(y,this.active)||j?S=CompletionDialog.build(y,x,this.id,S,O,j):S&&S.disabled&&!y.some(w=>w.isPending)&&(S=null),!S&&y.every(w=>!w.isPending)&&y.some(w=>w.hasResult())&&(y=y.map(w=>w.hasResult()?new ActiveSource(w.source,0):w));for(let w of r.effects)w.is(setSelectedEffect)&&(S=S&&S.setSelected(w.value,this.id));return y==this.active&&S==this.open?this:new CompletionState(y,this.id,S)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(o,r){if(o==r)return!0;for(let x=0,O=0;;){for(;x<o.length&&!o[x].hasResult();)x++;for(;O<r.length&&!r[O].hasResult();)O++;let E=x==o.length,y=O==r.length;if(E||y)return E==y;if(o[x++].result!=r[O++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(o,r){let x={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":o};return r>-1&&(x["aria-activedescendant"]=o+"-"+r),x}const none=[];function getUpdateType(o,r){if(o.isUserEvent("input.complete")){let O=o.annotation(pickedCompletion);if(O&&r.activateOnCompletion(O))return 12}let x=o.isUserEvent("input.type");return x&&r.activateOnTyping?5:x?1:o.isUserEvent("delete.backward")?2:o.selection?8:o.docChanged?16:0}class ActiveSource{constructor(r,x,O=!1){this.source=r,this.state=x,this.explicit=O}hasResult(){return!1}get isPending(){return this.state==1}update(r,x){let O=getUpdateType(r,x),E=this;(O&8||O&16&&this.touches(r))&&(E=new ActiveSource(E.source,0)),O&4&&E.state==0&&(E=new ActiveSource(this.source,1)),E=E.updateFor(r,O);for(let y of r.effects)if(y.is(startCompletionEffect))E=new ActiveSource(E.source,1,y.value);else if(y.is(closeCompletionEffect))E=new ActiveSource(E.source,0);else if(y.is(setActiveEffect))for(let S of y.value)S.source==E.source&&(E=S);return E}updateFor(r,x){return this.map(r.changes)}map(r){return this}touches(r){return r.changes.touchesRange(cur(r.state))}}class ActiveResult extends ActiveSource{constructor(r,x,O,E,y,S){super(r,3,x),this.limit=O,this.result=E,this.from=y,this.to=S}hasResult(){return!0}updateFor(r,x){var O;if(!(x&3))return this.map(r.changes);let E=this.result;E.map&&!r.changes.empty&&(E=E.map(E,r.changes));let y=r.changes.mapPos(this.from),S=r.changes.mapPos(this.to,1),j=cur(r.state);if(j>S||!E||x&2&&(cur(r.startState)==this.from||j<this.limit))return new ActiveSource(this.source,x&4?1:0);let w=r.changes.mapPos(this.limit);return checkValid(E.validFor,r.state,y,S)?new ActiveResult(this.source,this.explicit,w,E,y,S):E.update&&(E=E.update(E,y,S,new CompletionContext(r.state,j,!1)))?new ActiveResult(this.source,this.explicit,w,E,E.from,(O=E.to)!==null&&O!==void 0?O:cur(r.state)):new ActiveSource(this.source,1,this.explicit)}map(r){return r.empty?this:(this.result.map?this.result.map(this.result,r):this.result)?new ActiveResult(this.source,this.explicit,r.mapPos(this.limit),this.result,r.mapPos(this.from),r.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(r){return r.changes.touchesRange(this.from,this.to)}}function checkValid(o,r,x,O){if(!o)return!1;let E=r.sliceDoc(x,O);return typeof o=="function"?o(E,x,O,r):ensureAnchor(o,!0).test(E)}const setActiveEffect=StateEffect.define({map(o,r){return o.map(x=>x.map(r))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(o,r){return o.update(r)},provide:o=>[showTooltip.from(o,r=>r.tooltip),EditorView.contentAttributes.from(o,r=>r.attrs)]});function applyCompletion(o,r){const x=r.completion.apply||r.completion.label;let O=o.state.field(completionState).active.find(E=>E.source==r.source);return O instanceof ActiveResult?(typeof x=="string"?o.dispatch({...insertCompletionText(o.state,x,O.from,O.to),annotations:pickedCompletion.of(r.completion)}):x(o,r.completion,O.from,O.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(o,r="option"){return x=>{let O=x.state.field(completionState,!1);if(!O||!O.open||O.open.disabled||Date.now()-O.open.timestamp<x.state.facet(completionConfig).interactionDelay)return!1;let E=1,y;r=="page"&&(y=getTooltip(x,O.open.tooltip))&&(E=Math.max(2,Math.floor(y.dom.offsetHeight/y.dom.querySelector("li").offsetHeight)-1));let{length:S}=O.open.options,j=O.open.selected>-1?O.open.selected+E*(o?1:-1):o?0:S-1;return j<0?j=r=="page"?0:S-1:j>=S&&(j=r=="page"?S-1:0),x.dispatch({effects:setSelectedEffect.of(j)}),!0}}const acceptCompletion=o=>{let r=o.state.field(completionState,!1);return o.state.readOnly||!r||!r.open||r.open.selected<0||r.open.disabled||Date.now()-r.open.timestamp<o.state.facet(completionConfig).interactionDelay?!1:applyCompletion(o,r.open.options[r.open.selected])},startCompletion=o=>o.state.field(completionState,!1)?(o.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=o=>{let r=o.state.field(completionState,!1);return!r||!r.active.some(x=>x.state!=0)?!1:(o.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(r,x){this.active=r,this.context=x,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let r of o.state.field(completionState).active)r.isPending&&this.startQuery(r)}update(o){let r=o.state.field(completionState),x=o.state.facet(completionConfig);if(!o.selectionSet&&!o.docChanged&&o.startState.field(completionState)==r)return;let O=o.transactions.some(y=>{let S=getUpdateType(y,x);return S&8||(y.selection||y.docChanged)&&!(S&3)});for(let y=0;y<this.running.length;y++){let S=this.running[y];if(O||S.context.abortOnDocChange&&o.docChanged||S.updates.length+o.transactions.length>MaxUpdateCount&&Date.now()-S.time>MinAbortTime){for(let j of S.context.abortListeners)try{j()}catch(w){logException(this.view.state,w)}S.context.abortListeners=null,this.running.splice(y--,1)}else S.updates.push(...o.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),o.transactions.some(y=>y.effects.some(S=>S.is(startCompletionEffect)))&&(this.pendingStart=!0);let E=this.pendingStart?50:x.activateOnTypingDelay;if(this.debounceUpdate=r.active.some(y=>y.isPending&&!this.running.some(S=>S.active.source==y.source))?setTimeout(()=>this.startUpdate(),E):-1,this.composing!=0)for(let y of o.transactions)y.isUserEvent("input.type")?this.composing=2:this.composing==2&&y.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:o}=this.view,r=o.field(completionState);for(let x of r.active)x.isPending&&!this.running.some(O=>O.active.source==x.source)&&this.startQuery(x);this.running.length&&r.open&&r.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(o){let{state:r}=this.view,x=cur(r),O=new CompletionContext(r,x,o.explicit,this.view),E=new RunningQuery(o,O);this.running.push(E),Promise.resolve(o.source(O)).then(y=>{E.context.aborted||(E.done=y||null,this.scheduleAccept())},y=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,y)})}scheduleAccept(){this.running.every(o=>o.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var o;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let r=[],x=this.view.state.facet(completionConfig),O=this.view.state.field(completionState);for(let E=0;E<this.running.length;E++){let y=this.running[E];if(y.done===void 0)continue;if(this.running.splice(E--,1),y.done){let j=cur(y.updates.length?y.updates[0].startState:this.view.state),w=Math.min(j,y.done.from+(y.active.explicit?0:1)),_=new ActiveResult(y.active.source,y.active.explicit,w,y.done,y.done.from,(o=y.done.to)!==null&&o!==void 0?o:j);for(let Q of y.updates)_=_.update(Q,x);if(_.hasResult()){r.push(_);continue}}let S=O.active.find(j=>j.source==y.active.source);if(S&&S.isPending)if(y.done==null){let j=new ActiveSource(y.active.source,0);for(let w of y.updates)j=j.update(w,x);j.isPending||r.push(j)}else this.startQuery(S)}(r.length||O.open&&O.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(r)})}},{eventHandlers:{blur(o){let r=this.view.state.field(completionState,!1);if(r&&r.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let x=r.open&&getTooltip(this.view,r.open.tooltip);(!x||!x.dom.contains(o.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(o,r){let x=r.state.field(completionState,!1);if(!x||!x.open||x.open.disabled||x.open.selected<0||o.key.length>1||o.ctrlKey&&!(windows&&o.altKey)||o.metaKey)return!1;let O=x.open.options[x.open.selected],E=x.active.find(S=>S.source==O.source),y=O.completion.commitCharacters||E.result.commitCharacters;return y&&y.indexOf(o.key)>-1&&applyCompletion(r,O),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(r,x,O,E){this.field=r,this.line=x,this.from=O,this.to=E}}class FieldRange{constructor(r,x,O){this.field=r,this.from=x,this.to=O}map(r){let x=r.mapPos(this.from,-1,MapMode.TrackDel),O=r.mapPos(this.to,1,MapMode.TrackDel);return x==null||O==null?null:new FieldRange(this.field,x,O)}}class Snippet{constructor(r,x){this.lines=r,this.fieldPositions=x}instantiate(r,x){let O=[],E=[x],y=r.doc.lineAt(x),S=/^\s*/.exec(y.text)[0];for(let w of this.lines){if(O.length){let _=S,Q=/^\t*/.exec(w)[0].length;for(let I=0;I<Q;I++)_+=r.facet(indentUnit);E.push(x+_.length-Q),w=_+w.slice(Q)}O.push(w),x+=w.length+1}let j=this.fieldPositions.map(w=>new FieldRange(w.field,E[w.line]+w.from,E[w.line]+w.to));return{text:O,ranges:j}}static parse(r){let x=[],O=[],E=[],y;for(let S of r.split(/\r\n?|\n/)){for(;y=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(S);){let j=y[1]?+y[1]:null,w=y[2]||y[3]||"",_=-1,Q=w.replace(/\\[{}]/g,I=>I[1]);for(let I=0;I<x.length;I++)(j!=null?x[I].seq==j:Q&&x[I].name==Q)&&(_=I);if(_<0){let I=0;for(;I<x.length&&(j==null||x[I].seq!=null&&x[I].seq<j);)I++;x.splice(I,0,{seq:j,name:Q}),_=I;for(let M of E)M.field>=_&&M.field++}for(let I of E)if(I.line==O.length&&I.from>y.index){let M=y[2]?3+(y[1]||"").length:2;I.from-=M,I.to-=M}E.push(new FieldPos(_,O.length,y.index,y.index+Q.length)),S=S.slice(0,y.index)+w+S.slice(y.index+y[0].length)}S=S.replace(/\\([{}])/g,(j,w,_)=>{for(let Q of E)Q.line==O.length&&Q.from>_&&(Q.from--,Q.to--);return w}),O.push(S)}return new Snippet(O,E)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let o=document.createElement("span");return o.className="cm-snippetFieldPosition",o}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(r,x){this.ranges=r,this.active=x,this.deco=Decoration.set(r.map(O=>(O.from==O.to?fieldMarker:fieldRange).range(O.from,O.to)),!0)}map(r){let x=[];for(let O of this.ranges){let E=O.map(r);if(!E)return null;x.push(E)}return new ActiveSnippet(x,this.active)}selectionInsideField(r){return r.ranges.every(x=>this.ranges.some(O=>O.field==this.active&&O.from<=x.from&&O.to>=x.to))}}const setActive=StateEffect.define({map(o,r){return o&&o.map(r)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(o,r){for(let x of r.effects){if(x.is(setActive))return x.value;if(x.is(moveToField)&&o)return new ActiveSnippet(o.ranges,x.value)}return o&&r.docChanged&&(o=o.map(r.changes)),o&&r.selection&&!o.selectionInsideField(r.selection)&&(o=null),o},provide:o=>EditorView.decorations.from(o,r=>r?r.deco:Decoration.none)});function fieldSelection(o,r){return EditorSelection.create(o.filter(x=>x.field==r).map(x=>EditorSelection.range(x.from,x.to)))}function snippet(o){let r=Snippet.parse(o);return(x,O,E,y)=>{let{text:S,ranges:j}=r.instantiate(x.state,E),{main:w}=x.state.selection,_={changes:{from:E,to:y==w.from?w.to:y,insert:Text.of(S)},scrollIntoView:!0,annotations:O?[pickedCompletion.of(O),Transaction.userEvent.of("input.complete")]:void 0};if(j.length&&(_.selection=fieldSelection(j,0)),j.some(Q=>Q.field>0)){let Q=new ActiveSnippet(j,0),I=_.effects=[setActive.of(Q)];x.state.field(snippetState,!1)===void 0&&I.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}x.dispatch(x.state.update(_))}}function moveField(o){return({state:r,dispatch:x})=>{let O=r.field(snippetState,!1);if(!O||o<0&&O.active==0)return!1;let E=O.active+o,y=o>0&&!O.ranges.some(S=>S.field==E+o);return x(r.update({selection:fieldSelection(O.ranges,E),effects:setActive.of(y?null:new ActiveSnippet(O.ranges,E)),scrollIntoView:!0})),!0}}const clearSnippet=({state:o,dispatch:r})=>o.field(snippetState,!1)?(r(o.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(o){return o.length?o[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],o=>o.facet(snippetKeymap)));function snippetCompletion(o,r){return{...r,apply:snippet(o)}}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(o,r){let x=r.state.field(snippetState,!1),O;if(!x||(O=r.posAtCoords({x:o.clientX,y:o.clientY}))==null)return!1;let E=x.ranges.find(y=>y.from<=O&&y.to>=O);return!E||E.field==x.active?!1:(r.dispatch({selection:fieldSelection(x.ranges,E.field),effects:setActive.of(x.ranges.some(y=>y.field>E.field)?new ActiveSnippet(x.ranges,E.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(o,r){let x=r.mapPos(o,-1,MapMode.TrackAfter);return x??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(o,r){if(o=o.map(r.changes),r.selection){let x=r.state.doc.lineAt(r.selection.main.head);o=o.update({filter:O=>O>=x.from&&O<=x.to})}for(let x of r.effects)x.is(closeBracketEffect)&&(o=o.update({add:[closedBracket.range(x.value,x.value+1)]}));return o}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>«»»«［］｛｝";function closing(o){for(let r=0;r<definedClosing.length;r+=2)if(definedClosing.charCodeAt(r)==o)return definedClosing.charAt(r+1);return fromCodePoint(o<128?o:o+1)}function config(o,r){return o.languageDataAt("closeBrackets",r)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((o,r,x,O)=>{if((android$1?o.composing:o.compositionStarted)||o.state.readOnly)return!1;let E=o.state.selection.main;if(O.length>2||O.length==2&&codePointSize(codePointAt(O,0))==1||r!=E.from||x!=E.to)return!1;let y=insertBracket(o.state,O);return y?(o.dispatch(y),!0):!1}),deleteBracketPair=({state:o,dispatch:r})=>{if(o.readOnly)return!1;let O=config(o,o.selection.main.head).brackets||defaults.brackets,E=null,y=o.changeByRange(S=>{if(S.empty){let j=prevChar(o.doc,S.head);for(let w of O)if(w==j&&nextChar(o.doc,S.head)==closing(codePointAt(w,0)))return{changes:{from:S.head-w.length,to:S.head+w.length},range:EditorSelection.cursor(S.head-w.length)}}return{range:E=S}});return E||r(o.update(y,{scrollIntoView:!0,userEvent:"delete.backward"})),!E},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(o,r){let x=config(o,o.selection.main.head),O=x.brackets||defaults.brackets;for(let E of O){let y=closing(codePointAt(E,0));if(r==E)return y==E?handleSame(o,E,O.indexOf(E+E+E)>-1,x):handleOpen(o,E,y,x.before||defaults.before);if(r==y&&closedBracketAt(o,o.selection.main.from))return handleClose(o,E,y)}return null}function closedBracketAt(o,r){let x=!1;return o.field(bracketState).between(0,o.doc.length,O=>{O==r&&(x=!0)}),x}function nextChar(o,r){let x=o.sliceString(r,r+2);return x.slice(0,codePointSize(codePointAt(x,0)))}function prevChar(o,r){let x=o.sliceString(r-2,r);return codePointSize(codePointAt(x,0))==x.length?x:x.slice(1)}function handleOpen(o,r,x,O){let E=null,y=o.changeByRange(S=>{if(!S.empty)return{changes:[{insert:r,from:S.from},{insert:x,from:S.to}],effects:closeBracketEffect.of(S.to+r.length),range:EditorSelection.range(S.anchor+r.length,S.head+r.length)};let j=nextChar(o.doc,S.head);return!j||/\s/.test(j)||O.indexOf(j)>-1?{changes:{insert:r+x,from:S.head},effects:closeBracketEffect.of(S.head+r.length),range:EditorSelection.cursor(S.head+r.length)}:{range:E=S}});return E?null:o.update(y,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(o,r,x){let O=null,E=o.changeByRange(y=>y.empty&&nextChar(o.doc,y.head)==x?{changes:{from:y.head,to:y.head+x.length,insert:x},range:EditorSelection.cursor(y.head+x.length)}:O={range:y});return O?null:o.update(E,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(o,r,x,O){let E=O.stringPrefixes||defaults.stringPrefixes,y=null,S=o.changeByRange(j=>{if(!j.empty)return{changes:[{insert:r,from:j.from},{insert:r,from:j.to}],effects:closeBracketEffect.of(j.to+r.length),range:EditorSelection.range(j.anchor+r.length,j.head+r.length)};let w=j.head,_=nextChar(o.doc,w),Q;if(_==r){if(nodeStart(o,w))return{changes:{insert:r+r,from:w},effects:closeBracketEffect.of(w+r.length),range:EditorSelection.cursor(w+r.length)};if(closedBracketAt(o,w)){let M=x&&o.sliceDoc(w,w+r.length*3)==r+r+r?r+r+r:r;return{changes:{from:w,to:w+M.length,insert:M},range:EditorSelection.cursor(w+M.length)}}}else{if(x&&o.sliceDoc(w-2*r.length,w)==r+r&&(Q=canStartStringAt(o,w-2*r.length,E))>-1&&nodeStart(o,Q))return{changes:{insert:r+r+r+r,from:w},effects:closeBracketEffect.of(w+r.length),range:EditorSelection.cursor(w+r.length)};if(o.charCategorizer(w)(_)!=CharCategory.Word&&canStartStringAt(o,w,E)>-1&&!probablyInString(o,w,r,E))return{changes:{insert:r+r,from:w},effects:closeBracketEffect.of(w+r.length),range:EditorSelection.cursor(w+r.length)}}return{range:y=j}});return y?null:o.update(S,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(o,r){let x=syntaxTree(o).resolveInner(r+1);return x.parent&&x.from==r}function probablyInString(o,r,x,O){let E=syntaxTree(o).resolveInner(r,-1),y=O.reduce((S,j)=>Math.max(S,j.length),0);for(let S=0;S<5;S++){let j=o.sliceDoc(E.from,Math.min(E.to,E.from+x.length+y)),w=j.indexOf(x);if(!w||w>-1&&O.indexOf(j.slice(0,w))>-1){let Q=E.firstChild;for(;Q&&Q.from==E.from&&Q.to-Q.from>x.length+w;){if(o.sliceDoc(Q.to-x.length,Q.to)==x)return!1;Q=Q.firstChild}return!0}let _=E.to==r&&E.parent;if(!_)break;E=_}return!1}function canStartStringAt(o,r,x){let O=o.charCategorizer(r);if(O(o.sliceDoc(r-1,r))!=CharCategory.Word)return r;for(let E of x){let y=r-E.length;if(o.sliceDoc(y,r)==E&&O(o.sliceDoc(y-1,y))!=CharCategory.Word)return y}return-1}function autocompletion(o={}){return[commitCharacters,completionState,completionConfig.of(o),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{mac:"Alt-i",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],o=>o.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(r,x,O){this.from=r,this.to=x,this.diagnostic=O}}class LintState{constructor(r,x,O){this.diagnostics=r,this.panel=x,this.selected=O}static init(r,x,O){let E=O.facet(lintConfig).markerFilter;E&&(r=E(r,O));let y=r.slice().sort((F,V)=>F.from-V.from||F.to-V.to),S=new RangeSetBuilder,j=[],w=0,_=O.doc.iter(),Q=0,I=O.doc.length;for(let F=0;;){let V=F==y.length?null:y[F];if(!V&&!j.length)break;let te,re;if(j.length)te=w,re=j.reduce((oe,Oe)=>Math.min(oe,Oe.to),V&&V.from>te?V.from:1e8);else{if(te=V.from,te>I)break;re=V.to,j.push(V),F++}for(;F<y.length;){let oe=y[F];if(oe.from==te&&(oe.to>oe.from||oe.to==te))j.push(oe),F++,re=Math.min(oe.to,re);else{re=Math.min(oe.from,re);break}}re=Math.min(re,I);let se=!1;if(j.some(oe=>oe.from==te&&(oe.to==re||re==I))&&(se=te==re,!se&&re-te<10)){let oe=te-(Q+_.value.length);oe>0&&(_.next(oe),Q=te);for(let Oe=te;;){if(Oe>=re){se=!0;break}if(!_.lineBreak&&Q+_.value.length>Oe)break;Oe=Q+_.value.length,Q+=_.value.length,_.next()}}let ne=maxSeverity(j);if(se)S.add(te,te,Decoration.widget({widget:new DiagnosticWidget(ne),diagnostics:j.slice()}));else{let oe=j.reduce((Oe,ae)=>ae.markClass?Oe+" "+ae.markClass:Oe,"");S.add(te,re,Decoration.mark({class:"cm-lintRange cm-lintRange-"+ne+oe,diagnostics:j.slice(),inclusiveEnd:j.some(Oe=>Oe.to>re)}))}if(w=re,w==I)break;for(let oe=0;oe<j.length;oe++)j[oe].to<=w&&j.splice(oe--,1)}let M=S.finish();return new LintState(M,x,findDiagnostic(M))}}function findDiagnostic(o,r=null,x=0){let O=null;return o.between(x,1e9,(E,y,{spec:S})=>{if(!(r&&S.diagnostics.indexOf(r)<0))if(!O)O=new SelectedDiagnostic(E,y,r||S.diagnostics[0]);else{if(S.diagnostics.indexOf(O.diagnostic)<0)return!1;O=new SelectedDiagnostic(O.from,y,O.diagnostic)}}),O}function hideTooltip(o,r){let x=r.pos,O=r.end||x,E=o.state.facet(lintConfig).hideOn(o,x,O);if(E!=null)return E;let y=o.startState.doc.lineAt(r.pos);return!!(o.effects.some(S=>S.is(setDiagnosticsEffect))||o.changes.touchesRange(y.from,Math.max(y.to,O)))}function maybeEnableLint(o,r){return o.field(lintState,!1)?r:r.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(o,r){if(r.docChanged&&o.diagnostics.size){let x=o.diagnostics.map(r.changes),O=null,E=o.panel;if(o.selected){let y=r.changes.mapPos(o.selected.from,1);O=findDiagnostic(x,o.selected.diagnostic,y)||findDiagnostic(x,null,y)}!x.size&&E&&r.state.facet(lintConfig).autoPanel&&(E=null),o=new LintState(x,E,O)}for(let x of r.effects)if(x.is(setDiagnosticsEffect)){let O=r.state.facet(lintConfig).autoPanel?x.value.length?LintPanel.open:null:o.panel;o=LintState.init(x.value,O,r.state)}else x.is(togglePanel)?o=new LintState(o.diagnostics,x.value?LintPanel.open:null,o.selected):x.is(movePanelSelection)&&(o=new LintState(o.diagnostics,o.panel,x.value));return o},provide:o=>[showPanel.from(o,r=>r.panel),EditorView.decorations.from(o,r=>r.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(o,r,x){let{diagnostics:O}=o.state.field(lintState),E,y=-1,S=-1;O.between(r-(x<0?1:0),r+(x>0?1:0),(w,_,{spec:Q})=>{if(r>=w&&r<=_&&(w==_||(r>w||x>0)&&(r<_||x<0)))return E=Q.diagnostics,y=w,S=_,!1});let j=o.state.facet(lintConfig).tooltipFilter;return E&&j&&(E=j(E,o.state)),E?{pos:y,end:S,above:o.state.doc.lineAt(y).to<S,create(){return{dom:diagnosticsTooltip(o,E)}}}:null}function diagnosticsTooltip(o,r){return crelt("ul",{class:"cm-tooltip-lint"},r.map(x=>renderDiagnostic(o,x,!1)))}const openLintPanel=o=>{let r=o.state.field(lintState,!1);(!r||!r.panel)&&o.dispatch({effects:maybeEnableLint(o.state,[togglePanel.of(!0)])});let x=getPanel(o,LintPanel.open);return x&&x.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=o=>{let r=o.state.field(lintState,!1);return!r||!r.panel?!1:(o.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=o=>{let r=o.state.field(lintState,!1);if(!r)return!1;let x=o.state.selection.main,O=findDiagnostic(r.diagnostics,null,x.to+1);return!O&&(O=findDiagnostic(r.diagnostics,null,0),!O||O.from==x.from&&O.to==x.to)?!1:(o.dispatch({selection:{anchor:O.from,head:O.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(o){return{sources:o.map(r=>r.source).filter(r=>r!=null),...combineConfig(o.map(r=>r.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:combineFilter,tooltipFilter:combineFilter,needsRefresh:(r,x)=>r?x?O=>r(O)||x(O):r:x,hideOn:(r,x)=>r?x?(O,E,y)=>r(O,E,y)||x(O,E,y):r:x,autoPanel:(r,x)=>r||x})}}});function combineFilter(o,r){return o?r?(x,O)=>r(o(x,O),O):o:r}function assignKeys(o){let r=[];if(o)e:for(let{name:x}of o){for(let O=0;O<x.length;O++){let E=x[O];if(/[a-zA-Z]/.test(E)&&!r.some(y=>y.toLowerCase()==E.toLowerCase())){r.push(E);continue e}}r.push("")}return r}function renderDiagnostic(o,r,x){var O;let E=x?assignKeys(r.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+r.severity},crelt("span",{class:"cm-diagnosticText"},r.renderMessage?r.renderMessage(o):r.message),(O=r.actions)===null||O===void 0?void 0:O.map((y,S)=>{let j=!1,w=F=>{if(F.preventDefault(),j)return;j=!0;let V=findDiagnostic(o.state.field(lintState).diagnostics,r);V&&y.apply(o,V.from,V.to)},{name:_}=y,Q=E[S]?_.indexOf(E[S]):-1,I=Q<0?_:[_.slice(0,Q),crelt("u",_.slice(Q,Q+1)),_.slice(Q+1)],M=y.markClass?" "+y.markClass:"";return crelt("button",{type:"button",class:"cm-diagnosticAction"+M,onclick:w,onmousedown:w,"aria-label":` Action: ${_}${Q<0?"":` (access key "${E[S]})"`}.`},I)}),r.source&&crelt("div",{class:"cm-diagnosticSource"},r.source))}class DiagnosticWidget extends WidgetType{constructor(r){super(),this.sev=r}eq(r){return r.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(r,x){this.diagnostic=x,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(r,x,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(r){this.view=r,this.items=[];let x=E=>{if(!(E.ctrlKey||E.altKey||E.metaKey)){if(E.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(E.keyCode==38||E.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(E.keyCode==40||E.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(E.keyCode==36)this.moveSelection(0);else if(E.keyCode==35)this.moveSelection(this.items.length-1);else if(E.keyCode==13)this.view.focus();else if(E.keyCode>=65&&E.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:y}=this.items[this.selectedIndex],S=assignKeys(y.actions);for(let j=0;j<S.length;j++)if(S[j].toUpperCase().charCodeAt(0)==E.keyCode){let w=findDiagnostic(this.view.state.field(lintState).diagnostics,y);w&&y.actions[j].apply(r,w.from,w.to)}}else return;E.preventDefault()}},O=E=>{for(let y=0;y<this.items.length;y++)this.items[y].dom.contains(E.target)&&this.moveSelection(y)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:x,onclick:O}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"×")),this.update()}get selectedIndex(){let r=this.view.state.field(lintState).selected;if(!r)return-1;for(let x=0;x<this.items.length;x++)if(this.items[x].diagnostic==r.diagnostic)return x;return-1}update(){let{diagnostics:r,selected:x}=this.view.state.field(lintState),O=0,E=!1,y=null,S=new Set;for(r.between(0,this.view.state.doc.length,(j,w,{spec:_})=>{for(let Q of _.diagnostics){if(S.has(Q))continue;S.add(Q);let I=-1,M;for(let F=O;F<this.items.length;F++)if(this.items[F].diagnostic==Q){I=F;break}I<0?(M=new PanelItem(this.view,Q),this.items.splice(O,0,M),E=!0):(M=this.items[I],I>O&&(this.items.splice(O,I-O),E=!0)),x&&M.diagnostic==x.diagnostic?M.dom.hasAttribute("aria-selected")||(M.dom.setAttribute("aria-selected","true"),y=M):M.dom.hasAttribute("aria-selected")&&M.dom.removeAttribute("aria-selected"),O++}});O<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)E=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),E=!0),y?(this.list.setAttribute("aria-activedescendant",y.id),this.view.requestMeasure({key:this,read:()=>({sel:y.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:j,panel:w})=>{let _=w.height/this.list.offsetHeight;j.top<w.top?this.list.scrollTop-=(w.top-j.top)/_:j.bottom>w.bottom&&(this.list.scrollTop+=(j.bottom-w.bottom)/_)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),E&&this.sync()}sync(){let r=this.list.firstChild;function x(){let O=r;r=O.nextSibling,O.remove()}for(let O of this.items)if(O.dom.parentNode==this.list){for(;r!=O.dom;)x();r=O.dom.nextSibling}else this.list.insertBefore(O.dom,r);for(;r;)x()}moveSelection(r){if(this.selectedIndex<0)return;let x=this.view.state.field(lintState),O=findDiagnostic(x.diagnostics,this.items[r].diagnostic);O&&this.view.dispatch({selection:{anchor:O.from,head:O.to},scrollIntoView:!0,effects:movePanelSelection.of(O)})}static open(r){return new LintPanel(r)}}function svg(o,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(o)}</svg>')`}function underline(o){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${o}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(o){return o=="error"?4:o=="warning"?3:o=="info"?2:1}function maxSeverity(o){let r="hint",x=1;for(let O of o){let E=severityWeight(O.severity);E>x&&(x=E,r=O.severity)}return r}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],o=>{let{selected:r,panel:x}=o.field(lintState);return!r||!x||r.from==r.to?Decoration.none:Decoration.set([activeMark.range(r.from,r.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];var define_process_env_default={};class Stack{constructor(r,x,O,E,y,S,j,w,_,Q=0,I){this.p=r,this.stack=x,this.state=O,this.reducePos=E,this.pos=y,this.score=S,this.buffer=j,this.bufferBase=w,this.curContext=_,this.lookAhead=Q,this.parent=I}toString(){return`[${this.stack.filter((r,x)=>x%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(r,x,O=0){let E=r.parser.context;return new Stack(r,[],x,O,O,0,[],0,E?new StackContext(E,E.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(r,x){this.stack.push(this.state,x,this.bufferBase+this.buffer.length),this.state=r}reduce(r){var x;let O=r>>19,E=r&65535,{parser:y}=this.p,S=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),j=y.dynamicPrecedence(E);if(j&&(this.score+=j),O==0){this.pushState(y.getGoto(this.state,E,!0),this.reducePos),E<y.minRepeatTerm&&this.storeNode(E,this.reducePos,this.reducePos,S?8:4,!0),this.reduceContext(E,this.reducePos);return}let w=this.stack.length-(O-1)*3-(r&262144?6:0),_=w?this.stack[w-2]:this.p.ranges[0].from,Q=this.reducePos-_;Q>=2e3&&!(!((x=this.p.parser.nodeSet.types[E])===null||x===void 0)&&x.isAnonymous)&&(_==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=Q):this.p.lastBigReductionSize<Q&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=_,this.p.lastBigReductionSize=Q));let I=w?this.stack[w-1]:0,M=this.bufferBase+this.buffer.length-I;if(E<y.minRepeatTerm||r&131072){let F=y.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(E,_,F,M+4,!0)}if(r&262144)this.state=this.stack[w];else{let F=this.stack[w-3];this.state=y.getGoto(F,E,!0)}for(;this.stack.length>w;)this.stack.pop();this.reduceContext(E,_)}storeNode(r,x,O,E=4,y=!1){if(r==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let S=this,j=this.buffer.length;if(j==0&&S.parent&&(j=S.bufferBase-S.parent.bufferBase,S=S.parent),j>0&&S.buffer[j-4]==0&&S.buffer[j-1]>-1){if(x==O)return;if(S.buffer[j-2]>=x){S.buffer[j-2]=O;return}}}if(!y||this.pos==O)this.buffer.push(r,x,O,E);else{let S=this.buffer.length;if(S>0&&(this.buffer[S-4]!=0||this.buffer[S-1]<0)){let j=!1;for(let w=S;w>0&&this.buffer[w-2]>O;w-=4)if(this.buffer[w-1]>=0){j=!0;break}if(j)for(;S>0&&this.buffer[S-2]>O;)this.buffer[S]=this.buffer[S-4],this.buffer[S+1]=this.buffer[S-3],this.buffer[S+2]=this.buffer[S-2],this.buffer[S+3]=this.buffer[S-1],S-=4,E>4&&(E-=4)}this.buffer[S]=r,this.buffer[S+1]=x,this.buffer[S+2]=O,this.buffer[S+3]=E}}shift(r,x,O,E){if(r&131072)this.pushState(r&65535,this.pos);else if(r&262144)this.pos=E,this.shiftContext(x,O),x<=this.p.parser.maxNode&&this.buffer.push(x,O,E,4);else{let y=r,{parser:S}=this.p;this.pos=E;let j=S.stateFlag(y,1);!j&&(E>O||x<=S.maxNode)&&(this.reducePos=E),this.pushState(y,j?O:Math.min(O,this.reducePos)),this.shiftContext(x,O),x<=S.maxNode&&this.buffer.push(x,O,E,4)}}apply(r,x,O,E){r&65536?this.reduce(r):this.shift(r,x,O,E)}useNode(r,x){let O=this.p.reused.length-1;(O<0||this.p.reused[O]!=r)&&(this.p.reused.push(r),O++);let E=this.pos;this.reducePos=this.pos=E+r.length,this.pushState(x,E),this.buffer.push(O,E,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,r,this,this.p.stream.reset(this.pos-r.length)))}split(){let r=this,x=r.buffer.length;for(;x>0&&r.buffer[x-2]>r.reducePos;)x-=4;let O=r.buffer.slice(x),E=r.bufferBase+x;for(;r&&E==r.bufferBase;)r=r.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,O,E,this.curContext,this.lookAhead,r)}recoverByDelete(r,x){let O=r<=this.p.parser.maxNode;O&&this.storeNode(r,this.pos,x,4),this.storeNode(0,this.pos,x,O?8:4),this.pos=this.reducePos=x,this.score-=190}canShift(r){for(let x=new SimulatedStack(this);;){let O=this.p.parser.stateSlot(x.state,4)||this.p.parser.hasAction(x.state,r);if(O==0)return!1;if(!(O&65536))return!0;x.reduce(O)}}recoverByInsert(r){if(this.stack.length>=300)return[];let x=this.p.parser.nextStates(this.state);if(x.length>8||this.stack.length>=120){let E=[];for(let y=0,S;y<x.length;y+=2)(S=x[y+1])!=this.state&&this.p.parser.hasAction(S,r)&&E.push(x[y],S);if(this.stack.length<120)for(let y=0;E.length<8&&y<x.length;y+=2){let S=x[y+1];E.some((j,w)=>w&1&&j==S)||E.push(x[y],S)}x=E}let O=[];for(let E=0;E<x.length&&O.length<4;E+=2){let y=x[E+1];if(y==this.state)continue;let S=this.split();S.pushState(y,this.pos),S.storeNode(0,S.pos,S.pos,4,!0),S.shiftContext(x[E],this.pos),S.reducePos=this.pos,S.score-=200,O.push(S)}return O}forceReduce(){let{parser:r}=this.p,x=r.stateSlot(this.state,5);if(!(x&65536))return!1;if(!r.validAction(this.state,x)){let O=x>>19,E=x&65535,y=this.stack.length-O*3;if(y<0||r.getGoto(this.stack[y],E,!1)<0){let S=this.findForcedReduction();if(S==null)return!1;x=S}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(x),!0}findForcedReduction(){let{parser:r}=this.p,x=[],O=(E,y)=>{if(!x.includes(E))return x.push(E),r.allActions(E,S=>{if(!(S&393216))if(S&65536){let j=(S>>19)-y;if(j>1){let w=S&65535,_=this.stack.length-j*3;if(_>=0&&r.getGoto(this.stack[_],w,!1)>=0)return j<<19|65536|w}}else{let j=O(S,y+1);if(j!=null)return j}})};return O(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:r}=this.p;return r.data[r.stateSlot(this.state,1)]==65535&&!r.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(r){if(this.state!=r.state||this.stack.length!=r.stack.length)return!1;for(let x=0;x<this.stack.length;x+=3)if(this.stack[x]!=r.stack[x])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(r){return this.p.parser.dialect.flags[r]}shiftContext(r,x){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,r,this,this.p.stream.reset(x)))}reduceContext(r,x){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,r,this,this.p.stream.reset(x)))}emitContext(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(r){if(r!=this.curContext.context){let x=new StackContext(this.curContext.tracker,r);x.hash!=this.curContext.hash&&this.emitContext(),this.curContext=x}}setLookAhead(r){return r<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=r,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(r,x){this.tracker=r,this.context=x,this.hash=r.strict?r.hash(x):0}}class SimulatedStack{constructor(r){this.start=r,this.state=r.state,this.stack=r.stack,this.base=this.stack.length}reduce(r){let x=r&65535,O=r>>19;O==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(O-1)*3;let E=this.start.p.parser.getGoto(this.stack[this.base-3],x,!0);this.state=E}}class StackBufferCursor{constructor(r,x,O){this.stack=r,this.pos=x,this.index=O,this.buffer=r.buffer,this.index==0&&this.maybeNext()}static create(r,x=r.bufferBase+r.buffer.length){return new StackBufferCursor(r,x,x-r.bufferBase)}maybeNext(){let r=this.stack.parent;r!=null&&(this.index=this.stack.bufferBase-r.bufferBase,this.stack=r,this.buffer=r.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(o,r=Uint16Array){if(typeof o!="string")return o;let x=null;for(let O=0,E=0;O<o.length;){let y=0;for(;;){let S=o.charCodeAt(O++),j=!1;if(S==126){y=65535;break}S>=92&&S--,S>=34&&S--;let w=S-32;if(w>=46&&(w-=46,j=!0),y+=w,j)break;y*=46}x?x[E++]=y:x=new r(y)}return x}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(r,x){this.input=r,this.ranges=x,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=x[0].from,this.range=x[0],this.end=x[x.length-1].to,this.readNext()}resolveOffset(r,x){let O=this.range,E=this.rangeIndex,y=this.pos+r;for(;y<O.from;){if(!E)return null;let S=this.ranges[--E];y-=O.from-S.to,O=S}for(;x<0?y>O.to:y>=O.to;){if(E==this.ranges.length-1)return null;let S=this.ranges[++E];y+=S.from-O.to,O=S}return y}clipPos(r){if(r>=this.range.from&&r<this.range.to)return r;for(let x of this.ranges)if(x.to>r)return Math.max(r,x.from);return this.end}peek(r){let x=this.chunkOff+r,O,E;if(x>=0&&x<this.chunk.length)O=this.pos+r,E=this.chunk.charCodeAt(x);else{let y=this.resolveOffset(r,1);if(y==null)return-1;if(O=y,O>=this.chunk2Pos&&O<this.chunk2Pos+this.chunk2.length)E=this.chunk2.charCodeAt(O-this.chunk2Pos);else{let S=this.rangeIndex,j=this.range;for(;j.to<=O;)j=this.ranges[++S];this.chunk2=this.input.chunk(this.chunk2Pos=O),O+this.chunk2.length>j.to&&(this.chunk2=this.chunk2.slice(0,j.to-O)),E=this.chunk2.charCodeAt(0)}}return O>=this.token.lookAhead&&(this.token.lookAhead=O+1),E}acceptToken(r,x=0){let O=x?this.resolveOffset(x,-1):this.pos;if(O==null||O<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=r,this.token.end=O}acceptTokenTo(r,x){this.token.value=r,this.token.end=x}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:r,chunkPos:x}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=r,this.chunk2Pos=x,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let r=this.input.chunk(this.pos),x=this.pos+r.length;this.chunk=x>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(r=1){for(this.chunkOff+=r;this.pos+r>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();r-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=r,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(r,x){if(x?(this.token=x,x.start=r,x.lookAhead=r+1,x.value=x.extended=-1):this.token=nullToken,this.pos!=r){if(this.pos=r,r==this.end)return this.setDone(),this;for(;r<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;r>=this.range.to;)this.range=this.ranges[++this.rangeIndex];r>=this.chunkPos&&r<this.chunkPos+this.chunk.length?this.chunkOff=r-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(r,x){if(r>=this.chunkPos&&x<=this.chunkPos+this.chunk.length)return this.chunk.slice(r-this.chunkPos,x-this.chunkPos);if(r>=this.chunk2Pos&&x<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(r-this.chunk2Pos,x-this.chunk2Pos);if(r>=this.range.from&&x<=this.range.to)return this.input.read(r,x);let O="";for(let E of this.ranges){if(E.from>=x)break;E.to>r&&(O+=this.input.read(Math.max(E.from,r),Math.min(E.to,x)))}return O}}class TokenGroup{constructor(r,x){this.data=r,this.id=x}token(r,x){let{parser:O}=x.p;readToken(this.data,r,x,this.id,O.data,O.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(r,x,O){this.precTable=x,this.elseToken=O,this.data=typeof r=="string"?decodeArray(r):r}token(r,x){let O=r.pos,E=0;for(;;){let y=r.next<0,S=r.resolveOffset(1,1);if(readToken(this.data,r,x,0,this.data,this.precTable),r.token.value>-1)break;if(this.elseToken==null)return;if(y||E++,S==null)break;r.reset(S,r.token)}E&&(r.reset(O,r.token),r.acceptToken(this.elseToken,E))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(r,x={}){this.token=r,this.contextual=!!x.contextual,this.fallback=!!x.fallback,this.extend=!!x.extend}}function readToken(o,r,x,O,E,y){let S=0,j=1<<O,{dialect:w}=x.p.parser;e:for(;j&o[S];){let _=o[S+1];for(let F=S+3;F<_;F+=2)if((o[F+1]&j)>0){let V=o[F];if(w.allows(V)&&(r.token.value==-1||r.token.value==V||overrides(V,r.token.value,E,y))){r.acceptToken(V);break}}let Q=r.next,I=0,M=o[S+2];if(r.next<0&&M>I&&o[_+M*3-3]==65535){S=o[_+M*3-1];continue e}for(;I<M;){let F=I+M>>1,V=_+F+(F<<1),te=o[V],re=o[V+1]||65536;if(Q<te)M=F;else if(Q>=re)I=F+1;else{S=o[V+2],r.advance();continue e}}break}}function findOffset(o,r,x){for(let O=r,E;(E=o[O])!=65535;O++)if(E==x)return O-r;return-1}function overrides(o,r,x,O){let E=findOffset(x,O,r);return E<0||findOffset(x,O,o)<E}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(o,r,x){let O=o.cursor(IterMode.IncludeAnonymous);for(O.moveTo(r);;)if(!(x<0?O.childBefore(r):O.childAfter(r)))for(;;){if((x<0?O.to<r:O.from>r)&&!O.type.isError)return x<0?Math.max(0,Math.min(O.to-1,r-25)):Math.min(o.length,Math.max(O.from+1,r+25));if(x<0?O.prevSibling():O.nextSibling())break;if(!O.parent())return x<0?0:o.length}}class FragmentCursor{constructor(r,x){this.fragments=r,this.nodeSet=x,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let r=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(r){for(this.safeFrom=r.openStart?cutAt(r.tree,r.from+r.offset,1)-r.offset:r.from,this.safeTo=r.openEnd?cutAt(r.tree,r.to+r.offset,-1)-r.offset:r.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(r.tree),this.start.push(-r.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(r){if(r<this.nextStart)return null;for(;this.fragment&&this.safeTo<=r;)this.nextFragment();if(!this.fragment)return null;for(;;){let x=this.trees.length-1;if(x<0)return this.nextFragment(),null;let O=this.trees[x],E=this.index[x];if(E==O.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let y=O.children[E],S=this.start[x]+O.positions[E];if(S>r)return this.nextStart=S,null;if(y instanceof Tree){if(S==r){if(S<this.safeFrom)return null;let j=S+y.length;if(j<=this.safeTo){let w=y.prop(NodeProp.lookAhead);if(!w||j+w<this.fragment.to)return y}}this.index[x]++,S+y.length>=Math.max(this.safeFrom,r)&&(this.trees.push(y),this.start.push(S),this.index.push(0))}else this.index[x]++,this.nextStart=S+y.length}}}class TokenCache{constructor(r,x){this.stream=x,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=r.tokenizers.map(O=>new CachedToken)}getActions(r){let x=0,O=null,{parser:E}=r.p,{tokenizers:y}=E,S=E.stateSlot(r.state,3),j=r.curContext?r.curContext.hash:0,w=0;for(let _=0;_<y.length;_++){if(!(1<<_&S))continue;let Q=y[_],I=this.tokens[_];if(!(O&&!Q.fallback)&&((Q.contextual||I.start!=r.pos||I.mask!=S||I.context!=j)&&(this.updateCachedToken(I,Q,r),I.mask=S,I.context=j),I.lookAhead>I.end+25&&(w=Math.max(I.lookAhead,w)),I.value!=0)){let M=x;if(I.extended>-1&&(x=this.addActions(r,I.extended,I.end,x)),x=this.addActions(r,I.value,I.end,x),!Q.extend&&(O=I,x>M))break}}for(;this.actions.length>x;)this.actions.pop();return w&&r.setLookAhead(w),!O&&r.pos==this.stream.end&&(O=new CachedToken,O.value=r.p.parser.eofTerm,O.start=O.end=r.pos,x=this.addActions(r,O.value,O.end,x)),this.mainToken=O,this.actions}getMainToken(r){if(this.mainToken)return this.mainToken;let x=new CachedToken,{pos:O,p:E}=r;return x.start=O,x.end=Math.min(O+1,E.stream.end),x.value=O==E.stream.end?E.parser.eofTerm:0,x}updateCachedToken(r,x,O){let E=this.stream.clipPos(O.pos);if(x.token(this.stream.reset(E,r),O),r.value>-1){let{parser:y}=O.p;for(let S=0;S<y.specialized.length;S++)if(y.specialized[S]==r.value){let j=y.specializers[S](this.stream.read(r.start,r.end),O);if(j>=0&&O.p.parser.dialect.allows(j>>1)){j&1?r.extended=j>>1:r.value=j>>1;break}}}else r.value=0,r.end=this.stream.clipPos(E+1)}putAction(r,x,O,E){for(let y=0;y<E;y+=3)if(this.actions[y]==r)return E;return this.actions[E++]=r,this.actions[E++]=x,this.actions[E++]=O,E}addActions(r,x,O,E){let{state:y}=r,{parser:S}=r.p,{data:j}=S;for(let w=0;w<2;w++)for(let _=S.stateSlot(y,w?2:1);;_+=3){if(j[_]==65535)if(j[_+1]==1)_=pair(j,_+2);else{E==0&&j[_+1]==2&&(E=this.putAction(pair(j,_+2),x,O,E));break}j[_]==x&&(E=this.putAction(pair(j,_+1),x,O,E))}return E}}class Parse{constructor(r,x,O,E){this.parser=r,this.input=x,this.ranges=E,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(x,E),this.tokens=new TokenCache(r,this.stream),this.topTerm=r.top[1];let{from:y}=E[0];this.stacks=[Stack.start(this,r.top[0],y)],this.fragments=O.length&&this.stream.end-y>r.bufferLength*4?new FragmentCursor(O,r.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r=this.stacks,x=this.minStackPos,O=this.stacks=[],E,y;if(this.bigReductionCount>300&&r.length==1){let[S]=r;for(;S.forceReduce()&&S.stack.length&&S.stack[S.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let S=0;S<r.length;S++){let j=r[S];for(;;){if(this.tokens.mainToken=null,j.pos>x)O.push(j);else{if(this.advanceStack(j,O,r))continue;{E||(E=[],y=[]),E.push(j);let w=this.tokens.getMainToken(j);y.push(w.value,w.end)}}break}}if(!O.length){let S=E&&findFinished(E);if(S)return verbose&&console.log("Finish with "+this.stackID(S)),this.stackToTree(S);if(this.parser.strict)throw verbose&&E&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+x);this.recovering||(this.recovering=5)}if(this.recovering&&E){let S=this.stoppedAt!=null&&E[0].pos>this.stoppedAt?E[0]:this.runRecovery(E,y,O);if(S)return verbose&&console.log("Force-finish "+this.stackID(S)),this.stackToTree(S.forceAll())}if(this.recovering){let S=this.recovering==1?1:this.recovering*3;if(O.length>S)for(O.sort((j,w)=>w.score-j.score);O.length>S;)O.pop();O.some(j=>j.reducePos>x)&&this.recovering--}else if(O.length>1){e:for(let S=0;S<O.length-1;S++){let j=O[S];for(let w=S+1;w<O.length;w++){let _=O[w];if(j.sameState(_)||j.buffer.length>500&&_.buffer.length>500)if((j.score-_.score||j.buffer.length-_.buffer.length)>0)O.splice(w--,1);else{O.splice(S--,1);continue e}}}O.length>12&&(O.sort((S,j)=>j.score-S.score),O.splice(12,O.length-12))}this.minStackPos=O[0].pos;for(let S=1;S<O.length;S++)O[S].pos<this.minStackPos&&(this.minStackPos=O[S].pos);return null}stopAt(r){if(this.stoppedAt!=null&&this.stoppedAt<r)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=r}advanceStack(r,x,O){let E=r.pos,{parser:y}=this,S=verbose?this.stackID(r)+" -> ":"";if(this.stoppedAt!=null&&E>this.stoppedAt)return r.forceReduce()?r:null;if(this.fragments){let _=r.curContext&&r.curContext.tracker.strict,Q=_?r.curContext.hash:0;for(let I=this.fragments.nodeAt(E);I;){let M=this.parser.nodeSet.types[I.type.id]==I.type?y.getGoto(r.state,I.type.id):-1;if(M>-1&&I.length&&(!_||(I.prop(NodeProp.contextHash)||0)==Q))return r.useNode(I,M),verbose&&console.log(S+this.stackID(r)+` (via reuse of ${y.getName(I.type.id)})`),!0;if(!(I instanceof Tree)||I.children.length==0||I.positions[0]>0)break;let F=I.children[0];if(F instanceof Tree&&I.positions[0]==0)I=F;else break}}let j=y.stateSlot(r.state,4);if(j>0)return r.reduce(j),verbose&&console.log(S+this.stackID(r)+` (via always-reduce ${y.getName(j&65535)})`),!0;if(r.stack.length>=8400)for(;r.stack.length>6e3&&r.forceReduce(););let w=this.tokens.getActions(r);for(let _=0;_<w.length;){let Q=w[_++],I=w[_++],M=w[_++],F=_==w.length||!O,V=F?r:r.split(),te=this.tokens.mainToken;if(V.apply(Q,I,te?te.start:V.pos,M),verbose&&console.log(S+this.stackID(V)+` (via ${Q&65536?`reduce of ${y.getName(Q&65535)}`:"shift"} for ${y.getName(I)} @ ${E}${V==r?"":", split"})`),F)return!0;V.pos>E?x.push(V):O.push(V)}return!1}advanceFully(r,x){let O=r.pos;for(;;){if(!this.advanceStack(r,null,null))return!1;if(r.pos>O)return pushStackDedup(r,x),!0}}runRecovery(r,x,O){let E=null,y=!1;for(let S=0;S<r.length;S++){let j=r[S],w=x[S<<1],_=x[(S<<1)+1],Q=verbose?this.stackID(j)+" -> ":"";if(j.deadEnd&&(y||(y=!0,j.restart(),verbose&&console.log(Q+this.stackID(j)+" (restarted)"),this.advanceFully(j,O))))continue;let I=j.split(),M=Q;for(let F=0;F<10&&I.forceReduce()&&(verbose&&console.log(M+this.stackID(I)+" (via force-reduce)"),!this.advanceFully(I,O));F++)verbose&&(M=this.stackID(I)+" -> ");for(let F of j.recoverByInsert(w))verbose&&console.log(Q+this.stackID(F)+" (via recover-insert)"),this.advanceFully(F,O);this.stream.end>j.pos?(_==j.pos&&(_++,w=0),j.recoverByDelete(w,_),verbose&&console.log(Q+this.stackID(j)+` (via recover-delete ${this.parser.getName(w)})`),pushStackDedup(j,O)):(!E||E.score<I.score)&&(E=I)}return E}stackToTree(r){return r.close(),Tree.build({buffer:StackBufferCursor.create(r),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:r.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(r){let x=(stackIDs||(stackIDs=new WeakMap)).get(r);return x||stackIDs.set(r,x=String.fromCodePoint(this.nextStackID++)),x+r}}function pushStackDedup(o,r){for(let x=0;x<r.length;x++){let O=r[x];if(O.pos==o.pos&&O.sameState(o)){r[x].score<o.score&&(r[x]=o);return}}r.push(o)}class Dialect{constructor(r,x,O){this.source=r,this.flags=x,this.disabled=O}allows(r){return!this.disabled||this.disabled[r]==0}}const id=o=>o;class ContextTracker{constructor(r){this.start=r.start,this.shift=r.shift||id,this.reduce=r.reduce||id,this.reuse=r.reuse||id,this.hash=r.hash||(()=>0),this.strict=r.strict!==!1}}class LRParser extends Parser{constructor(r){if(super(),this.wrappers=[],r.version!=14)throw new RangeError(`Parser version (${r.version}) doesn't match runtime version (14)`);let x=r.nodeNames.split(" ");this.minRepeatTerm=x.length;for(let j=0;j<r.repeatNodeCount;j++)x.push("");let O=Object.keys(r.topRules).map(j=>r.topRules[j][1]),E=[];for(let j=0;j<x.length;j++)E.push([]);function y(j,w,_){E[j].push([w,w.deserialize(String(_))])}if(r.nodeProps)for(let j of r.nodeProps){let w=j[0];typeof w=="string"&&(w=NodeProp[w]);for(let _=1;_<j.length;){let Q=j[_++];if(Q>=0)y(Q,w,j[_++]);else{let I=j[_+-Q];for(let M=-Q;M>0;M--)y(j[_++],w,I);_++}}}this.nodeSet=new NodeSet(x.map((j,w)=>NodeType.define({name:w>=this.minRepeatTerm?void 0:j,id:w,props:E[w],top:O.indexOf(w)>-1,error:w==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(w)>-1}))),r.propSources&&(this.nodeSet=this.nodeSet.extend(...r.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let S=decodeArray(r.tokenData);this.context=r.context,this.specializerSpecs=r.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let j=0;j<this.specializerSpecs.length;j++)this.specialized[j]=this.specializerSpecs[j].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(r.states,Uint32Array),this.data=decodeArray(r.stateData),this.goto=decodeArray(r.goto),this.maxTerm=r.maxTerm,this.tokenizers=r.tokenizers.map(j=>typeof j=="number"?new TokenGroup(S,j):j),this.topRules=r.topRules,this.dialects=r.dialects||{},this.dynamicPrecedences=r.dynamicPrecedences||null,this.tokenPrecTable=r.tokenPrec,this.termNames=r.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(r,x,O){let E=new Parse(this,r,x,O);for(let y of this.wrappers)E=y(E,r,x,O);return E}getGoto(r,x,O=!1){let E=this.goto;if(x>=E[0])return-1;for(let y=E[x+1];;){let S=E[y++],j=S&1,w=E[y++];if(j&&O)return w;for(let _=y+(S>>1);y<_;y++)if(E[y]==r)return w;if(j)return-1}}hasAction(r,x){let O=this.data;for(let E=0;E<2;E++)for(let y=this.stateSlot(r,E?2:1),S;;y+=3){if((S=O[y])==65535)if(O[y+1]==1)S=O[y=pair(O,y+2)];else{if(O[y+1]==2)return pair(O,y+2);break}if(S==x||S==0)return pair(O,y+1)}return 0}stateSlot(r,x){return this.states[r*6+x]}stateFlag(r,x){return(this.stateSlot(r,0)&x)>0}validAction(r,x){return!!this.allActions(r,O=>O==x?!0:null)}allActions(r,x){let O=this.stateSlot(r,4),E=O?x(O):void 0;for(let y=this.stateSlot(r,1);E==null;y+=3){if(this.data[y]==65535)if(this.data[y+1]==1)y=pair(this.data,y+2);else break;E=x(pair(this.data,y+1))}return E}nextStates(r){let x=[];for(let O=this.stateSlot(r,1);;O+=3){if(this.data[O]==65535)if(this.data[O+1]==1)O=pair(this.data,O+2);else break;if(!(this.data[O+2]&1)){let E=this.data[O+1];x.some((y,S)=>S&1&&y==E)||x.push(this.data[O],E)}}return x}configure(r){let x=Object.assign(Object.create(LRParser.prototype),this);if(r.props&&(x.nodeSet=this.nodeSet.extend(...r.props)),r.top){let O=this.topRules[r.top];if(!O)throw new RangeError(`Invalid top rule name ${r.top}`);x.top=O}return r.tokenizers&&(x.tokenizers=this.tokenizers.map(O=>{let E=r.tokenizers.find(y=>y.from==O);return E?E.to:O})),r.specializers&&(x.specializers=this.specializers.slice(),x.specializerSpecs=this.specializerSpecs.map((O,E)=>{let y=r.specializers.find(j=>j.from==O.external);if(!y)return O;let S=Object.assign(Object.assign({},O),{external:y.to});return x.specializers[E]=getSpecializer(S),S})),r.contextTracker&&(x.context=r.contextTracker),r.dialect&&(x.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(x.strict=r.strict),r.wrap&&(x.wrappers=x.wrappers.concat(r.wrap)),r.bufferLength!=null&&(x.bufferLength=r.bufferLength),x}hasWrappers(){return this.wrappers.length>0}getName(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(r){let x=this.dynamicPrecedences;return x==null?0:x[r]||0}parseDialect(r){let x=Object.keys(this.dialects),O=x.map(()=>!1);if(r)for(let y of r.split(" ")){let S=x.indexOf(y);S>=0&&(O[S]=!0)}let E=null;for(let y=0;y<x.length;y++)if(!O[y])for(let S=this.dialects[x[y]],j;(j=this.data[S++])!=65535;)(E||(E=new Uint8Array(this.maxTerm+1)))[j]=1;return new Dialect(r,O,E)}static deserialize(r){return new LRParser(r)}}function pair(o,r){return o[r]|o[r+1]<<16}function findFinished(o){let r=null;for(let x of o){let O=x.p.stoppedAt;(x.pos==x.p.stream.end||O!=null&&x.pos>O)&&x.p.parser.stateFlag(x.state,2)&&(!r||r.score<x.score)&&(r=x)}return r}function getSpecializer(o){if(o.external){let r=o.extend?1:0;return(x,O)=>o.external(x,O)<<1|r}return o.get}const printKeyword=1,indent=194,dedent=195,newline$1=196,blankLineStart=197,newlineBracketed=198,eof=199,stringContent=200,Escape=2,replacementStart=3,stringEnd=201,ParenL$1=24,ParenthesizedExpression=25,TupleExpression=49,ComprehensionExpression=50,BracketL=55,ArrayExpression=56,ArrayComprehensionExpression=57,BraceL=59,DictionaryExpression=60,DictionaryComprehensionExpression=61,SetExpression=62,SetComprehensionExpression=63,ArgList=65,subscript=238,String$1=71,stringStart=241,stringStartD=242,stringStartL=243,stringStartLD=244,stringStartR=245,stringStartRD=246,stringStartRL=247,stringStartRLD=248,FormatString=72,stringStartF=249,stringStartFD=250,stringStartFL=251,stringStartFLD=252,stringStartFR=253,stringStartFRD=254,stringStartFRL=255,stringStartFRLD=256,FormatReplacement=73,nestedFormatReplacement=77,importList=263,TypeParamList=112,ParamList=130,SequencePattern=151,MappingPattern=152,PatternArgList=155,newline$2=10,carriageReturn=13,space$1=32,tab=9,hash=35,parenOpen=40,dot$1=46,braceOpen=123,braceClose=125,singleQuote=39,doubleQuote=34,backslash=92,letter_o=111,letter_x=120,letter_N=78,letter_u=117,letter_U=85,bracketed=new Set([ParenthesizedExpression,TupleExpression,ComprehensionExpression,importList,ArgList,ParamList,ArrayExpression,ArrayComprehensionExpression,subscript,SetExpression,SetComprehensionExpression,FormatString,FormatReplacement,nestedFormatReplacement,DictionaryExpression,DictionaryComprehensionExpression,SequencePattern,MappingPattern,PatternArgList,TypeParamList]);function isLineBreak(o){return o==newline$2||o==carriageReturn}function isHex(o){return o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102}const newlines=new ExternalTokenizer((o,r)=>{let x;if(o.next<0)o.acceptToken(eof);else if(r.context.flags&cx_Bracketed)isLineBreak(o.next)&&o.acceptToken(newlineBracketed,1);else if(((x=o.peek(-1))<0||isLineBreak(x))&&r.canShift(blankLineStart)){let O=0;for(;o.next==space$1||o.next==tab;)o.advance(),O++;(o.next==newline$2||o.next==carriageReturn||o.next==hash)&&o.acceptToken(blankLineStart,-O)}else isLineBreak(o.next)&&o.acceptToken(newline$1,1)},{contextual:!0}),indentation=new ExternalTokenizer((o,r)=>{let x=r.context;if(x.flags)return;let O=o.peek(-1);if(O==newline$2||O==carriageReturn){let E=0,y=0;for(;;){if(o.next==space$1)E++;else if(o.next==tab)E+=8-E%8;else break;o.advance(),y++}E!=x.indent&&o.next!=newline$2&&o.next!=carriageReturn&&o.next!=hash&&(E<x.indent?o.acceptToken(dedent,-y):o.acceptToken(indent))}}),cx_Bracketed=1,cx_String=2,cx_DoubleQuote=4,cx_Long=8,cx_Raw=16,cx_Format=32;function Context(o,r,x){this.parent=o,this.indent=r,this.flags=x,this.hash=(o?o.hash+o.hash<<8:0)+r+(r<<4)+x+(x<<6)}const topIndent=new Context(null,0,0);function countIndent(o){let r=0;for(let x=0;x<o.length;x++)r+=o.charCodeAt(x)==tab?8-r%8:1;return r}const stringFlags=new Map([[stringStart,0],[stringStartD,cx_DoubleQuote],[stringStartL,cx_Long],[stringStartLD,cx_Long|cx_DoubleQuote],[stringStartR,cx_Raw],[stringStartRD,cx_Raw|cx_DoubleQuote],[stringStartRL,cx_Raw|cx_Long],[stringStartRLD,cx_Raw|cx_Long|cx_DoubleQuote],[stringStartF,cx_Format],[stringStartFD,cx_Format|cx_DoubleQuote],[stringStartFL,cx_Format|cx_Long],[stringStartFLD,cx_Format|cx_Long|cx_DoubleQuote],[stringStartFR,cx_Format|cx_Raw],[stringStartFRD,cx_Format|cx_Raw|cx_DoubleQuote],[stringStartFRL,cx_Format|cx_Raw|cx_Long],[stringStartFRLD,cx_Format|cx_Raw|cx_Long|cx_DoubleQuote]].map(([o,r])=>[o,r|cx_String])),trackIndent=new ContextTracker({start:topIndent,reduce(o,r,x,O){return o.flags&cx_Bracketed&&bracketed.has(r)||(r==String$1||r==FormatString)&&o.flags&cx_String?o.parent:o},shift(o,r,x,O){return r==indent?new Context(o,countIndent(O.read(O.pos,x.pos)),0):r==dedent?o.parent:r==ParenL$1||r==BracketL||r==BraceL||r==replacementStart?new Context(o,0,cx_Bracketed):stringFlags.has(r)?new Context(o,0,stringFlags.get(r)|o.flags&cx_Bracketed):o},hash(o){return o.hash}}),legacyPrint=new ExternalTokenizer(o=>{for(let r=0;r<5;r++){if(o.next!="print".charCodeAt(r))return;o.advance()}if(!/\w/.test(String.fromCharCode(o.next)))for(let r=0;;r++){let x=o.peek(r);if(!(x==space$1||x==tab)){x!=parenOpen&&x!=dot$1&&x!=newline$2&&x!=carriageReturn&&x!=hash&&o.acceptToken(printKeyword);return}}}),strings=new ExternalTokenizer((o,r)=>{let{flags:x}=r.context,O=x&cx_DoubleQuote?doubleQuote:singleQuote,E=(x&cx_Long)>0,y=!(x&cx_Raw),S=(x&cx_Format)>0,j=o.pos;for(;!(o.next<0);)if(S&&o.next==braceOpen)if(o.peek(1)==braceOpen)o.advance(2);else{if(o.pos==j){o.acceptToken(replacementStart,1);return}break}else if(y&&o.next==backslash){if(o.pos==j){o.advance();let w=o.next;w>=0&&(o.advance(),skipEscape(o,w)),o.acceptToken(Escape);return}break}else if(o.next==backslash&&!y&&o.peek(1)>-1)o.advance(2);else if(o.next==O&&(!E||o.peek(1)==O&&o.peek(2)==O)){if(o.pos==j){o.acceptToken(stringEnd,E?3:1);return}break}else if(o.next==newline$2){if(E)o.advance();else if(o.pos==j){o.acceptToken(stringEnd);return}break}else o.advance();o.pos>j&&o.acceptToken(stringContent)});function skipEscape(o,r){if(r==letter_o)for(let x=0;x<2&&o.next>=48&&o.next<=55;x++)o.advance();else if(r==letter_x)for(let x=0;x<2&&isHex(o.next);x++)o.advance();else if(r==letter_u)for(let x=0;x<4&&isHex(o.next);x++)o.advance();else if(r==letter_U)for(let x=0;x<8&&isHex(o.next);x++)o.advance();else if(r==letter_N&&o.next==braceOpen){for(o.advance();o.next>=0&&o.next!=braceClose&&o.next!=singleQuote&&o.next!=doubleQuote&&o.next!=newline$2;)o.advance();o.next==braceClose&&o.advance()}}const pythonHighlighting=styleTags({'async "*" "**" FormatConversion FormatSpec':tags.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":tags.controlKeyword,"in not and or is del":tags.operatorKeyword,"from def class global nonlocal lambda":tags.definitionKeyword,import:tags.moduleKeyword,"with as print":tags.keyword,Boolean:tags.bool,None:tags.null,VariableName:tags.variableName,"CallExpression/VariableName":tags.function(tags.variableName),"FunctionDefinition/VariableName":tags.function(tags.definition(tags.variableName)),"ClassDefinition/VariableName":tags.definition(tags.className),PropertyName:tags.propertyName,"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),Comment:tags.lineComment,Number:tags.number,String:tags.string,FormatString:tags.special(tags.string),Escape:tags.escape,UpdateOp:tags.updateOperator,"ArithOp!":tags.arithmeticOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,AssignOp:tags.definitionOperator,Ellipsis:tags.punctuation,At:tags.meta,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,".":tags.derefOperator,", ;":tags.separator}),spec_identifier$3={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},parser$3=LRParser.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:trackIndent,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[pythonHighlighting],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[legacyPrint,indentation,newlines,strings,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:o=>spec_identifier$3[o]||-1}],tokenPrec:7668}),cache$1=new NodeWeakMap,ScopeNodes$1=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function defID$1(o){return(r,x,O)=>{if(O)return!1;let E=r.node.getChild("VariableName");return E&&x(E,o),!0}}const gatherCompletions$1={FunctionDefinition:defID$1("function"),ClassDefinition:defID$1("class"),ForStatement(o,r,x){if(x){for(let O=o.node.firstChild;O;O=O.nextSibling)if(O.name=="VariableName")r(O,"variable");else if(O.name=="in")break}},ImportStatement(o,r){var x,O;let{node:E}=o,y=((x=E.firstChild)===null||x===void 0?void 0:x.name)=="from";for(let S=E.getChild("import");S;S=S.nextSibling)S.name=="VariableName"&&((O=S.nextSibling)===null||O===void 0?void 0:O.name)!="as"&&r(S,y?"variable":"namespace")},AssignStatement(o,r){for(let x=o.node.firstChild;x;x=x.nextSibling)if(x.name=="VariableName")r(x,"variable");else if(x.name==":"||x.name=="AssignOp")break},ParamList(o,r){for(let x=null,O=o.node.firstChild;O;O=O.nextSibling)O.name=="VariableName"&&(!x||!/\*|AssignOp/.test(x.name))&&r(O,"variable"),x=O},CapturePattern:defID$1("variable"),AsPattern:defID$1("variable"),__proto__:null};function getScope$1(o,r){let x=cache$1.get(r);if(x)return x;let O=[],E=!0;function y(S,j){let w=o.sliceString(S.from,S.to);O.push({label:w,type:j})}return r.cursor(IterMode.IncludeAnonymous).iterate(S=>{if(S.name){let j=gatherCompletions$1[S.name];if(j&&j(S,y,E)||!E&&ScopeNodes$1.has(S.name))return!1;E=!1}else if(S.to-S.from>8192){for(let j of getScope$1(o,S.node))O.push(j);return!1}}),cache$1.set(r,O),O}const Identifier$1=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,dontComplete$1=["String","FormatString","Comment","PropertyName"];function localCompletionSource$1(o){let r=syntaxTree(o.state).resolveInner(o.pos,-1);if(dontComplete$1.indexOf(r.name)>-1)return null;let x=r.name=="VariableName"||r.to-r.from<20&&Identifier$1.test(o.state.sliceDoc(r.from,r.to));if(!x&&!o.explicit)return null;let O=[];for(let E=r;E;E=E.parent)ScopeNodes$1.has(E.name)&&(O=O.concat(getScope$1(o.state.doc,E)));return{options:O,from:x?r.from:o.pos,validFor:Identifier$1}}const globals=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(o=>({label:o,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(o=>({label:o,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(o=>({label:o,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(o=>({label:o,type:"function"}))),snippets$1=[snippetCompletion("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),snippetCompletion("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),snippetCompletion(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),snippetCompletion("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion("import ${module}",{label:"import",detail:"statement",type:"keyword"}),snippetCompletion("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],globalCompletion=ifNotIn(dontComplete$1,completeFromList(globals.concat(snippets$1)));function innerBody(o){let{node:r,pos:x}=o,O=o.lineIndent(x,-1),E=null;for(;;){let y=r.childBefore(x);if(y)if(y.name=="Comment")x=y.from;else if(y.name=="Body"||y.name=="MatchBody")o.baseIndentFor(y)+o.unit<=O&&(E=y),r=y;else if(y.name=="MatchClause")r=y;else if(y.type.is("Statement"))r=y;else break;else break}return E}function indentBody(o,r){let x=o.baseIndentFor(r),O=o.lineAt(o.pos,-1),E=O.from+O.text.length;return/^\s*($|#)/.test(O.text)&&o.node.to<E+100&&!/\S/.test(o.state.sliceDoc(E,o.node.to))&&o.lineIndent(o.pos,-1)<=x||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(o.textAfter)&&o.lineIndent(o.pos,-1)>x?null:x+o.unit}const pythonLanguage=LRLanguage.define({name:"python",parser:parser$3.configure({props:[indentNodeProp.add({Body:o=>{var r;let x=/^\s*(#|$)/.test(o.textAfter)&&innerBody(o)||o.node;return(r=indentBody(o,x))!==null&&r!==void 0?r:o.continue()},MatchBody:o=>{var r;let x=innerBody(o);return(r=indentBody(o,x||o.node))!==null&&r!==void 0?r:o.continue()},IfStatement:o=>/^\s*(else:|elif )/.test(o.textAfter)?o.baseIndent:o.continue(),"ForStatement WhileStatement":o=>/^\s*else:/.test(o.textAfter)?o.baseIndent:o.continue(),TryStatement:o=>/^\s*(except[ :]|finally:|else:)/.test(o.textAfter)?o.baseIndent:o.continue(),MatchStatement:o=>/^\s*case /.test(o.textAfter)?o.baseIndent+o.unit:o.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":delimitedIndent({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":delimitedIndent({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":delimitedIndent({closing:"]"}),MemberExpression:o=>o.baseIndent+o.unit,"String FormatString":()=>null,Script:o=>{var r;let x=innerBody(o);return(r=x&&indentBody(o,x))!==null&&r!==void 0?r:o.continue()}}),foldNodeProp.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":foldInside,Body:(o,r)=>({from:o.from+1,to:o.to-(o.to==r.doc.length?0:1)}),"String FormatString":(o,r)=>({from:r.doc.lineAt(o.from).to,to:o.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function python(){return new LanguageSupport(pythonLanguage,[pythonLanguage.data.of({autocomplete:localCompletionSource$1}),pythonLanguage.data.of({autocomplete:globalCompletion})])}const noSemi=316,noSemiType=317,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=318,spaces=320,newline=321,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(o,r){return r==LineComment||r==BlockComment||r==spaces?o:r==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((o,r)=>{let{next:x}=o;(x==braceR||x==-1||r.context)&&o.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((o,r)=>{let{next:x}=o,O;space.indexOf(x)>-1||x==slash&&((O=o.peek(1))==slash||O==star)||x!=braceR&&x!=semicolon&&x!=-1&&!r.context&&o.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((o,r)=>{o.next==bracketL&&!r.context&&o.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((o,r)=>{let{next:x}=o;if(x==plus||x==minus){if(o.advance(),x==o.next){o.advance();let O=!r.context&&r.canShift(incdec);o.acceptToken(O?incdec:incdecPrefix)}}else x==question&&o.peek(1)==dot&&(o.advance(),o.advance(),(o.next<48||o.next>57)&&o.acceptToken(questionDot))},{contextual:!0});function identifierChar(o,r){return o>=65&&o<=90||o>=97&&o<=122||o==95||o>=192||!r&&o>=48&&o<=57}const jsx=new ExternalTokenizer((o,r)=>{if(o.next!=lt||!r.dialectEnabled(Dialect_jsx)||(o.advance(),o.next==slash))return;let x=0;for(;space.indexOf(o.next)>-1;)o.advance(),x++;if(identifierChar(o.next,!0)){for(o.advance(),x++;identifierChar(o.next,!1);)o.advance(),x++;for(;space.indexOf(o.next)>-1;)o.advance(),x++;if(o.next==comma)return;for(let O=0;;O++){if(O==7){if(!identifierChar(o.next,!0))return;break}if(o.next!="extends".charCodeAt(O))break;o.advance(),x++}}o.acceptToken(JSXStartTag,-x)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case defer":tags.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier$2={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser$2=LRParser.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new LocalTokenGroup("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:o=>spec_identifier$2[o]||-1},{term:343,get:o=>spec_word[o]||-1},{term:95,get:o=>spec_LessThan[o]||-1}],tokenPrec:15201}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(o){return(r,x)=>{let O=r.node.getChild("VariableDefinition");return O&&x(O,o),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(o,r){o.matchContext(functionContext)||r(o,"variable")},TypeDefinition(o,r){r(o,"type")},__proto__:null};function getScope(o,r){let x=cache.get(r);if(x)return x;let O=[],E=!0;function y(S,j){let w=o.sliceString(S.from,S.to);O.push({label:w,type:j})}return r.cursor(IterMode.IncludeAnonymous).iterate(S=>{if(E)E=!1;else if(S.name){let j=gatherCompletions[S.name];if(j&&j(S,y)||ScopeNodes.has(S.name))return!1}else if(S.to-S.from>8192){for(let j of getScope(o,S.node))O.push(j);return!1}}),cache.set(r,O),O}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(o){let r=syntaxTree(o.state).resolveInner(o.pos,-1);if(dontComplete.indexOf(r.name)>-1)return null;let x=r.name=="VariableName"||r.to-r.from<20&&Identifier.test(o.state.sliceDoc(r.from,r.to));if(!x&&!o.explicit)return null;let O=[];for(let E=r;E;E=E.parent)ScopeNodes.has(E.name)&&(O=O.concat(getScope(o.state.doc,E)));return{options:O,from:x?r.from:o.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$2.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:o=>{let r=o.textAfter,x=/^\s*\}/.test(r),O=/^\s*(case|default)\b/.test(r);return o.baseIndent+(x?0:O?1:2)*o.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:o=>o.baseIndent+o.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(o){let r=/^\s*<\//.test(o.textAfter);return o.lineIndent(o.node.from)+(r?0:o.unit)},JSXEscape(o){let r=/\s*\}/.test(o.textAfter);return o.lineIndent(o.node.from)+(r?0:o.unit)},"JSXOpenTag JSXSelfClosingTag"(o){return o.column(o.node.from)+o.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(o){return{from:o.from+2,to:o.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:o=>/^JSX/.test(o.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=o=>({label:o,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(o={}){let r=o.jsx?o.typescript?tsxLanguage:jsxLanguage:o.typescript?typescriptLanguage:javascriptLanguage,x=o.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(r,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(x))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),o.jsx?autoCloseTags:[]])}function findOpenTag(o){for(;;){if(o.name=="JSXOpenTag"||o.name=="JSXSelfClosingTag"||o.name=="JSXFragmentTag")return o;if(o.name=="JSXEscape"||!o.parent)return null;o=o.parent}}function elementName(o,r,x=o.length){for(let O=r==null?void 0:r.firstChild;O;O=O.nextSibling)if(O.name=="JSXIdentifier"||O.name=="JSXBuiltin"||O.name=="JSXNamespacedName"||O.name=="JSXMemberExpression")return o.sliceString(O.from,Math.min(O.to,x));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((o,r,x,O,E)=>{if((android?o.composing:o.compositionStarted)||o.state.readOnly||r!=x||O!=">"&&O!="/"||!javascriptLanguage.isActiveAt(o.state,r,-1))return!1;let y=E(),{state:S}=y,j=S.changeByRange(w=>{var _;let{head:Q}=w,I=syntaxTree(S).resolveInner(Q-1,-1),M;if(I.name=="JSXStartTag"&&(I=I.parent),!(S.doc.sliceString(Q-1,Q)!=O||I.name=="JSXAttributeValue"&&I.to>Q)){if(O==">"&&I.name=="JSXFragmentTag")return{range:w,changes:{from:Q,insert:"</>"}};if(O=="/"&&I.name=="JSXStartCloseTag"){let F=I.parent,V=F.parent;if(V&&F.from==Q-2&&((M=elementName(S.doc,V.firstChild,Q))||((_=V.firstChild)===null||_===void 0?void 0:_.name)=="JSXFragmentTag")){let te=`${M}>`;return{range:EditorSelection.cursor(Q+te.length,-1),changes:{from:Q,insert:te}}}}else if(O==">"){let F=findOpenTag(I);if(F&&F.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(S.doc.sliceString(Q,Q+2))&&(M=elementName(S.doc,F,Q)))return{range:w,changes:{from:Q,insert:`</${M}>`}}}}return{range:w}});return j.changes.empty?!1:(o.dispatch([y,S.update(j,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),javaHighlighting=styleTags({null:tags.null,instanceof:tags.operatorKeyword,this:tags.self,"new super assert open to with void":tags.keyword,"class interface extends implements enum var":tags.definitionKeyword,"module package import":tags.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":tags.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":tags.modifier,IntegerLiteral:tags.integer,FloatingPointLiteral:tags.float,"StringLiteral TextBlock":tags.string,CharacterLiteral:tags.character,LineComment:tags.lineComment,BlockComment:tags.blockComment,BooleanLiteral:tags.bool,PrimitiveType:tags.standard(tags.typeName),TypeName:tags.typeName,Identifier:tags.variableName,"MethodName/Identifier":tags.function(tags.variableName),Definition:tags.definition(tags.variableName),ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,AssignOp:tags.definitionOperator,UpdateOp:tags.updateOperator,Asterisk:tags.punctuation,Label:tags.labelName,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,".":tags.derefOperator,", ;":tags.separator}),spec_identifier$1={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},parser$1=LRParser.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2i~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g%y&P&Xc&X~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:"⚠ LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[javaHighlighting],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#'f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5zvw7[wx8rxyAZyzAwz{Be{|CZ|}Dq}!OE_!O!PFx!P!Q! r!Q!R!,h!R![!0`![!]!>p!]!^!@Q!^!_!@n!_!`!BX!`!a!B{!a!b!Di!b!c!EX!c!}!LT!}#O!Mj#O#P%Q#P#Q!NW#Q#R!Nt#R#S4e#S#T%Q#T#o4e#o#p# h#p#q#!U#q#r##n#r#s#$[#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4eS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4lb&YS&PZOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o$g%Q$g;'S4e;'S;=`5t<%lO4e_5wP;=`<%l4eU6RX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU6uV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7cZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw8Uw!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU8]V#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8wZ&YSOY9jYZ%lZr9jrs:xsw9jwx%Qx#O9j#O#P<S#P;'S9j;'S;=`AT<%lO9jT9oX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:[x;'S%Q;'S;=`&s<%lO%QT:cVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:{XOY&ZYZ%lZr&Zrs&ysw&Zwx;hx;'S&Z;'S;=`'`<%lO&ZT;mVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<XZ&YSOY<zYZ%lZr<zrs=rsw<zwx9jx#O<z#O#P9j#P;'S<z;'S;=`?^<%lO<zT=PZ&YSOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT=uZOY>hYZ%lZr>hrs?dsw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hT>kZOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT?aP;=`<%l<zT?gZOY>hYZ%lZr>hrs@Ysw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hP@]VOY@YZw@Ywx@rx#O@Y#P;'S@Y;'S;=`@w<%lO@YP@wObPP@zP;=`<%l@YTAQP;=`<%l>hTAWP;=`<%l9j_AbVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBOVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBnX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVCbZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|DT|!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVD[V#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDxVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVEf[#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!ODT!O!_%Q!_!`6n!`!aF[!a;'S%Q;'S;=`&s<%lO%QVFcV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_GPZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGr!P!Q%Q!Q![IQ![;'S%Q;'S;=`&s<%lO%QVGwX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHd!P;'S%Q;'S;=`&s<%lO%QVHkV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIXc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#R%Q#R#SNz#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTJkV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTKV]&YSOY%QYZ%lZr%Qrs%qs{%Q{|LO|}%Q}!OLO!O!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLTX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLwc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![!f%Q!f!gJd!g!h%Q!h!iJd!i#R%Q#R#SNS#S#W%Q#W#XJd#X#Y%Q#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTNXZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![#R%Q#R#SNS#S;'S%Q;'S;=`&s<%lO%QT! PZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![#R%Q#R#SNz#S;'S%Q;'S;=`&s<%lO%Q_! y]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!r{!P%Q!P!Q!)e!Q!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%Q_!!wX&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!#iT&YSOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!#{TOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!$_VOz!#xz{!$[{!P!#x!P!Q!$t!Q;'S!#x;'S;=`!$y<%lO!#xZ!$yOQZZ!$|P;=`<%l!#x_!%SXOY!%oYZ!#dZr!%ors!'ysz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!%rXOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!&dZ&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!'^V&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'vP;=`<%l!!r_!'|XOY!%oYZ!#dZr!%ors!#xsz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!(lZOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!)bP;=`<%l!%o_!)lV&YSPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!*WVPZOY!*mYZ%lZr!*mrs!+_s;'S!*m;'S;=`!,b<%lO!*m_!*rVPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!+[P;=`<%l!)e_!+dVPZOY!*mYZ%lZr!*mrs!+ys;'S!*m;'S;=`!,b<%lO!*mZ!,OSPZOY!+yZ;'S!+y;'S;=`!,[<%lO!+yZ!,_P;=`<%l!+y_!,eP;=`<%l!*mT!,ou&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!d%Q!d!e!3j!e!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o!q%Q!q!r!5h!r!z%Q!z!{!7`!{#R%Q#R#S!2r#S#U%Q#U#V!3j#V#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a#c%Q#c#d!5h#d#l%Q#l#m!7`#m;'S%Q;'S;=`&s<%lO%QT!/Za&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QT!0gi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o#R%Q#R#S!2r#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!2]V&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2wZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0`![#R%Q#R#S!2r#S;'S%Q;'S;=`&s<%lO%QT!3oY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S;'S%Q;'S;=`&s<%lO%QT!4f`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S!n%Q!n!o!2U!o#R%Q#R#S!3j#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!5mX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y;'S%Q;'S;=`&s<%lO%QT!6a_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y!n%Q!n!o!2U!o#R%Q#R#S!5h#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!7e_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8d!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QT!8i]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i#T%Q#T#Z!9b#Z;'S%Q;'S;=`&s<%lO%QT!9gc&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#R%Q#R#S!8d#S#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!:yi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<h!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i!n%Q!n!o!2U!o!r%Q!r!sKQ!s#R%Q#R#S!=r#S#T%Q#T#Z!:r#Z#`%Q#`#a!2U#a#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!<ma&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!=w]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QV!>wX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?d!];'S%Q;'S;=`&s<%lO%QV!?kV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@XV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@uY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!Ae!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AlX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV!B`X!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!CSY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Cr!a;'S%Q;'S;=`&s<%lO%QU!CyY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`!a!Ae!a;'S%Q;'S;=`&s<%lO%Q_!DrV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!E`X%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!E{#^;'S%Q;'S;=`&s<%lO%QV!FQX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fm#c;'S%Q;'S;=`&s<%lO%QV!FrX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!G_#i;'S%Q;'S;=`&s<%lO%QV!GdX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!HP#Y;'S%Q;'S;=`&s<%lO%QV!HUX&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hq#g;'S%Q;'S;=`&s<%lO%QV!HvX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!Ic#Z;'S%Q;'S;=`&s<%lO%QV!IhX&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!JT#U;'S%Q;'S;=`&s<%lO%QV!JYX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Ju#W;'S%Q;'S;=`&s<%lO%QV!JzX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Kg#Y;'S%Q;'S;=`&s<%lO%QV!KnV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!L[b&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!LTu!Q%Q!Q![!LT![!c%Q!c!}!LT!}#R%Q#R#S!LT#S#T%Q#T#o!LT#o$g%Q$g;'S!LT;'S;=`!Md<%lO!LT_!MgP;=`<%l!LT_!MqVuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!N_VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!N{X#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV# oV}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#!_Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`#p%Q#p#q##Q#q;'S%Q;'S;=`&s<%lO%QU##XV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##uV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$cV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#%Ru&YS%yZ&PZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4e",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:o=>spec_identifier$1[o]||-1}],tokenPrec:7144}),javaLanguage=LRLanguage.define({name:"java",parser:parser$1.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch|finally)\b/}),LabeledStatement:flatIndent,SwitchBlock:o=>{let r=o.textAfter,x=/^\s*\}/.test(r),O=/^\s*(case|default)\b/.test(r);return o.baseIndent+(x?0:O?1:2)*o.unit},Block:delimitedIndent({closing:"}"}),BlockComment:()=>null,Statement:continuedIndent({except:/^{/})}),foldNodeProp.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":foldInside,BlockComment(o){return{from:o.from+2,to:o.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});function java(){return new LanguageSupport(javaLanguage)}const RawString=1,templateArgsEndFallback=2,MacroName=3,R=82,L=76,u=117,U=85,a=97,z=122,A=65,Z=90,Underscore=95,Zero=48,Quote=34,ParenL=40,ParenR=41,Space=32,GreaterThan=62,rawString=new ExternalTokenizer(o=>{if(o.next==L||o.next==U?o.advance():o.next==u&&(o.advance(),o.next==Zero+8&&o.advance()),o.next!=R||(o.advance(),o.next!=Quote))return;o.advance();let r="";for(;o.next!=ParenL;){if(o.next==Space||o.next<=13||o.next==ParenR)return;r+=String.fromCharCode(o.next),o.advance()}for(o.advance();;){if(o.next<0)return o.acceptToken(RawString);if(o.next==ParenR){let x=!0;for(let O=0;x&&O<r.length;O++)o.peek(O+1)!=r.charCodeAt(O)&&(x=!1);if(x&&o.peek(r.length+1)==Quote)return o.acceptToken(RawString,2+r.length)}o.advance()}}),fallback=new ExternalTokenizer(o=>{if(o.next==GreaterThan)o.peek(1)==GreaterThan&&o.acceptToken(templateArgsEndFallback,1);else{let r=!1,x=0;for(;;x++){if(o.next>=A&&o.next<=Z)r=!0;else{if(o.next>=a&&o.next<=z)return;if(o.next!=Underscore&&!(o.next>=Zero&&o.next<=Zero+9))break}o.advance()}r&&x>1&&o.acceptToken(MacroName)}},{extend:!0}),cppHighlighting=styleTags({"typedef struct union enum class typename decltype auto template operator friend noexcept namespace using requires concept import export module __attribute__ __declspec __based":tags.definitionKeyword,"extern MsCallModifier MsPointerModifier extern static register thread_local inline const volatile restrict _Atomic mutable constexpr constinit consteval virtual explicit VirtualSpecifier Access":tags.modifier,"if else switch for while do case default return break continue goto throw try catch":tags.controlKeyword,"co_return co_yield co_await":tags.controlKeyword,"new sizeof delete static_assert":tags.operatorKeyword,"NULL nullptr":tags.null,this:tags.self,"True False":tags.bool,"TypeSize PrimitiveType":tags.standard(tags.typeName),TypeIdentifier:tags.typeName,FieldIdentifier:tags.propertyName,"CallExpression/FieldExpression/FieldIdentifier":tags.function(tags.propertyName),"ModuleName/Identifier":tags.namespace,PartitionName:tags.labelName,StatementIdentifier:tags.labelName,"Identifier DestructorName":tags.variableName,"CallExpression/Identifier":tags.function(tags.variableName),"CallExpression/ScopedIdentifier/Identifier":tags.function(tags.variableName),"FunctionDeclarator/Identifier FunctionDeclarator/DestructorName":tags.function(tags.definition(tags.variableName)),NamespaceIdentifier:tags.namespace,OperatorName:tags.operator,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,AssignOp:tags.definitionOperator,UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,"RawString SystemLibString":tags.special(tags.string),CharLiteral:tags.character,EscapeSequence:tags.escape,"UserDefinedLiteral/Identifier":tags.literal,PreProcArg:tags.meta,"PreprocDirectiveName #include #ifdef #ifndef #if #define #else #endif #elif":tags.processingInstruction,MacroName:tags.special(tags.name),"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"< >":tags.angleBracket,". ->":tags.derefOperator,", ;":tags.separator}),spec_identifier={__proto__:null,bool:36,char:36,int:36,float:36,double:36,void:36,size_t:36,ssize_t:36,intptr_t:36,uintptr_t:36,charptr_t:36,int8_t:36,int16_t:36,int32_t:36,int64_t:36,uint8_t:36,uint16_t:36,uint32_t:36,uint64_t:36,char8_t:36,char16_t:36,char32_t:36,char64_t:36,const:70,volatile:72,restrict:74,_Atomic:76,mutable:78,constexpr:80,constinit:82,consteval:84,struct:88,__declspec:92,final:148,override:148,public:152,private:152,protected:152,virtual:154,extern:160,static:162,register:164,inline:166,thread_local:168,__attribute__:172,__based:178,__restrict:180,__uptr:180,__sptr:180,_unaligned:180,__unaligned:180,noexcept:194,requires:198,TRUE:796,true:796,FALSE:798,false:798,typename:218,class:220,template:234,throw:248,__cdecl:256,__clrcall:256,__stdcall:256,__fastcall:256,__thiscall:256,__vectorcall:256,try:260,catch:264,export:282,import:286,case:296,default:298,if:308,else:314,switch:318,do:322,while:324,for:330,return:334,break:338,continue:342,goto:346,co_return:350,co_yield:354,using:362,typedef:366,namespace:380,new:398,delete:400,co_await:402,concept:406,enum:410,static_assert:414,friend:422,union:424,explicit:430,operator:444,module:456,signed:518,unsigned:518,long:518,short:518,decltype:528,auto:530,sizeof:566,NULL:572,nullptr:586,this:588},spec_={__proto__:null,"<":765},spec_templateArgsEnd={__proto__:null,">":135},spec_scopedIdentifier={__proto__:null,operator:388,new:576,delete:582},parser=LRParser.deserialize({version:14,states:"$;xQ!QQVOOP'gOUOOO([OWO'#CdO,UQUO'#CgO,`QUO'#FjO-vQbO'#CxO.XQUO'#CxO0WQUO'#K`O0_QUO'#CwO0jOpO'#DvO0rQ!dO'#D]OOQR'#JP'#JPO5[QVO'#GUO5iQUO'#JWOOQQ'#JW'#JWO8}QUO'#KsO<hQUO'#KsO?OQVO'#E^O?`QUO'#E^OOQQ'#Ed'#EdOOQQ'#Ee'#EeO?eQVO'#EfO@[QVO'#EiOBXQUO'#FPOByQUO'#FhOOQR'#Fj'#FjOCOQUO'#FjOOQR'#LW'#LWOOQR'#LV'#LVOEWQVO'#KVOF{QUO'#L]OGYQUO'#KwOGnQUO'#L]OH`QUO'#L_OOQR'#HU'#HUOOQR'#HV'#HVOOQR'#HW'#HWOOQR'#LS'#LSOOQR'#J`'#J`Q!QQVOOOHnQVO'#FOOIZQUO'#EhOIbQUOOOK^QVO'#HgOKnQUO'#HgONYQUO'#KwONdQUO'#KwOOQQ'#Kw'#KwO!!bQUO'#KwOOQQ'#Jr'#JrO!!oQUO'#HxOOQQ'#K`'#K`O!&aQUO'#K`O!&}QUO'#KVO!(}QVO'#I]O!(}QVO'#I`OCTQUO'#KVOOQQ'#Ip'#IpOOQQ'#KV'#KVO!-QQUO'#K`OOQR'#K_'#K_O!-XQUO'#DZO!/pQUO'#KtOOQQ'#Kt'#KtO!/wQUO'#KtO!0OQUO'#ETO!0TQUO'#EWO!0YQUO'#FRO8}QUO'#FPO!QQVO'#F^O!0_Q#vO'#F`O!0jQUO'#FkO!0rQUO'#FpO!0wQVO'#FrO!0rQUO'#FuO!3vQUO'#FvO!3{QVO'#FxO!4VQUO'#FzO!4[QUO'#F|O!4aQUO'#GOO!4fQVO'#GQO!(}QVO'#GSO!4mQUO'#GpO!4{QUO'#GYO!(}QVO'#FeO!6YQUO'#FeO!6_QVO'#G`O!6fQUO'#GaO!6qQUO'#GnO!6vQUO'#GrO!6{QUO'#GzO!7mQ&lO'#HiO!:pQUO'#GuO!;QQUO'#HXO!;]QUO'#HZO!;eQUO'#DXO!;eQUO'#HuO!;eQUO'#HvO!;|QUO'#HwO!<_QUO'#H|O!=SQUO'#H}O!>xQVO'#IbO!(}QVO'#IdO!?SQUO'#IgO!?ZQVO'#IjP!AQO!LQO'#CaP!A]{,UO'#CbP!6q{,UO'#CbP!Ah{7[O'#CbP!6q{,UO'#CbP!Am{,UO'#CbP!AxOSO'#IzPOOO)CEo)CEoOOOO'#I}'#I}O!BSOWO,59OOOQR,59O,59OO!(}QVO,59VOOQQ,59X,59XOOQR'#Do'#DoO!(}QVO,5;ROOQR,5<U,5<UO!B_QUO,59ZO!(}QVO,5>qOOQR'#IX'#IXOOQR'#IY'#IYOOQR'#IZ'#IZOOQR'#I['#I[O!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!(}QVO,5>rO!D^QVO,5>zOOQQ,5?W,5?WO!FPQVO'#CjO!IxQUO'#CzOOQQ,59d,59dOOQQ,59c,59cOOQQ,5<},5<}O!JVQ&lO,5=mO!?SQUO,5?RO!LyQVO,5?UO!MQQbO,59dO!M]QVO'#FYOOQQ,5?P,5?PO!MmQVO,59WO!MtO`O,5:bO!MyQbO'#D^O!N[QbO'#KdO!NjQbO,59wO!NrQbO'#CxO# TQUO'#CxO# YQUO'#K`O# dQUO'#CwOOQR-E<}-E<}O# oQUO,5AuO# vQVO'#EfO@[QVO'#EiOBXQUO,5;kOOQR,5<p,5<pO#$oQUO'#KVO#$vQUO'#KVO!(}QVO'#IUO8}QUO,5;kO#%ZQ&lO'#HiO#(bQUO'#CtO#+VQbO'#CxO#+[QUO'#CwO#.xQUO'#K`OOQQ-E=U-E=UO#1]QUO,5A_O#1gQUO'#K`O#1qQUO,5A_OOQR,5Au,5AuOOQQ,5>l,5>lO#3uQUO'#CgO#4kQUO,5>pO#6^QUO'#IeOOQR'#JO'#JOO#6fQUO,5:xO#7SQUO,5:xO#7sQUO,5:xO#8hQUO'#CuO!0TQUO'#CmOOQQ'#JX'#JXO#7SQUO,5:xO#8pQUO,5;QO!4{QUO'#DOO#9yQUO,5;QO#:OQUO,5>QO#;[QUO'#DOO#;rQUO,5>{O#;wQUO'#K}O#=QQUO,5;TO#=YQVO,5;TO#=dQUO,5;TOOQQ,5;T,5;TO#?]QUO'#LbO#?dQUO,5>UO#?iQbO'#CxO#?tQUO'#GcO#?yQUO'#E^O#@jQUO,5;kO#ARQUO'#LTO#AZQUO,5;rOKnQUO'#HfOBXQUO'#HgO#A`QUO'#KwO!6qQUO'#HjO#BWQUO'#CuO!0wQVO,5<SOOQQ'#Cg'#CgOOQR'#Ji'#JiO#B]QVO,5=`OOQQ,5?Z,5?ZO#DfQbO'#CxO#DqQUO'#GcOOQQ'#Jj'#JjOOQQ-E=h-E=hOGYQUO,5AwOGnQUO,5AwO#DvQUO,5AyO#ERQUO'#G|OOQR,5Aw,5AwO#DvQUO,5AwO#E^QUO'#HOO#EfQUO,5AyOOQR,5Ay,5AyOOQR,5Az,5AzO#EtQVO,5AzOOQR-E=^-E=^O#GnQVO,5;jOOQR,5;j,5;jO#IoQUO'#EjO#JtQUO'#EwO#KkQVO'#ExO#M}QUO'#EvO#NVQUO'#EyO$ UQUO'#EzOOQQ'#LQ'#LQO$ {QUO,5;SO$#RQUO'#EvOOQQ,5;S,5;SO$$OQUO,5;SO$%qQUO,5:yO$([QVO,5>PO$(fQUO'#E[O$(sQUO,5>ROOQQ,5>S,5>SO$,aQVO'#C|OOQQ-E=p-E=pOOQQ,5>d,5>dOOQQ,59a,59aO$,kQUO,5>wO$.kQUO,5>zO!6qQUO,59uO$/OQUO,5;qO$/]QUO,5<{O!0TQUO,5:oOOQQ,5:r,5:rO$/hQUO,5;mO$/mQUO'#KsOBXQUO,5;kOOQR,5;x,5;xO$0^QUO'#FbO$0lQUO'#FbO$0qQUO,5;zO$4[QVO'#FmO!0wQVO,5<VO!0rQUO,5<VO!0YQUO,5<[O$4cQVO'#GUO$7_QUO,5<^O!0wQVO,5<aO$:uQVO,5<bO$;SQUO,5<dOOQR,5<d,5<dO$<]QUO,5<dOOQR,5<f,5<fOOQR,5<h,5<hOOQQ'#Fi'#FiO$<bQUO,5<jO$<gQUO,5<lOOQR,5<l,5<lO$=mQUO,5<nO$>sQUO,5<rO$?OQUO,5=[O$?TQUO,5=[O!4{QUO,5<tO$?]QUO,5<tO$?qQUO,5<PO$@wQVO,5<PO$CYQUO,5<zOOQR,5<z,5<zOOQR,5<{,5<{O$?TQUO,5<{O$D`QUO,5<{O$DkQUO,5=YO!(}QVO,5=^O!(}QVO,5=fO#NsQUO,5=mOOQQ,5>T,5>TO$FpQUO,5>TO$FzQUO,5>TO$GPQUO,5>TO$GUQUO,5>TO!6qQUO,5>TO$ISQUO'#K`O$IZQUO,5=oO$IfQUO,5=aOKnQUO,5=oO$J`QUO,5=sOOQR,5=s,5=sO$JhQUO,5=sO$LsQVO'#H[OOQQ,5=u,5=uO!;`QUO,5=uO%#nQUO'#KpO%#uQUO'#KaO%$ZQUO'#KpO%$eQUO'#DyO%$vQUO'#D|O%'sQUO'#KaOOQQ'#Ka'#KaO%)fQUO'#KaO%#uQUO'#KaO%)kQUO'#KaOOQQ,59s,59sOOQQ,5>a,5>aOOQQ,5>b,5>bO%)sQUO'#HzO%){QUO,5>cOOQQ,5>c,5>cO%-gQUO,5>cO%-rQUO,5>hO%1^QVO,5>iO%1eQUO,5>|O# vQVO'#EfO%4kQUO,5>|OOQQ,5>|,5>|O%5[QUO,5?OO%7`QUO,5?RO!<_QUO,5?RO%9[QUO,5?UO%<wQVO,5?UPOOO'#I|'#I|P%=OO!LQO,58{POOO,58{,58{P!Am{,UO,58|P%=Z{,UO,58|P%=i{7[O,58|P%=o{,UO,58|PO{O'#Jv'#JvP%=t{,UO'#LiPOOO'#Li'#LiP%=z{,UO'#LiPOOO,58|,58|POOO,5?f,5?fP%>POSO,5?fOOOO-E<{-E<{OOQR1G.j1G.jO%>WQUO1G.qO%?^QUO1G0mOOQQ1G0m1G0mO%@jQUO'#CpO%ByQbO'#CxO%CUQUO'#CsO%CZQUO'#CsO%C`QUO1G.uO#BWQUO'#CrOOQQ1G.u1G.uO%EcQUO1G4]O%FiQUO1G4^O%H[QUO1G4^O%I}QUO1G4^O%KpQUO1G4^O%McQUO1G4^O& UQUO1G4^O&!wQUO1G4^O&$jQUO1G4^O&&]QUO1G4^O&(OQUO1G4^O&)qQUO1G4^O&+dQUO'#KUO&,mQUO'#KUO&,uQUO,59UOOQQ,5=P,5=PO&.}QUO,5=PO&/XQUO,5=PO&/^QUO,5=PO&/cQUO,5=PO!6qQUO,5=PO#NsQUO1G3XO&/mQUO1G4mO!<_QUO1G4mO&1iQUO1G4pO&3[QVO1G4pOOQQ1G/O1G/OOOQQ1G.}1G.}OOQQ1G2i1G2iO!JVQ&lO1G3XO&3cQUO'#LUO@[QVO'#EiO&4lQUO'#F]OOQQ'#Jb'#JbO&4qQUO'#FZO&4|QUO'#LUO&5UQUO,5;tO&5ZQUO1G.rOOQQ1G.r1G.rOOQR1G/|1G/|O&6|Q!dO'#JQO&7RQbO,59xO&9dQ!eO'#D`O&9kQ!dO'#JSO&9pQbO,5AOO&9pQbO,5AOOOQR1G/c1G/cO&9{QbO1G/cO&:QQ&lO'#GeO&;OQbO,59dOOQR1G7a1G7aO#@jQUO1G1VO&;ZQUO1G1^OBXQUO1G1VO&=lQUO'#CzO#+VQbO,59dO&A_QUO1G6yOOQR-E<|-E<|O&BqQUO1G0dO#6fQUO1G0dOOQQ-E=V-E=VO#7SQUO1G0dOOQQ1G0l1G0lO&CfQUO,59jOOQQ1G3l1G3lO&C|QUO,59jO&DdQUO,59jO!MmQVO1G4gO!(}QVO'#JZO&EOQUO,5AiOOQQ1G0o1G0oO!(}QVO1G0oO!6qQUO'#JoO&EWQUO,5A|OOQQ1G3p1G3pOOQR1G1V1G1VO&ITQVO'#FOO!MmQVO,5;sOOQQ,5;s,5;sOBXQUO'#JdO&KPQUO,5AoO&KXQVO'#E[OOQR1G1^1G1^O&MvQUO'#LbOOQR1G1n1G1nOOQR-E=g-E=gOOQR1G7c1G7cO#DvQUO1G7cOGYQUO1G7cO#DvQUO1G7eOOQR1G7e1G7eO&NOQUO'#G}O&NWQUO'#L^OOQQ,5=h,5=hO&NfQUO,5=jO&NkQUO,5=kOOQR1G7f1G7fO#EtQVO1G7fO&NpQUO1G7fO' vQVO,5=kOOQR1G1U1G1UO$/UQUO'#E]O'!lQUO'#E]OOQQ'#LP'#LPO'#VQUO'#LOO'#bQUO,5;UO'#jQUO'#ElO'#}QUO'#ElO'$bQUO'#EtOOQQ'#J]'#J]O'$gQUO,5;cO'%^QUO,5;cO'&XQUO,5;dO''_QVO,5;dOOQQ,5;d,5;dO''iQVO,5;dO''_QVO,5;dO''pQUO,5;bO'(mQUO,5;eO'(xQUO'#KvO')QQUO,5:vO')VQUO,5;fOOQQ1G0n1G0nOOQQ'#J^'#J^O''pQUO,5;bO!4{QUO'#E}OOQQ,5;b,5;bO'*QQUO'#E`O'+zQUO'#E{OHuQUO1G0nO',PQUO'#EbOOQQ'#JY'#JYO'-iQUO'#KxOOQQ'#Kx'#KxO'.cQUO1G0eO'/ZQUO1G3kO'0aQVO1G3kOOQQ1G3k1G3kO'0kQVO1G3kO'0rQUO'#LeO'2OQUO'#K^O'2^QUO'#K]O'2iQUO,59hO'2qQUO1G/aO'2vQUO'#FPOOQR1G1]1G1]OOQR1G2g1G2gO$?TQUO1G2gO'3QQUO1G2gO'3]QUO1G0ZOOQR'#Ja'#JaO'3bQVO1G1XO'9ZQUO'#FTO'9`QUO1G1VO!6qQUO'#JeO'9nQUO,5;|O$0lQUO,5;|OOQQ'#Fc'#FcOOQQ,5;|,5;|O'9|QUO1G1fOOQR1G1f1G1fO':UQUO,5<XO$/UQUO'#FWOBXQUO'#FWO':]QUO,5<XO!(}QVO,5<XO':eQUO,5<XO':jQVO1G1qO!0wQVO1G1qOOQR1G1v1G1vO'@YQUO1G1xOOQR1G1{1G1{O'@_QUO1G1|OBXQUO1G2]O'AhQVO1G1|O'C|QUO1G1|O'DRQUO'#GWO8}QUO1G2]OOQR1G2O1G2OOOQR1G2U1G2UOOQR1G2W1G2WOOQR1G2Y1G2YO'DWQUO1G2^O!4{QUO1G2^OOQR1G2v1G2vO'D`QUO1G2vO$?]QUO1G2`OOQQ'#Cv'#CvO'DeQUO'#G[O'E`QUO'#G[O'EeQUO'#LXO'EsQUO'#G_OOQQ'#LY'#LYO'FRQUO1G2`O'FWQVO1G1kO'HiQVO'#GUOBXQUO'#FWOOQR'#Jf'#JfO'FWQVO1G1kO'HsQUO'#FvOOQR1G2f1G2fO'HxQUO1G2gO'H}QUO'#JhO'3QQUO1G2gO!(}QVO1G2tO'IVQUO1G2xO'J`QUO1G3QO'KfQUO1G3XOOQQ1G3o1G3oO'KzQUO1G3oOOQR1G3Z1G3ZO'LPQUO'#K`O'2vQUO'#LZOGnQUO'#L]OOQR'#Gy'#GyO#DvQUO'#L_OOQR'#HQ'#HQO'LZQUO'#GvO'$bQUO'#GuOOQR1G2{1G2{O'MWQUO1G2{O'M}QUO1G3ZO'NYQUO1G3_O'N_QUO1G3_OOQR1G3_1G3_O'NgQUO'#H]OOQR'#H]'#H]O( pQUO'#H]O!(}QVO'#H`O!(}QVO'#H_OOQR'#La'#LaO( uQUO'#LaOOQR'#Jl'#JlO( zQVO,5=vOOQQ,5=v,5=vO(!RQUO'#H^O(!ZQUO'#HZOOQQ1G3a1G3aO(!eQUO,5@{OOQQ,5@{,5@{O%)fQUO,5@{O%)kQUO,5@{O%$eQUO,5:eO(&SQUO'#KqO(&bQUO'#KqOOQQ,5:e,5:eOOQQ'#JT'#JTO(&mQUO'#D}O(&wQUO'#KwOGnQUO'#L]O('sQUO'#D}OOQQ'#Hp'#HpOOQQ'#Hr'#HrOOQQ'#Hs'#HsOOQQ'#Kr'#KrOOQQ'#JV'#JVO('}QUO,5:hOOQQ,5:h,5:hO((zQUO'#L]O()XQUO'#HtO()oQUO,5@{O()vQUO'#H{O(*RQUO'#LdO(*ZQUO,5>fO(*`QUO'#LcOOQQ1G3}1G3}O(.VQUO1G3}O(.^QUO1G3}O(.eQUO1G4TO(/kQUO1G4TO(/pQUO,5BSO!6qQUO1G4hO!(}QVO'#IiOOQQ1G4m1G4mO(/uQUO1G4mO(1xQVO1G4pPOOO-E<z-E<zPOOO1G.g1G.gPOOO1G.h1G.hP!Am{,UO1G.hP(3xQUO'#LkP(4T{,UO1G.hP(4Y{7[O1G.hPO{O-E=t-E=tPOOO,5BT,5BTP(4b{,UO,5BTPOOO1G5Q1G5QO!(}QVO7+$]O(4gQUO'#CzOOQQ,59_,59_O(4rQbO,59dO(4}QbO,59_OOQQ,59^,59^OOQQ7+)w7+)wO!MmQVO'#JuO(5YQUO,5@pOOQQ1G.p1G.pOOQQ1G2k1G2kO(5bQUO1G2kO(5gQUO7+(sOOQQ7+*X7+*XO(7{QUO7+*XO(8SQUO7+*XO(1xQVO7+*[O#NsQUO7+(sO(8aQVO'#JcO(8tQUO,5ApO(8|QUO,5;vOOQQ'#Cp'#CpOOQQ,5;w,5;wO!(}QVO'#F[OOQQ-E=`-E=`O!MmQVO,5;uOOQQ1G1`1G1`OOQQ,5?l,5?lOOQQ-E=O-E=OOOQR'#Dg'#DgOOQR'#Di'#DiOOQR'#Dl'#DlO(:VQ!eO'#KeO(:^QMkO'#KeO(:eQ!eO'#KeOOQR'#Ke'#KeOOQR'#JR'#JRO(:lQ!eO,59zOOQQ,59z,59zO(:sQbO,5?nOOQQ-E=Q-E=QO(;RQbO1G6jOOQR7+$}7+$}OOQR7+&q7+&qOOQR7+&x7+&xO'9`QUO7+&qO(;^QUO7+&OO#6fQUO7+&OO(<RQUO1G/UO(<iQUO1G/UO(=TQUO7+*ROOQQ7+*V7+*VO(>vQUO,5?uOOQQ-E=X-E=XO(@PQUO7+&ZOOQQ,5@Z,5@ZOOQQ-E=m-E=mO(@UQUO'#LUO@[QVO'#EiO(AbQUO1G1_OOQQ1G1_1G1_O(BkQUO,5@OOOQQ,5@O,5@OOOQQ-E=b-E=bO(CPQUO'#KvOOQR7+,}7+,}O#DvQUO7+,}OOQR7+-P7+-PO(C^QUO,5=iO#ERQUO'#JkO(CoQUO,5AxOOQR1G3U1G3UOOQR1G3V1G3VO(C}QUO7+-QOOQR7+-Q7+-QO(EuQUO,5:wO(GdQUO'#EwO!(}QVO,5;VO(HVQUO,5:wO(HaQUO'#EpO(HrQUO'#EzOOQQ,5;Z,5;ZO#KkQVO'#ExO(IYQUO,5:wO(IaQUO'#EyO#GuQUO'#J[O(JyQUO,5AjOOQQ1G0p1G0pO(KUQUO,5;WO!<_QUO,5;^O(KoQUO,5;_O(K}QUO,5;WO(NaQUO,5;`OOQQ-E=Z-E=ZO(NiQUO1G0}OOQQ1G1O1G1OO) dQUO1G1OO)!jQVO1G1OO)!qQVO1G1OO)!{QUO1G0|OOQQ1G0|1G0|OOQQ1G1P1G1PO)#xQUO'#JpO)$SQUO,5AbOOQQ1G0b1G0bOOQQ-E=[-E=[O)$[QUO,5;iO!<_QUO,5;iO)%XQVO,5:zO)%`QUO,5;gO$ {QUO7+&YOOQQ7+&Y7+&YO!(}QVO'#EfO)%gQUO,5:|OOQQ'#Ky'#KyOOQQ-E=W-E=WOOQQ,5Ad,5AdOOQQ'#Jm'#JmO))[QUO7+&PPOQQ7+&P7+&POOQQ7+)V7+)VO)*SQUO7+)VO)+YQVO7+)VOOQQ,5>m,5>mO$)hQVO'#JtO)+aQUO,5@wOOQQ1G/S1G/SOOQQ7+${7+${O)+lQUO7+(RO)+qQUO7+(ROOQR7+(R7+(RO$?TQUO7+(ROOQQ7+%u7+%uOOQR-E=_-E=_O!0YQUO,5;oOOQQ,5@P,5@POOQQ-E=c-E=cO$0lQUO1G1hOOQQ1G1h1G1hOOQR7+'Q7+'QOOQR1G1s1G1sOBXQUO,5;rO),_QUO,5<YO),fQUO1G1sO)-oQUO1G1sO!0wQVO7+']O)-tQVO7+']O)3dQUO7+'dO)3iQVO7+'hO)5}QUO7+'wO)6XQUO7+'hO)7_QVO7+'hOKnQUO7+'wO$>vQUO,5<rO!4{QUO7+'xO)7fQUO7+'xOOQR7+(b7+(bO)7kQUO7+'zO)7pQUO,5<vO'DeQUO,5<vO)8hQUO,5<vO'DeQUO,5<vOOQQ,5<w,5<wO)8yQVO,5<xO'EsQUO'#JgO)9TQUO,5AsO)9]QUO,5<yOOQR7+'z7+'zO)9hQVO7+'VO)6QQUO'#LTOOQR-E=d-E=dO);yQVO,5<bOOQQ,5@S,5@SO!6qQUO,5@SOOQQ-E=f-E=fO)>bQUO7+(`O)?hQUO7+(dO)?mQVO7+(dOOQQ7+(l7+(lOOQQ7+)Z7+)ZO)?uQUO'#KpO)@PQUO'#KpOOQR,5=b,5=bO)@^QUO,5=bO!;eQUO,5=bO!;eQUO,5=bO!;eQUO,5=bOOQR7+(g7+(gOOQR7+(u7+(uOOQR7+(y7+(yOOQR,5=w,5=wO)@cQUO,5=zO)AiQUO,5=yOOQR,5A{,5A{OOQR-E=j-E=jOOQQ1G3b1G3bO)BoQUO,5=xO)BtQVO'#EfOOQQ1G6g1G6gO%)fQUO1G6gO%)kQUO1G6gOOQQ1G0P1G0POOQQ-E=R-E=RO)E]QUO,5A]O(&SQUO'#JUO)EhQUO,5A]O)EhQUO,5A]O)EpQUO,5:iO8}QUO,5:iOOQQ,5>],5>]O)EzQUO,5AwO)FRQUO'#EVO)G]QUO'#EVO)GvQUO,5:iO)HQQUO'#HlO)HQQUO'#HmOOQQ'#Ku'#KuO)HoQUO'#KuO!(}QVO'#HnOOQQ,5:i,5:iO)IaQUO,5:iO!MmQVO,5:iOOQQ-E=T-E=TOOQQ1G0S1G0SOOQQ,5>`,5>`O)IfQUO1G6gO!(}QVO,5>gO)MTQUO'#JsO)M`QUO,5BOOOQQ1G4Q1G4QO)MhQUO,5A}OOQQ,5A},5A}OOQQ7+)i7+)iO*#VQUO7+)iOOQQ7+)o7+)oO*(UQVO1G7nO**WQUO7+*SO**]QUO,5?TO*+cQUO7+*[POOO7+$S7+$SP*-UQUO'#LlP*-^QUO,5BVP*-c{,UO7+$SPOOO1G7o1G7oO*-hQUO<<GwOOQQ1G.y1G.yOOQQ'#IT'#ITO*/ZQUO,5@aOOQQ,5@a,5@aOOQQ-E=s-E=sOOQQ7+(V7+(VOOQQ<<Ms<<MsO*0dQUO<<MsO*2gQUO<<MvO*4YQUO<<L_O*4nQUO,5?}OOQQ,5?},5?}OOQQ-E=a-E=aOOQQ1G1b1G1bO*5wQUO,5;vO*6}QUO1G1aOOQQ1G1a1G1aOOQR,5AP,5APO*8WQ!eO,5APO*8_QMkO,5APO*8fQ!eO,5APOOQR-E=P-E=POOQQ1G/f1G/fO*8mQ!eO'#DwOOQQ1G5Y1G5YOOQR<<J]<<J]O*8tQUO<<IjO*9iQUO7+$pOOQQ<<Iu<<IuO(8aQVO,5;ROOQR<=!i<=!iOOQQ1G3T1G3TOOQQ,5@V,5@VOOQQ-E=i-E=iOOQR<=!l<=!lO*:fQUO1G0cO*:mQUO'#EzO*:}QUO1G0cO*;UQUO'#JOO*<lQUO1G0qO!(}QVO1G0qOOQQ,5;[,5;[OOQQ,5;],5;]OOQQ,5?v,5?vOOQQ-E=Y-E=YO!<_QUO1G0xO*={QUO1G0xOOQQ1G0y1G0yO*>^QUO'#ElOOQQ1G0z1G0zOOQQ7+&j7+&jO*>rQUO7+&jO*?xQVO7+&jOOQQ7+&h7+&hOOQQ,5@[,5@[OOQQ-E=n-E=nO*@tQUO1G1TO*AOQUO1G1TO*AiQUO1G0fOOQQ1G0f1G0fO*BoQUO'#LRO*BwQUO1G1ROOQQ<<It<<ItOOQQ'#Hb'#HbO',PQUO,5={OOQQ'#Hd'#HdO',PQUO,5=}OOQQ-E=k-E=kPOQQ<<Ik<<IkPOQQ-E=l-E=lOOQQ<<Lq<<LqO*B|QUO'#LgO*DYQUO'#LfOOQQ,5@`,5@`OOQQ-E=r-E=rOOQR<<Km<<KmO$?TQUO<<KmO*DhQUO<<KmOOQR1G1Z1G1ZOOQQ7+'S7+'SO!MmQVO1G1tO*DmQUO1G1tOOQR7+'_7+'_OOQR<<Jw<<JwO!0wQVO<<JwOOQR<<KO<<KOO*DxQUO<<KSO*FOQVO<<KSOKnQUO<<KcO!MmQVO<<KcO*FVQUO<<KSO!0wQVO<<KSO*G`QUO<<KSO*GeQUO<<KcO*GpQUO<<KdOOQR<<Kd<<KdOOQR<<Kf<<KfO*GuQUO1G2bO)7pQUO1G2bO'DeQUO1G2bO*HWQUO1G2dO*I^QVO1G2dOOQQ1G2d1G2dO*IhQVO1G2dO*IoQUO,5@ROOQQ-E=e-E=eOOQQ1G2e1G2eO*I}QUO1G1|O*KWQVO1G1|O*K_QUO1G1|OOQQ1G5n1G5nOOQR<<Kz<<KzOOQR<<LO<<LOO*KdQVO<<LOO*KoQUO<<LOOOQR1G2|1G2|O*KtQUO1G2|O*K{QUO1G3eOOQR1G3d1G3dOOQQ7+,R7+,RO%)fQUO7+,RO*LWQUO1G6wO*LWQUO1G6wO(&SQUO,5?pO*L`QUO,5?pOOQQ-E=S-E=SO*LkQUO1G0TOOQQ1G0T1G0TO*LuQUO1G0TO!MmQVO1G0TO*LzQUO1G0TOOQQ1G3w1G3wO*MUQUO,5:qO)FRQUO,5:qO*MrQUO,5:qO)FRQUO,5:qO$$TQUO,5:uO*NaQVO,5>VO)HQQUO'#JqO*NkQUO1G0TO*N|QVO1G0TOOQQ1G3u1G3uO+ TQUO,5>WO+ `QUO,5>XO+ }QUO,5>YO+#TQUO1G0TO%)kQUO7+,RO+$ZQUO1G4ROOQQ,5@_,5@_OOQQ-E=q-E=qOOQQ<<MT<<MTOOQQ<<Mn<<MnO+%dQUO1G4oP+'gQUO'#JwP+'oQUO,5BWPO{O1G7q1G7qPOOO<<Gn<<GnOOQQANC_ANC_OOQR1G6k1G6kO+'wQ!eO,5:cOOQQ,5:c,5:cO+(OQUO1G0mO+)[QUO7+&]O+*kQUO7+&dO+*|QUO,5;WOOQQ<<JU<<JUO++[QUO7+&oOOQQ7+&Q7+&QO!4{QUO'#J_O+,VQUO,5AmOOQQ7+&m7+&mOOQQ1G3g1G3gO+,_QUO1G3iOOQQ,5>n,5>nO+0SQUOANAXOOQRANAXANAXO+0XQUO7+'`OOQRAN@cAN@cO+1eQVOAN@nO+1lQUOAN@nO!0wQVOAN@nO+2uQUOAN@nO+2zQUOAN@}O+3VQUOAN@}O+4]QUOAN@}OOQRAN@nAN@nO!MmQVOAN@}OOQRANAOANAOO+4bQUO7+'|O)7pQUO7+'|OOQQ7+(O7+(OO+4sQUO7+(OO+5yQVO7+(OO+6QQVO7+'hO+6XQUOANAjOOQR7+(h7+(hOOQR7+)P7+)PO+6^QUO7+)PO+6cQUO7+)POOQQ<= m<= mO+6kQUO7+,cO+6sQUO1G5[OOQQ1G5[1G5[O+7OQUO7+%oOOQQ7+%o7+%oO+7aQUO7+%oO*N|QVO7+%oOOQQ7+)a7+)aO+7fQUO7+%oO+8lQUO7+%oO!MmQVO7+%oO+8vQUO1G0]O*MUQUO1G0]O)FRQUO1G0]OOQQ1G0a1G0aO+9eQUO1G3qO+:kQVO1G3qOOQQ1G3q1G3qO+:uQVO1G3qO+:|QUO,5@]OOQQ-E=o-E=oOOQQ1G3r1G3rO%)fQUO<= mOOQQ7+*Z7+*ZPOQQ,5@c,5@cPOQQ-E=u-E=uOOQQ1G/}1G/}OOQQ,5?y,5?yOOQQ-E=]-E=]OOQRG26sG26sO+;eQUOG26YO!0wQVOG26YO+<nQUOG26YOOQRG26YG26YO!MmQVOG26iO!0wQVOG26iO+<sQUOG26iO+=yQUOG26iO+>OQUO<<KhOOQQ<<Kj<<KjOOQRG27UG27UOOQR<<Lk<<LkO+>aQUO<<LkOOQQ7+*v7+*vOOQQ<<IZ<<IZO+>fQUO<<IZO!MmQVO<<IZO+>kQUO<<IZO+?qQUO<<IZO*N|QVO<<IZOOQQ<<L{<<L{O+@SQUO7+%wO*MUQUO7+%wOOQQ7+)]7+)]O+@qQUO7+)]O+AwQVO7+)]OOQQANEXANEXO!0wQVOLD+tOOQRLD+tLD+tO+BOQUOLD,TO+CUQUOLD,TOOQRLD,TLD,TO!0wQVOLD,TOOQRANBVANBVOOQQAN>uAN>uO+CZQUOAN>uO+DaQUOAN>uO!MmQVOAN>uO+DfQUO<<IcOOQQ<<Lw<<LwOOQR!$( `!$( `O!0wQVO!$( oOOQR!$( o!$( oOOQQG24aG24aO+ETQUOG24aO+FZQUOG24aOOQR!)9EZ!)9EZOOQQLD){LD){O+F`QUO'#CgO(gQUO'#CgO+J]QUO'#CzO+L|QUO'#CzO!FZQUO'#CzO+MuQUO'#CzO+NYQUO'#CzO,#{QUO'#CzO,$]QUO'#CzO,$jQUO'#CzO,$uQbO,59dO,%QQbO,59dO,%]QbO,59dO,%hQbO'#CxO,%yQbO'#CxO,&[QbO'#CxO,&mQUO'#CgO,)QQUO'#CgO,)_QUO'#CgO,,SQUO'#CgO,/VQUO'#CgO,/gQUO'#CgO,3`QUO'#CgO,3gQUO'#CgO,4gQUO'#CgO,6pQUO,5:xO#?yQUO,5:xO#?yQUO,5:xO#=iQUO'#LbO,7^QbO'#CxO,7iQbO'#CxO,7tQbO'#CxO,8PQbO'#CxO#7SQUO'#E^O,8[QUO'#E^O,9iQUO'#HgO,:ZQbO'#CxO,:fQbO'#CxO,:qQUO'#CwO,:vQUO'#CwO,:{QUO'#CpO,;ZQbO,59dO,;fQbO,59dO,;qQbO,59dO,;|QbO,59dO,<XQbO,59dO,<dQbO,59dO,<oQbO,59dO,6pQUO1G0dO,<zQUO1G0dO#?yQUO1G0dO,8[QUO1G0dO,?XQUO'#K`O,?iQUO'#CzO,?wQbO,59dO,6pQUO7+&OO,<zQUO7+&OO,@SQUO'#EwO,@uQUO'#EzO,AfQUO'#E^O,AkQUO'#GcO,ApQUO'#CwO,AuQUO'#CxO,AzQUO'#CxO,BPQUO'#CwO,BUQUO'#GcO,BZQUO'#K`O,BwQUO'#K`O,CRQUO'#CwO,C^QUO'#CwO,CiQUO'#CwO,<zQUO,5:xO,8[QUO,5:xO,8[QUO,5:xO,CtQUO'#K`O,DXQbO'#CxO,DdQUO'#CsO,DiQUO'#E^",stateData:",E_~O(oOSSOSRPQVPQ'ePQ'gPQ'hPQ'iPQ'jPQ'kPQ'lPQ'mPQ(pPQ~O*aOS~OPmO]eOb!]Oe!POmTOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!VfO!X!XO!Y!WO!i!YO!opO!r!`O!s!aO!t!aO!u!bO!v!aO!x!cO!{!dO#V#QO#a#VO#b#TO#i#OO#p!xO#t!fO#v!eO$R!gO$T!hO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO${!tO$}!uO%U!yO%_#ZO%`#[O%a#YO%c!zO%e#UO%g!{O%l#SO%o!|O%v!}O%|#PO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(wRO)VYO)YaO)[|O)]{O)_iO)`!ZO)bXO)ncO)odO~OR#cOV#^O'e#_O'g#`O'h#aO'i#aO'j#bO'k#bO'l#`O'm#`O(p#]O~OX#eO(t#gO(v#eO~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!eZX!fZX!gZX!hZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX(zZX({$]X(|ZX(}ZX)YZX)YjX)ZZX)[ZX)[jX)]ZX)]jX)^ZX)_ZX)`ZX)pZX~O)_jX!UZX~P(gO]$PO!V#nO!X#}O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO(|#mO(}#mO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_#lO)`$OO~Oe$TO%Y$UO'[$VO'_$WO)O$QO~Om$XO~O!T$YO])SXe)SXs)SXt)SXu)SXv)SXw)SXx)SXy)SXz)SX!O)SX!V)SX!r)SX!s)SX!t)SX!u)SX!v)SX!x)SX!{)SX%v)SX&r)SX&s)SX(w)SX)Y)SX)[)SX)])SX)_)SX~Om$XO~P.^Om$XO!g$[O)p$[O~OX$]O)c$]O~O!R$^O)U)WP)`)WP~OPmO]$gOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!V$hO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)VYO)Y$mO)]$mO)_iO)`!ZO)bXO)ncO)odO~Om$aO#t$nO(wRO~P0}O](^Xb'zXe(^Xm'zXm(^Xs'zXs(^Xt'zXt(^Xu'zXu(^Xv'zXv(^Xw'zXw(^Xx'zXx(^Xy'zXy(^Xz'zXz(^X|'zX!O'zX!V(^X!o(^X!r'zX!r(^X!s'zX!s(^X!t'zX!t(^X!u'zX!u(^X!v'zX!v(^X!x'zX!x(^X!{(^X#a'zX#b'zX%e'zX%l'zX%o(^X%v(^X&m'zX&r'zX&s'zX(w'zX(w(^X)Y(^X)[(^X)](^X~Ob!TOm$qOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(w$pO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO&r#WO&s$yO])gXe)gXm)gX!V)gX!{)gX%v)gX(w)gX)Y)gX)[)gX)])gX~O)_$xO~P:qOPmO]eOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)YaO)[|O)]{O)`!ZO)bXO)ncO)odO~Ob%SOm;RO!|%TO(w$zO~P<oO)Y%UO~Ob!]Om$aO|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(w;UO~P<oOPmO]$gOb%SOm;RO!V$hO!W%aO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]%_O)`!ZO)bXO)ncO)odO)p%^O~O]%jOe!POm%dO!V%mO!{!dO%v$oO(w;VO)Y%fO)[%kO)]%kO~O({%oO~O)_#lO~O(w%pO](yX!V(yX!X(yX!Y(yX![(yX!^(yX!_(yX!a(yX!b(yX!e(yX!f(yX!h(yX(z(yX(|(yX(}(yX)Y(yX)Z(yX)[(yX)](yX)^(yX)_(yX)`(yX!g(yX)p(yX[(yX!W(yX({(yX!U(yXQ(yX!d(yX~OP%qO(uQO~PCTO]%jOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%mO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO%o!|O%v!}O)Y;gO)[|O)]|O~Om%tO!o%yO(w$zO~PEbO!TxO#v!eO({%{O)p&OO])kX!V)kX~O]%jOe!POm%tO!V%mO!{!dO%v!}O(w$zO)Y;gO)[|O)]|O~O!TxO#v!eO)_&RO)p&SO~O!U&VO~P!QO]&[O!TxO!V&YO)Y&XO)[&]O)]&]O~Oq&WO~PHuO]&eO!V&dO~OPmO]eOe!PO!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)YaO)[|O)]{O)`!ZO)bXO)ncO)odO~Ob%SOm;RO%v$oO(w$zO~PIjO]%jOe!POm;cO!V%mO!{!dO%v$oO(w$zO)Y;gO)[|O)]|O~Oq&hO](yX])kX!V(yX!V)kX!X(yX!Y(yX![(yX!^(yX!_(yX!a(yX!b(yX!e(yX!f(yX!h(yX(z(yX(|(yX(}(yX)Y(yX)Z(yX)[(yX)](yX)^(yX)_(yX)`(yX[(yX[)kX!U(yX~O!g$[O)p$[O~PL`O!g(yX)p(yX~PL`O](yX!V(yX!X(yX!Y(yX![(yX!^(yX!_(yX!a(yX!b(yX!e(yX!f(yX!h(yX(z(yX(|(yX(}(yX)Y(yX)Z(yX)[(yX)](yX)^(yX)_(yX)`(yX!g(yX)p(yX[(yX!U(yX~O])kX!V)kX[)kX~PNnOb&jO&m!RO]&lXe&lXm&lXs&lXt&lXu&lXv&lXw&lXx&lXy&lXz&lX!O&lX!V&lX!r&lX!s&lX!t&lX!u&lX!v&lX!x&lX!{&lX%v&lX&r&lX&s&lX(w&lX)Y&lX)[&lX)]&lX)_&lX[&lX!T&lX!X&lX!Y&lX![&lX!^&lX!_&lX!a&lX!b&lX!e&lX!f&lX!h&lX(z&lX(|&lX(}&lX)Z&lX)^&lX)`&lX!g&lX)p&lX!W&lXQ&lX!d&lX({&lX!U&lX#v&lX~Oq&hOm)SX[)SXQ)SX!d)SX!h)SX)`)SX)p)SX~P.^O!g$[O)p$[O](yX!V(yX!X(yX!Y(yX![(yX!^(yX!_(yX!a(yX!b(yX!e(yX!f(yX!h(yX(z(yX(|(yX(}(yX)Y(yX)Z(yX)[(yX)](yX)^(yX)_(yX)`(yX[(yX!W(yX({(yX!U(yXQ(yX!d(yX~OPmO]$gOb%SOm;RO!V$hO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~O])SXe)SXm)SXs)SXt)SXu)SXv)SXw)SXx)SXy)SXz)SX!O)SX!V)SX!r)SX!s)SX!t)SX!u)SX!v)SX!x)SX!{)SX%v)SX&r)SX&s)SX(w)SX)Y)SX)[)SX)])SX)_)SX[)SXQ)SX!d)SX!h)SX)`)SX)p)SX~O]$PO~P!*tO]&nO~O])hXb)hXe)hXm)hXs)hXt)hXu)hXv)hXw)hXx)hXy)hXz)hX|)hX!O)hX!V)hX!o)hX!r)hX!s)hX!t)hX!u)hX!v)hX!x)hX!{)hX#a)hX#b)hX%e)hX%l)hX%o)hX%v)hX&m)hX&r)hX&s)hX(w)hX)Y)hX)[)hX)])hX~O(uQO~P!-^O%U&pO~P!-^O]&qO~O]$PO~O!TxO~O$W&yO(w%pO({&xO~O]&zOx&|O~O]&zO~OPmO]$gOb%SOm;RO!TxO!V$hO!X!XO!Y!WO!i!YO#V#QO#p!xO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w:tO)VYO)Y$mO)]$mO)_iO)`!ZO)bXO)ncO)odO~O]'RO~O!T$YO)_'TO~P!(}O)_'VO~O)_'WO~O(w'XO~O)_'[O~P!(}Om;eO%U'`O%e'`O(w;WO~Ob!TOm$qOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(w$pO~O({'dO~O)_'fO~P!(}O!TxO(w%pO)p'hO~O(w%pO~O]'kO~O]'lOe%nXm%nX!V%nX!{%nX%v%nX(w%nX)Y%nX)[%nX)]%nX~O]'pO!V'qO!X'nO!g'nO%Z'nO%['nO%]'nO%^'nO%_'rO%`'rO%a'nO(}'oO)p'nO*O'sO~P8}O]%jOb!TOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V%mO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO)Y;gO)[|O)]|O~Om;fOq&WO%v$oO(w;XO~P!8mO(w%pO({'xO)_'yO~O]&eO!T'{O~Om$qO!O!_O!T(SO!l(XO(w$pO({(RO)VYO~Om$qO|(`O!T(]O#b(`O(w$pO~Ob!TOm$qO|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(w$pO~O](bO~OPmOb%SOm;RO!V$hO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]$mO)bXO)ncO)odO~O](dO)`(eO~P!=XO]$PO~P!<_OPmO]$gOb%SOm;RO!V(kO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~O(q(lO(r(lO(s(nO~OY(oO(uQO(w%pO~O'f(rO~OS(vO(p#]O*^(uO~O]$PO(o(yO~Q'nXX#eO(t({O(v#eO~Oe)VOm)QO&r#WO(w)PO~O!Y'Sa!['Sa!^'Sa!_'Sa!a'Sa!b'Sa!e'Sa!f'Sa!h'Sa(z'Sa)Y'Sa)Z'Sa)['Sa)]'Sa)^'Sa)_'Sa)`'Sa!g'Sa)p'Sa['Sa!W'Sa({'Sa!U'SaQ'Sa!d'Sa~OPmOb%SOm;RO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)bXO)ncO)odO]'Sa!V'Sa!X'Sa(|'Sa(}'Sa~P!BmO!T$YO[(xP~P!(}O]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!ToX!VoX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!e%WX!f%WX!gnX!h%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(woX(z%WX(|%WX(}%WX)YoX)Y%WX)Z%WX)[oX)[%WX)]oX)]%WX)^%WX)_%WX)`%WX)pnX[%WX~O)_oX[oX!U%WX~P!FZO])iO!V)jO!X)gO!g)gO%Z)gO%[)gO%])gO%^)gO%_)kO%`)kO%a)gO(})hO)p)gO*O)lO~P8}OPmO]$gOb%SOm;RO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~O!V)qO~P!KVOe)tO%Y)uO)O$QO~O!T$YO!V)wO(|)xO!U)xP~P!KVO!T$YO~P!(}O)a*PO~Om*QO]!QX!h!QX)U!QX)`!QX~O]*SO!h*TO)U)WX)`)WX~O)U*WO)`*XO~Oe$TO%Y*YO'[$VO'_$WO)O$QO~Om*ZO~Om*ZO[)SX~P.^Om*ZO!g$[O)p$[O~O)_*[O~P:qOPmO]$gOb!]Om$aOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;UO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~Oq&hO~P!&}Oq&hO!W(yX({(yXQ(yX!d(yX~PNnO]'pO!V'qO!X'nO!g'nO%Z'nO%['nO%]'nO%^'nO%_'rO%`'rO%a'nO(}'oO)p'nO*O'sO~O]jXejXmhXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX)YjX)[jX)]jX!TjX!hjX)`jX)pjX[jX~O!ljX({jX)_jX!XjX!YjX![jX!^jX!_jX!ajX!bjX!ejX!fjX(zjX(|jX(}jX)ZjX)^jX!gjX!WjXQjX!djX!UjX#vjX#TjX#VjX#pjXbjX|jX!ojX#ajX#bjX#ijX#tjX${jX%cjX%ejX%kjX%ljX%ojX&mjX)VjX~P#&XO)O*`O~Om*aO~O])SXe)SXs)SXt)SXu)SXv)SXw)SXx)SXy)SXz)SX!O)SX!V)SX!r)SX!s)SX!t)SX!u)SX!v)SX!x)SX!{)SX%v)SX&r)SX&s)SX(w)SX)Y)SX)[)SX)])SX)_)SX!T)SX!X)SX!Y)SX![)SX!^)SX!_)SX!a)SX!b)SX!e)SX!f)SX!h)SX(z)SX(|)SX(})SX)Z)SX)^)SX)`)SX!g)SX)p)SX[)SX!W)SXQ)SX!d)SX({)SX!U)SX#v)SX~Om*aO~P#+aOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO])gae)gam)ga!V)ga!{)ga%v)ga(w)ga)Y)ga)[)ga)])gaQ)ga!d)ga!h)ga)`)ga)p)ga[)ga!T)ga({)ga)_)ga~O&r#WO&s$yO~P#/POq&hOm)SX~P#+aO&r)ga~P#/PO]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!eZX!fZX!gZX!hZX(zZX(|ZX(}ZX)YZX)ZZX)[ZX)]ZX)^ZX)_ZX)`ZX)pZX[ZX~O!WZX({ZX!UZXQZX!dZX~P#1xO]$PO!V#nO!X#}O(|#mO(}#mO~O!Y&xa![&xa!^&xa!_&xa!a&xa!b&xa!e&xa!f&xa!g&xa!h&xa(z&xa)Y&xa)Z&xa)[&xa)]&xa)^&xa)_&xa)`&xa)p&xa[&xa!W&xa({&xa!U&xaQ&xa!d&xa~P#4YOm;oO!T$YO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PKnOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%TO~PKnO]&eO!V&dO[#Qa!T#Qa!h#Qa#v#Qa)_#Qa)p#QaQ#Qa!d#Qa({#Qa~Oq&hO!T$YO~O[*hO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[*hO~O[*jO]&eO!V&dO~O]&[Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&YO&r#WO&s$yO)Y&XO)[&]O)]&]O~O[rXQrX!drX!hrX)`rX)_rX~P#:ZO[*mO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h*nO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!W)qX~P#4YO!W*pO!h*qO~O!W*pO!h*qO~P!(}O!W*pO~Oq&hO!g$[O!h*rO)p$[O](yX!V(yX!W(yX!W*UX!X(yX!Y(yX![(yX!^(yX!_(yX!a(yX!b(yX!e(yX!f(yX(z(yX(|(yX(}(yX)Y(yX)Z(yX)[(yX)](yX)^(yX)`(yX~O!h(yX~P#=iO!W*tO~Oe$TO%Y*YO)O:yO~Om;rO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%TO~PBXO]*{O!T*vO!V&dO!h*yO#v!eO)p*wO)_)wX~O!h*yO)_)wX~O)_*|O~Oq&hO])kX!T)kX!V)kX!h)kX#v)kX)_)kX)p)kX[)kXQ)kX!d)kX({)kX~Oq&hO~OP%qO(uQO]%ha!V%ha!X%ha!Y%ha![%ha!^%ha!_%ha!a%ha!b%ha!e%ha!f%ha!h%ha(w%ha(z%ha(|%ha(}%ha)Y%ha)Z%ha)[%ha)]%ha)^%ha)_%ha)`%ha!g%ha)p%ha[%ha!W%ha({%ha!U%haQ%ha!d%ha~Oe$TO%Y$UO)O:vO~Om;OO~O!TxO#v!eO)p&OO~Om<cO&r#WO(w;nO~O$Z+YO%`+ZO~O!TxO#v!eO)_+[O)p+]O~OPmO]$gOb%SOm;RO!V$hO!X!XO!Y!WO!i!YO#V#QO$Z+YO%_#ZO%`+_O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~O!U+`O~P!QOb!TOm$qOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a+fO#b+gO#i+hO%e#UO%l#SO&m!RO&r#WO&s!TO(w$pO)VYO~OQ)rP!d)rP~P#GuO]&[Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&YO)Y&XO)[&]O)]&]O~O[#kX!T#kX#v#kX)_#kX)p#kXQ#kX!d#kX!h#kX)`#kX!x#kX({#kX~P#IyOPmO]$gOb%SOm;ROs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$hO!W+nO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y+oO)]$mO)`!ZO)bXO)ncO)odO~O]&eO!V+pO~O]&[O!V&YO)VYO)Y&XO)[&]O)]&]O)`+sO[)jP~P8}O]&[O!V&YO)Y&XO)[&]O)]&]O~O[#nX!T#nX#v#nX)_#nX)p#nXQ#nX!d#nX!h#nX)`#nX!x#nX({#nX~P#NsO!TxO])tX!V)tX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O#T+{O#p+|O(}+yO)[+wO)]+wO~O]#jX!T#jX!V#jX[#jX#v#jX)_#jX)p#jXQ#jX!d#jX!h#jX)`#jX!x#jX({#jX~P$!WO#V,OO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l,PO#T+{O#V,OO#p+|O(}+yO)[,PO)],PO])lP!T)lP!V)lP#v)lP({)lP)p)lP[)lP!h)lP)_)lP~O!x)lPQ)lP!d)lP~P$$TOPmO]$gOb%SOm;ROs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$hO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)]$mO)`!ZO)bXO)ncO)odO~O!W,VO)Y,WO~P$&OO)VYO)`+sO[)jP~P8}O]&eO!V&dO[&Za!T&Za!h&Za#v&Za)_&Za)p&ZaQ&Za!d&Za({&Za~OPmO]$gOb!]Om;TOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;YO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~OQ)PP!d)PP~P$)hO]$PO!V#nO(|#mO(}#mO!X'Pa!Y'Pa!['Pa!^'Pa!_'Pa!a'Pa!b'Pa!e'Pa!f'Pa!h'Pa(z'Pa)Y'Pa)Z'Pa)['Pa)]'Pa)^'Pa)_'Pa)`'Pa!g'Pa)p'Pa['Pa!W'Pa({'Pa!U'PaQ'Pa!d'Pa~O]$PO!V#nO!X#}O(|#mO(}#mO~P!BmO!TxO#t!fO)VYO~P8}O!TxO(w%pO)p,aO~O#x,fO~OQ)gX!d)gX!h)gX)`)gX)p)gX[)gX!T)gX({)gX)_)gX~P:qO({,jO(|,hO)V$UX)_$UX~O(w,kO~O)VYO)_,nO~OPmO]$gOb!]Om;SOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$hO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)VYO)Y$mO)]$mO)_iO)`!ZO)bXO)ncO)odO~O(w;ZO~P$0yOPmO]$gOb%SOm;RO!TxO!V$hO!X!XO!Y!WO!i!YO#V#QO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w:tO)VYO)Y$mO)]$mO)_iO)`!ZO)bXO)ncO)odO~O$h,xO~OPmO]$gOb!]Om;SOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$hO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO$}!uO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)VYO)Y$mO)]$mO)`!ZO)bXO)ncO)odO~O${-OO(w;UO)_,|O~P$7dO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_-QO)`$OO~P#4YO)_-QO~O)_-RO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_-SO)`$OO~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_-TO)`$OO~P#4YOq&hO)VYO)p-VO~O)_-WO~Om;eO(w;WO~O]-_O!{!dO&r#WO&s$yO(w-ZO)Y-[O~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO({-bO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!TxO$`!iO$e!jO$g!kO$h!lO$k-gO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(w:uOe$Xa!o$Xa!{$Xa#i$Xa#p$Xa#t$Xa#v$Xa$R$Xa$T$Xa$Y$Xa$Z$Xa${$Xa%U$Xa%c$Xa%g$Xa%o$Xa%|$Xa(l$Xa)[$Xa!U$Xa$c$Xa~P$0yO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_-hO)`$OO~P#4YOm-jO!TxO)p,aO~O)p-lO~O]&]a!X&]a!Y&]a![&]a!^&]a!_&]a!a&]a!b&]a!e&]a!f&]a!h&]a(z&]a(|&]a(}&]a)Z&]a)[&]a)]&]a)^&]a)_&]a)`&]a!g&]a)p&]a[&]a!W&]a!T&]a#v&]a({&]a!U&]aQ&]a!d&]a~O)Y-pO!V&]a~P$DpO[-pO~O!W-pO~O!V-qO)Y&]a~P$DpO])SXe)SXs)SXt)SXu)SXv)SXw)SXx)SXy)SXz)SX!O)SX!V)SX!r)SX!s)SX!t)SX!u)SX!v)SX!x)SX!{)SX%v)SX&r)SX&s)SX(w)SX)Y)SX)[)SX)])SX~Om;tO~P$G`O]&eO!V&dO)_-rO~Om;jO!o-uO#V,OO#i-zO#t!fO${-OO%c!zO%k-yO%o!|O%v!}O(w;[O)VYO~P!8mO!n.OO(w,kO~O)VYO)_.QO~OPmO]$gOb%SOm;RO!T.VO!V$hO!X!XO!Y!WO!i!YO#V.^O#a.]O%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO(}.UO)Y$mO)]$mO)_.SO)`!ZO)bXO)ncO)odO~O!U.[O~P$JpO])dXe)dXs)dXt)dXu)dXv)dXw)dXx)dXy)dXz)dX!O)dX!T)dX!V)dX!l)dX!r)dX!s)dX!t)dX!u)dX!v)dX!x)dX!{)dX%v)dX&r)dX&s)dX(w)dX({)dX)Y)dX)[)dX)])dX)_)dX[)dX!h)dX)`)dX!X)dX!Y)dX![)dX!^)dX!_)dX!a)dX!b)dX!e)dX!f)dX(z)dX(|)dX(})dX)Z)dX)^)dX!g)dX)p)dX!W)dXQ)dX!d)dX#T)dX#V)dX#p)dX#v)dXb)dX|)dX!o)dX#a)dX#b)dX#i)dX#t)dX${)dX%c)dX%e)dX%k)dX%l)dX%o)dX&m)dX)V)dX!U)dX~Om*aO~P$LzOm$qO!T(SO!l.cO(w$pO({(RO)VYO~Oq&hOm)dX~P$LzOm$qO!n.hO!o.hO(w$pO)VYO~Om;kO!U.sO!n.uO!o.tO#i-zO${!tO$}!uO%g!{O%k-yO%o!|O%v!}O(w;^O)VYO~P!8mO!T(SO!l.cO({(RO])TXe)TXm)TXs)TXt)TXu)TXv)TXw)TXx)TXy)TXz)TX!O)TX!V)TX!r)TX!s)TX!t)TX!u)TX!v)TX!x)TX!{)TX%v)TX&r)TX&s)TX(w)TX)Y)TX)[)TX)])TX~O)_)TX[)TX!X)TX!Y)TX![)TX!^)TX!_)TX!a)TX!b)TX!e)TX!f)TX!h)TX(z)TX(|)TX(})TX)Z)TX)^)TX)`)TX!g)TX)p)TX!W)TXQ)TX!d)TX!U)TX#v)TX~P%%sO!T(SO~O!T(SO({(RO~O(w%pO!U*WP~O!T(]O({.zO]&kae&kam&kas&kat&kau&kav&kaw&kax&kay&kaz&ka!O&ka!V&ka!r&ka!s&ka!t&ka!u&ka!v&ka!x&ka!{&ka%v&ka&r&ka&s&ka(w&ka)Y&ka)[&ka)]&ka)_&ka[&ka!X&ka!Y&ka![&ka!^&ka!_&ka!a&ka!b&ka!e&ka!f&ka!h&ka(z&ka(|&ka(}&ka)Z&ka)^&ka)`&ka!g&ka)p&ka!W&kaQ&ka!d&ka!U&ka#v&ka~Om$qO!T(]O(w$pO~O&r#WO&s$yO]&pae&pam&pas&pat&pau&pav&paw&pax&pay&paz&pa!O&pa!V&pa!r&pa!s&pa!t&pa!u&pa!v&pa!x&pa!{&pa%v&pa(w&pa)Y&pa)[&pa)]&pa)_&pa[&pa!T&pa!X&pa!Y&pa![&pa!^&pa!_&pa!a&pa!b&pa!e&pa!f&pa!h&pa(z&pa(|&pa(}&pa)Z&pa)^&pa)`&pa!g&pa)p&pa!W&paQ&pa!d&pa({&pa!U&pa#v&pa~O&s/PO~P!(}O!Y#sO![#tO!f#|O)Y#oO!^'Ua!_'Ua!a'Ua!b'Ua!e'Ua!h'Ua(z'Ua)Z'Ua)['Ua)]'Ua)^'Ua)_'Ua)`'Ua!g'Ua)p'Ua['Ua!W'Ua({'Ua!U'UaQ'Ua!d'Ua~P#4YO!V'dX!X'dX!Y'dX!['dX!^'dX!_'dX!a'dX!b'dX!e'dX!f'dX!h'dX(z'dX(|'dX(}'dX)Y'dX)Z'dX)['dX)]'dX)^'dX)`'dX['dX~O]/RO)_'dX!g'dX)p'dX!W'dX({'dX!U'dXQ'dX!d'dX~P%3WO!Y#sO![#tO!f#|O)Y#oO!^'Wa!_'Wa!a'Wa!b'Wa!e'Wa!h'Wa(z'Wa)Z'Wa)['Wa)]'Wa)^'Wa)_'Wa)`'Wa!g'Wa)p'Wa['Wa!W'Wa({'Wa!U'WaQ'Wa!d'Wa~P#4YO]$PO!T$YO!V/SO&r#WO&s$yO~O!X'Za!Y'Za!['Za!^'Za!_'Za!a'Za!b'Za!e'Za!f'Za!h'Za(z'Za(|'Za(}'Za)Y'Za)Z'Za)['Za)]'Za)^'Za)_'Za)`'Za!g'Za)p'Za['Za!W'Za({'Za!U'ZaQ'Za!d'Za~P%6}O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h'^a)_'^a!g'^a)p'^a['^a!W'^a({'^a!U'^aQ'^a!d'^a~P#4YOPmO]$gOb%SOm;RO!V$hO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)Y$mO)]%_O)`!ZO)bXO)ncO)odO)p%^O~O!W/VO~P%:}O(q(lO(r(lO(s/XO~OS(vO]$PO(p#]O*^(uO~O]/[O'f/]O*^/YO~OS/aO(p#]O*^/`O~O]$PO~Q'na!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO({/cO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO)_#Zi[#Zi~P#4YO]dXmhXqdXqjX!VdX!XdX!YdX![dX!^dX!_dX!adX!bdX!edX!fdX!gdX!hdX(zdX(|dX(}dX)YdX)ZdX)[dX)]dX)^dX)_dX)`dX)pdX[dX!WdX({dX!TdX#vdX!UdXQdX!ddX~Oe/eO%Y*YO)O/dO~Om/fO~Om/gO~Oq&hO]ci!Vci!Xci!Yci![ci!^ci!_ci!aci!bci!eci!fci!gci!hci(zci(|ci(}ci)Yci)Zci)[ci)]ci)^ci)_ci)`ci)pci[ci!Wci({ci!UciQci!dci~O!W/iO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO![#tO)Y#oO!Y&zi!^&zi!_&zi!a&zi!b&zi!e&zi!f&zi!h&zi(z&zi)Z&zi)[&zi)]&zi)^&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y&zi![&zi!^&zi!_&zi!a&zi!b&zi!e&zi!f&zi!h&zi(z&zi)Y&zi)Z&zi)[&zi)]&zi)^&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O)Y#oO)]#rO)^#jO!h&zi(z&zi)Z&zi)[&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O)Y#oO)[#pO)]#rO)^#jO!h&zi(z&zi)Z&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!_#xO!a#zO!b#{O!e#{O!f#|O)Y#oO)]#rO)^#jO!^&zi!h&zi(z&zi)Z&zi)[&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!a#zO!b#{O!e#{O!f#|O)Y#oO)]#rO)^#jO!^&zi!_&zi!h&zi(z&zi)Z&zi)[&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!a#zO!b#{O!e#{O!f#|O)Y#oO)^#jO!^&zi!_&zi!h&zi(z&zi)Z&zi)[&zi)]&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!b#{O!e#{O!f#|O)Y#oO)^#jO!^&zi!_&zi!a&zi!h&zi(z&zi)Z&zi)[&zi)]&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!f#|O)Y#oO!^&zi!_&zi!a&zi!b&zi!e&zi!h&zi(z&zi)Z&zi)[&zi)]&zi)^&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO)Y#oO!^&zi!_&zi!a&zi!b&zi!e&zi!f&zi!h&zi(z&zi)Z&zi)[&zi)]&zi)^&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O)Y#oO)Z#qO)[#pO)]#rO)^#jO!h&zi(z&zi)_&zi)`&zi!g&zi)p&zi[&zi!W&zi({&zi!U&ziQ&zi!d&zi~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h/jO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO[(xX~P#4YO!h/jO[(xX~O[/lO~O]%Xaq%Xa!X%Xa!Y%Xa![%Xa!^%Xa!_%Xa!a%Xa!b%Xa!e%Xa!f%Xa!h%Xa(z%Xa(|%Xa(}%Xa)Z%Xa)[%Xa)]%Xa)^%Xa)_%Xa)`%Xa!g%Xa)p%Xa[%Xa!W%Xa!T%Xa#v%Xa({%Xa!U%XaQ%Xa!d%Xa~O)Y/mO!V%Xa~P&,zO[/mO~O!W/mO~O!V/nO)Y%Xa~P&,zO!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!e'Zi!f'Zi!h'Zi(z'Zi(|'Zi(}'Zi)Y'Zi)Z'Zi)['Zi)]'Zi)^'Zi)_'Zi)`'Zi!g'Zi)p'Zi['Zi!W'Zi({'Zi!U'ZiQ'Zi!d'Zi~P%6}O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h'^i)_'^i!g'^i)p'^i['^i!W'^i({'^i!U'^iQ'^i!d'^i~P#4YO!W/sO~P%:}O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h/uO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!U)xX~P#4YO(w/xO~O!V/zO(|)xO)p/|O~O!h/uO!U)xX~O!U/}O~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h`i(z`i)_`i!g`i)p`i[`i!W`i({`i!U`iQ`i!d`i~P#4YO!R0OO~Om*QO]!Qa!h!Qa)U!Qa)`!Qa~OP0WO]0VOm0WO!R0WO!T0TO!V0UO!X0WO!Y0WO![0WO!^0WO!_0WO!a0WO!b0WO!e0WO!f0WO!g0WO!h0WO!i0WO(uQO({0WO(|0WO(}0WO)Y0QO)Z0RO)[0RO)]0SO)^#jO)_0WO)`0WO)bXO~O[0ZO~P&7dO!R$^O~O!h*TO)U)Wa)`)Wa~O)U0_O~O])iO!V)jO!X)gO!g)gO%Z)gO%[)gO%])gO%^)gO%_)kO%`)kO%a)gO(})hO)p)gO*O)lO~Oe)tO%Y*YO)O$QO~O)_0aO~O]oXeoXmnXqoXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(woX)YoX)[oX)]oX!ToX!hoX)`oX[oXQoX!doX~O!loX({oX)_oX!XoX!YoX![oX!^oX!_oX!aoX!boX!eoX!foX(zoX(|oX(}oX)ZoX)^oX!goX)poX!WoX!UoX#voX#ToX#VoX#poXboX|oX!ooX#aoX#boX#ioX#toX${oX%coX%eoX%koX%loX%ooX&moX)VoX~P&;`Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO~O])gie)gim)gi!V)gi!{)gi%v)gi(w)gi)Y)gi)[)gi)])giQ)gi!d)gi!h)gi)`)gi)p)gi[)gi!T)gi&r)gi({)gi)_)gi~P&@^O]&eO!V&dO[#Qi!T#Qi!h#Qi#v#Qi)_#Qi)p#QiQ#Qi!d#Qi({#Qi~O[raQra!dra!hra)`ra)_ra~P#:ZO[raQra!dra!hra)`ra)_ra~P#IyO]&eO!V+pO[raQra!dra!hra)`ra)_ra~O!h*nO!W)qa~O!h*rO!W*Ua~OPmOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!X!XO!Y!WO!i!YO!s!aO!t!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO)VYO)_iO)`!ZO)bXO)ncO)odO~O]eOe!POmTO!T*vO!U&VO!V0oO!opO!r!`O!u!bO!{!dO#i#OO#p!xO#t!fO$R!gO$T!hO${!tO$}!uO%U!yO%c!zO%g!{O%o!|O%v!}O%|#PO(wRO(|)xO)YaO)[|O)]{O~P&E`O!h*yO)_)wa~OPmO]$gOb!]Om;TO|#RO!T$YO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;]O)VYO)Y$mO)]$mO)`0uO)bXO)ncO)odO[(xP[)jP~P&@^O!h*rO!W*UX~O]$PO!T$YO~O!h0zO!T*QX#v*QX)p*QX~O)_0|O~O)_0}O~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_1PO)`$OO~P#4YO)_0}O~P!?ZO]1ZOe!POm%dO!V1XO!{!dO%v$oO(w$zO)Y1RO)`1UO~O)[1VO)]1VO)p1SOQ#PX!d#PX!h#PX[#PX~P' }O!h1[OQ)rX!d)rX~OQ1^O!d1^O~O)`1aO)p1`OQ#`X!d#`X!h#`X~P!<_O)`1aO)p1`OQ#`X!d#`X!h#`X~P!;eOq&WO~O[#ka!T#ka#v#ka)_#ka)p#kaQ#ka!d#ka!h#ka)`#ka!x#ka({#ka~P#IyO]&eO!V+pO[#ka!T#ka#v#ka)_#ka)p#kaQ#ka!d#ka!h#ka)`#ka!x#ka({#ka~O!W1fO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W1fO)Y1hO~P$&OO!W1fO~P!(}O]#ja!T#ja!V#ja[#ja#v#ja)_#ja)p#jaQ#ja!d#ja!h#ja)`#ja!x#ja({#ja~P$!WO[1lO]&eO!V+pO~O!h1mO[)jX~O[1oO~O]&eO!V+pO[#na!T#na#v#na)_#na)p#naQ#na!d#na!h#na)`#na!x#na({#na~O]1sOs#SXt#SXu#SXv#SXw#SXx#SXy#SXz#SX!T#SX!V#SX#T#SX#p#SX(}#SX)[#SX)]#SX!l#SX!x#SX#V#SX#v#SX({#SX)p#SX[#SX!h#SX)_#SXQ#SX!d#SX)`#SX~O]1tO~O]1wOm$qO!V$hO#V#QO(w$pO)ncO)odO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l,PO#T+{O#V,OO#p+|O(}+yO)[,PO)],PO~O])lX!T)lX!V)lX!x)lX#v)lX({)lX)p)lX[)lX!h)lX)_)lXQ)lX!d)lX~P',hO!x!cO]#Ri!T#Ri!V#Ri#v#Ri({#Ri)p#Ri[#Ri!h#Ri)_#RiQ#Ri!d#Ri~O!W2PO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W2PO)Y2RO~P$&OO!W2PO~P!(}O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OOQ*XX!d*XX!h*XX~P#4YO)`2SOQ)QX!d)QX!h)QX~O!h2TOQ)PX!d)PX~OQ2VO!d2VO~O[2WO~O#t$nO)VYO~P8}Om-jO!TxO)p2[O~O[2]O~O#x,fOP#ui]#uib#uie#uim#uis#uit#uiu#uiv#uiw#uix#uiy#uiz#ui|#ui!O#ui!T#ui!V#ui!X#ui!Y#ui!i#ui!o#ui!r#ui!s#ui!t#ui!u#ui!v#ui!x#ui!{#ui#V#ui#a#ui#b#ui#i#ui#p#ui#t#ui#v#ui$R#ui$T#ui$Y#ui$Z#ui$`#ui$e#ui$g#ui$h#ui$k#ui$m#ui$o#ui$q#ui$s#ui$u#ui$w#ui${#ui$}#ui%U#ui%_#ui%`#ui%a#ui%c#ui%e#ui%g#ui%l#ui%o#ui%v#ui%|#ui&m#ui&r#ui&s#ui'Q#ui'R#ui'V#ui'Y#ui'a#ui'b#ui(l#ui(u#ui(w#ui)V#ui)Y#ui)[#ui)]#ui)_#ui)`#ui)b#ui)n#ui)o#ui!U#ui$c#ui!n#ui%k#ui~O]&eO~O]&eO!TxO!V&dO#v!eO~O({2bO(|,hO)V$Ua)_$Ua~O)VYO)_2dO~O[2eO~P,`O[2eO)_#lO~O[2eO~O$c2jOP$_i]$_ib$_ie$_im$_is$_it$_iu$_iv$_iw$_ix$_iy$_iz$_i|$_i!O$_i!T$_i!V$_i!X$_i!Y$_i!i$_i!o$_i!r$_i!s$_i!t$_i!u$_i!v$_i!x$_i!{$_i#V$_i#a$_i#b$_i#i$_i#p$_i#t$_i#v$_i$R$_i$T$_i$Y$_i$Z$_i$`$_i$e$_i$g$_i$h$_i$k$_i$m$_i$o$_i$q$_i$s$_i$u$_i$w$_i${$_i$}$_i%U$_i%_$_i%`$_i%a$_i%c$_i%e$_i%g$_i%l$_i%o$_i%v$_i%|$_i&m$_i&r$_i&s$_i'Q$_i'R$_i'V$_i'Y$_i'a$_i'b$_i(l$_i(u$_i(w$_i)V$_i)Y$_i)[$_i)]$_i)_$_i)`$_i)b$_i)n$_i)o$_i!U$_i~O]1wO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_2mO)`$OO~P#4YOPmO]$gOb!]Om;SO|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;UO)Y$mO)]$mO)_2pO)`!ZO)bXO)ncO)odO~P&@^O)_2mO~O(w-ZO~O)VYO)p2sO~O)_2uO~O]-_Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%TO(w-ZO)Y-[O~O)Y2zO~O]&eO!V2|O!h2}O)_){X~O]-_O!{!dO(w-ZO)Y-[O~O)_3QO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-gO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(w:uOe$Xi!o$Xi!{$Xi#i$Xi#p$Xi#t$Xi#v$Xi$R$Xi$T$Xi$Y$Xi$Z$Xi${$Xi%U$Xi%c$Xi%g$Xi%o$Xi%|$Xi(l$Xi)[$Xi!U$Xi$c$Xi~P$0yOm;SO(w:uO~P0}O]3UO~O)_2ZO~O!u3WO(w%pO~O[3ZO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h3[O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[3]O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO]&eO!V+pO!T%ui#v%ui)_%ui)p%ui~O!W3^O~Om;QO)_)SX~P$G`Ob!TOm$qO|3dO#a#VO#b3cO#t!fO%e#UO%l3eO&m!RO&r#WO&s!TO(w$pO)VYO~P&@^Om;jO!o-uO#i-zO#t!fO${-OO%c!zO%k-yO%o!|O%v!}O(w;[O)VYO~P!8mO]&eO!V&dO)_3gO~O)_3hO~O)VYO)_3hO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_3iO)`$OO~P#4YO)_3iO~O)_3lO~O!U3nO~P$JpOm$qO(w$pO~O]3pO!T'{O~P',SO!T(SO!l3sO({(RO])Tae)Tam)Tas)Tat)Tau)Tav)Taw)Tax)Tay)Taz)Ta!O)Ta!V)Ta!r)Ta!s)Ta!t)Ta!u)Ta!v)Ta!x)Ta!{)Ta%v)Ta&r)Ta&s)Ta(w)Ta)Y)Ta)[)Ta)])Ta)_)Ta[)Ta!X)Ta!Y)Ta![)Ta!^)Ta!_)Ta!a)Ta!b)Ta!e)Ta!f)Ta!h)Ta(z)Ta(|)Ta(})Ta)Z)Ta)^)Ta)`)Ta!g)Ta)p)Ta!W)TaQ)Ta!d)Ta!U)Ta#v)Ta~Om$qO!n.hO!o.hO(w$pO~O!h3wO)`3yO!T)eX~O!o3{O)VYO~P8}O)_3|O~PGYO]4ROm)QO!T$YO!{!dO%v$oO&r#WO(w)PO({4VO)Y4OO)[4SO)]4SO~O)_4WO)p4YO~P('OOm;kO!U4[O!n.uO!o.tO#i-zO${!tO$}!uO%g!{O%k-yO%o!|O%v!}O(w;^O)VYO~P!8mOm;kO%v!}O(w;^O~P!8mO({4]O~Om$qO!T(SO(w$pO({(RO)VYO~O!l3sO~P()^O)p4_O!U&oX!h&oX~O!h4`O!U*WX~O!U4bO~Ob4dOm$qO&m!RO(w$pO~O!T(]O]&kie&kim&kis&kit&kiu&kiv&kiw&kix&kiy&kiz&ki!O&ki!V&ki!r&ki!s&ki!t&ki!u&ki!v&ki!x&ki!{&ki%v&ki&r&ki&s&ki(w&ki)Y&ki)[&ki)]&ki)_&ki[&ki!X&ki!Y&ki![&ki!^&ki!_&ki!a&ki!b&ki!e&ki!f&ki!h&ki(z&ki(|&ki(}&ki)Z&ki)^&ki)`&ki!g&ki)p&ki!W&kiQ&ki!d&ki!U&ki#v&ki~O({&ki~P(*nO({.zO~P(*nO[4gO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[4gO~O[4hO~O]$PO!T$YO!V'Zi!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!e'Zi!f'Zi!h'Zi(z'Zi(|'Zi(}'Zi)Y'Zi)Z'Zi)['Zi)]'Zi)^'Zi)_'Zi)`'Zi!g'Zi)p'Zi['Zi!W'Zi({'Zi!U'ZiQ'Zi!d'Zi~OPmOb%SOm;RO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)`!ZO)bXO)ncO)odO]#]aq#]a!T#]a!V#]a)Y#]a)[#]a)]#]a~O(w%pO)`4mO[*`P~O*^4lO~O'f4oO*^4lO~O*^4pO~OmnXqoXq&wX~Oe4rO%Y*YO)O/dO~Oe4rO%Y*YO)O4sO~O!h/jO[(xa~O!W4wO~O]&eO!V+pO!T%uq#v%uq)_%uq)p%uq~O]$PO!T$YO!X'Zq!Y'Zq!['Zq!^'Zq!_'Zq!a'Zq!b'Zq!e'Zq!f'Zq!h'Zq(z'Zq(|'Zq(}'Zq)Y'Zq)Z'Zq)['Zq)]'Zq)^'Zq)_'Zq)`'Zq!g'Zq)p'Zq['Zq!W'Zq({'Zq!U'ZqQ'Zq!d'Zq~O!V'Zq~P(5{O!V/SO&r#WO&s$yO~P(5{O!T$YO!V)wO(|)xO!U(VX!h(VX~P!KVO!h/uO!U)xa~O!W5PO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h*nO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!U5TO~P&7dO!W5TO~P&7dO[5TO~P&7dO[5YO~P&7dO]5ZO!h'va)U'va)`'va~O!h*TO)U)Wi)`)Wi~O]&eO!V&dO[#Qq!T#Qq!h#Qq#v#Qq)_#Qq)p#QqQ#Qq!d#Qq({#Qq~O[riQri!dri!hri)`ri)_ri~P#IyO]&eO!V+pO[riQri!dri!hri)`ri)_ri~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h'Tq)_'Tq!g'Tq)p'Tq['Tq!W'Tq({'Tq!U'TqQ'Tq!d'Tq~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!W'}a!h'}a~P#4YO!W5`O~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h5aO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_#lO)`$OO!U)xX~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h#{i)_#{i~P#4YO]*{O!T$YO!V&dO)p*wO!h(Wa)_(Wa~O!h1mO[)jX]'dX~P%3WO)`5cO!T%qa!h%qa#v%qa)p%qa~O!h0zO!T*Qa#v*Qa)p*Qa~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_5fO)`$OO~P#4YO]1ZOe!POm;cO!V1XO!{!dO%v$oO(w$zO)Y<PO)[5hO)]5hO~OQ#Pa!d#Pa!h#Pa[#Pa~P(ETO]1ZOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V1XO!{!dO!|%TO%v$oO(w$zOQ#kX!d#kX!h#kX[#kX~Om%dO)Y1RO)[<QO)]<QO~P(FVO]&eOQ#Pa!d#Pa!h#Pa[#Pa~O!V&dO)p5lO~P(GtO(w%pOQ#dX!d#dX!h#dX[#dX~O)[<QO)]<QOQ#nX!d#nX!h#nX[#nX~P' }O!V+pO~P(GtO]1ZOb!TOe!POm;dO|#RO!V1XO!{!dO#a#VO#b#TO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO(w;XO)VYO)Y<PO)[5hO)]5hO)`+sO[)jP~P&@^O!h1[OQ)ra!d)ra~Oq&hO)p5qOQ#`am)SX!d#`a!h#`a)`)SX~P$G`O(w-ZOQ#ga!d#ga!h#ga~Oq&hO)p5qOQ#`a])dXe)dXm)dXs)dXt)dXu)dXv)dXw)dXx)dXy)dXz)dX!O)dX!T)dX!V)dX!d#`a!h#`a!l)dX!r)dX!s)dX!t)dX!u)dX!v)dX!x)dX!{)dX%v)dX&r)dX&s)dX(w)dX({)dX)Y)dX)[)dX)])dX)`)dX~O#a5tO#b5tO~O]&eO!V+pO[#ki!T#ki#v#ki)_#ki)p#kiQ#ki!d#ki!h#ki)`#ki!x#ki({#ki~O!W5vO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W5vO~P!(}O!W5vO)Y5xO~P$&OO]#ji!T#ji!V#ji[#ji#v#ji)_#ji)p#jiQ#ji!d#ji!h#ji)`#ji!x#ji({#ji~P$!WO)VYO)`5zO~P8}O!h1mO[)ja~O&r#WO&s$yO!T#qa!x#qa#v#qa({#qa)p#qa[#qa!h#qa)_#qaQ#qa!d#qa)`#qa~P#NsO[6PO~P!(}O[)uP~P!4{O)Z6VO)[6TO]#Ua!T#Ua!V#Ua)Y#Ua)]#Uas#Uat#Uau#Uav#Uaw#Uax#Uay#Uaz#Ua!l#Ua!x#Ua#T#Ua#V#Ua#p#Ua#v#Ua({#Ua(}#Ua)p#Uab#Uae#Uam#Ua|#Ua!O#Ua!o#Ua!r#Ua!s#Ua!t#Ua!u#Ua!v#Ua!{#Ua#a#Ua#b#Ua#i#Ua#t#Ua${#Ua%c#Ua%e#Ua%k#Ua%l#Ua%o#Ua%v#Ua&m#Ua&r#Ua&s#Ua(w#Ua)V#Ua)_#Ua[#Ua!h#UaQ#Ua!d#Ua~O!x!cO]#Rq!T#Rq!V#Rq#v#Rq({#Rq)p#Rq[#Rq!h#Rq)_#RqQ#Rq!d#Rq~O!W6[O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W6[O~P!(}O!h2TOQ)Pa!d)Pa~O)_6aO~Om-jO!TxO)p6bO~O]*{O!T$YO!V&dO!h*yO)_)wX~O)p6fO~P)+|O[6hO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[6hO~O$c6jOP$_q]$_qb$_qe$_qm$_qs$_qt$_qu$_qv$_qw$_qx$_qy$_qz$_q|$_q!O$_q!T$_q!V$_q!X$_q!Y$_q!i$_q!o$_q!r$_q!s$_q!t$_q!u$_q!v$_q!x$_q!{$_q#V$_q#a$_q#b$_q#i$_q#p$_q#t$_q#v$_q$R$_q$T$_q$Y$_q$Z$_q$`$_q$e$_q$g$_q$h$_q$k$_q$m$_q$o$_q$q$_q$s$_q$u$_q$w$_q${$_q$}$_q%U$_q%_$_q%`$_q%a$_q%c$_q%e$_q%g$_q%l$_q%o$_q%v$_q%|$_q&m$_q&r$_q&s$_q'Q$_q'R$_q'V$_q'Y$_q'a$_q'b$_q(l$_q(u$_q(w$_q)V$_q)Y$_q)[$_q)]$_q)_$_q)`$_q)b$_q)n$_q)o$_q!U$_q~O)_6kO~OPmO]$gOb!]Om;SO|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;UO)Y$mO)]$mO)_6mO)`!ZO)bXO)ncO)odO~P&@^O({6oO)p*wO~P)+|O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_6mO)`$OO~P#4YO[6qO~P!(}O)_6uO~O)_6vO~O]-_Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO(w-ZO)Y-[O~O]&eO!V2|O!h%Oa)_%Oa[%Oa~O!W6|O)Y6}O~P$&OO!h2}O)_){a~O[7QO]&eO!V2|O~O!TxO$`!iO$e!jO$g!kO$h!lO$k-gO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(w:uOe$Xq!o$Xq!{$Xq#i$Xq#p$Xq#t$Xq#v$Xq$R$Xq$T$Xq$Y$Xq$Z$Xq${$Xq%U$Xq%c$Xq%g$Xq%o$Xq%|$Xq(l$Xq)[$Xq!U$Xq$c$Xq~P$0yOPmO]$gOb!]Om;SO|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;UO)VYO)Y$mO)]$mO)_7SO)`!ZO)bXO)ncO)odO~P&@^O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_7VO)`$OO~P#4YO)_7WO~OP7XO(uQO~Om*aO)_)dX~P$G`Oq&hOm)SX)_)dX~P$G`O)_7ZO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO)_&Sa~P#4YO!U7]O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO)_7^O~OPmO]$gOb!]Om;TO|#RO!V$hO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$oO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w;]O)VYO)Y$mO)]$mO)`0uO)bXO)ncO)odO[)jP~P&@^O!h3wO)`7bO!T)ea~O!h3wO!T)ea~O)_7gO)p7iO~P('OO)_7kO~PGYO]4ROm)QOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%TO%v$oO&r#WO(w)PO)Y4OO)[4SO)]4SO~O)Y7oO~O]&eO!T*vO!V7qO!h7rO#v!eO({4VO~O)_7gO)p7tO~P)GbO]4ROm)QO!{!dO%v$oO&r#WO(w)PO)Y4OO)[4SO)]4SO~Oq&hO])iX!T)iX!V)iX!h)iX#v)iX({)iX)_)iX)p)iX[)iX~O)_7gO~O!T(SO!l7zO({(RO])Tie)Tim)Tis)Tit)Tiu)Tiv)Tiw)Tix)Tiy)Tiz)Ti!O)Ti!V)Ti!r)Ti!s)Ti!t)Ti!u)Ti!v)Ti!x)Ti!{)Ti%v)Ti&r)Ti&s)Ti(w)Ti)Y)Ti)[)Ti)])Ti)_)Ti[)Ti!X)Ti!Y)Ti![)Ti!^)Ti!_)Ti!a)Ti!b)Ti!e)Ti!f)Ti!h)Ti(z)Ti(|)Ti(})Ti)Z)Ti)^)Ti)`)Ti!g)Ti)p)Ti!W)TiQ)Ti!d)Ti!U)Ti#v)Ti~O(w%pO!U(gX!h(gX~O!h4`O!U*Wa~Oq&hO]*Vae*Vam*Vas*Vat*Vau*Vav*Vaw*Vax*Vay*Vaz*Va!O*Va!T*Va!V*Va!r*Va!s*Va!t*Va!u*Va!v*Va!x*Va!{*Va%v*Va&r*Va&s*Va(w*Va)Y*Va)[*Va)]*Va)_*Va[*Va!X*Va!Y*Va![*Va!^*Va!_*Va!a*Va!b*Va!e*Va!f*Va!h*Va(z*Va(|*Va(}*Va)Z*Va)^*Va)`*Va!g*Va)p*Va!W*VaQ*Va!d*Va({*Va!U*Va#v*Va~O!T(]O]&kqe&kqm&kqs&kqt&kqu&kqv&kqw&kqx&kqy&kqz&kq!O&kq!V&kq!r&kq!s&kq!t&kq!u&kq!v&kq!x&kq!{&kq%v&kq&r&kq&s&kq(w&kq)Y&kq)[&kq)]&kq)_&kq[&kq!X&kq!Y&kq![&kq!^&kq!_&kq!a&kq!b&kq!e&kq!f&kq!h&kq(z&kq(|&kq(}&kq)Z&kq)^&kq)`&kq!g&kq)p&kq!W&kqQ&kq!d&kq({&kq!U&kq#v&kq~OPmOb%SOm;RO!T$YO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$oO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(uQO(w$zO)bXO)ncO)odO~O]*[i!V*[i!X*[i!Y*[i![*[i!^*[i!_*[i!a*[i!b*[i!e*[i!f*[i!h*[i(z*[i(|*[i(}*[i)Y*[i)Z*[i)[*[i)]*[i)^*[i)_*[i)`*[i!g*[i)p*[i[*[i!W*[i({*[i!U*[iQ*[i!d*[i~P*&qO[8PO~O!W8QO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h'^q)_'^q!g'^q)p'^q['^q!W'^q({'^q!U'^qQ'^q!d'^q~P#4YO!h8RO[*`X~O[8TO~O*^8UO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h_y)__y!g_y)p_y[_y!W_y({_y!U_yQ_y!d_y~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO[(ia!h(ia~P#4YO]$PO!T$YO!V'Zy!X'Zy!Y'Zy!['Zy!^'Zy!_'Zy!a'Zy!b'Zy!e'Zy!f'Zy!h'Zy(z'Zy(|'Zy(}'Zy)Y'Zy)Z'Zy)['Zy)]'Zy)^'Zy)_'Zy)`'Zy!g'Zy)p'Zy['Zy!W'Zy({'Zy!U'ZyQ'Zy!d'Zy~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!h'^y)_'^y!g'^y)p'^y['^y!W'^y({'^y!U'^yQ'^y!d'^y~P#4YO]&eO!V+pO!T%uy#v%uy)_%uy)p%uy~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!U(Va!h(Va~P#4YO!W5PO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!U#}i!h#}i~P#4YO!U8WO~P&7dO!W8WO~P&7dO[8WO~P&7dO[8YO~P&7dO]&eO!V&dO[#Qy!T#Qy!h#Qy#v#Qy)_#Qy)p#QyQ#Qy!d#Qy({#Qy~O]&eO!V+pO[rqQrq!drq!hrq)`rq)_rq~O]&eOQ#Pi!d#Pi!h#Pi[#Pi~O!V+pO~P*:TOQ#nX!d#nX!h#nX[#nX~P(ETO!V&dO~P*:TOQ(PX](PXe'rXm'rXs(PXt(PXu(PXv(PXw(PXx(PXy(PXz(PX!V(PX!d(PX!h(PX!{'rX%v'rX(w'rX)Y(PX)[(PX)](PX[(PX~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OOQ#_i!d#_i!h#_i[#_i~P#4YO&r#WO&s$yOQ#fi!d#fi!h#fi~O(w-ZO)`1aO)p1`OQ#`X!d#`X!h#`X~O!W8_O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W8_O~P!(}O!T#qi!x#qi#v#qi({#qi)p#qi[#qi!h#qi)_#qiQ#qi!d#qi)`#qi~O]&eO!V+pO~P*@PO]&[O!V&YO&r#WO&s$yO)Y&XO)[&]O)]&]O~P*@PO[8aO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!h8bO[)uX~O[8dO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OOQ*ZX!d*ZX!h*ZX~P#4YO)`8gOQ*YX!d*YX!h*YX~O)_8iO~O[$bi!h#{a)_#{a~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_8lO)`$OO~P#4YO[8nO~P!(}O[8nO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[8nO~O]&eO!V&dO({8tO~O)_8uO~O]&eO!V2|O!h%Oi)_%Oi[%Oi~O!W8xO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W8xO)Y8zO~P$&OO!W8xO~P!(}O]&eO!V2|O!h(Za)_(Za~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_8{O)`$OO~P#4YO)_2pO~P!(}O)_8{O~OP%qO[8|O(uQO~O[8|O~O)_8}O~P%%sO#T9QO(}.UO)_9OO~O!h3wO!T)ei~O)`9UO!T'xa!h'xa~O)_9WO)p9YO~P)GbO)_9WO~O)_9WO)p9^O~P('OOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P)HQO]&eO!V7qO!T!ya!h!ya#v!ya({!ya)_!ya)p!ya[!ya~O!W9eO)Y9fO~P$&OO!T$YO!h7rO({4VO)_9WO)p9^O~O!T$YO~P#EtO[9iO]&eO!V7qO~O]&eO!V7qO!T&aa!h&aa#v&aa({&aa)_&aa)p&aa[&aa~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO)_&ba~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_9WO)`$OO~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!U&oi!h&oi~P#4YO!V/SO]']i!T']i!X']i!Y']i![']i!^']i!_']i!a']i!b']i!e']i!f']i!h']i(z']i(|']i(}']i)Y']i)Z']i)[']i)]']i)^']i)_']i)`']i!g']i)p']i[']i!W']i({']i!U']iQ']i!d']i~O(w%pO)`9lO~O!h8RO[*`a~O[9nO~P&7dO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO!U(Va)_#Zi~P#4YO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OOQ#_q!d#_q!h#_q[#_q~P#4YO&r#WO&s$yOQ#fq!d#fq!h#fq~O)p5qOQ#`a!d#`a!h#`a~O]&eO!V+pO!T#qq!x#qq#v#qq({#qq)p#qq[#qq!h#qq)_#qqQ#qq!d#qq)`#qq~O!h8bO[)ua~O)[6TO]&Vi!T&Vi!V&Vi)Y&Vi)Z&Vi)]&Vis&Vit&Viu&Viv&Viw&Vix&Viy&Viz&Vi!l&Vi!x&Vi#T&Vi#V&Vi#p&Vi#v&Vi({&Vi(}&Vi)p&Vib&Vie&Vim&Vi|&Vi!O&Vi!o&Vi!r&Vi!s&Vi!t&Vi!u&Vi!v&Vi!{&Vi#a&Vi#b&Vi#i&Vi#t&Vi${&Vi%c&Vi%e&Vi%k&Vi%l&Vi%o&Vi%v&Vi&m&Vi&r&Vi&s&Vi(w&Vi)V&Vi)_&Vi[&Vi!h&ViQ&Vi!d&Vi~O)_9qO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO[$bq!h#{i)_#{i~P#4YO[9sO~P!(}O[9sO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[9sO~O]&eO!V&dO({9vO~O[9wO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[9wO~O]&eO!V2|O!h%Oq)_%Oq[%Oq~O!W9{O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W9{O~P!(}O)_6mO~P!(}O)_9|O~O)_9}O~O(}.UO)_9}O~O!h3wO!T)eq~O)`:PO!T'xi!h'xi~O!T$YO!h7rO({4VO)_:QO)p:SO~O)_:QO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_:QO)`$OO~P#4YO)_:QO)p:VO~P)GbO]&eO!V7qO!T!yi!h!yi#v!yi({!yi)_!yi)p!yi[!yi~O!W:ZO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W:ZO)Y:]O~P$&OO!W:ZO~P!(}O]&eO!V7qO!T(ea!h(ea({(ea)_(ea)p(ea~O[:_O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O!h#kO(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[:_O~O[:dO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[:dO~O]&eO!V2|O!h%Oy)_%Oy[%Oy~O)_:eO~O)_:fO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_:fO)`$OO~P#4YO!T$YO!h7rO({4VO)_:fO)p:iO~O]&eO!V7qO!T!yq!h!yq#v!yq({!yq)_!yq)p!yq[!yq~O!W:kO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO!W:kO~P!(}O[:mO!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)`$OO~P#4YO[:mO~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_:oO)`$OO~P#4YO)_:oO~O]&eO!V7qO!T!yy!h!yy#v!yy({!yy)_!yy)p!yy[!yy~O!Y#sO![#tO!^#wO!_#xO!a#zO!b#{O!e#{O!f#|O(z#hO)Y#oO)Z#qO)[#pO)]#rO)^#jO)_:sO)`$OO~P#4YO)_:sO~O]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!eZX!fZX!gZX!hZX(zZX({$]X(|ZX(}ZX)YZX)ZZX)[ZX)]ZX)^ZX)_ZX)`ZX)pZX~O]%WXmnXqoXq%WX!ToX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!e%WX!f%WX!gnX!h%WX(z%WX(|%WX(}%WX)Y%WX)Z%WX)[%WX)]%WX)^%WX)`%WX)pnX[%WXQ%WX!d%WX~O)_%WX!W%WX({%WX!U%WX~P+H]O]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(woX)YoX)[oX)]oX[oX[%WX!hoX)`oX~O)_oX)poX~P+JmO]%WXmnXqoXq%WX!V%WX!h%WXQ%WX!d%WX[%WX~O!T%WX#v%WX)_%WX)p%WX({%WX~P+MWOQoXQ%WX!ToX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!doX!d%WX!e%WX!f%WX!gnX!h%WX(z%WX(|%WX(}%WX)Y%WX)Z%WX)[%WX)]%WX)^%WX)`%WX)pnX~P+JmO]oX]%WXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(woX)YoX)[oX)]oX~O!ToX({oX)_oX)poX~P,!OOeoX!VoX)_%WX~P,!OOmnXqoX)_%WX~Oe)tO%Y)uO)O:vO~Oe)tO%Y)uO)O:{O~Oe)tO%Y)uO)O:wO~Oe$TO%Y*YO'[$VO'_$WO)O:vO~Oe$TO%Y*YO'[$VO'_$WO)O:xO~Oe$TO%Y*YO'[$VO'_$WO)O:zO~O[jX]jXsjXtjXujXvjXwjXxjXyjXzjX!VjX&rjX&sjX)YjX)[jX)]jXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(wjX~P#1xO]ZXmhXqZXqjX!VZX!hZX)_ZX)pZX~O!TZX#vZX({ZX~P,(fOmhXqjX)VjX)_ZX)pjX~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX)YjX)[jX)]jX[ZX[jX!hjX)`jX)pjX~O)_ZX~P,)pO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!eZX!fZX!gZX!hZX!hjX&rjX&sjX(zZX(|ZX(}ZX)YZX)YjX)ZZX)[ZX)[jX)]ZX)]jX)^ZX)`ZX)`jX)pZX~OQZXQjX!dZX!djX~P,,ZO]jXejXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX)YjX)[jX)]jX~P#1xO]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX)YjX)[jX)]jX~O)_jX~P,1]O[ZX[jXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(wjX)pjX~P,,ZO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(wjX({jX)YjX)[jX)]jX)_jX)pjX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PBXOe$TO%Y*YO)O:vO~Oe$TO%Y*YO)O:wO~Oe$TO%Y*YO)O:}O~Oe$TO%Y*YO)O:|O~O]%jOe!POm%dOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%mO!{!dO!|%TO%v$oO(w$zO)Y;hO)[;iO)];iO~O]%jOe!POm%dO!V%mO!{!dO%v$oO(w$zO)Y;hO)[;iO)];iO~Oe$TO%Y$UO)O:wO~Oe$TO%Y$UO)O:{O~Om;QO~Om;PO~O]dXmhXqjX!TdX~Oe)tO%Y*YO)O:vO~Oe)tO%Y*YO)O:wO~Oe)tO%Y*YO)O:xO~Oe)tO%Y*YO)O:yO~Oe)tO%Y*YO)O:zO~Oe)tO%Y*YO)O:|O~Oe)tO%Y*YO)O:}O~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P,9iO])SXs)SXt)SXu)SXv)SXw)SXx)SXy)SXz)SX!O)SX!r)SX!s)SX!t)SX!u)SX!v)SX!x)SX!{)SX%v)SX&r)SX&s)SX(w)SX)Y)SX)[)SX)])SX)p)SX~Om;PO!T)SX({)SX)_)SX~P,=hO]&wXmnXqoX!T&wX~Oe4rO%Y*YO)O;{O~Om;cO)Y<PO)[5hO)]5hO~P(FVOe!POm%dO!{!dO%v$oO(w$zO~O]1ZO!V1XO)Y1RO)[<QO)]<QOQ#nX!d#nX!h#nX[#nX~P,@dO)Y;aO~Om;oO~Om;pO~Om;qO~Om;sO~Om;tO~Om;uO~Om;sO!T$YOQ)SX!d)SX!h)SX)`)SX[)SX)p)SX~P$G`Om;qO!T$YO~P$G`Om;oO!g$[O)p$[O~Om;qO!g$[O)p$[O~Om;sO!g$[O)p$[O~Om;pO[)SX!h)SX)`)SX)p)SX~P$G`Oe/eO%Y*YO)O;{O~Om;|O~O)Y<aO~OV'e'h'i'g(u)b!R(wS(p%Z!Y!['je%[!i'R!f]'f*a'k(|!^!_'l'm'l~",goto:"%7u*aPPPPP*b*lP*oPP.ePP4y7z7z;UP;U>`P>y?]?qFiMi!&m!-TP!3}!4r!5gP!6RPPPPPPPP!6lP!8UP!9g!;PP!;VPPPPPP!;YP!;YPP!;YPP!;fPPPPPP!=h!AOP!ARPP!Ao!BdPPPPP!BhP>|!CyPP>|!FQ!HR!Ha!Iv!KgP!KrP!LR!LR# c#$r#&Y#)f#,p!HR#,zPP!HR#-R#-X#,z#,z#-[P#-`#-}#-}#-}#-}!KgP#.h#.y#1`P#1tP#3aP#3e#3m#4b#4m#6{#7T#7T#3eP#3eP#7[#7bP#7lPP#8X#8v#9h#8XP#:Y#:fP#8XP#8XPP#8X#8XP#8XP#8XP#8XP#8XP#8XP#8XP#:i#7l#;VP#;lP#<R#<R#<R#<R#<`#3eP#<v#Ar#BaPPPPPPPP#CXP#CgP#CgP#Cs#GQ#;bPP#Ca#GdP#Gw#HS#HY#HY#Ca#IOP#3e#3e#3e#3e#3eP!LR#Ij#Iq#Iq#Iq#Iu# ]#JP# ]#JT!Ha!Ha!Ha#JW#Np!Ha>|>|>|$%i!Bd!Bd!Bd!Bd!Bd!Bd!6l!6l!6l$%|P$'i$'w!6l$'}PP!6l$*]$*`#CO$*c;U7z$-i$/d$1T$2s7zPP7z$4g7zP7z7zP7zP$7m7zP7zPP7z$7yPPPPPPPPP*lP$;R$;X$;_$=v$?|$@S$@j$@t$AP$A`$Af$Bt$Cs$Cz$DR$DX$Da$Dk$Dq$D|$ES$E]$Ee$Ep$Ev$FQ$FW$Fb$Fi$Fx$GO$GUP$G[$Gd$Gk$Gy$Ig$Im$Is$Iz$JTPPPPPPPPPPPP$JZ$J_PPPPP%#a$*]%#d%&l%(tPP%)R%)UPPPPPPPPPP%)b%*e%*k%*o%,f%-s%.f%.m%0|%1SPPP%1^%1i%1l%1r%2y%2|%3W%3b%3f%4j%5]%5c#CXP%5|%6^%6a%6q%6}%7R%7X%7_$*]$*`$*`%7b%7eP%7o%7rQ#dPZ(s#b(o(p(t/ZR#dP'`mO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mU%qm%r7XQ&o!`Q(o#^d0W*S0T0U0V0Y5U5V5W5Z8XR7X3[b}Oaewx{!g&U*v&v$k[!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|1S1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mS%bf0o#d%lgnp|#O$i%O%P%U%f%j%k%y&u'v'w(S*_*e*g*y+b,q,{-d-u-|.k.r.t0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<aS%sm!YS&w!h#PQ'_!tQ'i!yQ'j!zQ(o#aQ(p#^Q(q#_Q*}%mQ,]&nQ,b&pQ-X'`Q-i'hQ-p'sS.w(]4`Q/m)lQ0l*rQ2X,aQ2`,hQ3V-jQ4i/RQ4m/[Q5m1UQ6c2[Q7U3WQ8h6bQ9l8RR;b1X$|#iS!]${%S%V%]&l&m'S'Z']'c'e(c(g(j(|(})W)X)Y)Z)[)])^)_)`)a)b)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:pQ&r!dQ(i#ZQ(x#cQ)o$V[*x%g*]0r2g2n3SQ,c&qQ/T(hQ/Z(pQ/b(yS/p)n/UQ0y+VS4x/q/rR8V4y'a![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m'a!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mQ)T#mS+V%{0zQ/y)xk4U.l3z4O4R4S7j7l7m7o7r9`9a:YQ)V#mk4T.l3z4O4R4S7j7l7m7o7r9`9a:Yl)U#m.l3z4O4R4S7j7l7m7o7r9`9a:YT+V%{0z[UOwx!g&U*vW$b[e$g(d#l$r_!f!u!}#R#S#T#U#V#Z$U$V$n%W&W&[&e&o'a(P(R(W(`(i)o)u+a+f+g+y,O,^,p-P-V-t-y.].^.d.e.i.v.z1[1`1m1r1t2s3c3d3e3w3{5q6U6W7c8b![%eg$i%f%k&u*_*y+b,q,{-d1R1V2f;_;`;a;h;i;v;w;x;y;}<O<Q<_<`<aY%unp%y-u.kl)R#m.l3z4O4R4S7j7l7m7o7r9`9a:YS;l'v-|U;m(S.r.t&|<Saf{|!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$h$m%O%P%U%_%j%o&S&Y&d&{'O'Q'k'l'w'{(b(k)q)w*e*g*m*n*q*w+]+_+m+o+p,U,W,s,v-l.U.V.Z/S/V/c/j/s/u/z/|0d0o1Q1S1X1h1i1s1w2R2j2p2q2|4V4Y4_4h5a5h5l5x6f6j6m6n6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m;g<PQ<T1Zd<U&z'R'd,|-b-c-f2m3R3UW<V&h*{2T3pQ<W#O[<X!t'`'h,a2[6bT<d%{0z[VOwx!g&U*vW$c[e$g(dQ$r.z!j$s_!f!u!}#V#Z$U$V$n%W&W&[&e&o'a(i)o)u+a+f+y,^,p-P-V-t.i1[1`1m1r1t2s3{5q8b&^$|af{!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$h$m%_%o&S&Y&d&{'O'Q'k'l'{(b(k)q)w*m*n*q*w+]+_+m+o+p,U,W,s,v-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2j2p2|4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m![%eg$i%f%k&u*_*y+b,q,{-d1R1V2f;_;`;a;h;i;v;w;x;y;}<O<Q<_<`<aY%unp%y-u.kQ't#O|(O#R#S#T#U(P(R(W(`+g,O.].^.d.e.v3c3d3e3w6U6W7cl)R#m.l3z4O4R4S7j7l7m7o7r9`9a:YS-s'v-|Q3_-yU;z(S.r.tn<S|%O%P%U%j'w*e*g0d1Q2q5h6n;g<P[<X!t'`'h,a2[6bW<Y&h*{2T3pd<Z&z'R'd,|-b-c-f2m3R3UQ<b1ZT<d%{0z!Q!UO[ewx!g$g&U&h&z'R'd(d*v*{,|-b-c-f2T2m3R3U3p!v$v_!f!u!}#O#V#Z$U$V$n%W&W&[&e&o'a'v(S(i)o)u+a+y,^,p-P-V-t-|.i.r.t1Z1[1`1m1r1t2s3{5q8b&^%Raf{!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$h$m%_%o&S&Y&d&{'O'Q'k'l'{(b(k)q)w*m*n*q*w+]+_+m+o+p,U,W,s,v-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2j2p2|4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m$Q%ngnp|#m$i%O%P%U%f%j%k%y%{&u'`'h'w*_*e*g*y+b,a,q,{-d-u.k.l0d0z1Q1R1V2[2f2q3z4O4R4S5h6b6n7j7l7m7o7r9`9a:Y;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<aQ'^!tz(Q#R#S#T#U(P(R(W(`,O.].^.d.e.v3c3d3e3w6U6W7cf-`'b-Y-[-_2w2x2z2}6x6y8wQ1_+fQ1b+gQ2r-OQ3`-yQ4c.zQ5s1aR8^5t!Q!UO[ewx!g$g&U&h&z'R'd(d*v*{,|-b-c-f2T2m3R3U3p!x$v_!f!u!}#O#V#Z$U$V$n%W&W&[&e&o'a'v(S(i)o)u+a+f+y,^,p-P-V-t-|.i.r.t1Z1[1`1m1r1t2s3{5q8b&^%Raf{!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$h$m%_%o&S&Y&d&{'O'Q'k'l'{(b(k)q)w*m*n*q*w+]+_+m+o+p,U,W,s,v-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2j2p2|4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m$S%ngnp|!t#m$i%O%P%U%f%j%k%y%{&u'`'h'w*_*e*g*y+b,a,q,{-d-u.k.l0d0z1Q1R1V2[2f2q3z4O4R4S5h6b6n7j7l7m7o7r9`9a:Y;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<a|(Q#R#S#T#U(P(R(W(`+g,O.].^.d.e.v3c3d3e3w6U6W7cQ3`-yR4c.z[WOwx!g&U*vW$d[e$g(d#l$r_!f!u!}#R#S#T#U#V#Z$U$V$n%W&W&[&e&o'a(P(R(W(`(i)o)u+a+f+g+y,O,^,p-P-V-t-y.].^.d.e.i.v.z1[1`1m1r1t2s3c3d3e3w3{5q6U6W7c8b![%eg$i%f%k&u*_*y+b,q,{-d1R1V2f;_;`;a;h;i;v;w;x;y;}<O<Q<_<`<aY%unp%y-u.kl)R#m.l3z4O4R4S7j7l7m7o7r9`9a:YS;l'v-|U;m(S.r.tn<S|%O%P%U%j'w*e*g0d1Q2q5h6n;g<PQ<T1ZQ<W#O[<X!t'`'h,a2[6b&^<[af{!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$h$m%_%o&S&Y&d&{'O'Q'k'l'{(b(k)q)w*m*n*q*w+]+_+m+o+p,U,W,s,v-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2j2p2|4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:md<]&z'R'd,|-b-c-f2m3R3UW<^&h*{2T3pT<d%{0zp$RT$a$q%d%t)Q;R;S;T;c;d;e;f;j;k<co)r$X*Z*a/f;O;P;Q;o;p;q;r;s;t;u;|p$ST$a$q%d%t)Q;R;S;T;c;d;e;f;j;k<co)s$X*Z*a/f;O;P;Q;o;p;q;r;s;t;u;|^&g}!O$k$l%b%l;bd&k!U$v%R%n'^(Q1_1b3`4cV/h)T)U4US%[e$gQ,Y&hQ/Q(dQ2t-VQ6Q1tQ6^2TQ6t2sR9o8b#}!TO[_ewx!f!g!u!}#O#V#Z$U$V$g$n%W&U&W&[&e&h&o&z'R'a'd'v(S(d(i)o)u*v*{+a+f+y,^,p,|-P-V-b-c-f-t-y-|.i.r.t1Z1[1`1m1r1t2T2m2s3R3U3p3{5q8b#[^O[_`wx!f!g!}#O$U$f$n$u$w&U&W&[&e&o&t&z'R'd'v(S)u*b*v*{+a,^,p,|-P-b-c-f-t-y-|.i.r.t1Z1[1m2m3R3U3p3{_(W#R#S#T+g3c3d3e#}ZO[wx!g!k#R#S#T%o&U&W&[&e&o&y&z&{'O'Q'R'^'d'v'z(P(R(S(W*v*{+a+g,^,m,p,v-U-b-c-f-t-y-|.P.d.i.r.v1Z1[1m2j2r3R3U3c3d3e3p6j6q8n9s9w:_:d:mQ$_YR0[*TR*V$_e0W*S0T0U0V0Y5U5V5W5Z8X$f#{S%V%]'S'Z']'c'e(j(|(})W)Z)[)])^)_)`)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:pe0W*S0T0U0V0Y5U5V5W5Z8X'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:me0W*S0T0U0V0Y5U5V5W5Z8XR5[0[^(V#R#S#T+g3c3d3eY.b(P(T(W(X7[U3r.`.c.vS7`3s4^R9j7z^(U#R#S#T+g3c3d3e[.a(P(T(V(W(X7[W3q.`.b.c.vU7_3r3s4^S9R7`7zR:^9jT.p(S.rd]Owx!g&U'v(S*v-|.r!v^[_`!f!}#O$U$f$n$u$w&W&[&e&o&t&z'R'd)u*b*{+a,^,p,|-P-b-c-f-t-y.i.t1Z1[1m2m3R3U3p3{Q%vnT1|,S1}!jbOaenpwx{|!g#O%O%P%U%j%y&U'v'w(S*e*g*v-u-|.k.r.t0d1Q1Z2q5h6n;g<Pf-]'b-Y-[-_2w2x2z2}6x6y8wj4P.l3z4O4R4S7j7l7m7o7r9`9a:Yr<Rg$i%f%k&u*_*y,q,{-d2f;_;`;a;v;x;}i<e+b1R1V;h;i;w;y<O<Q<_<`<a!O&`y%Z&X&[&]'m)m*i*k+b+j+}/t0e1Q1R1V1Z1q5h5}<P<Qz&cz%Q%Y%g&f'u*]*d,g-}0b0c0r1T2g2n3S5^5i6s8pS'}#Q.^n+q&Z*l+k+r+u-o/o0f1Y1e4{5_5g5|8`Q2_,f^2{-^2y3P6w7O8v9ze7p4Q7f7n7v7w9]9_9g:X:jS+c&W1[Y+s&[&e*{1Z3pR5z1m#w!POaegnpwx{|!g#O$i%O%P%U%f%j%k%y&U&u'v'w(S*_*e*g*v*y+b,q,{-d-u-|.k.r.t0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<a`oOwx!g&U'v*v-|#U!Paeg{|#O$i%O%P%U%f%j%k&u'w*_*e*g*y+b,q,{-d0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<aU%xnp-uQ+S%yS.j(S.rT3}.k.tW+w&`+q+x1jV,P&c,Q7pQ+}&bU,P&c,Q7pQ-|'vT.X'{.Z'`![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mX1y,O.^6U6W'W!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/c/j/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mW1y,O.^6U6WR2l,x!WjO[wx!g!k%o&U&{'O'Q'd*v,v-b-c-f2j3R6j6q8n9s9w:_:d:mY%Xe$g(d1w3pQ'U!nS)O#k5aQ,r&zQ,}'RS.T'{.ZQ2i,sQ6r2pQ7T3UQ8o6mR9t8l'W![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/c/j/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mX1y,O.^6U6W'ayO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,O,U,W,s,v,|-b-c-f-l.U.V.Z.^/S/c/j/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6U6W6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mQ&byS'v#O-zR1c+hS+c&W1[R5u1cQ1W+bR5n1VR1W+bT+c&W1[z&^%Z&X&[&]'m)m*i*k+b+j/t0e1Q1R1V1Z1q5h5}<P<QQ&_yR1u+}!P&^y%Z&X&[&]'m)m*i*k+b+j+}/t0e1Q1R1V1Z1q5h5}<P<QQ+z&`S,R&c7pS1k+q+xQ1{,QR5y1j!WkO[wx!g!k%o&U&{'O'Q'd*v,v-b-c-f2j3R6j6q8n9s9w:_:d:mS%|o.jS&Qq-wQ&ayQ&s!eQ'g!yQ*u%gU+Q%x%}3}S+U%z&PQ+v&_Q,_&oS,`&p'iQ,w&}S0`*],gS0v+R+SQ0x+TQ1v+}S2Z,b-kQ5]0bQ5b0wQ6S1uQ6a2YQ6d2_Q7u4QQ9Z7fR:W9][uOwx!g&U*vQ,_&oQ-{'vQ3a-yR3f-|xlOwx!g!k%o&U&{'Q*v,v2j6j6q8n9s9w:_:d:mU$j['O-cS%|o.jS&Qq-wQ*u%gU+Q%x%}3}S+U%z&PS0`*],gS0v+R+SQ0x+TQ5]0bQ5b0wQ7u4QQ9Z7fR:W9]T,d&s,e]uOwx!g&U*v[uOwx!g&U*vQ,_&oQ,s&zQ,|'RW-e'd-b-f3RQ-{'vQ3a-yQ3f-|R7S3U[%hg$i,q,{-d2fR0s*y^$ZV!U$c$|%R<Y<ZQ'U!nS)e$P*{S){$Y*vQ*O$[Y*x%g*]0r2n3SQ/T(hS/p)n/US0h*m4hS0q*w6fQ0y+VQ4X.lQ4u/jS4x/q/rS4}/u5aQ5S/|Q6g2gU7h3z4Q4YQ8V4yQ8r6oY9X7f7i7j7s7tQ9y8tW:R9V9Y9]9^Q:b9vU:h:S:U:VR:q:iS){$Y*vT4}/u5aZ)y$Y)z*v/u5aQ&y!hR'z#PS,l&x'xQ2c,jR6e2bxlOwx!g!k%o&U&{'Q*v,v2j6j6q8n9s9w:_:d:mV$j['O-c!XkO[wx!g!k%o&U&{'O'Q'd*v,v-b-c-f2j3R6j6q8n9s9w:_:d:m!WhO[wx!g!k%o&U&{'O'Q'd*v,v-b-c-f2j3R6j6q8n9s9w:_:d:mR'Y!q!WkO[wx!g!k%o&U&{'O'Q'd*v,v-b-c-f2j3R6j6q8n9s9w:_:d:mR,s&zQ&{!iQ&}!jQ'Q!lR,v&|R,t&zxlOwx!g!k%o&U&{'Q*v,v2j6j6q8n9s9w:_:d:mX-e'd-b-f3R[uOwx!g&U*vQ-P'RQ-{'vS.p(S.rR3f-|[uOwx!g&U*vQ-P'RW-e'd-b-f3RT.p(S.rg-`'b-Y-[-_2w2x2z2}6x6y8wylOwx!g!k%o&U&{'Q*v,v2j6j6q8n9s9w:_:d:mb!OOaewx{!g&U*v&|$l[f!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m#d%lgnp|#O$i%O%P%U%f%j%k%y&u'v'w(S*_*e*g*y+b,q,{-d-u-|.k.r.t0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<aQ'_!tQ-X'`Q-i'hQ2X,aQ6c2[R8h6bj$TT$a%d%t;R;S;T;c;d;e;f;j;ki)t$X*Z;O;P;Q;o;p;q;r;s;t;uj$TT$a%d%t;R;S;T;c;d;e;f;j;kh)t$X*Z;O;P;Q;o;p;q;r;s;t;uS/e)Q<cV4r/f/g;|[uOwx!g&U*vQ-{'vR3f-|[uOwx!g&U*vT.p(S.r'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mR7Y3[[uOwx!g&U*vQ-{'vS.p(S.rR3f-|[pOwx!g&U*vQ%ynS-u'v-|T.k(S.rS%}o.jS+R%x3}R0w+SQ+W%{R5d0zS%|o.jS&Qq-wU+Q%x%}3}S+U%z&PS0v+R+SQ0x+TQ5b0wQ7u4QQ9Z7fR:W9]`qOwx!g&U(S*v.rS%zn-uU&Pp.k.tQ+T%yT-w'v-|S'|#Q.^R._'}T.W'{.ZS.X'{.ZQ9P7]R:O9QT6U1x8fR6W1x#d!Pgnp|#O$i%O%P%U%f%j%k%y&u'v'w(S*_*e*g*y+b,q,{-d-u-|.k.r.t0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<ab!QOaewx{!g&U*v&}![[f!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m#d!Pgnp|#O$i%O%P%U%f%j%k%y&u'v'w(S*_*e*g*y+b,q,{-d-u-|.k.r.t0d1Q1R1V1Z2f2q5h6n;_;`;a;g;h;i;v;w;x;y;}<O<P<Q<_<`<ab!QOaewx{!g&U*v&|![[f!W!X!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|#}$P$W$Y$[$g$h$m%_%o&S&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_4h5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mk4T.l3z4O4R4S7j7l7m7o7r9`9a:YQ4X.lS7h3z4QU9X7f7j7sS:R9V9]R:h:U#|!TO[_ewx!f!g!u!}#O#V#Z$U$V$g$n%W&U&W&[&e&h&o&z'R'a'd'v(S(d(i)o)u*v*{+a+f+y,^,p,|-P-V-b-c-f-t-y-|.i.r.t1Z1[1`1m1r1t2T2m2s3R3U3p3{5q8bR4d.zQ(_#US.{(^(`S4e.|.}R8O4fQ.x(]R7|4`#|!TO[_ewx!f!g!u!}#O#V#Z$U$V$g$n%W&U&W&[&e&h&o&z'R'a'd'v(S(d(i)o)u*v*{+a+f+y,^,p,|-P-V-b-c-f-t-y-|.i.r.t1Z1[1`1m1r1t2T2m2s3R3U3p3{5q8bp$y`$f$u%Z&t'b(a(h)n*i-Y/r1q5r5}8]q)S#m%{.l0z3z4O4R4S7j7l7m7o7r9`9a:YR,Z&hR6_2T'X!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/c/j/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:m$q#tS%V%]'S'Z']'c'e(c(g(j(|(})W)X)Z)[)])^)_)`)a)b)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:p$]#uS%V%]'S'Z']'c'e(j(|(})W)[)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:p$Z#vS%V%]'S'Z']'c'e(j(|(})W)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:p$c#yS%V%]'S'Z']'c'e(j(|(})W)Z)[)])^)c)d)p)v)}+^+l,T,X,o,z-m-n.R/O/w0g0i0n0p1O1g2Q2h2o3Y3j3k4j4k4q4t4z4|5Q5R5k5w6O6]6l6p6z7R7x7y7{8Z8[8j8m8q8y9[9c9r9x:T:[:a:g:p'X![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/c/j/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mQ/U(hQ/q)nQ4y/rR9k8Q']![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#h#k#n#s#t#u#v#w#x#y#z#{#|$P$W$Y$[$g$h$m%_%o&S&U&Y&d&h&z&{'O'Q'R'd'k'l'{(b(d(k)q)w*m*n*q*v*w*{+]+_+m+o+p,U,W,s,v,|-b-c-f-l.U.V.Z/S/V/c/j/s/u/z/|0o1S1X1h1i1s1w2R2T2j2m2p2|3R3U3p4V4Y4_5a5l5x6f6j6m6o6q6{6}7S7i7q7t8l8n8t8z8{9Y9^9d9f9s9v9w:S:V:]:_:d:i:mQ(m#]R/W(mQ#fQR(z#fU%Oa;g<Pb%We$g&h(d-V1t2T2s8bQ'a!u!Q*c%O%W'a*e*k+m,U0d0e1i2w6x6{7l8w9`9d:Y;_;v;w;}<O<_S*e%P%UQ*k%ZS+m&Y1XQ,U&dQ0d*gQ0e*iQ1i+pQ2w-[S6x2x2zQ6{2|Q7l4OQ8w6yS9`7m7oQ9d7qQ:Y9aQ;_%fS;v;`;aS;w<`<aQ;};xQ<O;yT<_1R;h[[Owx!g&U*vl$e['O(P+a,^,m,p-U-c-t.P.d.i.vl'O!k%o&{'Q,v2j6j6q8n9s9w:_:d:m^(P#R#S#T+g3c3d3e`+a&W&[&e*{1Z1[1m3pS,^&o-yQ,m&yU,p&z'R3US-U'^2rW-c'd-b-f3RS-t'v-|Q.P'zQ.d(RS.i(S.rR.v(WQ*R$^R0P*RQ0Y*SQ5U0TQ5V0UQ5W0VY5X0Y5U5V5W8XR8X5ZQ*U$_S0]*U0^R0^*VS.e(R.dS3u.e7cR7c3wQ3x.fS7a3v3yU7e3x7a9SR9S7bQ.r(SR4Z.r!|_O[wx!f!g!}#O$U$n&U&W&[&e&o&z'R'd'v(S)u*v*{+a,^,p,|-P-b-c-f-t-y-|.i.r.t1Z1[1m2m3R3U3p3{U$t_$w*bU$w`$f&tR*b$uU%Pa;g<Pd*f%P*g2x6y7m9a;`;x;y<`Q*g%UQ2x-[Q6y2zQ7m4OQ9a7oQ;`%fQ;x;aQ;y<aT<`1R;hS,Q&c7pR1z,QS*o%]/wR0j*oQ1]+dR5p1]U+j&X1R<PR1d+jQ+x&`Q1j+qT1p+x1jQ8c6QR9p8cQwOS&Tw&UT&Ux*vQ,e&sR2^,eW)z$Y*v/u5aR/{)zU/v)v){0nR5O/v[*z%g%h*]2g2n3SR0t*zQ,i&wR2a,iQ-f'dQ3R-bT3T-f3RQ3O-^R7P3OQ-k'iQ2Y,bT3X-k2YS%rm7XR+P%rdnOwx!g&U'v(S*v-|.rR%wnQ0{+WR5e0{Q.Z'{R3m.ZQ1},SR6X1}U*s%b*};bR0m*sS1n+s0uR5{1nQ7s4QQ9V7fU9h7s9V:UR:U9]$O!SO[_ewx!f!g!u!}#O#V#Z$U$V$g$n%W&U&W&[&e&h&o&z'R'a'd'v(S(d(i)o)u*v*{+a+f+y,^,p,|-P-V-b-c-f-t-y-|.i.r.t.z1Z1[1`1m1r1t2T2m2s3R3U3p3{5q8bR&i!SQ4a.xR7}4aQ2U,ZR6`2US/k)d)eR4v/kW(t#b(o(p/ZR/_(tQ8S4mR9m8ST)f$P*{!USO[wx!g!k%o&U&{'O'Q'd,v-b-c-f2j3R6j6q8n9s9w:_:d:mj${a{$m%_+o,W1h2R5x6}8z9f:]Y%Ve$g(d1w3pY%]f$h(k)q*qQ&l!WQ&m!XQ'S!nQ'Z!rQ']!sQ'c!vQ'e!xQ(c#XQ(g#YS(j#[+_Q(|#hQ(}#kQ)W#nQ)X#sQ)Y#tQ)Z#uQ)[#vQ)]#wQ)^#xQ)_#yQ)`#zQ)a#{Q)b#|Q)c#}S)d$P*{Q)p$WQ)v$YQ)}$[Q+^&SS+l&Y1XQ,T&dQ,X&hQ,o&zQ,z'RQ-m'kQ-n'lS.R'{.ZQ/O(bS/w)w0oS0g*m4hQ0i*nQ0n*vQ0p*wQ1O+]S1g+m+pQ2Q,UQ2h,sS2o,|7SQ3Y-lQ3j.UQ3k.VQ4j/SQ4k/VQ4q/cQ4t/jQ4z/sQ4|/uQ5Q/zQ5R/|Q5k1SQ5w1iQ6O1sQ6]2TS6l2m8{Q6p2pQ6z2|Q7R3UQ7x4VQ7y4YQ7{4_Q8Z5aQ8[5lQ8j6fQ8m6mQ8q6oQ8y6{S9[7i7tQ9c7qQ9r8lQ9x8tS:T9Y9^Q:[9dQ:a9vS:g:S:VR:p:iR,[&hd]Owx!g&U'v(S*v-|.r!v^[_`!f!}#O$U$f$n$u$w&W&[&e&o&t&z'R'd)u*b*{+a,^,p,|-P-b-c-f-t-y.i.t1Z1[1m2m3R3U3p3{#r$}ae!u$g%O%P%U%W%Z%f&Y&d&h'a(d*e*g*i*k+m+p,U-V-[0d0e1X1i1t2T2s2w2x2z2|4O6x6y6{7l7m7o7q8b8w9`9a9d:Y;_;`;a;g;h;v;w;x;y;}<O<_<`<aQ%vnS+i&X+jW+w&`+q+x1jU,P&c,Q7pQ1r+yT5j1R<P``Owx!g&U'v*v-|S$f[-tQ$u_b%Ze$g&h(d-V1t2T2s8b!h&t!f!}#O$U$n&W&[&e&o&z'R'd(S)u*{+a,^,p,|-P-b-c-f-y.i.r.t1Z1[1m2m3R3U3p3{Q'b!uS(a#V+fQ(h#ZS)n$V(iQ*i%WQ-Y'aQ/r)oQ1q+yQ5r1`Q5}1rR8]5qS(Y#R3dS(Z#S3eV([#T+g3cR$`Ye0X*S0T0U0V0Y5U5V5W5Z8XW(T#R#S#T+gQ(^#US.`(P(WS.f(R.dQ.}(`W1y,O.^6U6WQ3b-yQ3o.]Q3v.eQ4^.vU7[3c3d3eQ7d3wR9T7cQ.g(RR3t.dT.q(S.rdgOwx!g&U&o'v*v-y-|U$i[,^-tQ&u!fQ'm!}Q'w#OQ)m$UQ*_$n`+b&W&[&e*{1Z1[1m3pQ,q&zQ,{'RY-d'd-b-f3R3US.l(S.rQ/t)uQ1Q+aS2f,p-cS2q,|-PS3z.i.tQ6n2mR7j3{d]Owx!g&U'v(S*v-|.r!v^[_`!f!}#O$U$f$n$u$w&W&[&e&o&t&z'R'd)u*b*{+a,^,p,|-P-b-c-f-t-y.i.t1Z1[1m2m3R3U3p3{R%vnQ4Q.lQ7f3zQ7n4OQ7v4RQ7w4SQ9]7jU9_7l7m7oQ9g7rS:X9`9aR:j:YZ+t&[&e*{1Z3ppzOnpwx!g%y&U'v(S*v-u-|.k.r.t[%Qa%f1R;g;h<PU%Ye%j1ZQ%gg^&f{|%k1V5h;i<QQ'u#OQ*]$ib*d%O%P%U;_;`;a<_<`<aQ,g&uQ-}'wQ0b*_[0c*e*g;v;w;x;yQ0r*yQ1T+bQ2g,qQ2n,{S3S-d2fU5^0d;}<OQ5i1QQ6s2qR8p6nQ,S&cR9b7pS1x,O.^Q8e6UR8f6W[%`f$h(k)q)w0oR0k*qR+e&WQ+d&WR5o1[S&Zy+}Q*l%ZU+k&X1R<PS+r&[1ZW+u&]1V5h<QQ-o'mQ/o)mS0f*i*kQ1Y+bQ1e+jQ4{/tQ5_0eQ5g1QQ5|1qR8`5}R6R1tYvOwx&U*vR&v!gW%ig,q,{-dT*^$i2fT)|$Y*v[uOwx!g&U*vQ'P!kQ+O%oQ,u&{Q,y'QQ2k,vQ6i2jQ8k6jQ8s6qQ9u8nQ:`9sQ:c9wQ:l:_Q:n:dR:r:mxlOwx!g!k%o&U&{'Q*v,v2j6j6q8n9s9w:_:d:mU$j['O-cX-e'd-b-f3RQ-a'bR2v-YS-^'b-YQ2y-[Q3P-_U6w2w2x2zQ7O2}S8v6x6yR9z8w[rOwx!g&U*vS-v'v-|T.m(S.rR+X%{[sOwx!g&U*vS-x'v-|T.n(S.r[tOwx!g&U*vT.o(S.rT.Y'{.ZX%cf%m0o1XQ.|(^R4f.}R.y(]R(f#XQ(w#bS/Y(o(pR4l/ZR/^(qR4n/[",nodeNames:"⚠ RawString > MacroName LineComment BlockComment PreprocDirective #include String EscapeSequence SystemLibString Identifier ) ( ArgumentList ConditionalExpression AssignmentExpression CallExpression PrimitiveType FieldExpression FieldIdentifier DestructorName TemplateMethod ScopedFieldIdentifier NamespaceIdentifier TemplateType TypeIdentifier ScopedTypeIdentifier ScopedNamespaceIdentifier :: NamespaceIdentifier TypeIdentifier TemplateArgumentList < TypeDescriptor const volatile restrict _Atomic mutable constexpr constinit consteval StructSpecifier struct MsDeclspecModifier __declspec Attribute AttributeName Identifier AttributeArgs { } [ ] UpdateOp ArithOp ArithOp ArithOp LogicOp BitOp BitOp BitOp CompareOp CompareOp CompareOp > CompareOp BitOp UpdateOp , Number CharLiteral AttributeArgs VirtualSpecifier BaseClassClause Access virtual FieldDeclarationList FieldDeclaration extern static register inline thread_local AttributeSpecifier __attribute__ PointerDeclarator MsBasedModifier __based MsPointerModifier FunctionDeclarator ParameterList ParameterDeclaration PointerDeclarator FunctionDeclarator Noexcept noexcept RequiresClause requires True False ParenthesizedExpression CommaExpression LambdaExpression LambdaCaptureSpecifier TemplateParameterList OptionalParameterDeclaration TypeParameterDeclaration typename class VariadicParameterDeclaration VariadicDeclarator ReferenceDeclarator OptionalTypeParameterDeclaration VariadicTypeParameterDeclaration TemplateTemplateParameterDeclaration template AbstractFunctionDeclarator AbstractPointerDeclarator AbstractArrayDeclarator AbstractParenthesizedDeclarator AbstractReferenceDeclarator ThrowSpecifier throw TrailingReturnType CompoundStatement FunctionDefinition MsCallModifier TryStatement try CatchClause catch LinkageSpecification Declaration InitDeclarator InitializerList InitializerPair SubscriptDesignator FieldDesignator ExportDeclaration export ImportDeclaration import ModuleName PartitionName HeaderName CaseStatement case default LabeledStatement StatementIdentifier ExpressionStatement IfStatement if ConditionClause Declaration else SwitchStatement switch DoStatement do while WhileStatement ForStatement for ReturnStatement return BreakStatement break ContinueStatement continue GotoStatement goto CoReturnStatement co_return CoYieldStatement co_yield AttributeStatement ForRangeLoop AliasDeclaration using TypeDefinition typedef PointerDeclarator FunctionDeclarator ArrayDeclarator ParenthesizedDeclarator ThrowStatement NamespaceDefinition namespace ScopedIdentifier Identifier OperatorName operator ArithOp BitOp CompareOp LogicOp new delete co_await ConceptDefinition concept UsingDeclaration enum StaticAssertDeclaration static_assert ConcatenatedString TemplateDeclaration FriendDeclaration friend union FunctionDefinition ExplicitFunctionSpecifier explicit FieldInitializerList FieldInitializer DefaultMethodClause DeleteMethodClause FunctionDefinition OperatorCast operator TemplateInstantiation FunctionDefinition FunctionDefinition Declaration ModuleDeclaration module RequiresExpression RequirementList SimpleRequirement TypeRequirement CompoundRequirement ReturnTypeRequirement ConstraintConjuction LogicOp ConstraintDisjunction LogicOp ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator TemplateFunction OperatorName StructuredBindingDeclarator ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator BitfieldClause FunctionDefinition FunctionDefinition Declaration FunctionDefinition Declaration AccessSpecifier UnionSpecifier ClassSpecifier EnumSpecifier SizedTypeSpecifier TypeSize EnumeratorList Enumerator DependentType Decltype decltype auto PlaceholderTypeSpecifier ParameterPackExpansion ParameterPackExpansion FieldIdentifier PointerExpression SubscriptExpression BinaryExpression ArithOp LogicOp LogicOp BitOp UnaryExpression LogicOp BitOp UpdateExpression CastExpression SizeofExpression sizeof CoAwaitExpression CompoundLiteralExpression NULL NewExpression new NewDeclarator DeleteExpression delete ParameterPackExpansion nullptr this UserDefinedLiteral ParamPack #define PreprocArg #if #ifdef #ifndef #else #endif #elif PreprocDirectiveName Macro Program",maxTerm:431,nodeProps:[["group",-35,1,8,11,15,16,17,19,71,72,100,101,102,104,191,208,229,242,243,270,271,272,277,280,281,282,284,285,286,287,290,292,293,294,295,296,"Expression",-13,18,25,26,27,43,255,256,257,258,262,263,265,266,"Type",-19,126,129,147,150,152,153,158,160,163,164,166,168,170,172,174,176,178,179,188,"Statement"],["isolate",-3,4,8,10,""],["openedBy",12,"(",52,"{",54,"["],["closedBy",13,")",51,"}",53,"]"]],propSources:[cppHighlighting],skippedNodes:[0,3,4,5,6,7,10,297,298,299,300,301,302,303,304,305,306,308,348,349],repeatNodeCount:42,tokenData:"%LSMfR!UOX$eXY({YZ.gZ]$e]^+P^p$epq({qr.}rs0}st2ktu$euv!7dvw!9bwx!;exy!<Yyz!=Tz{!>O{|!?R|}!AV}!O!BQ!O!P!DX!P!Q#+y!Q!R#5[!R![#JY![!]$4w!]!^$6s!^!_$7n!_!`%$h!`!a%%i!a!b%(o!b!c$e!c!n%)j!n!o%+R!o!w%)j!w!x%+R!x!}%)j!}#O%.O#O#P%/w#P#Q%?[#Q#R%AT#R#S%)j#S#T$e#T#i%)j#i#j%BW#j#o%)j#o#p%Cu#p#q%Dp#q#r%Fv#r#s%Gq#s;'S$e;'S;=`(u<%lO$e,j$nY)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e,f%eW)c`'f,UOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^,U&SU'f,UOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},U&kX'f,UOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},U']V'f,UOY%}YZ%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},U'uP;=`<%l%},f'{P;=`<%l%^,Y(VW(vS'f,UOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O,Y(rP;=`<%l(O,j(xP;=`<%l$eMf)Y`)c`(vS(o<`'f,U*a1pOX$eXY({YZ*[Z]$e]^+P^p$epq({qr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e<`*aT(o<`XY*[YZ*[]^*[pq*[#O#P*p<`*sQYZ*[]^*y<`*|PYZ*[Gz+[`)c`(vS(o<`'f,UOX$eXY+PYZ*[Z]$e]^+P^p$epq+Pqr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$eGf,cX'f,UOY%}YZ-OZ]%}]^-{^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}Gf-V[(o<`'f,UOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}Gf.QV'f,UOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}MQ.nT*^1p(o<`XY*[YZ*[]^*[pq*[#O#P*pF`/[[%^#t'QQ)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`0_Y%]#t!a8O)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eKz1YY)c`(tS(u=j'f,UOY%^Zr%^rs1xsw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^/[2RW*O#t)c`'f,UOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^Gz2tf)c`(vS'f,UOX$eXY2kZp$epq2kqr$ers%^sw$ewx(Ox!c$e!c!}4Y!}#O$e#O#P&f#P#T$e#T#W4Y#W#X5m#X#Y>u#Y#]4Y#]#^NZ#^#o4Y#o;'S$e;'S;=`(u<%lO$eGz4eb)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGz5xd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y7W#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGz7cd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z8q#Z#o4Y#o;'S$e;'S;=`(u<%lO$eGz8|d)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^:[#^#o4Y#o;'S$e;'S;=`(u<%lO$eGz:gd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#b4Y#b#c;u#c#o4Y#o;'S$e;'S;=`(u<%lO$eGz<Qd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y=`#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGz=mb)c`(vS'e<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGz?Qf)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a@f#a#b4Y#b#cHV#c#o4Y#o;'S$e;'S;=`(u<%lO$eGz@qf)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^BV#^#g4Y#g#hEV#h#o4Y#o;'S$e;'S;=`(u<%lO$eGzBbd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZCp#Z#o4Y#o;'S$e;'S;=`(u<%lO$eGzC}b)c`(vS'f,U'l<`'m<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGzEbd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#YFp#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGzF}b)c`(vS'j<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGzHbd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#XIp#X#o4Y#o;'S$e;'S;=`(u<%lO$eGzI{d)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^KZ#^#o4Y#o;'S$e;'S;=`(u<%lO$eGzKfd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZLt#Z#o4Y#o;'S$e;'S;=`(u<%lO$eGzMRb)c`(vS'f,U'k<`'m<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGzNff)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z! z#Z#b4Y#b#c!.[#c#o4Y#o;'S$e;'S;=`(u<%lO$eGz!!Xf)c`(vS'g<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!#m#X#b4Y#b#c!(W#c#o4Y#o;'S$e;'S;=`(u<%lO$eGz!#xd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!%W#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGz!%cd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!&q#Z#o4Y#o;'S$e;'S;=`(u<%lO$eGz!'Ob)c`(vS'h<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGz!(cd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!)q#X#o4Y#o;'S$e;'S;=`(u<%lO$eGz!)|d)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!+[#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGz!+gd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!,u#Z#o4Y#o;'S$e;'S;=`(u<%lO$eGz!-Sb)c`(vS'i<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eGz!.gd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#V4Y#V#W!/u#W#o4Y#o;'S$e;'S;=`(u<%lO$eGz!0Qd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a!1`#a#o4Y#o;'S$e;'S;=`(u<%lO$eGz!1kd)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#i4Y#i#j!2y#j#o4Y#o;'S$e;'S;=`(u<%lO$eGz!3Ud)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!4d#X#o4Y#o;'S$e;'S;=`(u<%lO$eGz!4od)c`(vS'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!5}#Y#o4Y#o;'S$e;'S;=`(u<%lO$eGz!6[b)c`(vSV<`'f,U'm<`OY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$eF`!7q[)c`(vS%Z#t![8O'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!8rY!g:t)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!9o])]8O)c`(vS%[#t'f,UOY$eZr$ers%^sv$evw!:hwx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!:uY)[8O%^#t)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCb!;pW)aW(vS)b8O'f,UOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(OLS!<eY)c`(vS]Kn'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e-^!=`Y[r)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!>][)Y8O)c`(vS%Z#t'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!?`^)c`(vS%Z#t!Y8O'f,UOY$eZr$ers%^sw$ewx(Ox{$e{|!@[|!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!@gY)c`!X:t(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCr!AbY!h8W)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!B__)c`(vS%Z#t!Y8O'f,UOY$eZr$ers%^sw$ewx(Ox}$e}!O!@[!O!_$e!_!`!8g!`!a!C^!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`!CiY(}:t)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCr!Dd^)c`(vS'f,U(|8OOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!E`!P!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCr!Ei[)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!F_!P#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCr!FjY)`8W)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCj!Gen)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx!Icx!Q$e!Q![!GY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCY!IjY(vS'f,UOY(OZr(Ors%}s!Q(O!Q![!JY![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(OCY!Jcn(vS!i8O'f,UOY(OZr(Ors%}sw(Owx!Icx!Q(O!Q![!JY![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY!Ljl(vS!i8O'f,UOY(OZr(Ors%}s{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY!Ni^(vS'f,UOY(OZr(Ors%}s!Q(O!Q![# e![!c(O!c!i# e!i#O(O#O#P&f#P#T(O#T#Z# e#Z;'S(O;'S;=`(o<%lO(OCY# nj(vS!i8O'f,UOY(OZr(Ors%}sw(Owx!Nbx!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY##id(vS!i8O'f,UOY(OZr(Ors%}s!h(O!h!i##`!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#Y(O#Y#Z##`#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCj#%Sn)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx(Ox{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#'Z`)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#(]![!c$e!c!i#(]!i#O$e#O#P&f#P#T$e#T#Z#(]#Z;'S$e;'S;=`(u<%lO$eCj#(hj)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx!Nbx!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#*ef)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx(Ox!h$e!h!i#*Y!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#Y$e#Y#Z#*Y#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eMf#,W`)c`(vS%Z#t![8O'f,UOY$eZr$ers%^sw$ewx(Oxz$ez{#-Y{!P$e!P!Q#.T!Q!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eMf#-eY)c`(vS(pAz'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eMf#.`Y)c`(vSSAz'f,UOY#.TZr#.Trs#/Osw#.Twx#4]x#O#.T#O#P#0[#P;'S#.T;'S;=`#5U<%lO#.TMb#/XW)c`SAz'f,UOY#/OZw#/Owx#/qx#O#/O#O#P#0[#P;'S#/O;'S;=`#4V<%lO#/OMQ#/xUSAz'f,UOY#/qZ#O#/q#O#P#0[#P;'S#/q;'S;=`#1l<%lO#/qMQ#0cXSAz'f,UOY#/qYZ%}Z]#/q]^#1O^#O#/q#O#P#1r#P;'S#/q;'S;=`#1l<%lO#/qMQ#1VVSAz'f,UOY#/qYZ%}Z#O#/q#O#P#0[#P;'S#/q;'S;=`#1l<%lO#/qMQ#1oP;=`<%l#/qMQ#1y]SAz'f,UOY#/qYZ%}Z]#/q]^#1O^#O#/q#O#P#1r#P#b#/q#b#c#/q#c#f#/q#f#g#2r#g;'S#/q;'S;=`#1l<%lO#/qMQ#2yUSAz'f,UOY#/qZ#O#/q#O#P#3]#P;'S#/q;'S;=`#1l<%lO#/qMQ#3dZSAz'f,UOY#/qYZ%}Z]#/q]^#1O^#O#/q#O#P#1r#P#b#/q#b#c#/q#c;'S#/q;'S;=`#1l<%lO#/qMb#4YP;=`<%l#/OMU#4fW(vSSAz'f,UOY#4]Zr#4]rs#/qs#O#4]#O#P#0[#P;'S#4];'S;=`#5O<%lO#4]MU#5RP;=`<%l#4]Mf#5XP;=`<%l#.TCj#5gt)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx#7wx!O$e!O!P#B}!P!Q$e!Q![#JY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V#Li#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0p#m;'S$e;'S;=`(u<%lO$eCY#8OY(vS'f,UOY(OZr(Ors%}s!Q(O!Q![#8n![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(OCY#8wp(vS!i8O'f,UOY(OZr(Ors%}sw(Owx#7wx!O(O!O!P#:{!P!Q(O!Q![#8n![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY#;Un(vS!i8O'f,UOY(OZr(Ors%}s!Q(O!Q![#=S![!c(O!c!g#=S!g!h#@d!h!i#=S!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#=S#X#Y#@d#Y#Z#=S#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY#=]p(vS!i8O'f,UOY(OZr(Ors%}sw(Owx#?ax!Q(O!Q![#=S![!c(O!c!g#=S!g!h#@d!h!i#=S!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#=S#X#Y#@d#Y#Z#=S#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY#?h^(vS'f,UOY(OZr(Ors%}s!Q(O!Q![#=S![!c(O!c!i#=S!i#O(O#O#P&f#P#T(O#T#Z#=S#Z;'S(O;'S;=`(o<%lO(OCY#@mt(vS!i8O'f,UOY(OZr(Ors%}sw(Owx#?ax{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![#=S![!c(O!c!g#=S!g!h#@d!h!i#=S!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#=S#X#Y#@d#Y#Z#=S#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCj#CYp)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#E^![!c$e!c!g#E^!g!h#Gm!h!i#E^!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X#E^#X#Y#Gm#Y#Z#E^#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#Eip)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx#?ax!Q$e!Q![#E^![!c$e!c!g#E^!g!h#Gm!h!i#E^!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X#E^#X#Y#Gm#Y#Z#E^#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#Gxt)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx#?ax{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#E^![!c$e!c!g#E^!g!h#Gm!h!i#E^!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X#E^#X#Y#Gm#Y#Z#E^#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#Jep)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx#7wx!O$e!O!P#B}!P!Q$e!Q![#JY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj#Lr_)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!O$e!O!P#Mq!P!Q$e!Q!R#Np!R![#JY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCj#Mz[)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCj#N{t)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx#7wx!O$e!O!P#B}!P!Q$e!Q![#JY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$#]#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$$[#m;'S$e;'S;=`(u<%lO$eCj$#f[)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#JY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCj$$e`)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$%g![!c$e!c!i$%g!i#O$e#O#P&f#P#T$e#T#Z$%g#Z;'S$e;'S;=`(u<%lO$eCj$%rr)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx$'|x!O$e!O!P#B}!P!Q$e!Q![$%g![!c$e!c!g$%g!g!h$.Q!h!i$%g!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$%g#X#Y$.Q#Y#Z$%g#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCY$(T^(vS'f,UOY(OZr(Ors%}s!Q(O!Q![$)P![!c(O!c!i$)P!i#O(O#O#P&f#P#T(O#T#Z$)P#Z;'S(O;'S;=`(o<%lO(OCY$)Yr(vS!i8O'f,UOY(OZr(Ors%}sw(Owx$'|x!O(O!O!P#:{!P!Q(O!Q![$)P![!c(O!c!g$)P!g!h$+d!h!i$)P!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$)P#X#Y$+d#Y#Z$)P#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCY$+mu(vS!i8O'f,UOY(OZr(Ors%}sw(Owx$'|x{(O{|!Nb|}(O}!O!Nb!O!P#:{!P!Q(O!Q![$)P![!c(O!c!g$)P!g!h$+d!h!i$)P!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$)P#X#Y$+d#Y#Z$)P#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(OCj$.]u)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx$'|x{$e{|#'Q|}$e}!O#'Q!O!P#B}!P!Q$e!Q![$%g![!c$e!c!g$%g!g!h$.Q!h!i$%g!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$%g#X#Y$.Q#Y#Z$%g#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$eCj$0yc)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!O$e!O!P#Mq!P!Q$e!Q!R$2U!R![$%g![!c$e!c!i$%g!i#O$e#O#P&f#P#T$e#T#Z$%g#Z;'S$e;'S;=`(u<%lO$eCj$2av)c`(vS!i8O'f,UOY$eZr$ers%^sw$ewx$'|x!O$e!O!P#B}!P!Q$e!Q![$%g![!c$e!c!g$%g!g!h$.Q!h!i$%g!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#U$%g#U#V$%g#V#X$%g#X#Y$.Q#Y#Z$%g#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$$[#m;'S$e;'S;=`(u<%lO$eGz$5S[({9b)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox![$e![!]$5x!]#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eFh$6TYm:|)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eCj$7OY)_8O)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eM^$7{_q8O%]#t)c`(vS'f,UOY$8zYZ$9|Zr$8zrs$:ksw$8zwx$Jax!^$8z!^!_$MX!_!`% f!`!a%#m!a#O$8z#O#P$<r#P;'S$8z;'S;=`$MR<%lO$8z3h$9T])c`(vS'f,UOY$8zYZ$9|Zr$8zrs$:ksw$8zwx$Jax!`$8z!`!a$LU!a#O$8z#O#P$<r#P;'S$8z;'S;=`$MR<%lO$8z!b$:PTO!`$9|!`!a$:`!a;'S$9|;'S;=`$:e<%lO$9|!b$:eO$W!b!b$:hP;=`<%l$9|3d$:rZ)c`'f,UOY$:kYZ$9|Zw$:kwx$;ex!`$:k!`!a$If!a#O$:k#O#P$<r#P;'S$:k;'S;=`$JZ<%lO$:k3S$;jX'f,UOY$;eYZ$9|Z!`$;e!`!a$<V!a#O$;e#O#P$<r#P;'S$;e;'S;=`$AY<%lO$;e3S$<`U$W!bY&j'f,UOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}3S$<w['f,UOY$;eYZ$;eZ]$;e]^$=m^!`$;e!`!a$A`!a#O$;e#O#P$HO#P;'S$;e;'S;=`$Hv;=`<%l$F[<%lO$;e3S$=rX'f,UOY$;eYZ$>_Z!`$;e!`!a$<V!a#O$;e#O#P$<r#P;'S$;e;'S;=`$AY<%lO$;e-h$>dX'f,UOY$>_YZ$9|Z!`$>_!`!a$?P!a#O$>_#O#P$?j#P;'S$>_;'S;=`$AS<%lO$>_-h$?WU$W!b'f,UOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}-h$?oZ'f,UOY$>_YZ$>_Z]$>_]^$@b^!`$>_!`!a$?P!a#O$>_#O#P$?j#P;'S$>_;'S;=`$AS<%lO$>_-h$@gX'f,UOY$>_YZ$>_Z!`$>_!`!a$?P!a#O$>_#O#P$?j#P;'S$>_;'S;=`$AS<%lO$>_-h$AVP;=`<%l$>_3S$A]P;=`<%l$;e3S$AgW$W!b'f,UOY$BPZ!`$BP!`!a$Bn!a#O$BP#O#P$CX#P;'S$BP;'S;=`$Dn<%lO$BP1p$BUW'f,UOY$BPZ!`$BP!`!a$Bn!a#O$BP#O#P$CX#P;'S$BP;'S;=`$Dn<%lO$BP1p$BuUY&j'f,UOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}1p$C^Y'f,UOY$BPYZ$BPZ]$BP]^$C|^#O$BP#O#P$Dt#P;'S$BP;'S;=`$El;=`<%l$F[<%lO$BP1p$DRX'f,UOY$BPYZ%}Z!`$BP!`!a$Bn!a#O$BP#O#P$CX#P;'S$BP;'S;=`$Dn<%lO$BP1p$DqP;=`<%l$BP1p$DyZ'f,UOY$BPYZ%}Z]$BP]^$C|^!`$BP!`!a$Bn!a#O$BP#O#P$CX#P;'S$BP;'S;=`$Dn<%lO$BP1p$EoXOY$F[Z!`$F[!`!a$Fw!a#O$F[#O#P$F|#P;'S$F[;'S;=`$Gx;=`<%l$BP<%lO$F[&j$F_WOY$F[Z!`$F[!`!a$Fw!a#O$F[#O#P$F|#P;'S$F[;'S;=`$Gx<%lO$F[&j$F|OY&j&j$GPRO;'S$F[;'S;=`$GY;=`O$F[&j$G]XOY$F[Z!`$F[!`!a$Fw!a#O$F[#O#P$F|#P;'S$F[;'S;=`$Gx;=`<%l$F[<%lO$F[&j$G{P;=`<%l$F[3S$HTZ'f,UOY$;eYZ$>_Z]$;e]^$=m^!`$;e!`!a$<V!a#O$;e#O#P$<r#P;'S$;e;'S;=`$AY<%lO$;e3S$HyXOY$F[Z!`$F[!`!a$Fw!a#O$F[#O#P$F|#P;'S$F[;'S;=`$Gx;=`<%l$;e<%lO$F[3d$IqW$W!bY&j)c`'f,UOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^3d$J^P;=`<%l$:k3W$JhZ(vS'f,UOY$JaYZ$9|Zr$Jars$;es!`$Ja!`!a$KZ!a#O$Ja#O#P$<r#P;'S$Ja;'S;=`$LO<%lO$Ja3W$KfW$W!bY&j(vS'f,UOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O3W$LRP;=`<%l$Ja3h$LcY$W!bY&j)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3h$MUP;=`<%l$8zM^$Mf^)c`(vS%[#t!f8O'f,UOY$8zYZ$9|Zr$8zrs$:ksw$8zwx$Jax!_$8z!_!`$Nb!`!a$LU!a#O$8z#O#P$<r#P;'S$8z;'S;=`$MR<%lO$8zM^$Nm]!g:t)c`(vS'f,UOY$8zYZ$9|Zr$8zrs$:ksw$8zwx$Jax!`$8z!`!a$LU!a#O$8z#O#P$<r#P;'S$8z;'S;=`$MR<%lO$8zM^% s]%]#t!b8O)c`(vS'f,UOY$8zYZ$9|Zr$8zrs$:ksw$8zwx$Jax!`$8z!`!a%!l!a#O$8z#O#P$<r#P;'S$8z;'S;=`$MR<%lO$8zM^%!}Y%]#t!b8O$W!bY&j)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2U%#xYY&j)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%$s[)p#v)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%%v]%]#t)c`(vS!d8O'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`%&o!`!a%'l!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%&|Y%]#t!b8O)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%'y[)c`(vS%[#t!f8O'f,UOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e,l%(zY(zQ)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eMf%)yb)c`)OW(vS!R7|(w*t'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%)j![!c$e!c!}%)j!}#O$e#O#P&f#P#R$e#R#S%)j#S#T$e#T#o%)j#o;'S$e;'S;=`(u<%lO$eMf%+bb)c`)OW(vS!R7|(w*t'f,UOY$eZr$ers%,jsw$ewx%-]x!Q$e!Q![%)j![!c$e!c!}%)j!}#O$e#O#P&f#P#R$e#R#S%)j#S#T$e#T#o%)j#o;'S$e;'S;=`(u<%lO$eIQ%,sW)c`(u=j'f,UOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^CY%-fW(vS)b8O'f,UOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(OF`%.ZZ!V:t)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox!}$e!}#O%.|#O#P&f#P;'S$e;'S;=`(u<%lO$e,l%/XY)VQ)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eGz%/|a'f,UOY%1RYZ%1lZ]%1R]^%2k^!Q%1R!Q![%3X![!w%1R!w!x%4i!x#O%1R#O#P%;o#P#i%1R#i#j%8T#j#l%1R#l#m%<c#m;'S%1R;'S;=`%?U<%lO%1R,j%1YUXd'f,UOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}Gz%1u[Xd(o<`'f,UOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}Gz%2rVXd'f,UOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},j%3`WXd'f,UOY%}Z!Q%}!Q![%3x![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},j%4PWXd'f,UOY%}Z!Q%}!Q![%1R![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},j%4n['f,UOY%}Z!Q%}!Q![%5d![!c%}!c!i%5d!i#O%}#O#P&f#P#T%}#T#Z%5d#Z;'S%};'S;=`'r<%lO%},j%5i['f,UOY%}Z!Q%}!Q![%6_![!c%}!c!i%6_!i#O%}#O#P&f#P#T%}#T#Z%6_#Z;'S%};'S;=`'r<%lO%},j%6d['f,UOY%}Z!Q%}!Q![%7Y![!c%}!c!i%7Y!i#O%}#O#P&f#P#T%}#T#Z%7Y#Z;'S%};'S;=`'r<%lO%},j%7_['f,UOY%}Z!Q%}!Q![%8T![!c%}!c!i%8T!i#O%}#O#P&f#P#T%}#T#Z%8T#Z;'S%};'S;=`'r<%lO%},j%8Y['f,UOY%}Z!Q%}!Q![%9O![!c%}!c!i%9O!i#O%}#O#P&f#P#T%}#T#Z%9O#Z;'S%};'S;=`'r<%lO%},j%9T['f,UOY%}Z!Q%}!Q![%9y![!c%}!c!i%9y!i#O%}#O#P&f#P#T%}#T#Z%9y#Z;'S%};'S;=`'r<%lO%},j%:O['f,UOY%}Z!Q%}!Q![%:t![!c%}!c!i%:t!i#O%}#O#P&f#P#T%}#T#Z%:t#Z;'S%};'S;=`'r<%lO%},j%:y['f,UOY%}Z!Q%}!Q![%1R![!c%}!c!i%1R!i#O%}#O#P&f#P#T%}#T#Z%1R#Z;'S%};'S;=`'r<%lO%},j%;vXXd'f,UOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%},j%<h['f,UOY%}Z!Q%}!Q![%=^![!c%}!c!i%=^!i#O%}#O#P&f#P#T%}#T#Z%=^#Z;'S%};'S;=`'r<%lO%},j%=c['f,UOY%}Z!Q%}!Q![%>X![!c%}!c!i%>X!i#O%}#O#P&f#P#T%}#T#Z%>X#Z;'S%};'S;=`'r<%lO%},j%>`[Xd'f,UOY%}Z!Q%}!Q![%>X![!c%}!c!i%>X!i#O%}#O#P&f#P#T%}#T#Z%>X#Z;'S%};'S;=`'r<%lO%},j%?XP;=`<%l%1RCr%?gZ!W7^)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P#Q%@Y#Q;'S$e;'S;=`(u<%lO$e-d%@eY)Ux)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%Ab[)c`(vS%[#t'f,U!_8OOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eMf%Bgd)c`)OW(vS!R7|(w*t'f,UOY$eZr$ers%,jsw$ewx%-]x!Q$e!Q!Y%)j!Y!Z%+R!Z![%)j![!c$e!c!}%)j!}#O$e#O#P&f#P#R$e#R#S%)j#S#T$e#T#o%)j#o;'S$e;'S;=`(u<%lO$eCj%DQY!T8O)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$eF`%D}^)c`(vS%[#t'f,U!^8OOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P#p$e#p#q%Ey#q;'S$e;'S;=`(u<%lO$eF`%FWY)Z8O%^#t)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e-^%GRY!Ur)c`(vS'f,UOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e/j%HOc)c`(vS%[#t'RQ'f,UOX$eXY%IZZp$epq%IZqr$ers%^sw$ewx(Ox!c$e!c!}%Jo!}#O$e#O#P&f#P#R$e#R#S%Jo#S#T$e#T#o%Jo#o;'S$e;'S;=`(u<%lO$e,t%Idc)c`(vS'f,UOX$eXY%IZZp$epq%IZqr$ers%^sw$ewx(Ox!c$e!c!}%Jo!}#O$e#O#P&f#P#R$e#R#S%Jo#S#T$e#T#o%Jo#o;'S$e;'S;=`(u<%lO$e,t%Jzb)c`(vSeY'f,UOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%Jo![!c$e!c!}%Jo!}#O$e#O#P&f#P#R$e#R#S%Jo#S#T$e#T#o%Jo#o;'S$e;'S;=`(u<%lO$e",tokenizers:[rawString,fallback,1,2,3,4,5,6,7,8,9,10,new LocalTokenGroup("j~RQYZXz{^~^O(r~~aP!P!Qd~iO(s~~",25,355)],topRules:{Program:[0,307]},dynamicPrecedences:{17:1,65:1,87:1,94:1,119:1,184:1,187:-10,240:-10,241:1,244:-1,246:-10,247:1,262:-1,267:2,268:2,306:-10,370:3,423:1,424:3,425:1,426:1},specialized:[{term:361,get:o=>spec_identifier[o]||-1},{term:33,get:o=>spec_[o]||-1},{term:66,get:o=>spec_templateArgsEnd[o]||-1},{term:368,get:o=>spec_scopedIdentifier[o]||-1}],tokenPrec:24916}),cppLanguage=LRLanguage.define({name:"cpp",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch)\b/}),LabeledStatement:flatIndent,CaseStatement:o=>o.baseIndent+o.unit,BlockComment:()=>null,CompoundStatement:delimitedIndent({closing:"}"}),Statement:continuedIndent({except:/^{/})}),foldNodeProp.add({"DeclarationList CompoundStatement EnumeratorList FieldDeclarationList InitializerList":foldInside,BlockComment(o){return{from:o.from+2,to:o.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,closeBrackets:{stringPrefixes:["L","u","U","u8","LR","UR","uR","u8R","R"]}}});function cpp(){return new LanguageSupport(cppLanguage)}const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)],LANGUAGE_OPTIONS=[{label:"Python",value:"python",pistonLang:"python",pistonVersion:"3.10.0"},{label:"JavaScript",value:"javascript",pistonLang:"javascript",pistonVersion:"18.15.0"},{label:"TypeScript",value:"typescript",pistonLang:"typescript",pistonVersion:"5.0.3"},{label:"Java",value:"java",pistonLang:"java",pistonVersion:"15.0.2"},{label:"C++",value:"cpp",pistonLang:"c++",pistonVersion:"10.2.0"},{label:"C",value:"c",pistonLang:"c",pistonVersion:"10.2.0"}];function getLanguageExtension(o){switch(o){case"python":return python();case"javascript":case"typescript":return javascript({typescript:o==="typescript"});case"java":return java();case"cpp":case"c":return cpp();default:return javascript()}}function detectLanguage(o){const r=o.toLowerCase();return r.includes("python")||r.includes(".py")||r.includes("def ")||r.includes("print(")?"python":r.includes("typescript")||r.includes(".ts")||r.includes(": number")||r.includes(": string")?"typescript":r.includes("java")&&!r.includes("javascript")?"java":r.includes("c++")||r.includes("cpp")||r.includes("#include")?"cpp":"javascript"}async function runCode(o,r){const x=LANGUAGE_OPTIONS.find(y=>y.value===r),O=await fetch("https://emkc.org/api/v2/piston/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:x.pistonLang,version:x.pistonVersion,files:[{content:o}]})});if(!O.ok)throw new Error(`Execution API error: ${O.status}`);const E=await O.json();return{stdout:E.run.stdout,stderr:E.run.stderr,exitCode:E.run.code}}function CodeIDE({value:o,onChange:r,question:x,className:O}){const{isTerminal:E}=useTheme(),y=reactExports.useRef(null),S=reactExports.useRef(null),[j,w]=reactExports.useState(()=>detectLanguage(x)),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(null),[te,re]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!y.current)return;S.current&&(S.current.destroy(),S.current=null);const Oe=o||"",ae=EditorState.create({doc:Oe,extensions:[basicSetup,getLanguageExtension(j),oneDark,EditorView.updateListener.of(ge=>{ge.docChanged&&r(ge.state.doc.toString())}),EditorView.theme({"&":{fontSize:"12px",height:"180px",borderRadius:"0 0 12px 12px"},".cm-scroller":{fontFamily:"'JetBrains Mono', 'Fira Code', monospace",overflow:"auto"},".cm-content":{caretColor:"#3cff96"},"&.cm-focused .cm-cursor":{borderLeftColor:"#3cff96"}})]});return S.current=new EditorView({state:ae,parent:y.current}),()=>{var ge;(ge=S.current)==null||ge.destroy(),S.current=null}},[j]);const se=reactExports.useRef(o);reactExports.useEffect(()=>{const Oe=S.current;if(!Oe)return;const ae=Oe.state.doc.toString();o!==ae&&o!==se.current&&Oe.dispatch({changes:{from:0,to:ae.length,insert:o}}),se.current=o},[o]);const ne=reactExports.useCallback(async()=>{var ae;const Oe=((ae=S.current)==null?void 0:ae.state.doc.toString())??o;if(Oe.trim()){Q(!0),M(null),V(null);try{const ge=await runCode(Oe,j);M(ge)}catch(ge){V(ge instanceof Error?ge.message:"Unknown error")}finally{Q(!1)}}},[j,o]),oe=LANGUAGE_OPTIONS.find(Oe=>Oe.value===j);return jsxRuntimeExports.jsxs("div",{className:cn("rounded-xl overflow-hidden border",E?"border-primary/20":"border-border/50",O),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between px-3 py-1.5 text-xs",E?"bg-[hsl(var(--terminal-code-bg))]":"bg-muted/50"),children:[jsxRuntimeExports.jsx("span",{className:cn("font-mono uppercase tracking-wide",E?"text-primary/70":"text-muted-foreground"),children:"code editor"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>re(Oe=>!Oe),className:cn("flex items-center gap-1 px-2 py-1 rounded-md text-xs font-mono transition",E?"bg-primary/10 text-primary hover:bg-primary/20 border border-primary/20":"bg-background text-foreground/80 hover:bg-muted border border-border/60"),children:[oe.label,jsxRuntimeExports.jsx(ChevronDown,{className:"h-3 w-3"})]}),te&&jsxRuntimeExports.jsx("div",{className:cn("absolute right-0 top-full mt-1 z-50 rounded-lg border shadow-lg overflow-hidden min-w-[110px]",E?"bg-[hsl(var(--terminal-code-bg))] border-primary/20":"bg-popover border-border"),children:LANGUAGE_OPTIONS.map(Oe=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{w(Oe.value),re(!1)},className:cn("w-full text-left px-3 py-1.5 text-xs font-mono transition",Oe.value===j?E?"bg-primary/20 text-primary":"bg-primary/10 text-primary font-semibold":E?"text-foreground/80 hover:bg-primary/10":"text-foreground/80 hover:bg-muted"),children:Oe.label},Oe.value))})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:ne,disabled:_,className:cn("flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-medium transition","disabled:opacity-50 disabled:cursor-not-allowed",E?"bg-primary/20 text-primary hover:bg-primary/30 border border-primary/30 font-mono":"bg-primary text-primary-foreground hover:bg-primary/90"),children:[_?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-3 w-3"}),_?"실행 중...":"실행"]})]})]}),jsxRuntimeExports.jsx("div",{ref:y,className:"w-full"}),(I||F)&&jsxRuntimeExports.jsxs("div",{className:cn("border-t px-3 py-2 text-xs font-mono max-h-[140px] overflow-auto",E?"border-primary/20 bg-[hsl(var(--terminal-code-bg))]":"border-border/50 bg-muted/30"),children:[jsxRuntimeExports.jsxs("div",{className:cn("mb-1 text-[10px] uppercase tracking-wider",E?"text-primary/50":"text-muted-foreground"),children:["output",I?` · exit ${I.exitCode}`:""]}),F&&jsxRuntimeExports.jsx("pre",{className:"text-destructive whitespace-pre-wrap break-words",children:F}),(I==null?void 0:I.stdout)&&jsxRuntimeExports.jsx("pre",{className:cn("whitespace-pre-wrap break-words",E?"text-primary/90":"text-foreground/90"),children:I.stdout}),(I==null?void 0:I.stderr)&&jsxRuntimeExports.jsx("pre",{className:"text-destructive/80 whitespace-pre-wrap break-words",children:I.stderr}),I&&!I.stdout&&!I.stderr&&jsxRuntimeExports.jsx("span",{className:cn(E?"text-primary/40":"text-muted-foreground"),children:"(no output)"})]})]})}const VIZ_FENCE_LANGS=new Set(["viz","visualization","graph","chart","html","htm","html+js","htmljs"]);function toText(o){return typeof o=="string"?o.trim():typeof o=="number"||typeof o=="boolean"?String(o):""}function clampNumber(o,r,x,O){const E=typeof o=="number"?o:Number(o);return Number.isFinite(E)?Math.max(r,Math.min(x,E)):O}function tryParseJson(o){try{const r=JSON.parse(o);return r&&typeof r=="object"&&!Array.isArray(r)?r:null}catch{return null}}function tryExtractObjectJson(o){const r=tryParseJson(o);if(r)return r;const x=o.indexOf("{"),O=o.lastIndexOf("}");return x>=0&&O>x?tryParseJson(o.slice(x,O+1)):null}function normalizeChartData(o){const r=Array.isArray(o.data)?o.data:null;if(!r)return null;const x=[],O=[];for(const S of r){if(!S||typeof S!="object")continue;const j=S,w=toText(j.label??j.name??j.x??j.category),_=Number(j.value??j.y??j.count??j.score);!w||!Number.isFinite(_)||(x.push(w),O.push(_))}if(x.length===0)return null;const y=toText(o.type).toLowerCase()==="line"?"line":"bar";return{labels:x,values:O,type:y}}function buildCanvasChartSpec(o){const r=normalizeChartData(o);if(!r)return null;const x=JSON.stringify(r),O=toText(o.title)||"Generated Graph",E=clampNumber(o.height,180,560,260),y=`
<div class="quiz-chart-wrap">
  <canvas id="quiz-viz-canvas"></canvas>
</div>
`.trim(),S=`
(function () {
  const cfg = ${x};
  const canvas = document.getElementById("quiz-viz-canvas");
  if (!canvas) throw new Error("Canvas element not found");
  const ctx = canvas.getContext("2d");
  if (!ctx) throw new Error("2D canvas context not available");

  const wrap = canvas.parentElement || document.body;
  const dpr = window.devicePixelRatio || 1;
  const width = Math.max(420, Math.floor((wrap.clientWidth || 640) - 8));
  const height = 280;

  canvas.width = Math.floor(width * dpr);
  canvas.height = Math.floor(height * dpr);
  canvas.style.width = width + "px";
  canvas.style.height = height + "px";
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

  ctx.clearRect(0, 0, width, height);
  ctx.fillStyle = "#f8fafc";
  ctx.fillRect(0, 0, width, height);

  const labels = cfg.labels || [];
  const values = cfg.values || [];
  const maxValue = Math.max(...values, 1);
  const left = 46;
  const bottom = height - 34;
  const chartW = width - left - 16;
  const chartH = bottom - 20;

  ctx.strokeStyle = "#cbd5e1";
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.moveTo(left, 20);
  ctx.lineTo(left, bottom);
  ctx.lineTo(width - 16, bottom);
  ctx.stroke();

  if (cfg.type === "line") {
    ctx.strokeStyle = "#2563eb";
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let i = 0; i < values.length; i += 1) {
      const x = left + (chartW * i) / Math.max(1, values.length - 1);
      const y = bottom - (values[i] / maxValue) * chartH;
      if (i === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.fillStyle = "#2563eb";
    for (let i = 0; i < values.length; i += 1) {
      const x = left + (chartW * i) / Math.max(1, values.length - 1);
      const y = bottom - (values[i] / maxValue) * chartH;
      ctx.beginPath();
      ctx.arc(x, y, 3, 0, Math.PI * 2);
      ctx.fill();
    }
  } else {
    const barWidth = chartW / Math.max(values.length, 1) * 0.62;
    const gap = chartW / Math.max(values.length, 1) * 0.38;
    for (let i = 0; i < values.length; i += 1) {
      const x = left + i * (barWidth + gap) + gap * 0.5;
      const h = (values[i] / maxValue) * chartH;
      const y = bottom - h;
      ctx.fillStyle = "#3b82f6";
      ctx.fillRect(x, y, barWidth, h);
    }
  }

  ctx.fillStyle = "#64748b";
  ctx.font = "11px system-ui, -apple-system, sans-serif";
  for (let i = 0; i < labels.length; i += 1) {
    const x = cfg.type === "line"
      ? left + (chartW * i) / Math.max(1, labels.length - 1)
      : left + i * (chartW / Math.max(labels.length, 1)) + chartW / Math.max(labels.length, 1) / 2;
    ctx.textAlign = "center";
    ctx.fillText(String(labels[i]).slice(0, 10), x, bottom + 14);
  }
})();
`.trim();return{title:O,html:y,js:S,minHeight:E,css:`
.quiz-chart-wrap {
  width: 100%;
  min-height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
}
canvas {
  display: block;
  max-width: 100%;
  border-radius: 10px;
}
`.trim()}}function parseVisualizationFence(o,r){const x=o.trim().toLowerCase(),O=r.trim();if(!O)return{error:"Visualization block is empty."};if(x==="html"||x==="htm"||x==="html+js"||x==="htmljs")return{spec:{html:O,minHeight:240}};const E=tryExtractObjectJson(O);if(!E)return{error:"Visualization JSON parsing failed."};const y=buildCanvasChartSpec(E);if(y)return{spec:y};const S=toText(E.html??E.markup??E.template),j=toText(E.js??E.javascript??E.script),w=toText(E.css??E.style??E.styles),_=toText(E.title),Q=clampNumber(E.height??E.minHeight,160,560,240);return!S&&!j?{error:"Visualization data must include `html`/`js` or chart `data`."}:{spec:{html:S||"<div id='quiz-viz-root'></div>",js:j||void 0,css:w||void 0,title:_||void 0,minHeight:Q}}}function parseQuizRichContent(o){const r=typeof o=="string"?o:"";if(!r.trim())return[{type:"markdown",text:""}];const x=[];let O=0;const E=/```([^\n`]*)\n([\s\S]*?)```/g,y=S=>{if(!S)return;const j=x[x.length-1];if((j==null?void 0:j.type)==="markdown"){j.text+=S;return}x.push({type:"markdown",text:S})};for(;;){const S=E.exec(r);if(!S)break;const[j,w,_]=S,Q=S.index;y(r.slice(O,Q)),O=Q+j.length;const I=w.trim().toLowerCase();if(!VIZ_FENCE_LANGS.has(I)){y(j);continue}try{const M=parseVisualizationFence(I,_);M.spec?x.push({type:"viz",spec:M.spec}):x.push({type:"viz_error",message:M.error||"Visualization block parsing failed.",raw:j})}catch(M){x.push({type:"viz_error",message:M instanceof Error?M.message:"Unexpected visualization parsing error.",raw:j})}}return y(r.slice(O)),x.length===0?[{type:"markdown",text:r}]:x}function buildVizSrcDoc(o,r){const x=(o.css||"").replace(/<\/style/gi,"<\\/style"),O=(o.js||"").replace(/<\/script/gi,"<\\/script"),E=clampNumber(o.minHeight,160,560,240);return`<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { color-scheme: light; }
    html, body {
      margin: 0;
      padding: 0;
      min-height: ${E}px;
      background: #ffffff;
      color: #0f172a;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      overflow-x: hidden;
    }
    #quiz-viz-root {
      width: 100%;
      min-height: ${E}px;
      box-sizing: border-box;
      padding: 8px;
    }
    ${x}
  </style>
</head>
<body>
  <div id="quiz-viz-root">${o.html||""}</div>
  <script>
    (() => {
      const FRAME_ID = ${JSON.stringify(r)};
      const post = (type, payload = {}) => {
        try {
          parent.postMessage({ __quizViz: true, frameId: FRAME_ID, type, ...payload }, "*");
        } catch {}
      };

      const notifyHeight = () => {
        try {
          const h = Math.max(
            ${E},
            document.documentElement.scrollHeight || 0,
            document.body.scrollHeight || 0
          );
          post("height", { value: h });
        } catch {}
      };

      window.addEventListener("error", (event) => {
        post("error", { message: event?.message || "Visualization runtime error." });
      });
      window.addEventListener("unhandledrejection", (event) => {
        const reason = event?.reason;
        const msg = reason?.message || String(reason || "Unhandled rejection");
        post("error", { message: msg });
      });

      const ready = () => {
        post("ready");
        notifyHeight();
      };

      if (typeof ResizeObserver === "function") {
        try {
          const ro = new ResizeObserver(() => notifyHeight());
          ro.observe(document.body);
        } catch {}
      }

      window.addEventListener("load", ready);
      setTimeout(ready, 32);
      setTimeout(notifyHeight, 200);

      try {
        ${O}
      } catch (err) {
        const msg = err?.message || String(err || "Visualization script error");
        post("error", { message: msg });
      }
    })();
  <\/script>
</body>
</html>`}function VisualizationFrame({spec:o,isTerminal:r}){const O=reactExports.useRef(`quiz-viz-${Date.now()}-${Math.random().toString(36).slice(2,8)}`).current,E=clampNumber(o.minHeight,160,560,240),[y,S]=reactExports.useState(E),[j,w]=reactExports.useState(null),[_,Q]=reactExports.useState(!1),I=reactExports.useMemo(()=>buildVizSrcDoc(o,O),[o,O]);return reactExports.useEffect(()=>{const M=F=>{const V=F.data;if(!V||typeof V!="object"||typeof V.__quizViz>"u"||V.__quizViz!==!0||V.frameId!==O)return;const te=V.type;if(te==="ready"){Q(!0);return}if(te==="height"){const re=clampNumber(V.value,160,1200,E);S(re);return}if(te==="error"){const re=toText(V.message)||"Visualization runtime error.";w(re)}};return window.addEventListener("message",M),()=>window.removeEventListener("message",M)},[O,E]),jsxRuntimeExports.jsxs("div",{className:cn("overflow-hidden rounded-xl border",r?"border-primary/20 bg-[hsl(var(--terminal-code-bg))]":"border-border/60 bg-background"),children:[o.title&&jsxRuntimeExports.jsx("div",{className:cn("border-b px-3 py-1.5 text-xs font-medium",r?"border-primary/20 text-primary/80":"border-border/50 text-muted-foreground"),children:o.title}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[!_&&jsxRuntimeExports.jsx("div",{className:cn("pointer-events-none absolute inset-0 z-10 flex items-center justify-center text-xs",r?"text-primary/70 bg-background/50":"text-muted-foreground bg-background/55"),children:"시각화 렌더링 중..."}),jsxRuntimeExports.jsx("iframe",{title:o.title||"quiz-visualization",srcDoc:I,sandbox:"allow-scripts",loading:"lazy",className:"w-full border-0",style:{minHeight:`${E}px`,height:`${y}px`}})]}),j&&jsxRuntimeExports.jsxs("div",{className:cn("border-t px-3 py-2 text-xs",r?"border-red-500/30 bg-red-500/10 text-red-300":"border-red-200 bg-red-50 text-red-700"),children:["렌더링 오류: ",j]})]})}function QuizRichContent({content:o,isTerminal:r=!1,className:x}){const O=reactExports.useMemo(()=>parseQuizRichContent(o),[o]);return jsxRuntimeExports.jsx("div",{className:cn("space-y-3",x),children:O.map((E,y)=>E.type==="markdown"?jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap break-words [overflow-wrap:anywhere]",children:jsxRuntimeExports.jsx(ChatMarkdown,{content:E.text})},`md-${y}`):E.type==="viz_error"?jsxRuntimeExports.jsxs("div",{className:cn("space-y-2 rounded-xl border px-3 py-2 text-xs",r?"border-amber-500/30 bg-amber-500/10 text-amber-200":"border-amber-200 bg-amber-50 text-amber-700"),children:[jsxRuntimeExports.jsx("p",{children:E.message}),jsxRuntimeExports.jsx("pre",{className:cn("max-h-56 overflow-auto whitespace-pre-wrap rounded-lg px-2 py-1.5",r?"bg-background/50 text-amber-100":"bg-background text-foreground"),children:E.raw})]},`viz-err-${y}`):jsxRuntimeExports.jsx(VisualizationFrame,{spec:E.spec,isTerminal:r},`viz-${y}`))})}const MAX_BATCHES=5,QUESTIONS_PER_BATCH=2,STUDY_MODE_TAG_TRIGGERS=["study","학습","algorithm","알고리즘","problem-solving","problem_solving","coding-test","코딩테스트","data-structure","자료구조"];function normalizePostTags(o){return Array.isArray(o)?o.map(r=>typeof r=="string"?r.trim().toLowerCase():"").filter(Boolean).slice(0,24):[]}function hasStudyModeTag(o){return o.some(r=>STUDY_MODE_TAG_TRIGGERS.some(x=>r.includes(x)))}function isCorrectAnswer(o,r){const x=r.trim().toLowerCase(),O=o.answer.trim().toLowerCase();if(x===O)return!0;if(o.type==="multiple_choice")return x===O;if(o.type==="fill_blank"){const S=O.split(/\s+/).filter(w=>w.length>2);return S.filter(w=>x.includes(w)).length>=Math.ceil(S.length*.6)}const E=O.split(/\s+/).filter(S=>S.length>2);return E.length===0?!1:E.filter(S=>x.includes(S)).length/E.length>=.5}function QuizPanel({content:o,postTitle:r,postTags:x}){const{isTerminal:O}=useTheme(),[E,y]=reactExports.useState("idle"),[S,j]=reactExports.useState([]),[w,_]=reactExports.useState(!1),[Q,I]=reactExports.useState(0),[M,F]=reactExports.useState([]),[V,te]=reactExports.useState([]),[re,se]=reactExports.useState(""),[ne,oe]=reactExports.useState(null),Oe=reactExports.useRef(0),ae=reactExports.useRef(!1),ge=reactExports.useRef([]),je=normalizePostTags(x),Ae=/```[\s\S]*?```/.test(o),Qe=hasStudyModeTag(je),Xe=Ae||Qe,[Ue,Le]=reactExports.useState(()=>Qe),Ze=Ue?3:QUESTIONS_PER_BATCH,Be=Ue?6:MAX_BATCHES;reactExports.useEffect(()=>{Qe&&Le(!0)},[Qe]),reactExports.useEffect(()=>{if(!Xe||ae.current||ge.current.length>0)return;const ut=setTimeout(async()=>{if(!(ae.current||ge.current.length>0)){ae.current=!0;try{const it=await quiz({paragraph:o,postTitle:r,batchIndex:0,previousQuestions:[],quizCount:Ze,studyMode:Ue,postTags:je});it.quiz.length>0&&(ge.current=it.quiz)}catch{}finally{ae.current=!1}}},1500);return()=>clearTimeout(ut)},[Xe,o,r,Ze,Ue,je]);const Ge=reactExports.useCallback(async(ut,it)=>{if(!ae.current&&!(ut>=Be)){ae.current=!0,_(!0);try{const yt=it.map(qe=>qe.question),et=await quiz({paragraph:o,postTitle:r,batchIndex:ut,previousQuestions:yt,quizCount:Ze,studyMode:Ue,postTags:je,wrongQuestions:V.map(qe=>qe.question)});et.quiz.length>0&&j(qe=>{const ot=[...qe,...et.quiz];return Oe.current=ut+1,ot})}catch(yt){console.error(`Quiz batch ${ut} failed:`,yt)}finally{ae.current=!1,_(!1)}}},[o,r,Be,Ze,Ue,je,V]),We=reactExports.useCallback(async()=>{if(y("loading"),oe(null),F([]),te([]),I(0),se(""),j([]),Oe.current=0,ae.current=!1,ge.current.length>0){const ut=ge.current;ge.current=[],Oe.current=1,j(ut),y("active"),Ge(1,ut);return}try{const ut=await quiz({paragraph:o,postTitle:r,batchIndex:0,previousQuestions:[],quizCount:Ze,studyMode:Ue,postTags:je});if(ut.quiz.length===0)throw new Error("No questions generated");Oe.current=1,j(ut.quiz),y("active"),Ge(1,ut.quiz)}catch(ut){console.error("Quiz failed:",ut),oe("퀴즈를 불러오는 데 실패했습니다. 다시 시도해주세요."),y("idle")}},[o,r,Ge,Ze,Ue,je]);reactExports.useEffect(()=>{if(E!=="active")return;S.length-1-Q<=0&&!ae.current&&Oe.current<Be&&Ge(Oe.current,S)},[Q,S,E,Ge,Be]);const at=reactExports.useCallback(()=>{const ut=S[Q],it=isCorrectAnswer(ut,re);it||te(yt=>[...yt.filter(et=>et.question!==ut.question),ut]),F(yt=>[...yt,{value:re,submitted:!0,correct:it}])},[S,Q,re]),rt=reactExports.useCallback(()=>{const ut=Q+1;ut>=S.length?ae.current||w?(I(ut),se("")):Oe.current>=Be?y("complete"):(I(ut),se("")):(I(ut),se(""))},[Q,S.length,w,Be]),Je=reactExports.useCallback(()=>{y("idle"),j([]),F([]),te([]),I(0),se(""),oe(null),Oe.current=0,ae.current=!1},[]),mt=S[Q],Ke=M[Q],ze=M.filter(ut=>ut.correct).length,He=M.length,tt=E==="active"&&!mt&&(w||ae.current),ct=E==="active"&&!mt&&!w&&!ae.current&&Oe.current>=Be;return Xe?jsxRuntimeExports.jsxs("div",{"data-testid":"quiz-panel",className:cn("my-8 max-w-4xl mx-auto rounded-2xl border shadow-sm overflow-hidden",O?"bg-[hsl(var(--terminal-code-bg))] border-primary/20":"bg-card/80 backdrop-blur-sm border-border/60"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-3 px-6 py-4 border-b",O?"border-primary/10 bg-primary/5":"border-border/40 bg-muted/30"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center w-8 h-8 rounded-xl",O?"bg-primary/20":"bg-primary/10"),children:jsxRuntimeExports.jsx(BookOpen,{className:cn("h-4 w-4","text-primary")})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:cn("font-semibold text-sm",O&&"font-mono text-primary"),children:O?"$ quiz --interactive":"AI 코드 퀴즈"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs text-muted-foreground",O&&"font-mono"),children:"이 글의 코드를 기반으로 생성된 퀴즈"}),Ue&&jsxRuntimeExports.jsx("p",{className:cn("text-[10px] text-primary/80",O&&"font-mono"),children:"학습 모드: 확장 문제 세트 활성화"})]}),E==="active"&&jsxRuntimeExports.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[w&&jsxRuntimeExports.jsxs("span",{className:cn("flex items-center gap-1.5 text-xs px-2 py-1 rounded-full",O?"text-primary/60 bg-primary/10":"text-muted-foreground bg-muted/50"),children:[jsxRuntimeExports.jsx(Zap,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:O?"font-mono":"",children:"다음 문제 준비 중"})]}),jsxRuntimeExports.jsxs("span",{className:cn("text-xs text-muted-foreground",O&&"font-mono"),children:[Math.min(Q+1,S.length)," /"," ",S.length,w&&"+"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-6",children:[E==="idle"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center py-4 gap-4",children:[jsxRuntimeExports.jsx("p",{className:cn("text-sm text-center text-muted-foreground max-w-sm",O&&"font-mono"),children:Ae?"이 글의 코드 예제를 학습했나요? AI가 코드 기반 심층 퀴즈를 출제합니다.":"학습 태그가 감지되어 퀴즈가 활성화되었습니다. 학습 모드로 더 다양한 문제를 풀어보세요."}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Le(ut=>!ut),className:cn("px-3 py-1.5 rounded-full text-xs border transition-colors",Ue?O?"bg-primary/20 text-primary border-primary/40 font-mono":"bg-primary/10 text-primary border-primary/30":O?"text-muted-foreground border-primary/20 hover:text-primary hover:border-primary/40 font-mono":"text-muted-foreground border-border hover:text-foreground hover:border-primary/30"),"aria-pressed":Ue,children:Ue?"학습 모드 ON (배치당 3문제)":"학습 모드 OFF (배치당 2문제)"}),ne&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive text-center",children:ne}),jsxRuntimeExports.jsxs("button",{type:"button","data-testid":"quiz-start",onClick:We,className:cn("flex items-center gap-2 px-6 py-2.5 rounded-xl font-medium text-sm transition-all","hover:scale-[1.02] active:scale-[0.98]",O?"bg-primary/20 border border-primary/40 text-primary hover:bg-primary/30":"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm"),children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4"}),"퀴즈 시작하기"]})]}),E==="loading"&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-center gap-3 py-8",O?"text-primary":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-5 w-5 animate-spin"}),jsxRuntimeExports.jsx("span",{className:cn("text-sm",O&&"font-mono"),children:"코드 분석 중..."})]}),tt&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-center gap-3 py-8",O?"text-primary":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-5 w-5 animate-spin"}),jsxRuntimeExports.jsx("span",{className:cn("text-sm",O&&"font-mono"),children:"다음 문제 생성 중..."})]}),ct&&jsxRuntimeExports.jsx(CompleteView,{correctCount:ze,totalAnswered:He,isTerminal:O,onRetry:Je}),E==="active"&&mt&&jsxRuntimeExports.jsx(QuestionView,{question:mt,questionNumber:Q+1,answerState:Ke,currentAnswer:re,onAnswerChange:se,onSubmit:at,onNext:rt,isLast:Q+1>=S.length&&Oe.current>=Be,isTerminal:O,isNextLoading:w&&Q+1>=S.length,isWrongQuestion:V.some(ut=>ut.question===mt.question)}),E==="complete"&&jsxRuntimeExports.jsx(CompleteView,{correctCount:ze,totalAnswered:He,isTerminal:O,onRetry:Je})]})]}):null}function QuestionView({question:o,questionNumber:r,answerState:x,currentAnswer:O,onAnswerChange:E,onSubmit:y,onNext:S,isLast:j,isTerminal:w,isNextLoading:_,isWrongQuestion:Q=!1}){const I={fill_blank:"빈칸 채우기",multiple_choice:"선택형",transform:"변형 문제",explain:"실행 추론"};return jsxRuntimeExports.jsxs("div",{"data-testid":"quiz-question",className:"space-y-4 animate-in fade-in-0 slide-in-from-bottom-2 duration-300",children:[jsxRuntimeExports.jsxs("div",{className:cn("rounded-xl px-4 py-4 border space-y-2 min-w-0 overflow-hidden",w?"bg-primary/5 border-primary/20":"bg-muted/40 border-border/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:cn("text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded-full",w?"bg-primary/20 text-primary font-mono":"bg-primary/10 text-primary"),children:I[o.type]??o.type}),jsxRuntimeExports.jsxs("span",{className:cn("text-[10px] text-muted-foreground",w&&"font-mono"),children:["Q",r]}),Q&&!(x!=null&&x.submitted)&&jsxRuntimeExports.jsx("span",{className:cn("text-[10px] font-semibold px-2 py-0.5 rounded-full",w?"bg-orange-500/20 text-orange-400 border border-orange-500/30 font-mono":"bg-orange-500/10 text-orange-600 dark:text-orange-400 border border-orange-500/20"),children:"⚠️ 재출제"})]}),jsxRuntimeExports.jsx("div",{className:cn("text-sm font-medium leading-relaxed break-words [overflow-wrap:anywhere]",w&&"font-mono text-foreground/90"),children:jsxRuntimeExports.jsx(QuizRichContent,{content:o.question,isTerminal:w})})]}),!(x!=null&&x.submitted)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[o.type==="multiple_choice"&&o.options?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:o.options.map((M,F)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>E(M),className:cn("w-full text-left px-4 py-3 rounded-xl border text-sm transition-all","hover:scale-[1.005] active:scale-[0.998]",O===M?w?"bg-primary/20 border-primary text-primary":"bg-primary/10 border-primary text-primary font-medium":w?"bg-primary/5 border-primary/20 text-foreground/80 hover:bg-primary/10":"bg-background border-border/50 text-foreground/80 hover:bg-muted/50"),children:[jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs mr-3 opacity-50",children:[String.fromCharCode(65+F),"."]}),M]},F))}):o.type==="transform"||o.type==="explain"?jsxRuntimeExports.jsx(CodeIDE,{value:O,onChange:E,question:o.question}):jsxRuntimeExports.jsx("textarea",{value:O,onChange:M=>E(M.target.value),placeholder:"코드 토큰을 입력하세요...",rows:2,className:cn("w-full rounded-xl border px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary/50",w?"bg-[hsl(var(--terminal-code-bg))] border-primary/20 text-foreground font-mono":"bg-background border-border/50")}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:y,disabled:!O.trim(),className:cn("flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all","disabled:opacity-40 disabled:cursor-not-allowed",w?"bg-primary/20 border border-primary/40 text-primary hover:bg-primary/30":"bg-primary text-primary-foreground hover:bg-primary/90"),children:["확인",jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]})]}),(x==null?void 0:x.submitted)&&jsxRuntimeExports.jsxs("div",{"data-testid":"quiz-feedback",className:cn("rounded-xl px-4 py-4 border space-y-3 animate-in fade-in-0 duration-200",x.correct?w?"bg-emerald-500/10 border-emerald-500/30":"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800/40":w?"bg-red-500/10 border-red-500/30":"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800/40"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[x.correct?jsxRuntimeExports.jsx(CircleCheckBig,{className:cn("h-4 w-4",w?"text-emerald-400":"text-green-600 dark:text-green-400")}):jsxRuntimeExports.jsx(CircleX,{className:cn("h-4 w-4",w?"text-red-400":"text-red-600 dark:text-red-400")}),jsxRuntimeExports.jsx("span",{className:cn("text-sm font-medium",x.correct?w?"text-emerald-400":"text-green-700 dark:text-green-300":w?"text-red-400":"text-red-700 dark:text-red-300"),children:x.correct?"정답입니다!":"틀렸습니다."})]}),!x.correct&&jsxRuntimeExports.jsxs("div",{className:cn("text-sm space-y-1",w&&"font-mono"),children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-xs text-muted-foreground uppercase tracking-wide",children:"정답"}),jsxRuntimeExports.jsx("pre",{className:cn("text-xs rounded-lg px-3 py-2 overflow-x-auto whitespace-pre-wrap",w?"bg-primary/10 text-primary":"bg-muted text-foreground"),children:o.answer})]}),o.explanation&&jsxRuntimeExports.jsx("div",{className:cn("text-xs text-muted-foreground leading-relaxed",w&&"font-mono"),children:jsxRuntimeExports.jsx(QuizRichContent,{content:o.explanation,isTerminal:w})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:S,disabled:_,className:cn("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all mt-2","disabled:opacity-60",w?"bg-primary/20 border border-primary/40 text-primary hover:bg-primary/30":"bg-primary text-primary-foreground hover:bg-primary/90"),children:_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3.5 w-3.5 animate-spin"}),"준비 중..."]}):j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["결과 보기",jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["다음 문제",jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]})})]})]})}function CompleteView({correctCount:o,totalAnswered:r,isTerminal:x,onRetry:O}){const E=r>0?Math.round(o/r*100):0;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center py-4 gap-4 animate-in fade-in-0 duration-300",children:[jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center w-16 h-16 rounded-2xl mb-2","bg-primary/10"),children:jsxRuntimeExports.jsx(BookOpen,{className:cn("h-8 w-8 text-primary")})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:cn("text-2xl font-bold",x&&"font-mono text-primary"),children:[o," / ",r," 정답"]}),jsxRuntimeExports.jsxs("p",{className:cn("text-sm font-medium",x?"font-mono text-primary/60":"text-muted-foreground"),children:["정답률 ",E,"%"]}),jsxRuntimeExports.jsx("p",{className:cn("text-sm text-muted-foreground mt-1",x&&"font-mono"),children:E===100?"완벽합니다! 코드를 완전히 이해했어요 🎉":E>=70?"잘 했습니다! 놓친 코드 라인을 다시 확인해보세요.":"코드를 다시 읽고 각 라인의 역할을 분석해보세요!"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:O,className:cn("flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium text-sm transition-all mt-2","hover:scale-[1.02] active:scale-[0.98]",x?"bg-primary/20 border border-primary/40 text-primary hover:bg-primary/30":"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm"),children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4"}),"다시 도전하기"]})]})}async function translatePost(o){var E,y;const r=getApiBaseUrl();console.log("[translate] Requesting translation:",o.year,o.slug,o.targetLang);const x=await fetch(`${r}/api/v1/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!x.ok){const S=await x.json().catch(()=>({})),j=((E=S==null?void 0:S.error)==null?void 0:E.message)||`Translation failed: ${x.status}`;throw console.error("[translate] API error:",x.status,j),new Error(j)}const O=await x.json();return console.log("[translate] Success, cached:",(y=O.data)==null?void 0:y.cached),O.data}const STORAGE_KEY$2="curiosity.events",SETTINGS_KEY="curiosity.settings",SCHEMA_VERSION=1,DEFAULT_SETTINGS={enabled:!0,storeSearchText:!1,maxEvents:1500,retentionDays:90};function generateEventId(){return`evt_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function hashString(o){let r=0;for(let x=0;x<o.length;x++){const O=o.charCodeAt(x);r=(r<<5)-r+O,r=r&r}return`hash:${Math.abs(r).toString(16)}`}function inferReferrer(){const o=document.referrer;if(!o)return"direct";try{const r=new URL(o),x=window.location.host;if(r.host===x)return"internal";if(r.host.includes("google")||r.host.includes("bing")||r.host.includes("naver"))return"search"}catch{}return"direct"}class CuriosityStorage{constructor(){sr(this,"events",[]);sr(this,"settings",{...DEFAULT_SETTINGS});sr(this,"initialized",!1);this.loadFromStorage()}loadFromStorage(){try{const r=localStorage.getItem(SETTINGS_KEY);r&&(this.settings={...DEFAULT_SETTINGS,...JSON.parse(r)});const x=localStorage.getItem(STORAGE_KEY$2);if(x){const O=JSON.parse(x);Array.isArray(O)&&(this.events=O.filter(E=>E&&typeof E.id=="string"&&typeof E.ts=="number"),this.cleanupOldEvents())}this.initialized=!0}catch(r){console.warn("[Curiosity] Failed to load from storage:",r),this.events=[]}}saveToStorage(){try{localStorage.setItem(STORAGE_KEY$2,JSON.stringify(this.events))}catch(r){console.warn("[Curiosity] Failed to save to storage:",r)}}cleanupOldEvents(){const r=Date.now(),x=this.settings.retentionDays*24*60*60*1e3,O=r-x;this.events=this.events.filter(E=>E.ts>=O),this.events.length>this.settings.maxEvents&&(this.events=this.events.sort((E,y)=>y.ts-E.ts).slice(0,this.settings.maxEvents))}addEvent(r){this.settings.enabled&&(this.events.push(r),this.cleanupOldEvents(),this.saveToStorage())}getEvents(){return[...this.events]}getSettings(){return{...this.settings}}updateSettings(r){this.settings={...this.settings,...r};try{localStorage.setItem(SETTINGS_KEY,JSON.stringify(this.settings))}catch{}}clearEvents(){this.events=[],this.saveToStorage()}exportEvents(){return JSON.stringify(this.events,null,2)}importEvents(r){try{const x=JSON.parse(r);if(!Array.isArray(x))return!1;const O=x.filter(E=>E&&typeof E.id=="string"&&typeof E.ts=="number");return this.events=[...this.events,...O],this.cleanupOldEvents(),this.saveToStorage(),!0}catch{return!1}}getStats(){const r={post_view:0,memo_create:0,tag_click:0,category_filter:0,search:0};for(const x of this.events)r[x.type]!==void 0&&r[x.type]++;return{total:this.events.length,byType:r}}}class CuriosityTracker{constructor(){sr(this,"storage");sr(this,"lastPostView",null);this.storage=new CuriosityStorage}trackPostView(r,x,O,E=[]){if(this.lastPostView&&this.lastPostView.postId===r&&Date.now()-this.lastPostView.ts<5e3)return;const y={id:generateEventId(),type:"post_view",ts:Date.now(),context:{postId:r,path:x,title:O,tags:E},meta:{version:SCHEMA_VERSION,ref:inferReferrer()}};this.storage.addEvent(y),this.lastPostView={postId:r,ts:Date.now()},window.dispatchEvent(new CustomEvent("curiosity:event",{detail:y}))}trackMemoCreate(r,x,O){const E={id:generateEventId(),type:"memo_create",ts:Date.now(),context:{postId:r,snippet:x==null?void 0:x.slice(0,200),selectionHash:O},meta:{version:SCHEMA_VERSION}};this.storage.addEvent(E),window.dispatchEvent(new CustomEvent("curiosity:event",{detail:E}))}trackTagClick(r,x){const O={id:generateEventId(),type:"tag_click",ts:Date.now(),context:{tag:r,postId:x},meta:{version:SCHEMA_VERSION}};this.storage.addEvent(O),window.dispatchEvent(new CustomEvent("curiosity:event",{detail:O}))}trackCategoryFilter(r){const x={id:generateEventId(),type:"category_filter",ts:Date.now(),context:{category:r},meta:{version:SCHEMA_VERSION}};this.storage.addEvent(x),window.dispatchEvent(new CustomEvent("curiosity:event",{detail:x}))}trackSearch(r){const x=this.storage.getSettings(),O={id:generateEventId(),type:"search",ts:Date.now(),context:{queryHash:hashString(r),queryText:x.storeSearchText?r:void 0},meta:{version:SCHEMA_VERSION}};this.storage.addEvent(O),window.dispatchEvent(new CustomEvent("curiosity:event",{detail:O}))}getEvents(){return this.storage.getEvents()}getEventsByType(r){return this.storage.getEvents().filter(x=>x.type===r)}getEventsByTimeRange(r,x){return this.storage.getEvents().filter(O=>O.ts>=r&&O.ts<=x)}getRecentEvents(r=50){return this.storage.getEvents().sort((x,O)=>O.ts-x.ts).slice(0,r)}getStats(){return this.storage.getStats()}getSettings(){return this.storage.getSettings()}updateSettings(r){this.storage.updateSettings(r)}setEnabled(r){this.storage.updateSettings({enabled:r})}isEnabled(){return this.storage.getSettings().enabled}clearAll(){this.storage.clearEvents()}exportData(){return this.storage.exportEvents()}importData(r){return this.storage.importEvents(r)}}const curiosityTracker=new CuriosityTracker,dictionary={ko:{nav:{chat:"채팅",memo:"메모",stack:"스택",insight:"인사이트",debate:"토론"},about:{title:"소개",subtitle:"소프트웨어 개발자 | 테크 열정가 | 문제 해결사",mission:"나의 미션",missionText:"지식을 공유하고, 유용한 도구를 만들고, 다른 개발자들의 성장을 돕는 것으로 기술 커뮤니티에 기여하고자 합니다. 지속적인 학습과 협업의 힘이 혁신을 이끈다고 믿습니다.",greeting:"안녕하세요, Nodove입니다 👋",greetingSubtitle:"혁신적인 솔루션을 만드는 데 열정적입니다",bio1:"저는 효율적이고 확장 가능하며 사용자 친화적인 애플리케이션을 만드는 것에 열정을 가진 소프트웨어 개발자입니다. 프론트엔드와 백엔드 기술 모두에 전문성을 갖추고 있으며, 복잡한 문제를 해결하고 아이디어를 현실로 구현하는 것을 즐깁니다.",bio2:"이 블로그를 통해 다양한 프로젝트와 기술에서 얻은 경험, 인사이트, 배움을 공유합니다. 최신 AI 모델, 웹 개발 프레임워크, DevOps 방법론 등 개발자들의 여정에 도움이 되는 가치 있는 콘텐츠를 제공하고자 합니다.",skills:"기술 스택",connect:"연락하기"},common:{submit:"전송",cancel:"취소",back:"뒤로가기",close:"닫기",loading:"로딩 중...",error:"오류가 발생했습니다",retry:"다시 시도",save:"저장",delete:"삭제",edit:"수정",confirm:"확인"},blog:{backToBlog:"블로그로 돌아가기",relatedPosts:"관련 글",relatedPostsDesc:"비슷한 맥락의 글을 더 읽어보세요.",comments:"댓글",commentPlaceholder:"댓글을 입력하세요...",noComments:"아직 댓글이 없습니다",share:"공유하기",tableOfContents:"목차",readingLanguage:"읽기 언어",translating:"번역 중...",aiTranslated:"AI 번역",translationFailed:"번역 실패",showingOriginal:"원본 콘텐츠를 표시합니다."},stack:{unavailable:"이 브라우저에서는 Stack 기능을 사용할 수 없습니다.",noVisited:"최근 방문한 글이 없습니다.",title:"Stack 사용 불가"}},en:{nav:{chat:"Chat",memo:"Memo",stack:"Stack",insight:"Insight",debate:"Debate"},about:{title:"About Me",subtitle:"Software Developer | Tech Enthusiast | Problem Solver",mission:"My Mission",missionText:"To contribute to the tech community by sharing knowledge, creating useful tools, and helping others grow in their software development journey. I believe in continuous learning and the power of collaboration to drive innovation forward.",greeting:"Hi, I'm Nodove 👋",greetingSubtitle:"Passionate about building innovative solutions",bio1:"I'm a software developer with a passion for creating efficient, scalable, and user-friendly applications. With expertise in both frontend and backend technologies, I enjoy tackling complex problems and turning ideas into reality.",bio2:"Through this blog, I share my experiences, insights, and learnings from various projects and technologies. Whether it's about the latest AI models, web development frameworks, or DevOps practices, I aim to provide valuable content that helps fellow developers in their journey.",skills:"Skills & Technologies",connect:"Connect with me"},common:{submit:"Submit",cancel:"Cancel",back:"Back",close:"Close",loading:"Loading...",error:"An error occurred",retry:"Retry",save:"Save",delete:"Delete",edit:"Edit",confirm:"OK"},blog:{backToBlog:"Back to Blog",relatedPosts:"Related Posts",relatedPostsDesc:"Continue reading with similar perspectives.",comments:"Comments",commentPlaceholder:"Write a comment...",noComments:"No comments yet",share:"Share",tableOfContents:"Table of Contents",readingLanguage:"Reading language",translating:"Translating...",aiTranslated:"AI Translated",translationFailed:"Translation Failed",showingOriginal:"Showing original content."},stack:{unavailable:"Stack is not available in this browser.",noVisited:"No recently visited posts.",title:"Stack Unavailable"}}};function useUIStrings(){const{language:o}=useLanguage();return dictionary[o]||dictionary.en}const MarkdownRenderer=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>MarkdownRenderer$2),void 0)),BlogPost=()=>{var Ke;const{year:o,slug:r}=useParams(),x=useNavigate(),O=useLocation(),E=(Ke=O.state)==null?void 0:Ke.from,y=E&&typeof E=="object"&&"pathname"in E?E:void 0,S=(y==null?void 0:y.search)??(typeof O.search=="string"?O.search:""),{toast:j}=useToast(),{language:w,setLanguage:_}=useLanguage(),{isTerminal:Q}=useTheme(),I=useUIStrings(),[M,F]=reactExports.useState(!0),[V,te]=reactExports.useState(!1),[re,se]=reactExports.useState(null),[ne,oe]=reactExports.useState([]),[Oe,ae]=reactExports.useState([]),[ge,je]=reactExports.useState(!0),[Ae,Qe]=reactExports.useState(!1),[Xe,Ue]=reactExports.useState(null),[Le,Ze]=reactExports.useState(null),Be=reactExports.useMemo(()=>{var He;if(!re)return!1;const ze=re.defaultLanguage||re.language||"ko";return w===ze?!0:!!((He=re.translations)!=null&&He[w])},[re,w]),Ge=reactExports.useMemo(()=>re?re.year===o&&re.slug===r&&Xe&&!Be?{title:Xe.title,description:Xe.description,excerpt:Xe.description,content:Xe.content}:resolveLocalizedPost(re,w):null,[re,w,Xe,Be,o,r]),We=reactExports.useMemo(()=>{if(!re)return"";const ze=re.readingTime||(re.readTime?`${re.readTime} min read`:"");if(!ze)return"";const He=ze.match(/(\d+)/);if(w==="ko"){const tt=He?He[1]:"";return tt?`${tt}분 읽기`:ze.includes("분")?ze:ze.replace("min read","분 읽기")}if(ze.includes("분")){const tt=He?He[1]:"";if(tt)return`${tt} min read`}return ze},[w,re]),at=reactExports.useCallback(ze=>ze==="ko"?"한국어":ze==="en"?"English":ze.toUpperCase(),[]),rt=reactExports.useMemo(()=>({paddingBottom:"calc(120px + env(safe-area-inset-bottom))"}),[]),Je=()=>{x(y?`${y.pathname}${y.search||""}`:`/blog${S||""}`)};reactExports.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[o,r]),reactExports.useEffect(()=>{(async()=>{try{if(F(!0),te(!1),Ue(null),Qe(!1),Ze(null),!o||!r){te(!0),F(!1);return}const He=await getPostBySlug(o,r);if(!He){te(!0),F(!1);return}se(He),F(!1)}catch(He){console.error("Error loading blog post:",He),te(!0),F(!1)}})()},[o,r]),reactExports.useEffect(()=>{if(!re)return;recordView(re.year,re.slug).catch(()=>{});const ze=`${re.year}/${re.slug}`,He=`/blog/${re.year}/${re.slug}`;curiosityTracker.trackPostView(ze,He,re.title,re.tags||[]);try{const tt="visited.posts",ct=localStorage.getItem(tt),ut=ct?JSON.parse(ct):[],it=`/blog/${re.year}/${re.slug}`,et=[{path:it,title:re.title,coverImage:re.coverImage,year:re.year,slug:re.slug},...ut.filter(qe=>qe.path!==it)].slice(0,12);localStorage.setItem(tt,JSON.stringify(et)),window.dispatchEvent(new CustomEvent("visitedposts:update"))}catch(tt){try{window.dispatchEvent(new CustomEvent("visitedposts:error"))}catch{}console.warn("Failed to persist visited posts",tt)}},[re]),reactExports.useEffect(()=>{var ut;if(!re||!o||!r||!(re.year===o&&re.slug===r))return;const He=re.defaultLanguage||re.language||"ko";if(w===He||(ut=re.translations)!=null&&ut[w]){Ue(null),Ze(null);return}let tt=!1;return(async()=>{Qe(!0),Ze(null);try{const it=await translatePost({year:o,slug:r,targetLang:w,sourceLang:He,title:re.title,description:re.description,content:re.content});tt||Ue(it)}catch(it){if(console.error("Translation failed:",it),!tt){const yt=it instanceof Error?it.message:"",et=yt.includes("504")||yt.includes("응답 지연")||yt.includes("timeout"),qe=yt.includes("502")||yt.includes("AI 서버");Ze({message:et?"AI 서버 응답이 지연되고 있습니다.":qe?"AI 번역 서버에서 오류가 발생했습니다.":"번역 중 오류가 발생했습니다.",retryable:et||qe})}}finally{tt||Qe(!1)}})(),()=>{tt=!0}},[re,w,o,r]),reactExports.useEffect(()=>{if(!re||typeof document>"u")return;const ze=(re.title||"").trim();document.title=ze||document.title},[re]),reactExports.useEffect(()=>{const ze=()=>{try{const tt=localStorage.getItem("aiMemo.inline.enabled");je(!!JSON.parse(tt||"true"))}catch{je(!0)}};ze();const He=tt=>{tt.key==="aiMemo.inline.enabled"&&ze()};return window.addEventListener("storage",He),window.addEventListener("focus",ze),()=>{window.removeEventListener("storage",He),window.removeEventListener("focus",ze)}},[o,r]),reactExports.useEffect(()=>{let ze=!1;return(async()=>{var tt;if(re)try{let ct=[];try{const ut=await findRelatedPosts({title:re.title,content:((tt=re.content)==null?void 0:tt.slice(0,500))||"",slug:re.slug},4);if(ut.length>=2){const it=ut.map(async et=>{const qe=et.metadata.year,ot=et.metadata.slug;return qe&&ot?await getPostBySlug(qe,ot):null});ct=(await Promise.all(it)).filter(et=>!!et).slice(0,3)}}catch{}if(ct.length<3){const it=(await getPostsPage({page:1,pageSize:6,category:re.category,sort:"date"})).items.filter(yt=>`${yt.year}/${yt.slug}`!=`${re.year}/${re.slug}`&&!ct.some(et=>et.year===yt.year&&et.slug===yt.slug));ct=ct.concat(it).slice(0,3)}if(ct.length<3&&re.tags&&re.tags.length){const it=(await getPostsPage({page:1,pageSize:6,search:re.tags[0],sort:"date"})).items.filter(yt=>`${yt.year}/${yt.slug}`!=`${re.year}/${re.slug}`&&!ct.some(et=>et.year===yt.year&&et.slug===yt.slug));ct=ct.concat(it).slice(0,3)}if(ct.length<3){const it=(await getPostsPage({page:1,pageSize:6,sort:"date"})).items.filter(yt=>`${yt.year}/${yt.slug}`!=`${re.year}/${re.slug}`&&!ct.some(et=>et.year===yt.year&&et.slug===yt.slug));ct=ct.concat(it).slice(0,3)}ze||oe(ct)}catch{ze||oe([])}})(),()=>{ze=!0}},[re]),reactExports.useEffect(()=>{let ze=!1;return(async()=>{if(!(re!=null&&re.series)){ae([]);return}try{const tt=await getPostsBySeries(re.series);ze||ae(tt)}catch{ze||ae([])}})(),()=>{ze=!0}},[re==null?void 0:re.series]);const mt=async()=>{const ze=window.location.href;if(navigator.share)try{await navigator.share({title:re==null?void 0:re.title,text:re==null?void 0:re.description,url:ze})}catch(He){console.log("Error sharing:",He)}else navigator.clipboard.writeText(ze),j({title:"Link copied!",description:"The post URL has been copied to your clipboard."})};return M?jsxRuntimeExports.jsx("div",{className:"container mx-auto max-w-4xl px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4 animate-pulse rounded-3xl border border-border/60 bg-card/60 p-6 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-24 rounded bg-muted"}),jsxRuntimeExports.jsx("div",{className:"h-10 w-3/4 rounded bg-muted"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-1/2 rounded bg-muted"}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 rounded bg-muted"}),jsxRuntimeExports.jsx("div",{className:"h-4 rounded bg-muted"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-5/6 rounded bg-muted"})]})]})}):V||!re?jsxRuntimeExports.jsx(Navigate,{to:"/404",replace:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ReadingProgress,{}),jsxRuntimeExports.jsx("div",{className:cn("min-h-screen bg-gradient-to-b from-[#f5f6fb] via-background to-background/70 dark:from-[#04050a] dark:via-[#0b0f18] dark:to-[#111827]",Q&&"bg-background from-background via-background to-background"),children:jsxRuntimeExports.jsx("div",{className:"mx-auto w-full max-w-7xl px-4 pt-6 pb-32 sm:pt-12",style:rt,children:jsxRuntimeExports.jsxs("div",{className:"relative flex justify-center gap-8",children:[jsxRuntimeExports.jsxs("article",{className:cn("w-full max-w-4xl space-y-12",Q&&"terminal-card p-4 sm:p-6"),children:[jsxRuntimeExports.jsxs("header",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Breadcrumb$1,{items:[{label:"Blog",href:"/blog"},{label:re.category,href:`/blog?category=${encodeURIComponent(re.category)}`},{label:(Ge==null?void 0:Ge.title)??re.title}],className:cn(Q&&"font-mono text-xs")}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:Je,className:cn("hover:bg-primary/10 dark:text-white",Q&&"font-mono text-primary hover:text-primary"),size:"sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-2 h-4 w-4"}),Q?`< ${I.blog.backToBlog}`:I.blog.backToBlog]}),jsxRuntimeExports.jsxs(Button,{onClick:mt,variant:"outline",size:"sm",className:cn("gap-2 rounded-full border-border bg-white/70 text-foreground backdrop-blur hover:bg-primary/10 dark:border-white/10 dark:bg-white/5 dark:text-white",Q&&"font-mono border-border bg-transparent"),children:[jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4"}),I.blog.share]})]}),jsxRuntimeExports.jsx("div",{className:cn("rounded-[32px] border border-white/60 bg-white/80 p-6 shadow-xl backdrop-blur dark:border-white/10 dark:bg-[#131a26] sm:p-8",Q&&"rounded-lg border-border bg-card"),children:jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[Q&&jsxRuntimeExports.jsxs("div",{className:"font-mono text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-primary",children:"cat"})," ","~/blog/",o,"/",r,".md"]}),jsxRuntimeExports.jsxs("div",{className:cn("inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-primary",Q&&"rounded font-mono tracking-wider"),children:[Q&&"[",re.category,Q&&"]"]}),jsxRuntimeExports.jsxs("h1",{className:cn("text-3xl font-bold leading-tight tracking-tight text-foreground dark:text-white sm:text-4xl lg:text-5xl",Q&&"font-mono terminal-glow"),children:[Q&&"> ",(Ge==null?void 0:Ge.title)??re.title]}),re.description&&jsxRuntimeExports.jsx("p",{className:cn("text-base leading-relaxed text-foreground/85 dark:text-foreground/85 sm:text-lg",Q&&"border-l-2 border-primary/30 pl-4"),dangerouslySetInnerHTML:{__html:parseDescriptionMarkdown((Ge==null?void 0:Ge.description)??re.description)}}),jsxRuntimeExports.jsxs("div",{className:cn("grid gap-3 text-sm text-muted-foreground sm:grid-cols-3",Q&&"font-mono text-xs"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 rounded-2xl bg-white/70 px-3 py-2 shadow-sm dark:bg-[#0f1724] dark:text-white",Q&&"rounded bg-[hsl(var(--terminal-code-bg))]"),children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 text-foreground/70"}),jsxRuntimeExports.jsx("span",{children:Q?`date: ${formatDate$2(re.date)}`:formatDate$2(re.date)})]}),We&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 rounded-2xl bg-white/70 px-3 py-2 shadow-sm dark:bg-[#0f1724] dark:text-white",Q&&"rounded bg-[hsl(var(--terminal-code-bg))]"),children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-foreground/70"}),jsxRuntimeExports.jsx("span",{children:Q?`time: ${We}`:We})]}),re.author&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 rounded-2xl bg-white/70 px-3 py-2 shadow-sm dark:bg-[#0f1724] dark:text-white",Q&&"rounded bg-[hsl(var(--terminal-code-bg))]"),children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-foreground/70"}),jsxRuntimeExports.jsx("span",{children:Q?`author: ${re.author}`:re.author})]})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex flex-wrap items-center gap-2 rounded-2xl border border-dashed border-primary/30 bg-primary/5 px-4 py-3 text-xs font-medium text-muted-foreground dark:border-primary/40 dark:bg-primary/10 dark:text-white/80",Q&&"rounded-lg font-mono border-solid",Ae&&"animate-pulse"),children:[jsxRuntimeExports.jsx(Languages,{className:"h-4 w-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"uppercase tracking-wide",children:I.blog.readingLanguage}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:["ko","en"].map(ze=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(ze),disabled:Ae,className:cn("rounded-full px-3 py-1 text-sm transition-colors",w===ze?"bg-primary text-primary-foreground shadow-sm":"bg-white/70 text-foreground/70 dark:bg-background/60 hover:bg-white dark:hover:bg-background/80",Q&&"rounded font-mono",Ae&&"opacity-50 cursor-not-allowed"),children:at(ze)},ze))}),Ae&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-primary",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3.5 w-3.5 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:I.blog.translating})]}),Xe&&!Ae&&!Be&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-amber-600 dark:text-amber-400",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:I.blog.aiTranslated})]})]}),Le&&jsxRuntimeExports.jsx("div",{className:cn("rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/20 dark:text-red-400",Q&&"font-mono"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:I.blog.translationFailed}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-80",children:Le.message}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 opacity-60",children:I.blog.showingOriginal})]}),Le.retryable&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>{Ze(null),Ue(null)},className:cn("shrink-0 text-xs h-8",Q&&"font-mono border-primary/40 text-primary hover:bg-primary/10"),children:I.common.retry})]})}),re.tags&&re.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:cn("flex flex-wrap items-center gap-2 text-foreground/80 dark:text-foreground/80",Q&&"font-mono text-xs"),children:[jsxRuntimeExports.jsx(Tag$1,{className:"h-4 w-4 text-foreground/75 dark:text-foreground/75"}),Q&&jsxRuntimeExports.jsx("span",{className:"text-primary",children:"tags:"}),re.tags.map(ze=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:cn("rounded-full px-3 py-1 text-xs dark:border-white/20 dark:text-white cursor-pointer hover:bg-primary/10 transition-colors",Q&&"rounded border-primary/40 text-primary hover:bg-primary/20"),onClick:()=>{curiosityTracker.trackTagClick(ze,`${re.year}/${re.slug}`),x(`/blog?tag=${encodeURIComponent(ze)}`)},children:Q?`[${ze}]`:`#${ze}`},ze))]})]})})]}),jsxRuntimeExports.jsx("section",{"data-toc-boundary":!0,className:cn("rounded-[32px] border border-white/50 bg-card/70 p-4 shadow-soft backdrop-blur-sm dark:border-white/5 dark:bg-[#141927]/90 sm:p-8 -mx-2 sm:mx-0",Q&&"rounded-lg border-border bg-[hsl(var(--terminal-code-bg))]"),children:jsxRuntimeExports.jsx("div",{className:cn("prose prose-gray max-w-none dark:prose-invert",Q&&"prose-headings:font-mono prose-headings:terminal-glow"),children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsxs("div",{className:"space-y-3","aria-label":"Loading article content",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-3/4"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-11/12"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-10/12"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-9/12"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-1/2"})]}),children:jsxRuntimeExports.jsx(MarkdownRenderer,{content:(Ge==null?void 0:Ge.content)??re.content,inlineEnabled:ge,postTitle:(Ge==null?void 0:Ge.title)??re.title,postPath:`${re.year}/${re.slug}`})})})}),re.series&&Oe.length>1&&jsxRuntimeExports.jsx(SeriesNavigation,{currentPost:re,seriesPosts:Oe}),jsxRuntimeExports.jsx(QuizPanel,{content:(Ge==null?void 0:Ge.content)??re.content,postTitle:(Ge==null?void 0:Ge.title)??re.title,postTags:re.tags}),jsxRuntimeExports.jsx(CommentSection,{postId:`${re.year}/${re.slug}`}),ne.length>0&&jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn("rounded-full bg-secondary/20 p-2 text-secondary-foreground dark:bg-white/10 dark:text-white",Q&&"rounded bg-[hsl(var(--terminal-code-bg))]"),children:jsxRuntimeExports.jsx(BookOpen,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:cn("text-xl font-semibold text-foreground dark:text-white",Q&&"font-mono text-primary"),children:Q?`> ${I.blog.relatedPosts}`:I.blog.relatedPosts}),jsxRuntimeExports.jsx("p",{className:cn("text-sm text-foreground/80 dark:text-foreground/80",Q&&"font-mono text-xs"),children:I.blog.relatedPostsDesc})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:ne.map(ze=>jsxRuntimeExports.jsxs(Link,{to:{pathname:`/blog/${ze.year}/${ze.slug}`,search:S||void 0},state:y?{from:y}:void 0,className:cn("group rounded-2xl border border-border/60 bg-card/70 p-5 shadow-sm transition hover:-translate-y-1 hover:border-primary/40 hover:shadow-lg dark:border-white/10 dark:bg-[#141b2a]",Q&&"rounded-lg border-border bg-[hsl(var(--terminal-code-bg))] hover:border-primary"),onMouseEnter:()=>prefetchPost(ze.year,ze.slug),onFocus:()=>prefetchPost(ze.year,ze.slug),children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:cn("mb-3 rounded-full px-3 py-1 text-xs dark:bg-white/10 dark:text-white",Q&&"rounded font-mono text-primary bg-transparent border border-primary/40"),children:Q?`[${ze.category}]`:ze.category}),jsxRuntimeExports.jsx("h3",{className:cn("text-base font-semibold leading-snug text-foreground dark:text-white group-hover:text-primary",Q&&"font-mono"),children:ze.title}),jsxRuntimeExports.jsx("p",{className:"mt-2 line-clamp-2 text-sm text-foreground/80 dark:text-foreground/80",children:ze.excerpt||ze.description}),(ze.readingTime||ze.readTime)&&jsxRuntimeExports.jsx("p",{className:cn("mt-3 text-xs uppercase tracking-wide text-foreground/70 dark:text-foreground/75",Q&&"font-mono"),children:ze.readingTime||`${ze.readTime} min read`})]},`${ze.year}/${ze.slug}`))})]})]}),jsxRuntimeExports.jsx("aside",{className:"hidden xl:block relative",children:jsxRuntimeExports.jsx(TableOfContents,{content:(Ge==null?void 0:Ge.content)??re.content,postTitle:(Ge==null?void 0:Ge.title)??re.title})})]})})}),jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(TocDrawer,{content:(Ge==null?void 0:Ge.content)??re.content,postTitle:(Ge==null?void 0:Ge.title)??re.title})]})};function getEmailJsConfig(){return{serviceId:void 0,templateId:void 0,publicKey:void 0}}function canUseEmailJs(){return!!getEmailJsConfig().serviceId}async function sendViaEmailJs(o){throw new Error("EmailJS configuration is missing.")}async function sendViaApi(o){var O;const r=getApiBaseUrl(),x=await fetch(`${r}/api/v1/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!x.ok){let E="Failed to send message.";try{const y=await x.json();E=((O=y==null?void 0:y.error)==null?void 0:O.message)||(y==null?void 0:y.message)||E}catch{const y=await x.text().catch(()=>"");y&&(E=y)}throw new Error(E)}return{provider:"api"}}async function sendContactMessage(o){if(canUseEmailJs())try{return await sendViaEmailJs(o)}catch{}return sendViaApi(o)}const initialFormState={name:"",email:"",subject:"",message:""},historyTimeline=[{period:"2024",title:"CS 전공 심화",description:"알고리즘, 운영체제, 네트워크 중심으로 기반을 강화했습니다."},{period:"2025",title:"AI + 시스템 아키텍처 프로젝트",description:"RAG 기반 도구와 홈랩 인프라 자동화 프로젝트를 병행했습니다."},{period:"2026 (예정)",title:"졸업 및 엔지니어링 확장",description:"생산성 도구와 AI 서비스 아키텍처를 결합하는 개발을 진행 중입니다."}],stackSections=[{title:"AI & LLM Engineering",icon:BrainCircuit,badges:["LangChain","LangGraph","LiteLLM","RAG","n8n"],details:["LLM Orchestration: LangChain/LangGraph 기반 Multi-Agent 및 Stateful Workflow 설계","Model Serving: LiteLLM 기반 모델 추상화 + Custom OpenAI-compatible Server 구축","RAG: 벡터 데이터베이스 연동 및 문서 기반 질의응답 시스템 구현","Automation: n8n 기반 AI 워크플로우 자동화 및 데이터 파이프라인 구성"]},{title:"DevOps & Infrastructure",icon:Cloud,badges:["Proxmox","Docker","Docker Compose","Kubernetes","Ansible","Arch Linux"],details:["Proxmox VE: LXC/VM 클러스터 운영, 자원 최적화 및 홈랩 인프라 관리","Container: Docker/Compose 기반 복잡한 스택 구성 및 ComposeAI 프로젝트 개발","Kubernetes: 기초 운영 및 배포 워크플로우 실습","IaC/Config: Ansible 기반 서버 프로비저닝 및 설정 자동화","OS: Arch Linux 메인 사용, 커널/시스템 레벨 트러블슈팅 경험"]},{title:"Network & Security",icon:Shield,badges:["OPNsense","VLAN","Tailscale","WireGuard","Consul","Nginx"],details:["Network Security: OPNsense 방화벽 정책 관리 및 VLAN 구성","VPN & Mesh: Tailscale/WireGuard 기반 사설망 원격 접속 및 Site-to-Site 구성","Service Discovery: Consul KV Store 활용 및 서비스 헬스 체크","Traffic Management: Nginx Reverse Proxy 및 SSL/TLS Termination"]},{title:"Languages & Backend",icon:CodeXml,badges:["Java","Spring Boot","Python","Go","Dart","Flutter"],details:["Java (Spring Boot): 핵심 메인 서비스 개발에 사용","Python: 보조 언어로 Asyncio/AI-ML 라이브러리 활용","Go: 고성능 툴링 및 네트워크 프록시 컨트롤 중심으로 학습/적용","Dart & Flutter: 크로스 플랫폼 모바일 UI/UX 구현 학습 중"]}],About=()=>{const{toast:o}=useToast(),[r,x]=reactExports.useState(initialFormState),[O,E]=reactExports.useState(!1),y=j=>{const{name:w,value:_}=j.target;x(Q=>({...Q,[w]:_}))},S=async j=>{if(j.preventDefault(),!O){E(!0);try{const w=await sendContactMessage(r);o({title:"Message sent",description:w.provider==="emailjs"?"EmailJS를 통해 메시지를 전송했습니다.":"문의가 정상적으로 접수되었습니다."}),x(initialFormState)}catch(w){o({title:"Failed to send",description:w instanceof Error?w.message:"메시지를 전송하지 못했습니다. 잠시 후 다시 시도해주세요.",variant:"destructive"})}finally{E(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-6xl px-4 py-10",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight md:text-4xl",children:"About"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl text-muted-foreground",children:"개발자로서의 정체성과 연락 창구를 한 페이지로 통합했습니다. CS 전공 기반 위에서 AI와 시스템 아키텍처를 중심으로 실전형 프로젝트를 만들고 있습니다."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[jsxRuntimeExports.jsxs(Card,{className:"border-border/60",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Avatar,{className:"h-20 w-20 border border-border/60",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"text-lg font-semibold",children:"ND"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Nodove"}),jsxRuntimeExports.jsx(CardDescription,{className:"mt-1 text-sm",children:"CS 전공, AI & System Architecture에 관심 있는 개발자"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"2026년 졸업 예정이며, 백엔드/인프라/AI 경계를 넘나드는 제품 지향 개발을 선호합니다. 문제를 구조화하고, 자동화 가능한 시스템으로 바꾸는 과정을 즐깁니다."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"History"}),jsxRuntimeExports.jsx("ol",{className:"space-y-4",children:historyTimeline.map(j=>jsxRuntimeExports.jsxs("li",{className:"relative pl-5",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-0 top-2 h-2 w-2 rounded-full bg-primary"}),jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-primary",children:j.period}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold",children:j.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]},j.period))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"border-border/60",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Contact & Skill"}),jsxRuntimeExports.jsx(CardDescription,{children:"기술 스택과 소셜 링크, 그리고 페이지 이탈 없는 문의 폼을 함께 제공합니다."})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Tech Stack"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:stackSections.map(({title:j,icon:w,badges:_,details:Q})=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-border/70 bg-card/70 p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-border/70 bg-background/80 p-2",children:jsxRuntimeExports.jsx(w,{className:"h-4 w-4 text-primary"})}),jsxRuntimeExports.jsx("div",{className:"min-w-0",children:jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold",children:j})})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex flex-wrap gap-1.5",children:_.map(I=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-[11px]",children:I},I))}),jsxRuntimeExports.jsx("ul",{className:"mt-3 space-y-1.5 text-xs leading-relaxed text-muted-foreground",children:Q.map(I=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"mt-[2px] text-primary",children:"•"}),jsxRuntimeExports.jsx("span",{children:I})]},I))})]},j))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Social Links"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:site.social.github,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Github,{className:"h-4 w-4"}),"GitHub"]})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:site.social.linkedin,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Linkedin,{className:"h-4 w-4"}),"LinkedIn"]})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:`mailto:${site.email}`,children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"}),"Email"]})})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"border-border/60",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Send a Message"}),jsxRuntimeExports.jsx(CardDescription,{children:"EmailJS 또는 API(SendGrid 백엔드)로 연결되는 폼입니다."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:S,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Name"}),jsxRuntimeExports.jsx(Input,{id:"name",name:"name",value:r.name,onChange:y,placeholder:"Your name",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",name:"email",type:"email",value:r.email,onChange:y,placeholder:"you@domain.com",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"subject",children:"Subject"}),jsxRuntimeExports.jsx(Input,{id:"subject",name:"subject",value:r.subject,onChange:y,placeholder:"What would you like to discuss?",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"message",children:"Message"}),jsxRuntimeExports.jsx(Textarea,{id:"message",name:"message",rows:5,value:r.message,onChange:y,placeholder:"Write your message here...",required:!0})]}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:O,className:"w-full sm:w-auto",children:[jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"}),O?"Sending...":"Send Message"]})]})})]})]})]})]})};function getStatusClassName$1(o){const r=o.toLowerCase();return r==="live"?"bg-emerald-500/15 text-emerald-700 dark:text-emerald-300 border-emerald-500/30":r==="archive"?"bg-slate-500/15 text-slate-700 dark:text-slate-300 border-slate-500/30":"bg-amber-500/15 text-amber-700 dark:text-amber-300 border-amber-500/30"}const previewLabel={console:"Preview",embed:"Preview",link:"Preview"};function ProjectCard({project:o,onPreview:r}){return jsxRuntimeExports.jsxs(Card,{className:"group flex h-full flex-col overflow-hidden border-border/60 bg-card/70 backdrop-blur",children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden border-b border-border/60 bg-gradient-to-br from-primary/20 via-background to-accent/40",children:[o.thumbnail?jsxRuntimeExports.jsx("img",{src:o.thumbnail,alt:`${o.title} thumbnail`,loading:"lazy",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-border/60 bg-background/80 px-3 py-1 text-xs font-medium text-muted-foreground",children:o.category})}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:cn("absolute right-3 top-3 border px-2 py-0.5 text-[11px] font-medium",getStatusClassName$1(o.status)),children:o.status})]}),jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-2 pb-3",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:o.title}),jsxRuntimeExports.jsx(CardDescription,{className:"line-clamp-2 text-sm leading-relaxed text-muted-foreground",children:o.description})]}),jsxRuntimeExports.jsxs(CardContent,{className:"mt-auto space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.tags.map(x=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-[11px]",children:x},`${o.id}-${x}`))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Button,{asChild:!0,size:"sm",className:"flex-1 min-w-[96px]",children:jsxRuntimeExports.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Visit"]})}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[96px]",onClick:()=>r(o),children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),previewLabel[o.type]]}),o.codeUrl?jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"ghost",size:"sm",className:"flex-1 min-w-[96px]",children:jsxRuntimeExports.jsxs("a",{href:o.codeUrl,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Github,{className:"h-4 w-4"}),"Code"]})}):jsxRuntimeExports.jsxs(Button,{type:"button",variant:"ghost",size:"sm",className:"flex-1 min-w-[96px]",disabled:!0,children:[jsxRuntimeExports.jsx(Github,{className:"h-4 w-4"}),"Code"]})]})]})]})}function ProjectCardSkeleton(){return jsxRuntimeExports.jsxs(Card,{className:"flex h-full flex-col overflow-hidden border-border/60 bg-card/70 backdrop-blur",children:[jsxRuntimeExports.jsx("div",{className:"relative aspect-[16/9] overflow-hidden border-b border-border/60",children:jsxRuntimeExports.jsx(Skeleton,{className:"h-full w-full rounded-none"})}),jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-2 pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-20 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-5 w-14 rounded-full"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-3/4"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-5/6"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"mt-auto space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-16 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-20 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-14 rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-full"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-full"})]})]})}const CONSOLE_MESSAGES_KEY="ai_console_messages";function loadPersistedMessages(){try{const o=localStorage.getItem(CONSOLE_MESSAGES_KEY);if(o){const x=JSON.parse(o);if(Array.isArray(x)&&x.length>0)return x}const r=loadChatWidgetSession();if(r.length>0)return r}catch{}return[]}function persistMessages(o){try{localStorage.setItem(CONSOLE_MESSAGES_KEY,JSON.stringify(o))}catch{}}function convertChatToConsole(o){var r;return{id:o.id,role:o.role,content:o.text,timestamp:Date.now(),citations:(r=o.sources)==null?void 0:r.map((x,O)=>({id:`src-${O}`,title:x.title||"Untitled",url:x.url,snippet:x.snippet||"",score:x.score||0}))}}function loadChatWidgetSession(){try{const o=getStoredSessionId();if(!o)return[];const r=localStorage.getItem(`${SESSION_MESSAGES_PREFIX}${o}`);if(r){const x=JSON.parse(r);if(Array.isArray(x))return x.map(convertChatToConsole)}}catch{}return[]}const initialState={messages:loadPersistedMessages(),citations:[],traces:[],input:"",isProcessing:!1,mode:"rag",error:null};function consoleReducer(o,r){switch(r.type){case"SET_INPUT":return{...o,input:r.payload};case"SET_MODE":return{...o,mode:r.payload};case"LOAD_MESSAGES":return{...o,messages:r.payload};case"ADD_USER_MESSAGE":return{...o,messages:[...o.messages,{id:r.payload.id,role:"user",content:r.payload.content,timestamp:Date.now()}],input:"",error:null};case"ADD_ASSISTANT_MESSAGE":return{...o,messages:[...o.messages,{id:r.payload.id,role:"assistant",content:"",timestamp:Date.now(),isStreaming:!0,citations:o.citations}]};case"APPEND_ASSISTANT_CONTENT":{const x=o.messages.findIndex(E=>E.id===r.payload.id);if(x===-1)return o;const O=[...o.messages];return O[x]={...O[x],content:O[x].content+r.payload.chunk},{...o,messages:O}}case"FINISH_ASSISTANT_MESSAGE":{const x=o.messages.findIndex(E=>E.id===r.payload.id);if(x===-1)return o;const O=[...o.messages];return O[x]={...O[x],isStreaming:!1},{...o,messages:O}}case"SET_CITATIONS":return{...o,citations:r.payload};case"ADD_TRACE":return{...o,traces:[...o.traces,r.payload]};case"UPDATE_TRACE":{const x=o.traces.findIndex(E=>E.id===r.payload.id);if(x===-1)return o;const O=[...o.traces];return O[x]={...O[x],...r.payload.updates},{...o,traces:O}}case"SET_PROCESSING":return{...o,isProcessing:r.payload};case"SET_ERROR":return{...o,error:r.payload,isProcessing:!1};case"CLEAR_ALL":return{...initialState,mode:o.mode};default:return o}}function useConsoleState(){const[o,r]=reactExports.useReducer(consoleReducer,initialState),x=reactExports.useRef(null);reactExports.useEffect(()=>{o.messages.length>0&&persistMessages(o.messages)},[o.messages]),reactExports.useEffect(()=>{const ne=()=>{const oe=loadChatWidgetSession();oe.length>0&&o.messages.length===0&&r({type:"LOAD_MESSAGES",payload:oe})};return window.addEventListener("aiChat:sessionsUpdated",ne),()=>window.removeEventListener("aiChat:sessionsUpdated",ne)},[o.messages.length]);const O=reactExports.useCallback(ne=>{r({type:"SET_INPUT",payload:ne})},[]),E=reactExports.useCallback(ne=>{r({type:"SET_MODE",payload:ne})},[]),y=reactExports.useCallback((ne,oe)=>{r({type:"ADD_USER_MESSAGE",payload:{id:ne,content:oe}})},[]),S=reactExports.useCallback(ne=>{r({type:"ADD_ASSISTANT_MESSAGE",payload:{id:ne}})},[]),j=reactExports.useCallback((ne,oe)=>{r({type:"APPEND_ASSISTANT_CONTENT",payload:{id:ne,chunk:oe}})},[]),w=reactExports.useCallback(ne=>{r({type:"FINISH_ASSISTANT_MESSAGE",payload:{id:ne}})},[]),_=reactExports.useCallback(ne=>{r({type:"SET_CITATIONS",payload:ne})},[]),Q=reactExports.useCallback(ne=>{r({type:"ADD_TRACE",payload:ne})},[]),I=reactExports.useCallback((ne,oe)=>{r({type:"UPDATE_TRACE",payload:{id:ne,updates:oe}})},[]),M=reactExports.useCallback(ne=>{r({type:"SET_PROCESSING",payload:ne})},[]),F=reactExports.useCallback(ne=>{r({type:"SET_ERROR",payload:ne})},[]),V=reactExports.useCallback(()=>{r({type:"CLEAR_ALL"});try{localStorage.removeItem(CONSOLE_MESSAGES_KEY)}catch{}},[]),te=reactExports.useCallback(()=>{x.current&&(x.current.abort(),x.current=null)},[]),re=reactExports.useCallback(()=>(te(),x.current=new AbortController,x.current),[te]),se=reactExports.useCallback(()=>{const ne=loadChatWidgetSession();ne.length>0&&r({type:"LOAD_MESSAGES",payload:ne})},[]);return{state:o,actions:{setInput:O,setMode:E,addUserMessage:y,addAssistantMessage:S,appendAssistantContent:j,finishAssistantMessage:w,setCitations:_,addTrace:Q,updateTrace:I,setProcessing:M,setError:F,clearAll:V,abort:te,createAbortController:re,syncFromChatWidget:se}}}function CitationItem({citation:o,index:r}){const x=o.url||(o.year&&o.slug?`/blog/${o.year}/${o.slug}`:void 0),O=Math.round(o.score*100),E=O>=70?"text-emerald-400":O>=40?"text-amber-400":"text-zinc-500";return jsxRuntimeExports.jsx("div",{className:"group border-l-2 border-zinc-700 hover:border-primary/60 pl-3 py-2 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center rounded bg-zinc-800 text-[10px] font-mono text-zinc-400 mt-0.5",children:r+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3.5 h-3.5 text-primary/70 flex-shrink-0"}),x?jsxRuntimeExports.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-foreground hover:text-primary truncate transition-colors flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:o.title}),jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3 opacity-0 group-hover:opacity-60 flex-shrink-0 transition-opacity"})]}):jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:o.title})]}),o.snippet&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:o.snippet}),jsxRuntimeExports.jsxs("div",{className:"mt-1.5 flex items-center gap-3 text-[10px] font-mono",children:[jsxRuntimeExports.jsxs("span",{className:cn("flex items-center gap-1",E),children:[jsxRuntimeExports.jsx(Hash$2,{className:"w-3 h-3"}),O,"%"]}),o.category&&jsxRuntimeExports.jsxs("span",{className:"text-zinc-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"}),o.category]})]})]})]})})}const ConsoleCitations=reactExports.memo(function o({citations:r,isLoading:x,className:O}){return r.length===0&&!x?null:jsxRuntimeExports.jsxs("div",{className:cn("space-y-1",O),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono uppercase tracking-wider text-zinc-500",children:"Sources"}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-mono text-zinc-600",children:["[",r.length,"]"]})]}),x?jsxRuntimeExports.jsx("div",{className:"space-y-2 pl-3",children:[1,2,3].map(E=>jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-zinc-800 rounded w-3/4 mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-zinc-800/50 rounded w-full"})]},E))}):jsxRuntimeExports.jsx("div",{className:"space-y-1",children:r.map((E,y)=>jsxRuntimeExports.jsx(CitationItem,{citation:E,index:y},E.id))})]})});function MessageContent({content:o,isStreaming:r,isMobile:x}){return!o&&r?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 text-zinc-500",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse delay-75"}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse delay-150"})]}):jsxRuntimeExports.jsx("div",{className:cn("prose prose-invert max-w-none",x?"prose-base":"prose-sm"),children:jsxRuntimeExports.jsxs("p",{className:"whitespace-pre-wrap break-words leading-relaxed m-0",children:[o,r&&jsxRuntimeExports.jsx("span",{className:"inline-block w-2 h-4 ml-0.5 bg-primary/80 animate-pulse"})]})})}function UserMessage({message:o,isMobile:r}){return jsxRuntimeExports.jsxs("div",{className:cn("flex gap-3 bg-zinc-900/30",r?"py-3 px-3":"py-3 px-4"),children:[jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 rounded bg-zinc-800 flex items-center justify-center",r?"w-8 h-8":"w-7 h-7"),children:jsxRuntimeExports.jsx(User,{className:cn(r?"w-4.5 h-4.5":"w-4 h-4","text-zinc-400")})}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0 pt-0.5",children:jsxRuntimeExports.jsx("p",{className:cn("text-foreground whitespace-pre-wrap break-words",r?"text-base":"text-sm"),children:o.content})})]})}function AssistantMessage({message:o,isMobile:r}){return jsxRuntimeExports.jsxs("div",{className:cn("border-l-2 border-primary/30 bg-zinc-900/10",r?"py-3 px-3":"py-3 px-4"),children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 rounded bg-primary/10 border border-primary/20 flex items-center justify-center",r?"w-8 h-8":"w-7 h-7"),children:jsxRuntimeExports.jsx(Bot,{className:cn(r?"w-4.5 h-4.5":"w-4 h-4","text-primary")})}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0 pt-0.5",children:jsxRuntimeExports.jsx(MessageContent,{content:o.content,isStreaming:o.isStreaming,isMobile:r})})]}),o.citations&&o.citations.length>0&&jsxRuntimeExports.jsx("div",{className:cn("mt-3 pt-3 border-t border-zinc-800/50",r?"ml-0":"ml-10"),children:jsxRuntimeExports.jsx(ConsoleCitations,{citations:o.citations})}),o.error&&jsxRuntimeExports.jsxs("div",{className:cn("mt-2 flex items-center gap-2 text-red-400",r?"ml-0 text-sm":"ml-10 text-xs"),children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3.5 h-3.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:o.error})]})]})}function SystemMessage$1({message:o,isMobile:r}){return jsxRuntimeExports.jsx("div",{className:cn("py-2 text-center",r?"px-3":"px-4"),children:jsxRuntimeExports.jsx("span",{className:cn("font-mono uppercase tracking-wider text-zinc-600 bg-zinc-900/50 rounded-full",r?"text-xs px-3 py-1.5":"text-[10px] px-3 py-1"),children:o.content})})}const ConsoleMessages=reactExports.memo(function o({messages:r,isMobile:x,isTerminal:O,scrollKey:E,className:y}){const S=reactExports.useRef(null);return reactExports.useEffect(()=>{requestAnimationFrame(()=>{var j;(j=S.current)==null||j.scrollIntoView({block:"end"})})},[r,E]),r.length===0?jsxRuntimeExports.jsx("div",{className:cn("flex-1 flex flex-col items-center justify-center",x?"px-4 py-6 min-h-[200px]":"px-8 pt-4 pb-8",y),children:jsxRuntimeExports.jsxs("div",{className:cn("text-center space-y-3",x?"max-w-[280px]":"max-w-md"),children:[jsxRuntimeExports.jsx("div",{className:cn("mx-auto rounded-lg flex items-center justify-center",O?"bg-primary/10 border border-primary/20":"bg-muted border border-border",x?"w-12 h-12":"w-14 h-14"),children:jsxRuntimeExports.jsx(Bot,{className:cn(x?"w-6 h-6":"w-7 h-7",O?"text-primary":"text-muted-foreground")})}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("h3",{className:cn("font-medium",O?"text-primary":"text-foreground","text-sm"),children:"AI Console"}),jsxRuntimeExports.jsx("p",{className:cn("leading-relaxed","text-muted-foreground","text-xs"),children:"Ask questions about blog posts. RAG-powered search retrieves relevant content."})]})]})}):jsxRuntimeExports.jsxs("div",{className:cn("flex-1 overflow-y-auto overscroll-contain",x&&"min-h-[180px]",y),children:[jsxRuntimeExports.jsx("div",{className:"divide-y divide-zinc-800/30",children:r.map(j=>{switch(j.role){case"user":return jsxRuntimeExports.jsx(UserMessage,{message:j,isMobile:x},j.id);case"assistant":return jsxRuntimeExports.jsx(AssistantMessage,{message:j,isMobile:x},j.id);case"system":return jsxRuntimeExports.jsx(SystemMessage$1,{message:j,isMobile:x},j.id);default:return null}})}),jsxRuntimeExports.jsx("div",{ref:S})]})}),MODE_CONFIG={rag:{icon:Database,label:"RAG",desc:"Search blog knowledge"},agent:{icon:Cpu,label:"Agent",desc:"Multi-step reasoning"},web:{icon:Globe,label:"Web",desc:"Search the internet"}};function ModeTab({mode:o,isActive:r,onClick:x,isMobile:O,isTerminal:E}){const y=MODE_CONFIG[o],S=y.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:x,className:cn("flex items-center font-mono transition-all border-b-2 -mb-[2px]",O?"gap-2 px-3 py-2.5 text-sm min-h-[44px]":"gap-1.5 px-2.5 py-1.5 text-xs",r?"text-primary border-primary bg-primary/5":E?"text-muted-foreground border-transparent hover:text-foreground hover:border-primary/30":"text-muted-foreground border-transparent hover:text-foreground hover:border-border"),title:y.desc,children:[jsxRuntimeExports.jsx(S,{className:cn(O?"w-4 h-4":"w-3.5 h-3.5")}),jsxRuntimeExports.jsx("span",{children:y.label})]})}const ConsoleInput=reactExports.memo(function o({value:r,onChange:x,onSubmit:O,onStop:E,isProcessing:y,mode:S,onModeChange:j,disabled:w,isMobile:_,isTerminal:Q,className:I}){const M=reactExports.useRef(null);reactExports.useEffect(()=>{!y&&M.current&&!_&&M.current.focus()},[y,_]);const F=te=>{te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),!y&&r.trim()&&O())},V=()=>{y?E():r.trim()&&O()};return jsxRuntimeExports.jsxs("div",{className:cn("border-t","border-border",I),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center border-b",Q?"border-border/50 bg-background/30":"border-border/50 bg-muted/30",_?"px-1 overflow-x-auto":"px-2"),children:[Object.keys(MODE_CONFIG).map(te=>jsxRuntimeExports.jsx(ModeTab,{mode:te,isActive:S===te,onClick:()=>j(te),isMobile:_,isTerminal:Q},te)),jsxRuntimeExports.jsx("div",{className:"flex-1"}),!_&&jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono text-muted-foreground px-2",children:"Shift+Enter for newline"})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex items-end gap-2",Q?"bg-background/20":"bg-muted/20",_?"p-3 pb-4":"p-3"),children:[!_&&jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 flex items-center gap-1 text-xs font-mono pt-2",Q?"text-primary/70":"text-muted-foreground"),children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative",children:jsxRuntimeExports.jsx("textarea",{ref:M,value:r,onChange:te=>x(te.target.value),onKeyDown:F,placeholder:"Ask about blog content...",disabled:w||y,rows:1,className:cn("w-full bg-transparent text-foreground placeholder:text-muted-foreground","resize-none outline-none","disabled:opacity-50 disabled:cursor-not-allowed",_?"text-base min-h-[32px] max-h-[100px]":"text-sm min-h-[24px] max-h-[120px]"),style:{height:"auto",minHeight:_?"32px":"24px"},onInput:te=>{const re=te.target;re.style.height="auto",re.style.height=Math.min(re.scrollHeight,_?100:120)+"px"}})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:V,disabled:w||!y&&!r.trim(),className:cn("flex-shrink-0 rounded flex items-center justify-center transition-all",_?"w-11 h-11 min-w-[44px] min-h-[44px]":"w-8 h-8",y?"bg-red-500/20 text-red-400 hover:bg-red-500/30":r.trim()?"bg-primary/20 text-primary hover:bg-primary/30":Q?"bg-muted/50 text-muted-foreground cursor-not-allowed":"bg-muted text-muted-foreground cursor-not-allowed"),children:y?jsxRuntimeExports.jsx(Square,{className:cn(_?"w-5 h-5":"w-4 h-4")}):jsxRuntimeExports.jsx(Send,{className:cn(_?"w-5 h-5":"w-4 h-4")})})]})]})}),TRACE_ICONS={search:Search,retrieve:Database,generate:Zap,tool:Zap,error:TriangleAlert};function TraceItem({trace:o}){const r=TRACE_ICONS[o.type]||Zap,x=o.status==="done"?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-emerald-500"}):o.status==="error"?jsxRuntimeExports.jsx(TriangleAlert,{className:"w-3 h-3 text-red-400"}):o.status==="running"?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 text-primary animate-spin"}):jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full border border-zinc-600"});return jsxRuntimeExports.jsxs("div",{className:cn("flex items-start gap-2 py-1.5 px-2 text-xs",o.status==="error"&&"bg-red-500/5"),children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 mt-0.5",children:x}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(r,{className:"w-3 h-3 text-zinc-500"}),jsxRuntimeExports.jsx("span",{className:cn("font-mono",o.status==="error"?"text-red-400":"text-zinc-300"),children:o.label}),o.duration!==void 0&&jsxRuntimeExports.jsxs("span",{className:"text-zinc-600 ml-auto",children:[o.duration,"ms"]})]}),o.detail&&jsxRuntimeExports.jsx("p",{className:"text-zinc-500 truncate mt-0.5",children:o.detail})]})]})}const ConsoleTrace=reactExports.memo(function o({traces:r,className:x}){const[O,E]=reactExports.useState(!1),y=reactExports.useMemo(()=>{const w=r.filter(M=>M.status==="running").length,_=r.filter(M=>M.status==="done").length,Q=r.filter(M=>M.status==="error").length,I=r.reduce((M,F)=>M+(F.duration||0),0);return{running:w,done:_,error:Q,total:r.length,totalDuration:I}},[r]);if(r.length===0)return null;const S=y.running>0,j=y.error>0;return jsxRuntimeExports.jsxs("div",{className:cn("border-t border-zinc-800/60 bg-zinc-950/70",x),children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>E(!O),className:"w-full flex items-center gap-2 px-3 py-1.5 bg-zinc-950/80 hover:bg-zinc-900/60 transition-colors",children:[jsxRuntimeExports.jsx("div",{className:cn("w-1.5 h-1.5 rounded-full",j?"bg-red-500":S?"bg-amber-500 animate-pulse":"bg-emerald-500")}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono uppercase tracking-wider text-zinc-500",children:"Trace"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 ml-auto text-[10px] font-mono text-zinc-500",children:[S&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-amber-400",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-2.5 h-2.5 animate-spin"}),y.running]}),y.done>0&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-emerald-500",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-2.5 h-2.5"}),y.done]}),j&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-red-400",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-2.5 h-2.5"}),y.error]}),y.totalDuration>0&&jsxRuntimeExports.jsxs("span",{className:"text-zinc-600 ml-1",children:[y.totalDuration,"ms"]}),O?jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3 ml-1 text-zinc-600"}):jsxRuntimeExports.jsx(ChevronUp,{className:"w-3 h-3 ml-1 text-zinc-600"})]})]}),O&&jsxRuntimeExports.jsx("div",{className:"max-h-32 overflow-y-auto overscroll-contain bg-zinc-950/60 border-t border-zinc-800/40",children:r.map(w=>jsxRuntimeExports.jsx(TraceItem,{trace:w},w.id))})]})});function generateId(){return`${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function ragResultToCitation(o,r){var x,O,E,y,S,j,w;return{id:o.id||`cite-${r}`,title:((x=o.metadata)==null?void 0:x.title)||"Untitled",url:(O=o.metadata)!=null&&O.slug&&((E=o.metadata)!=null&&E.year)?`/blog/${o.metadata.year}/${o.metadata.slug}`:void 0,slug:(y=o.metadata)==null?void 0:y.slug,year:(S=o.metadata)==null?void 0:S.year,snippet:((j=o.content)==null?void 0:j.slice(0,200))||o.snippet||"",score:o.rrfScore??o.score??0,category:(w=o.metadata)==null?void 0:w.category}}function buildRAGContextString(o){return o.length===0?"":o.map((x,O)=>{const E=x.url?`(${x.url})`:"";return`[${O+1}] ${x.title} ${E}
${x.snippet}`}).join(`

`)}const AIConsole=reactExports.memo(function o({className:r,onClose:x,isMinimized:O,onToggleMinimize:E}){const y=useIsMobile(),{isTerminal:S}=useTheme(),{state:j,actions:w}=useConsoleState(),_=j.mode==="rag"?"RAG":j.mode==="web"?"Web":"Agent",Q=reactExports.useCallback(async()=>{var Oe,ae;const M=j.input.trim();if(!M||j.isProcessing)return;const F=generateId(),V=generateId(),te=generateId(),re=generateId();w.setProcessing(!0),w.addUserMessage(F,M);const se=w.createAbortController();let ne=[],oe;try{const ge={id:te,type:"search",label:j.mode==="web"?"Web Search":j.mode==="rag"?"Hybrid Search":"Prepare",detail:`Query: "${M.slice(0,50)}${M.length>50?"...":""}"`,timestamp:Date.now(),status:"running"};w.addTrace(ge);const je=Date.now();if(j.mode==="rag"){const Le=await hybridSearch(M,{n_results:8,signal:se.signal}),Ze=Date.now()-je;if(!Le.ok||!Le.data)throw w.updateTrace(te,{status:"error",duration:Ze,detail:((Oe=Le.error)==null?void 0:Oe.message)||"Search failed"}),new Error(((ae=Le.error)==null?void 0:ae.message)||"Hybrid search failed");ne=Le.data.results.map(ragResultToCitation),w.setCitations(ne);const Be=Le.data.results.filter(We=>We.sources.includes("semantic")).length,Ge=Le.data.results.filter(We=>We.sources.includes("keyword")).length;w.updateTrace(te,{status:"done",duration:Ze,detail:`Found ${ne.length} (semantic: ${Be}, keyword: ${Ge})`})}else if(j.mode==="web"){const Le=await searchWeb(M,{maxResults:5,searchDepth:"basic"}),Ze=Date.now()-je;oe=Le.answer,ne=(Le.results||[]).map((Be,Ge)=>({id:Be.url||`web-${Ge}`,title:Be.title||"Untitled",url:Be.url,snippet:Be.snippet||"",score:Be.score??0})),w.setCitations(ne),w.updateTrace(te,{status:"done",duration:Ze,detail:`Found ${ne.length} results`})}else w.setCitations([]),w.updateTrace(te,{status:"done",duration:Date.now()-je,detail:"Skipped"});const Ae={id:re,type:"generate",label:j.mode==="web"?"Present Results":"Generate Response",timestamp:Date.now(),status:"running"};w.addTrace(Ae),w.addAssistantMessage(V);const Qe=Date.now();if(j.mode==="web"){const Le=ne.map((Ge,We)=>{const at=Ge.url?`
${Ge.url}`:"",rt=Ge.snippet?`
${Ge.snippet}`:"";return`${We+1}. ${Ge.title}${at}${rt}`}),Ze=[oe==null?void 0:oe.trim(),Le.join(`

`)].filter(Boolean).join(`

`);Ze&&w.appendAssistantContent(V,Ze);const Be=Date.now()-Qe;w.updateTrace(re,{status:"done",duration:Be}),w.finishAssistantMessage(V);return}const Xe=j.mode==="rag"?buildRAGContextString(ne):"";for await(const Le of streamChatEvents({text:M,ragContext:Xe||void 0,signal:se.signal}))Le.type==="text"&&w.appendAssistantContent(V,Le.text);const Ue=Date.now()-Qe;w.updateTrace(re,{status:"done",duration:Ue}),w.finishAssistantMessage(V)}catch(ge){if(ge instanceof Error&&ge.name==="AbortError")w.finishAssistantMessage(V),w.updateTrace(re,{status:"error",detail:"Cancelled"});else{const je=ge instanceof Error?ge.message:"Unknown error";w.setError(je),w.updateTrace(re,{status:"error",detail:je})}}finally{w.setProcessing(!1)}},[j.input,j.isProcessing,j.mode,w]),I=reactExports.useCallback(()=>{w.abort(),w.setProcessing(!1)},[w]);return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col rounded-lg overflow-hidden",S?"bg-[hsl(var(--terminal-code-bg))] border border-border shadow-2xl shadow-black/50":"bg-card border border-border shadow-lg",y&&"h-full",r),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center border-b",S?"bg-[hsl(var(--terminal-titlebar))] border-border":"bg-muted/50 border-border",y?"gap-2 px-3 py-2.5":"gap-2 px-3 py-2"),children:[!y&&S&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500/80 hover:bg-red-500 cursor-pointer transition-colors",onClick:x}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-amber-500/80 hover:bg-amber-500 cursor-pointer transition-colors",onClick:E}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-500/80"})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex-1 flex items-center gap-2",y?"justify-start":"justify-center"),children:[jsxRuntimeExports.jsx(Terminal,{className:cn(y?"w-5 h-5":"w-4 h-4",S?"text-primary":"text-muted-foreground")}),jsxRuntimeExports.jsx("span",{className:cn("font-mono",y?"text-sm":"text-xs",S?"text-foreground":"text-muted-foreground"),children:"AI Console"}),jsxRuntimeExports.jsx("span",{className:cn("font-mono rounded",y?"text-xs px-2 py-1":"text-[10px] px-1.5 py-0.5",S?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground bg-muted"),children:_})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex items-center","gap-1"),children:[jsxRuntimeExports.jsx("button",{onClick:w.clearAll,className:cn("rounded transition-colors",S?"text-muted-foreground hover:text-foreground hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted",y?"p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center":"p-1.5"),title:"Clear conversation",children:jsxRuntimeExports.jsx(Trash2,{className:cn(y?"w-5 h-5":"w-3.5 h-3.5")})}),E&&!y&&jsxRuntimeExports.jsx("button",{onClick:E,className:cn("p-1.5 rounded transition-colors",S?"text-muted-foreground hover:text-foreground hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:O?jsxRuntimeExports.jsx(Maximize2,{className:"w-3.5 h-3.5"}):jsxRuntimeExports.jsx(Minimize2,{className:"w-3.5 h-3.5"})}),x&&jsxRuntimeExports.jsx("button",{onClick:x,className:cn("rounded transition-colors",S?"text-muted-foreground hover:text-foreground hover:bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted",y?"p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center":"p-1.5"),children:jsxRuntimeExports.jsx(X$1,{className:cn(y?"w-5 h-5":"w-3.5 h-3.5")})})]})]}),!O&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ConsoleMessages,{messages:j.messages,isMobile:y,isTerminal:S,scrollKey:j.traces.length,className:"flex-1 min-h-0"}),jsxRuntimeExports.jsx(ConsoleTrace,{traces:j.traces}),j.error&&jsxRuntimeExports.jsx("div",{className:"px-4 py-2 bg-red-500/10 border-t border-red-500/20 text-xs text-red-400",children:j.error}),jsxRuntimeExports.jsx(ConsoleInput,{value:j.input,onChange:w.setInput,onSubmit:Q,onStop:I,isProcessing:j.isProcessing,mode:j.mode,onModeChange:w.setMode,isMobile:y,isTerminal:S,className:cn(y?"mt-4":"mt-5")})]})]})});function ProjectModal({open:o,project:r,onOpenChange:x}){const O=reactExports.useRef(null),E=()=>{const S=O.current;S&&S.requestFullscreen&&S.requestFullscreen()},y=()=>x(!1);return jsxRuntimeExports.jsx(Dialog,{open:o,onOpenChange:x,children:jsxRuntimeExports.jsxs(DialogContent,{hideClose:!0,className:"h-[88vh] w-[96vw] max-w-6xl overflow-hidden border-border/60 bg-background p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-4 py-3",children:[jsxRuntimeExports.jsx(DialogTitle,{className:"truncate text-base font-semibold",children:(r==null?void 0:r.title)??"Project Preview"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[(r==null?void 0:r.url)&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Open"]})}),(r==null?void 0:r.type)==="embed"&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:E,children:[jsxRuntimeExports.jsx(Maximize2,{className:"h-4 w-4"}),"Fullscreen"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:y,"aria-label":"Close preview",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"h-[calc(88vh-57px)]",children:(r==null?void 0:r.type)==="console"?jsxRuntimeExports.jsx(AIConsole,{className:"h-full rounded-none border-0 shadow-none",onClose:y}):(r==null?void 0:r.type)==="embed"?jsxRuntimeExports.jsx("iframe",{ref:O,src:r.url,title:`${r.title} preview`,className:"h-full w-full border-0",loading:"lazy",allow:"clipboard-read; clipboard-write; fullscreen",allowFullScreen:!0}):jsxRuntimeExports.jsx("div",{className:"flex h-full items-center justify-center px-6 text-center text-sm text-muted-foreground",children:"This project cannot be embedded due to security policy. Use the Open button."})})]})})}function TagFilter({tags:o,selectedTag:r,onSelect:x}){const O=["All",...o];return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(E=>{const y=r===E;return jsxRuntimeExports.jsx(Button,{type:"button",variant:y?"default":"outline",size:"sm",className:cn("rounded-full px-3",!y&&"text-foreground/80"),onClick:()=>x(E),children:E},E)})})}function sanitizeStringArray(o){return Array.isArray(o)?o.map(r=>typeof r=="string"?r.trim():"").filter(Boolean):[]}function normalizeProjectType(o){const r=typeof o=="string"?o.toLowerCase().trim():"";return r==="console"||r==="embed"||r==="link"?r:"link"}function toSafeDate(o){const r=typeof o=="string"?o:"";if(!r)return"1970-01-01";const x=new Date(r);return Number.isNaN(x.getTime())?"1970-01-01":x.toISOString().slice(0,10)}function createId(o,r){return typeof o.id=="string"&&o.id.trim()?o.id.trim():typeof o.slug=="string"&&o.slug.trim()?o.slug.trim():typeof o.title=="string"&&o.title.trim()?o.title.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""):`project-${r+1}`}function normalizeProject(o,r){if(o.published===!1)return null;const x=typeof o.title=="string"?o.title.trim():"",O=typeof o.description=="string"?o.description.trim():"",E=typeof o.url=="string"?o.url.trim():"";if(!x||!E)return null;const y=typeof o.codeUrl=="string"?o.codeUrl.trim():"",S=typeof o.thumbnail=="string"?o.thumbnail.trim():"",j=typeof o.category=="string"&&o.category.trim()?o.category.trim():"Web",w=typeof o.status=="string"&&o.status.trim()?o.status.trim():"Dev";return{id:createId(o,r),title:x,description:O||"No description provided.",date:toSafeDate(o.date),category:j,tags:sanitizeStringArray(o.tags),stack:sanitizeStringArray(o.stack),status:w,type:normalizeProjectType(o.type),url:E,codeUrl:y||void 0,thumbnail:S||void 0,featured:!!o.featured}}class ProjectService{static getBasePath(){return"/".replace(/\/$/,"")}static async loadManifest(){try{const x=`${this.getBasePath()}/projects-manifest.json${`?v=${Date.now()}`}`,O=await fetch(x,{cache:"no-cache"});if(!O.ok)throw new Error(`Failed to load projects manifest: ${O.status}`);return await O.json()}catch(r){return console.error("Error loading projects manifest:",r),null}}static async getAllProjects(){if(this.cache)return this.cache.items;const r=await this.loadManifest(),O=(Array.isArray(r==null?void 0:r.items)?r==null?void 0:r.items:[]).map((E,y)=>normalizeProject(E,y)).filter(E=>E!==null).sort((E,y)=>E.featured&&!y.featured?-1:!E.featured&&y.featured?1:new Date(y.date).getTime()-new Date(E.date).getTime());return this.cache={total:O.length,items:O,generatedAt:(r==null?void 0:r.generatedAt)||new Date().toISOString(),format:(r==null?void 0:r.format)??1},this.cache.items}static getTags(r){return Array.from(new Set(r.flatMap(x=>x.tags))).sort()}static clearCache(){this.cache=null}}sr(ProjectService,"cache",null);const getProjects=async()=>ProjectService.getAllProjects(),getProjectTags=o=>ProjectService.getTags(o);function getStatusClassName(o){const r=o.toLowerCase();return r==="live"?"bg-emerald-500/15 text-emerald-700 dark:text-emerald-300 border-emerald-500/30":r==="archive"?"bg-slate-500/15 text-slate-700 dark:text-slate-300 border-slate-500/30":"bg-amber-500/15 text-amber-700 dark:text-amber-300 border-amber-500/30"}const Projects=()=>{const o=useIsMobile(),[r,x]=reactExports.useState([]),[O,E]=reactExports.useState(!0),[y,S]=reactExports.useState(null),[j,w]=reactExports.useState("card"),[_,Q]=reactExports.useState("All"),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(!1),te=reactExports.useCallback(async()=>{E(!0),S(null);try{const ae=await getProjects();x(ae)}catch(ae){x([]),S(ae instanceof Error?ae.message:"Failed to load projects manifest.")}finally{E(!1)}},[]);reactExports.useEffect(()=>{te()},[te]);const re=reactExports.useMemo(()=>r.find(ae=>ae.featured)??r[0]??null,[r]),se=reactExports.useMemo(()=>getProjectTags(r),[r]),ne=reactExports.useMemo(()=>_==="All"?r:r.filter(ae=>ae.tags.includes(_)),[r,_]);reactExports.useEffect(()=>{_!=="All"&&(se.includes(_)||Q("All"))},[se,_]);const oe=ae=>{typeof window>"u"||window.open(ae.url,"_blank","noopener,noreferrer")},Oe=ae=>{if(ae.type==="link"){oe(ae);return}if(o&&ae.type==="embed"){oe(ae);return}M(ae),V(!0)};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto max-w-7xl px-4 py-10",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs",children:["✨ New",jsxRuntimeExports.jsx("span",{children:"Project Hub"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight md:text-4xl",children:"Projects"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl text-base text-muted-foreground md:text-lg",children:"markdown 파일 기반 manifest에서 프로젝트를 동적으로 로드합니다. 가능한 서비스는 페이지 내 Preview로 즉시 체험할 수 있습니다."})]}),O&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"mt-8",children:jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden border-border/60",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-4 pb-3",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-36 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-8 w-2/3"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 max-w-3xl",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-5/6"})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-wrap gap-2 pb-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-10 w-28 rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-10 w-28 rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-10 w-24 rounded-md"})]})]})}),jsxRuntimeExports.jsxs("section",{className:"mt-10 space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-16 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-20 rounded-full"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-9 w-24 rounded-full"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-11 w-36 rounded-xl"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((ae,ge)=>jsxRuntimeExports.jsx(ProjectCardSkeleton,{},ge))})]})]}),!O&&y&&jsxRuntimeExports.jsx("section",{className:"mt-8",children:jsxRuntimeExports.jsxs(Card,{className:"border-destructive/40",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Failed to load projects"}),jsxRuntimeExports.jsx(CardDescription,{children:y})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{onClick:()=>void te(),children:"Retry"})})]})}),!O&&!y&&r.length===0&&jsxRuntimeExports.jsx("section",{className:"mt-8",children:jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"No projects found"}),jsxRuntimeExports.jsxs(CardDescription,{children:[jsxRuntimeExports.jsx("code",{children:"public/project-data/*.md"})," 파일과"," ",jsxRuntimeExports.jsx("code",{children:"projects-manifest.json"})," 생성 상태를 확인해주세요."]})]})})}),!O&&!y&&r.length>0&&re&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"mt-8",children:jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden border-primary/25 bg-gradient-to-br from-primary/10 via-card to-card",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"w-fit text-xs",children:"Featured Project"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:re.title}),jsxRuntimeExports.jsx(CardDescription,{className:"max-w-3xl text-sm md:text-base",children:re.description})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-wrap gap-2 pb-6",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>oe(re),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Visit"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>Oe(re),children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),"Preview"]}),re.codeUrl&&jsxRuntimeExports.jsx(Button,{variant:"ghost",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:re.codeUrl,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(CodeXml,{className:"h-4 w-4"}),"Code"]})})]})]})}),jsxRuntimeExports.jsxs("section",{className:"mt-10 space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[jsxRuntimeExports.jsx(TagFilter,{tags:se,selectedTag:_,onSelect:Q}),jsxRuntimeExports.jsxs("div",{className:"inline-flex rounded-xl border border-border/70 bg-card p-1",children:[jsxRuntimeExports.jsxs(Button,{type:"button",variant:j==="card"?"default":"ghost",size:"sm",className:"rounded-lg",onClick:()=>w("card"),children:[jsxRuntimeExports.jsx(LayoutGrid,{className:"h-4 w-4"}),"Card"]}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:j==="list"?"default":"ghost",size:"sm",className:"rounded-lg",onClick:()=>w("list"),children:[jsxRuntimeExports.jsx(List$2,{className:"h-4 w-4"}),"List"]})]})]}),j==="card"?jsxRuntimeExports.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:ne.map(ae=>jsxRuntimeExports.jsx(ProjectCard,{project:ae,onPreview:Oe},ae.id))}):jsxRuntimeExports.jsx(Card,{className:"overflow-hidden border-border/60",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Date"}),jsxRuntimeExports.jsx(TableHead,{children:"Category"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Stack"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Links"})]})}),jsxRuntimeExports.jsx(TableBody,{children:ne.map(ae=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"whitespace-nowrap text-xs text-muted-foreground",children:ae.date}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:ae.category})}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:ae.title}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs text-muted-foreground",children:ae.stack.length?ae.stack.join(" / "):"-"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:cn("border",getStatusClassName(ae.status)),children:ae.status})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:ae.url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Visit"]})}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Oe(ae),children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),"Preview"]})]})})]},ae.id))})]})})]}),jsxRuntimeExports.jsxs("section",{className:"mt-10 grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsx(Card,{className:"border-border/60",children:jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Type A: Iframe Embed"}),jsxRuntimeExports.jsx(CardDescription,{children:"홈랩/내부 서비스처럼 보안 헤더를 제어 가능한 프로젝트는 LightBox Modal에서 iframe으로 미리보기를 제공합니다."})]})}),jsxRuntimeExports.jsx(Card,{className:"border-border/60",children:jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Type B: Direct Link"}),jsxRuntimeExports.jsx(CardDescription,{children:"외부 서비스 또는 보안 정책상 frame-ancestors 제한이 있는 프로젝트는 새 탭에서 열리도록 처리합니다."})]})})]})]}),jsxRuntimeExports.jsx(ProjectModal,{open:F,project:I,onOpenChange:ae=>{V(ae),ae||M(null)}})]})};async function adminLoginStep1(o,r){var y;const x=getApiBaseUrl(),O=await fetch(`${x}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:r})}),E=await O.json().catch(()=>({}));if(!O.ok||!(E!=null&&E.ok))throw new Error(((y=E==null?void 0:E.error)==null?void 0:y.message)||(E==null?void 0:E.error)||"Login failed");return E.data}async function adminLoginStep2(o,r){var y;const x=getApiBaseUrl(),O=await fetch(`${x}/api/v1/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o,otp:r})}),E=await O.json().catch(()=>({}));if(!O.ok||!(E!=null&&E.ok))throw new Error(((y=E==null?void 0:E.error)==null?void 0:y.message)||(E==null?void 0:E.error)||"OTP verification failed");return E.data}async function adminResendOtp(o){var E;const r=getApiBaseUrl(),x=await fetch(`${r}/api/v1/auth/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o})}),O=await x.json().catch(()=>({}));if(!x.ok||!(O!=null&&O.ok))throw new Error(((E=O==null?void 0:O.error)==null?void 0:E.message)||(O==null?void 0:O.error)||"Failed to resend OTP");return O.data}async function createPostPR(o,r){const x=getApiBaseUrl(),O=await fetch(`${x}/api/v1/admin/create-post-pr`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(o)}),E=await O.json().catch(()=>({}));if(!O.ok||!(E!=null&&E.ok))throw new Error((E==null?void 0:E.error)||"Failed to create PR");return E.data}async function uploadPostImages(o,r,x){const O=getApiBaseUrl(),E=new FormData;E.append("year",String(o.year)),E.append("slug",o.slug);for(const j of r)E.append("files",j,j.name);const y=await fetch(`${O}/api/v1/images/upload`,{method:"POST",headers:{Authorization:`Bearer ${x}`},body:E}),S=await y.json().catch(()=>({}));if(!y.ok||!(S!=null&&S.ok))throw new Error((S==null?void 0:S.error)||"Failed to upload");return S.data}function NewPost(){const{toast:o}=useToast(),[r,x]=reactExports.useState(""),[O,E]=reactExports.useState(""),[y,S]=reactExports.useState(""),[j,w]=reactExports.useState(null),[_,Q]=reactExports.useState("credentials"),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(null),[te,re]=reactExports.useState(""),[se,ne]=reactExports.useState(""),[oe,Oe]=reactExports.useState(new Date().getFullYear().toString()),[ae,ge]=reactExports.useState("General"),[je,Ae]=reactExports.useState(""),[Qe,Xe]=reactExports.useState(!0),[Ue,Le]=reactExports.useState(""),[Ze,Be]=reactExports.useState(""),Ge=reactExports.useRef(null),[We,at]=reactExports.useState(!1),[rt,Je]=reactExports.useState([]);reactExports.useEffect(()=>{try{const qe=localStorage.getItem("admin.token"),ot=localStorage.getItem("admin.refreshToken");qe&&(M(qe),Q("authenticated")),ot&&V(ot)}catch{}},[]);const mt=useMutation({mutationFn:async()=>{const qe=await adminLoginStep1(r,O);return w(qe.sessionId),Q("otp"),qe._dev_otp&&S(qe._dev_otp),qe},onSuccess:qe=>o({title:"OTP 전송됨",description:qe.message}),onError:qe=>o({title:"로그인 실패",description:(qe==null?void 0:qe.message)||"인증 실패",variant:"destructive"})}),Ke=useMutation({mutationFn:async()=>{if(!j)throw new Error("세션이 없습니다");const qe=await adminLoginStep2(j,y);M(qe.accessToken),V(qe.refreshToken),Q("authenticated");try{localStorage.setItem("admin.token",qe.accessToken),localStorage.setItem("admin.refreshToken",qe.refreshToken),window.dispatchEvent(new Event("admin-auth-changed"))}catch{}return qe},onSuccess:()=>o({title:"로그인 성공",description:"관리자 인증 완료"}),onError:qe=>o({title:"OTP 인증 실패",description:(qe==null?void 0:qe.message)||"인증 실패",variant:"destructive"})}),ze=useMutation({mutationFn:async()=>{if(!j)throw new Error("세션이 없습니다");return await adminResendOtp(j)},onSuccess:qe=>o({title:"OTP 재전송",description:qe.message}),onError:qe=>o({title:"OTP 재전송 실패",description:(qe==null?void 0:qe.message)||"실패",variant:"destructive"})}),He=()=>{M(null),V(null),w(null),S(""),Q("credentials");try{localStorage.removeItem("admin.token"),localStorage.removeItem("admin.refreshToken"),window.dispatchEvent(new Event("admin-auth-changed"))}catch{}},tt=()=>{w(null),S(""),Q("credentials")},ct=useMutation({mutationFn:async()=>{if(!I)throw new Error("먼저 로그인하세요");const qe={title:te.trim()||se.trim()||"New Post",slug:se.trim()||void 0,year:oe,content:Ze,frontmatter:{category:ae||"General",tags:je.split(",").map(ot=>ot.trim()).filter(Boolean),coverImage:Ue||void 0,published:Qe}};return await createPostPR(qe,I)},onSuccess:qe=>{o({title:"PR 생성됨",description:qe.prUrl});try{window.open(qe.prUrl,"_blank")}catch{}},onError:qe=>o({title:"PR 생성 실패",description:(qe==null?void 0:qe.message)||"오류",variant:"destructive"})}),ut=async()=>{try{if(!I)throw new Error("먼저 로그인하세요");if(!oe||!/^[0-9]{4}$/.test(oe))throw new Error("연도(YYYY)를 입력하세요");if(!se.trim())throw new Error("슬러그를 입력하세요");const qe=Ge.current;if(!qe||!qe.files||qe.files.length===0)throw new Error("업로드할 파일을 선택하세요");at(!0);const ot=Array.from(qe.files),pt=await uploadPostImages({year:oe,slug:se.trim()},ot,I);Je(Ve=>[...pt.items,...Ve]),o({title:"업로드 완료",description:`${pt.items.length}개 업로드됨`}),qe.value=""}catch(qe){o({title:"업로드 실패",description:(qe==null?void 0:qe.message)||"오류",variant:"destructive"})}finally{at(!1)}},it=qe=>{Be(ot=>ot?`${ot}${ot.endsWith(`
`)?"":`
`}${qe}
`:`${qe}
`)},yt=reactExports.useMemo(()=>{const qe=[];return te.trim()&&qe.push(`# ${te.trim()}`),Ue.trim()&&qe.push(`![cover](${Ue.trim()})`),je.trim()&&qe.push(`
> 태그: ${je}`),ae.trim()&&qe.push(`> 카테고리: ${ae}`),Qe||qe.push("> 상태: Draft"),qe.length&&qe.push(""),[qe.join(`
`),Ze].filter(Boolean).join(`
`)},[te,Ue,je,ae,Qe,Ze]),et=()=>_==="authenticated"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-green-600",children:"로그인됨"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:He,children:"로그아웃"})]}):_==="otp"?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"이메일로 전송된 인증 코드를 입력하세요"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Input,{value:y,onChange:qe=>S(qe.target.value),placeholder:"000000",maxLength:6,className:"w-32 text-center text-lg tracking-widest"}),jsxRuntimeExports.jsx(Button,{onClick:()=>Ke.mutate(),disabled:Ke.isPending||y.length<6,children:Ke.isPending?"인증 중…":"인증"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>ze.mutate(),disabled:ze.isPending,children:ze.isPending?"재전송 중…":"OTP 재전송"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:tt,children:"처음으로"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"username",children:"관리자 아이디"}),jsxRuntimeExports.jsx(Input,{id:"username",value:r,onChange:qe=>x(qe.target.value),placeholder:"admin"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"관리자 비밀번호"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:O,onChange:qe=>E(qe.target.value),placeholder:"••••••"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx(Button,{onClick:()=>mt.mutate(),disabled:mt.isPending||!r||!O,children:mt.isPending?"로그인 중…":"로그인"})})]});return jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"게시글 작성 (PR 생성)"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[et(),jsxRuntimeExports.jsx("hr",{className:"my-4"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"title",children:"제목"}),jsxRuntimeExports.jsx(Input,{id:"title",value:te,onChange:qe=>re(qe.target.value),placeholder:"글 제목"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"slug",children:"슬러그"}),jsxRuntimeExports.jsx(Input,{id:"slug",value:se,onChange:qe=>ne(qe.target.value),placeholder:"my-new-post"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"year",children:"연도"}),jsxRuntimeExports.jsx(Input,{id:"year",value:oe,onChange:qe=>Oe(qe.target.value),placeholder:"2025"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"category",children:"카테고리"}),jsxRuntimeExports.jsx(Input,{id:"category",value:ae,onChange:qe=>ge(qe.target.value),placeholder:"General"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"tags",children:"태그 (쉼표로 구분)"}),jsxRuntimeExports.jsx(Input,{id:"tags",value:je,onChange:qe=>Ae(qe.target.value),placeholder:"react, typescript"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"coverImage",children:"커버 이미지 URL (선택)"}),jsxRuntimeExports.jsx(Input,{id:"coverImage",value:Ue,onChange:qe=>Le(qe.target.value),placeholder:"/images/cover.jpg"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Qe,onChange:qe=>Xe(qe.target.checked)}),jsxRuntimeExports.jsx("span",{children:"공개"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"content",children:"내용 (Markdown)"}),jsxRuntimeExports.jsx(Textarea,{id:"content",value:Ze,onChange:qe=>Be(qe.target.value),className:"min-h-[360px]",placeholder:"# 새 글 시작..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"미리보기"}),jsxRuntimeExports.jsx("div",{className:"border rounded-md p-4 min-h-[360px] bg-background",children:jsxRuntimeExports.jsx(MarkdownRenderer$1,{content:yt})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-end",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(Label$1,{children:"이미지 업로드"}),jsxRuntimeExports.jsx(Input,{ref:Ge,type:"file",accept:"image/*",multiple:!0})]}),jsxRuntimeExports.jsx(Button,{onClick:ut,disabled:We||!I,children:We?"업로드 중…":"이미지 업로드"})]}),rt.length>0&&jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"업로드된 파일 (클릭하면 마크다운 삽입)"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:rt.map((qe,ot)=>{var pt;return jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"text-primary hover:underline",onClick:()=>{var Ve;return it(`![image](${((Ve=qe.variantWebp)==null?void 0:Ve.url)||qe.url})`)},title:"마크다운 삽입",children:((pt=qe.variantWebp)==null?void 0:pt.url)||qe.url}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>{var Ve;return navigator.clipboard.writeText(((Ve=qe.variantWebp)==null?void 0:Ve.url)||qe.url)},children:"복사"})]},ot)})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsx(Button,{onClick:()=>ct.mutate(),disabled:ct.isPending||!I,children:ct.isPending?"PR 생성 중…":"PR 생성하기"})})]})]})})}const NotFound=()=>jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16 sm:py-24",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-9xl font-bold text-primary/20",children:"404"}),jsxRuntimeExports.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight sm:text-4xl",children:"Page not found"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Sorry, we couldn't find the page you're looking for. The page might have been moved or deleted."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsx(Button,{asChild:!0,size:"lg",children:jsxRuntimeExports.jsxs(Link,{to:"/",children:[jsxRuntimeExports.jsx(House,{className:"mr-2 h-4 w-4"}),"Go to Homepage"]})}),jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"outline",size:"lg",children:jsxRuntimeExports.jsxs(Link,{to:"/blog",children:[jsxRuntimeExports.jsx(Search,{className:"mr-2 h-4 w-4"}),"Browse Blog Posts"]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Popular posts"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[jsxRuntimeExports.jsx(Link,{to:"/blog/2025/ai-models-for-coding",className:"block text-sm text-primary hover:underline",children:"AI Models for Coding: A Comprehensive Guide"}),jsxRuntimeExports.jsx(Link,{to:"/blog/2025/docker-kubernetes-guide",className:"block text-sm text-primary hover:underline",children:"Docker & Kubernetes: Modern Container Orchestration"}),jsxRuntimeExports.jsx(Link,{to:"/blog/2025/react-nextjs-modern-web-development",className:"block text-sm text-primary hover:underline",children:"React & Next.js: Modern Web Development"})]})]})]})});function buildAdjacencyList(o,r){var O,E;const x=new Map;for(const y of o)x.set(y.id,new Map);for(const y of r)(O=x.get(y.source))==null||O.set(y.target,y.weight),(E=x.get(y.target))==null||E.set(y.source,y.weight);return x}function dijkstra(o,r){const x=new Map,O=new Set;o.forEach((y,S)=>x.set(S,1/0)),x.set(r,0);const E=[[r,0]];for(;E.length>0;){E.sort((w,_)=>w[1]-_[1]);const[y,S]=E.shift();if(O.has(y))continue;O.add(y);const j=o.get(y);j&&j.forEach((w,_)=>{const Q=S+w;Q<(x.get(_)??1/0)&&(x.set(_,Q),E.push([_,Q]))})}return x}function simulateForces(o,r,x,O,E=150){const y=o.map(V=>({...V})),S=80,j=Math.ceil(Math.sqrt(y.length)),w=(x-120)/j,_=(O-120)/Math.ceil(y.length/j);y.forEach((V,te)=>{if(V.x===0&&V.y===0){const re=te%j,se=Math.floor(te/j);V.x=60+re*w+w/2+(Math.random()-.5)*w*.5,V.y=60+se*_+_/2+(Math.random()-.5)*_*.5}V.vx=0,V.vy=0});const Q=new Map;y.forEach(V=>Q.set(V.id,new Set)),r.forEach(V=>{var te,re;(te=Q.get(V.source))==null||te.add(V.target),(re=Q.get(V.target))==null||re.add(V.source)});const I=Math.sqrt(x*O/y.length)*.6,M=.08,F=.8;for(let V=0;V<E;V++){const te=1-V/E,re=.1*(1+te);for(let se=0;se<y.length;se++)for(let ne=se+1;ne<y.length;ne++){let oe=y[ne].x-y[se].x,Oe=y[ne].y-y[se].y,ae=Math.sqrt(oe*oe+Oe*Oe);if(ae<1){const Qe=Math.random()*Math.PI*2;oe=Math.cos(Qe),Oe=Math.sin(Qe),ae=1}let ge;ae<S?ge=(S-ae)/S*I*2:ge=I*I/ae;const je=oe/ae*ge*re,Ae=Oe/ae*ge*re;y[se].vx-=je,y[se].vy-=Ae,y[ne].vx+=je,y[ne].vy+=Ae}r.forEach(se=>{const ne=y.find(Ue=>Ue.id===se.source),oe=y.find(Ue=>Ue.id===se.target);if(!ne||!oe)return;const Oe=oe.x-ne.x,ae=oe.y-ne.y,ge=Math.max(Math.sqrt(Oe*Oe+ae*ae),1),je=I*(.8+se.weight*.2),Ae=(ge-je)*.05*te,Qe=Oe/ge*Ae,Xe=ae/ge*Ae;ne.vx+=Qe,ne.vy+=Xe,oe.vx-=Qe,oe.vy-=Xe}),y.forEach(se=>{var ge;const oe=1/(1+(((ge=Q.get(se.id))==null?void 0:ge.size)||0)*.3),Oe=x/2-se.x,ae=O/2-se.y;se.vx+=Oe*M*.01*oe,se.vy+=ae*M*.01*oe}),y.forEach(se=>{se.vx*=F,se.vy*=F;const ne=Math.sqrt(se.vx*se.vx+se.vy*se.vy),oe=20*te+5;ne>oe&&(se.vx=se.vx/ne*oe,se.vy=se.vy/ne*oe),se.x+=se.vx,se.y+=se.vy;const Oe=80;se.x=Math.max(Oe,Math.min(x-Oe,se.x)),se.y=Math.max(Oe,Math.min(O-Oe,se.y))})}for(let V=0;V<10;V++){let te=!1;for(let re=0;re<y.length;re++)for(let se=re+1;se<y.length;se++){const ne=y[se].x-y[re].x,oe=y[se].y-y[re].y,Oe=Math.sqrt(ne*ne+oe*oe);if(Oe<S){te=!0;const ae=(S-Oe)/2+1,ge=Oe>0?Math.atan2(oe,ne):Math.random()*Math.PI*2;y[re].x-=Math.cos(ge)*ae,y[re].y-=Math.sin(ge)*ae,y[se].x+=Math.cos(ge)*ae,y[se].y+=Math.sin(ge)*ae,y[re].x=Math.max(80,Math.min(x-80,y[re].x)),y[re].y=Math.max(80,Math.min(O-80,y[re].y)),y[se].x=Math.max(80,Math.min(x-80,y[se].x)),y[se].y=Math.max(80,Math.min(O-80,y[se].y))}}if(!te)break}return y}function GraphCanvas({nodes:o,edges:r,selectedNode:x,hoveredNode:O,pathNodes:E,onNodeClick:y,onNodeHover:S,zoom:j,offset:w,isTerminal:_}){const Q=reactExports.useRef(null),I=reactExports.useRef(0),[M,F]=reactExports.useState({width:800,height:600});reactExports.useEffect(()=>{var ne;const re=(ne=Q.current)==null?void 0:ne.parentElement;if(!re)return;const se=new ResizeObserver(oe=>{const{width:Oe,height:ae}=oe[0].contentRect;F({width:Oe,height:ae})});return se.observe(re),()=>se.disconnect()},[]),reactExports.useEffect(()=>{const re=Q.current;if(!re)return;const se=re.getContext("2d");if(!se)return;const ne=window.devicePixelRatio||1;return re.width=M.width*ne,re.height=M.height*ne,se.scale(ne,ne),I.current=requestAnimationFrame(()=>{se.fillStyle=_?"#0a0a0f":"#fafafa",se.fillRect(0,0,M.width,M.height),se.save(),se.translate(w.x,w.y),se.scale(j,j),se.strokeStyle=_?"rgba(80, 250, 123, 0.05)":"rgba(0, 0, 0, 0.03)",se.lineWidth=1/j;const oe=40;for(let Oe=0;Oe<M.width/j;Oe+=oe)se.beginPath(),se.moveTo(Oe,0),se.lineTo(Oe,M.height/j),se.stroke();for(let Oe=0;Oe<M.height/j;Oe+=oe)se.beginPath(),se.moveTo(0,Oe),se.lineTo(M.width/j,Oe),se.stroke();r.forEach(Oe=>{const ae=o.find(Qe=>Qe.id===Oe.source),ge=o.find(Qe=>Qe.id===Oe.target);if(!ae||!ge)return;const je=E.has(ae.id)&&E.has(ge.id),Ae=O===ae.id||O===ge.id;se.beginPath(),se.moveTo(ae.x,ae.y),se.lineTo(ge.x,ge.y),je?(se.strokeStyle=_?"#bd93f9":"#8b5cf6",se.lineWidth=3/j):Ae?(se.strokeStyle=_?"rgba(80, 250, 123, 0.6)":"rgba(59, 130, 246, 0.6)",se.lineWidth=2/j):(se.strokeStyle=_?"rgba(80, 250, 123, 0.15)":"rgba(0, 0, 0, 0.1)",se.lineWidth=1/j),se.stroke()}),o.forEach(Oe=>{const ae=x===Oe.id,ge=O===Oe.id,je=E.has(Oe.id);let Ae,Qe,Xe=24;switch(Oe.type){case"post":Ae=_?"#50fa7b":"#22c55e",Qe=_?"#50fa7b":"#16a34a",Xe=28;break;case"chat":Ae=_?"#bd93f9":"#8b5cf6",Qe=_?"#bd93f9":"#7c3aed",Xe=22;break;case"comment":Ae=_?"#8be9fd":"#06b6d4",Qe=_?"#8be9fd":"#0891b2",Xe=18;break;case"question":Ae=_?"#ffb86c":"#f59e0b",Qe=_?"#ffb86c":"#d97706",Xe=20;break;case"memo":Ae=_?"#ff79c6":"#ec4899",Qe=_?"#ff79c6":"#db2777",Xe=20;break;case"tag":Ae=_?"#f1fa8c":"#eab308",Qe=_?"#f1fa8c":"#ca8a04",Xe=18;break;case"search":Ae=_?"#8be9fd":"#0ea5e9",Qe=_?"#8be9fd":"#0284c7",Xe=18;break;default:Ae=_?"#6272a4":"#64748b",Qe=_?"#6272a4":"#475569",Xe=20}(ae||je)&&(Xe*=1.3),(ae||ge)&&(se.shadowColor=Ae,se.shadowBlur=20),se.beginPath(),se.arc(Oe.x,Oe.y,Xe/2,0,Math.PI*2),se.fillStyle=Ae,se.fill(),se.strokeStyle=ae?"#fff":Qe,se.lineWidth=ae?3/j:2/j,se.stroke(),se.shadowBlur=0,se.fillStyle=_?"#1a1a2e":"#fff",se.font=`bold ${Xe*.5}px monospace`,se.textAlign="center",se.textBaseline="middle";let Ue;switch(Oe.type){case"post":Ue="P";break;case"chat":Ue="C";break;case"comment":Ue="M";break;case"question":Ue="?";break;case"memo":Ue="✎";break;case"tag":Ue="#";break;case"search":Ue="⌕";break;default:Ue="•"}if(se.fillText(Ue,Oe.x,Oe.y),ae||ge||j>.8){const Le=Oe.label.length>20?`${Oe.label.slice(0,20)}...`:Oe.label;se.font=`${11/j}px monospace`,se.fillStyle=_?"rgba(80, 250, 123, 0.9)":"rgba(0, 0, 0, 0.8)",se.fillText(Le,Oe.x,Oe.y+Xe/2+12/j)}}),se.restore()}),()=>cancelAnimationFrame(I.current)},[o,r,x,O,E,j,w,_,M]);const V=re=>{const se=Q.current;if(!se)return;const ne=se.getBoundingClientRect(),oe=(re.clientX-ne.left-w.x)/j,Oe=(re.clientY-ne.top-w.y)/j,ae=o.find(ge=>{const je=ge.x-oe,Ae=ge.y-Oe;return Math.sqrt(je*je+Ae*Ae)<20});S((ae==null?void 0:ae.id)||null),se.style.cursor=ae?"pointer":"grab"},te=re=>{const se=Q.current;if(!se)return;const ne=se.getBoundingClientRect(),oe=(re.clientX-ne.left-w.x)/j,Oe=(re.clientY-ne.top-w.y)/j,ae=o.find(ge=>{const je=ge.x-oe,Ae=ge.y-Oe;return Math.sqrt(je*je+Ae*Ae)<20});ae&&y(ae.id)};return jsxRuntimeExports.jsx("canvas",{ref:Q,width:M.width,height:M.height,style:{width:"100%",height:"100%"},onMouseMove:V,onClick:te,onMouseLeave:()=>S(null)})}const Insight=()=>{const{isTerminal:o}=useTheme(),r=useNavigate(),[x,O]=reactExports.useState([]),[E,y]=reactExports.useState([]),[S,j]=reactExports.useState(!0),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState(null),[M,F]=reactExports.useState(new Set),[V,te]=reactExports.useState(1),[re,se]=reactExports.useState({x:0,y:0}),[ne,oe]=reactExports.useState(!1),[Oe,ae]=reactExports.useState({x:0,y:0}),[ge,je]=reactExports.useState(!1),[Ae,Qe]=reactExports.useState({chats:[],memos:[],thoughts:[]}),[Xe,Ue]=reactExports.useState([]),[Le,Ze]=reactExports.useState([]),[,Be]=reactExports.useState([]),Ge=reactExports.useRef(null),[We,at]=reactExports.useState("all"),[rt,Je]=reactExports.useState(new Set(["post","chat","memo","tag","search"])),[mt,Ke]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{var dt,Rt;j(!0);try{const It=await getPosts();let Xt=[];try{Xt=loadSessionsIndex().filter(Fe=>Fe&&Fe.id)}catch{}Ze(Xt);let Ut=[];try{const Fe=localStorage.getItem("aiMemo.events");Fe&&(Ut=JSON.parse(Fe).filter(nt=>nt&&typeof nt.t=="number"))}catch{}Ue(Ut);try{const Fe=localStorage.getItem("visited.posts");Fe&&JSON.parse(Fe)}catch{}let $t=[];try{$t=curiosityTracker.getEvents(),Be($t)}catch{}const Yt=[],zt=[],Zt=new Map,rr=new Map,or=[];$t.forEach(Fe=>{if(Fe.type==="tag_click"&&Fe.context.tag){const nt=Fe.context.tag,ft=Zt.get(nt);ft?(ft.count++,Fe.context.postId&&!ft.linkedPosts.includes(Fe.context.postId)&&ft.linkedPosts.push(Fe.context.postId),Fe.ts>ft.ts&&(ft.ts=Fe.ts)):Zt.set(nt,{count:1,linkedPosts:Fe.context.postId?[Fe.context.postId]:[],ts:Fe.ts})}else if(Fe.type==="search"&&Fe.context.queryHash){const nt=Fe.context.queryHash,ft=rr.get(nt);ft?(ft.count++,Fe.ts>ft.ts&&(ft.ts=Fe.ts)):rr.set(nt,{count:1,ts:Fe.ts,queryText:Fe.context.queryText})}else Fe.type==="memo_create"&&Fe.context.postId&&or.push({id:Fe.id,postId:Fe.context.postId,ts:Fe.ts,snippet:Fe.context.snippet})});const Jt=It.slice(0,30);Jt.forEach(Fe=>{Yt.push({id:`post-${Fe.slug}`,type:"post",label:Fe.title,x:0,y:0,vx:0,vy:0,data:Fe})}),Xt.slice(0,20).forEach(Fe=>{if(Yt.push({id:`chat-${Fe.id}`,type:"chat",label:Fe.title||Fe.articleTitle||"AI Chat",x:0,y:0,vx:0,vy:0,data:Fe}),Fe.articleUrl){const ft=`post-${Fe.articleUrl.split("/").pop()}`;Yt.find(Ct=>Ct.id===ft)&&zt.push({source:`chat-${Fe.id}`,target:ft,weight:1,type:"chat"})}}),Zt.forEach((Fe,nt)=>{const ft=`tag-${nt}`;Yt.push({id:ft,type:"tag",label:`#${nt}`,x:0,y:0,vx:0,vy:0,ts:Fe.ts,data:{tag:nt,count:Fe.count}}),Fe.linkedPosts.forEach(Ct=>{const Mt=Ct.split("/"),Wt=`post-${Mt[Mt.length-1]}`;Yt.find(er=>er.id===Wt)&&zt.push({source:ft,target:Wt,weight:1,type:"curiosity"})})}),Array.from(rr.entries()).sort((Fe,nt)=>nt[1].ts-Fe[1].ts).slice(0,10).forEach(([Fe,nt])=>{const ft=`search-${Fe}`;Yt.push({id:ft,type:"search",label:nt.queryText||`Search #${nt.count}`,x:0,y:0,vx:0,vy:0,ts:nt.ts,data:{hash:Fe,count:nt.count,queryText:nt.queryText}})}),or.slice(0,15).forEach(Fe=>{var qt;const nt=`memo-${Fe.id}`;Yt.push({id:nt,type:"memo",label:((qt=Fe.snippet)==null?void 0:qt.slice(0,30))||"Memo",x:0,y:0,vx:0,vy:0,ts:Fe.ts,data:Fe});const ft=Fe.postId.split("/"),Mt=`post-${ft[ft.length-1]}`;Yt.find(Wt=>Wt.id===Mt)&&zt.push({source:nt,target:Mt,weight:1,type:"curiosity"})});for(let Fe=0;Fe<Jt.length;Fe++)for(let nt=Fe+1;nt<Jt.length;nt++){const ft=Jt[Fe],Ct=Jt[nt];ft.category===Ct.category&&zt.push({source:`post-${ft.slug}`,target:`post-${Ct.slug}`,weight:2,type:"category"});const Mt=ft.tags.filter(qt=>Ct.tags.includes(qt));Mt.length>0&&zt.push({source:`post-${ft.slug}`,target:`post-${Ct.slug}`,weight:3-Math.min(Mt.length,2),type:"tag"})}const Ye=((dt=Ge.current)==null?void 0:dt.clientWidth)||800,$e=((Rt=Ge.current)==null?void 0:Rt.clientHeight)||600,Ne=simulateForces(Yt,zt,Ye,$e,150);O(Ne),y(zt)}catch(It){console.error("Failed to load insight data:",It)}finally{j(!1)}})()},[]);const ze=reactExports.useCallback(Ve=>{if(w===Ve){const Rt=x.find(It=>It.id===Ve);(Rt==null?void 0:Rt.type)==="post"&&je(!0);return}const dt=x.find(Rt=>Rt.id===Ve);if((dt==null?void 0:dt.type)==="post"&&dt.data){const Rt=`${dt.data.year}/${dt.data.slug}`,It=Le.filter($t=>$t.articleUrl?$t.articleUrl.includes(dt.data.slug):!1),Xt=Xe.filter($t=>{var zt;return(zt=$t.page)!=null&&zt.post?`${$t.page.post.year}/${$t.page.post.slug}`===Rt&&($t.type==="memo"||$t.type==="save"):!1}),Ut=Xe.filter($t=>{var zt;return(zt=$t.page)!=null&&zt.post?`${$t.page.post.year}/${$t.page.post.slug}`===Rt&&$t.type==="thought":!1});Qe({chats:It,memos:Xt,thoughts:Ut})}else Qe({chats:[],memos:[],thoughts:[]});if(w){const Rt=buildAdjacencyList(x,E),It=dijkstra(Rt,w),Xt=new Set([w,Ve]);x.forEach(Ut=>{const $t=It.get(Ut.id);$t!==void 0&&$t<5&&$t>0&&Xt.add(Ut.id)}),F(Xt)}_(Ve)},[w,x,E,r,Le,Xe]),He=()=>te(Ve=>Math.min(Ve*1.2,3)),tt=()=>te(Ve=>Math.max(Ve/1.2,.3)),ct=()=>{te(1),se({x:0,y:0}),_(null),F(new Set),je(!1),Qe({chats:[],memos:[],thoughts:[]})},ut=Ve=>{Ve.button===0&&(oe(!0),ae({x:Ve.clientX-re.x,y:Ve.clientY-re.y}))},it=Ve=>{ne&&se({x:Ve.clientX-Oe.x,y:Ve.clientY-Oe.y})},yt=()=>oe(!1),et=reactExports.useMemo(()=>{const Ve=Date.now();switch(We){case"1d":return Ve-24*60*60*1e3;case"7d":return Ve-7*24*60*60*1e3;case"30d":return Ve-30*24*60*60*1e3;default:return 0}},[We]),qe=reactExports.useMemo(()=>x.filter(Ve=>!(!rt.has(Ve.type)||We!=="all"&&Ve.ts&&Ve.ts<et)),[x,rt,We,et]),ot=reactExports.useMemo(()=>{const Ve=new Set(qe.map(dt=>dt.id));return E.filter(dt=>Ve.has(dt.source)&&Ve.has(dt.target))},[E,qe]),pt=reactExports.useMemo(()=>({posts:qe.filter(Ve=>Ve.type==="post").length,chats:qe.filter(Ve=>Ve.type==="chat").length,connections:ot.length}),[qe,ot]);return jsxRuntimeExports.jsxs("div",{className:cn("min-h-screen flex flex-col",o?"bg-[#0a0a0f] text-[#50fa7b]":"bg-gradient-to-b from-[#fafafa] to-white"),children:[jsxRuntimeExports.jsx("header",{className:cn("sticky top-0 z-50 border-b px-4 py-3",o?"bg-[#0a0a0f]/95 border-[#50fa7b]/20 backdrop-blur":"bg-white/95 border-gray-200 backdrop-blur"),children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:cn("h-9 w-9",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:cn("text-lg font-semibold",o&&"font-mono"),children:o?"// insight_graph":"Insight Graph"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs",o?"text-[#50fa7b]/60":"text-muted-foreground"),children:o?"> dijkstra_map v1.0":"Your content universe"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:tt,className:cn("h-8 w-8",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:jsxRuntimeExports.jsx(ZoomOut,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("span",{className:cn("text-xs font-mono w-12 text-center",o?"text-[#50fa7b]/80":"text-muted-foreground"),children:[Math.round(V*100),"%"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:He,className:cn("h-8 w-8",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:jsxRuntimeExports.jsx(ZoomIn,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:ct,className:cn("h-8 w-8",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:cn("border-b px-4 py-2",o?"bg-[#0d0d14] border-[#50fa7b]/10":"bg-gray-50 border-gray-100"),children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:cn("h-3.5 w-3.5",o?"text-[#50fa7b]":"text-green-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono":"",children:o?`posts: ${pt.posts}`:`${pt.posts} Posts`})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:cn("h-3.5 w-3.5",o?"text-[#bd93f9]":"text-purple-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono":"",children:o?`chats: ${pt.chats}`:`${pt.chats} AI Chats`})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[jsxRuntimeExports.jsx(Network,{className:cn("h-3.5 w-3.5",o?"text-[#8be9fd]":"text-cyan-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono":"",children:o?`edges: ${pt.connections}`:`${pt.connections} Connections`})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center gap-1 border rounded-md p-0.5",style:{borderColor:o?"rgba(80, 250, 123, 0.2)":void 0},children:["1d","7d","30d","all"].map(Ve=>jsxRuntimeExports.jsx("button",{onClick:()=>at(Ve),className:cn("px-2 py-0.5 rounded text-xs transition-colors",We===Ve?o?"bg-[#50fa7b]/20 text-[#50fa7b] font-mono":"bg-primary/10 text-primary font-medium":o?"text-[#50fa7b]/60 hover:bg-[#50fa7b]/10 font-mono":"text-muted-foreground hover:bg-muted"),children:Ve==="all"?"All":Ve},Ve))}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Ke(!mt),className:cn("h-7 px-2 gap-1",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10",mt&&(o?"bg-[#50fa7b]/10":"bg-muted")),children:[jsxRuntimeExports.jsx(Filter,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:o?"filter":"Filter"})]})]})]}),mt&&jsxRuntimeExports.jsxs("div",{className:cn("max-w-7xl mx-auto pt-3 mt-2 border-t flex flex-wrap items-center gap-3",o?"border-[#50fa7b]/10":"border-gray-200"),children:[jsxRuntimeExports.jsx("div",{className:"md:hidden flex items-center gap-1 border rounded-md p-0.5",style:{borderColor:o?"rgba(80, 250, 123, 0.2)":void 0},children:["1d","7d","30d","all"].map(Ve=>jsxRuntimeExports.jsx("button",{onClick:()=>at(Ve),className:cn("px-2 py-0.5 rounded text-xs transition-colors",We===Ve?o?"bg-[#50fa7b]/20 text-[#50fa7b] font-mono":"bg-primary/10 text-primary font-medium":o?"text-[#50fa7b]/60 hover:bg-[#50fa7b]/10 font-mono":"text-muted-foreground hover:bg-muted"),children:Ve==="all"?"All":Ve},Ve))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:cn("text-xs",o?"font-mono text-[#50fa7b]/60":"text-muted-foreground"),children:o?"show:":"Show:"}),[{type:"post",label:"Post",color:o?"#50fa7b":"#22c55e"},{type:"chat",label:"Chat",color:o?"#bd93f9":"#8b5cf6"},{type:"memo",label:"Memo",color:o?"#ff79c6":"#ec4899"},{type:"tag",label:"Tag",color:o?"#f1fa8c":"#eab308"},{type:"search",label:"Search",color:o?"#8be9fd":"#0ea5e9"}].map(({type:Ve,label:dt,color:Rt})=>jsxRuntimeExports.jsxs("button",{onClick:()=>{const It=new Set(rt);It.has(Ve)?It.delete(Ve):It.add(Ve),Je(It)},className:cn("flex items-center gap-1.5 px-2 py-1 rounded-full text-xs transition-all",rt.has(Ve)?"border-2":"border border-dashed opacity-50"),style:{borderColor:Rt,backgroundColor:rt.has(Ve)?`${Rt}20`:"transparent",color:o?"#50fa7b":void 0},children:[jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:rt.has(Ve)?Rt:"transparent",borderColor:Rt}}),jsxRuntimeExports.jsx("span",{className:o?"font-mono":"",children:dt})]},Ve))]})]})]}),jsxRuntimeExports.jsx("div",{ref:Ge,className:"flex-1 relative overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:ut,onMouseMove:it,onMouseUp:yt,onMouseLeave:yt,children:S?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:cn("text-center space-y-3",o&&"font-mono"),children:[jsxRuntimeExports.jsx("div",{className:cn("w-8 h-8 border-2 rounded-full animate-spin mx-auto",o?"border-[#50fa7b]/30 border-t-[#50fa7b]":"border-gray-200 border-t-primary")}),jsxRuntimeExports.jsx("p",{className:o?"text-[#50fa7b]/60":"text-muted-foreground",children:o?"> loading graph data...":"Building your insight graph..."})]})}):qe.length===0?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:cn("text-center space-y-4 max-w-sm px-4",o&&"font-mono"),children:[jsxRuntimeExports.jsx(Network,{className:cn("h-16 w-16 mx-auto",o?"text-[#50fa7b]/30":"text-muted-foreground/30")}),jsxRuntimeExports.jsx("h2",{className:cn("text-lg font-semibold",o?"text-[#50fa7b]":""),children:x.length>0?o?"> no_matching_nodes":"No matching nodes":o?"> no_data_found":"No data yet"}),jsxRuntimeExports.jsx("p",{className:cn("text-sm",o?"text-[#50fa7b]/60":"text-muted-foreground"),children:x.length>0?o?"// adjust filters to see more nodes":"Try adjusting your filters to see more content.":o?"// read posts and chat with AI to build your knowledge graph":"Read some posts and chat with AI to start building your insight graph."}),x.length===0&&jsxRuntimeExports.jsx(Button,{onClick:()=>r("/blog"),className:cn(o&&"bg-[#50fa7b] text-[#052e16] hover:bg-[#50fa7b]/80 font-semibold"),children:o?"> explore_posts":"Explore Posts"}),x.length>0&&jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{at("all"),Je(new Set(["post","chat","memo","tag","search"]))},className:cn(o&&"border-[#50fa7b]/40 text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:o?"> reset_filters":"Reset Filters"})]})}):jsxRuntimeExports.jsx(GraphCanvas,{nodes:qe,edges:ot,selectedNode:w,hoveredNode:Q,pathNodes:M,onNodeClick:ze,onNodeHover:I,zoom:V,offset:re,isTerminal:o})}),jsxRuntimeExports.jsx("div",{className:cn("border-t px-4 py-3",o?"bg-[#0d0d14] border-[#50fa7b]/10":"bg-gray-50 border-gray-100"),children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-center gap-4 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#50fa7b]":"bg-green-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Post"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#bd93f9]":"bg-purple-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"AI Chat"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#8be9fd]":"bg-cyan-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Comment"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#ffb86c]":"bg-amber-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Question"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#ff79c6]":"bg-pink-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Memo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#f1fa8c]":"bg-yellow-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Tag"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-4 h-4 rounded-full",o?"bg-[#8be9fd]":"bg-sky-500")}),jsxRuntimeExports.jsx("span",{className:o?"font-mono text-[#50fa7b]/80":"text-muted-foreground",children:"Search"})]}),jsxRuntimeExports.jsx("span",{className:cn("hidden sm:inline",o?"font-mono text-[#50fa7b]/40":"text-muted-foreground/60"),children:o?"| click: select | double-click: preview |":"• Click to select • Double-click to preview"})]})}),w&&!ge&&jsxRuntimeExports.jsx("div",{className:cn("fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:w-80 rounded-xl border p-4 shadow-lg",o?"bg-[#0d0d14]/95 border-[#50fa7b]/20 backdrop-blur":"bg-white/95 border-gray-200 backdrop-blur"),children:(()=>{var Rt;const Ve=x.find(It=>It.id===w);if(!Ve)return null;const dt=Ae.chats.length>0||Ae.memos.length>0||Ae.thoughts.length>0;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ve.type==="post"&&jsxRuntimeExports.jsx(FileText,{className:cn("h-4 w-4",o?"text-[#50fa7b]":"text-green-500")}),Ve.type==="chat"&&jsxRuntimeExports.jsx(Sparkles,{className:cn("h-4 w-4",o?"text-[#bd93f9]":"text-purple-500")}),Ve.type==="comment"&&jsxRuntimeExports.jsx(MessageSquare,{className:cn("h-4 w-4",o?"text-[#8be9fd]":"text-cyan-500")}),jsxRuntimeExports.jsx("span",{className:cn("text-xs uppercase tracking-wide",o?"font-mono text-[#50fa7b]/60":"text-muted-foreground"),children:Ve.type})]}),dt&&jsxRuntimeExports.jsxs("span",{className:cn("text-xs px-2 py-0.5 rounded-full",o?"bg-[#bd93f9]/20 text-[#bd93f9] font-mono":"bg-purple-100 text-purple-700"),children:["+",Ae.chats.length+Ae.memos.length+Ae.thoughts.length," related"]})]}),jsxRuntimeExports.jsx("h3",{className:cn("font-semibold line-clamp-2",o&&"font-mono text-[#50fa7b]"),children:Ve.label}),((Rt=Ve.data)==null?void 0:Rt.category)&&jsxRuntimeExports.jsx("p",{className:cn("text-xs",o?"font-mono text-[#50fa7b]/60":"text-muted-foreground"),children:o?`category: ${Ve.data.category}`:Ve.data.category}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[Ve.type==="post"&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:cn("flex-1",o?"border-[#50fa7b]/40 text-[#50fa7b] hover:bg-[#50fa7b]/10 font-mono":"border-gray-300 hover:border-primary/60 hover:bg-primary/5"),onClick:()=>je(!0),children:o?"> preview":"Preview"}),jsxRuntimeExports.jsx(Button,{size:"sm",className:cn("flex-1",o?"bg-[#50fa7b] text-[#052e16] hover:bg-[#50fa7b]/80 font-mono font-semibold":"bg-primary text-primary-foreground hover:bg-primary/90"),onClick:()=>{Ve.type==="post"&&Ve.data&&r(`/blog/${Ve.data.year}/${Ve.data.slug}`)},children:o?"> open":"Open"})]})]})})()}),ge&&w&&jsxRuntimeExports.jsx("div",{className:cn("fixed inset-4 md:left-auto md:right-4 md:top-44 md:bottom-20 md:w-[400px] rounded-xl border shadow-xl overflow-hidden flex flex-col",o?"bg-[#0d0d14] border-[#50fa7b]/20":"bg-white border-gray-200"),children:(()=>{var dt,Rt,It,Xt,Ut;const Ve=x.find($t=>$t.id===w);return Ve?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-start justify-between gap-3 p-4 border-b",o?"border-[#50fa7b]/10":"border-gray-100"),children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FileText,{className:cn("h-4 w-4 shrink-0",o?"text-[#50fa7b]":"text-green-500")}),jsxRuntimeExports.jsx("span",{className:cn("text-xs uppercase tracking-wide",o?"font-mono text-[#50fa7b]/60":"text-muted-foreground"),children:Ve.type})]}),jsxRuntimeExports.jsx("h3",{className:cn("font-semibold text-lg leading-tight",o&&"font-mono text-[#50fa7b]"),children:Ve.label}),((dt=Ve.data)==null?void 0:dt.category)&&jsxRuntimeExports.jsxs("p",{className:cn("text-xs mt-1",o?"font-mono text-[#50fa7b]/60":"text-muted-foreground"),children:[Ve.data.category,((Rt=Ve.data)==null?void 0:Rt.date)&&` • ${new Date(Ve.data.date).toLocaleDateString()}`]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>je(!1),className:cn("h-8 w-8 shrink-0",o&&"text-[#50fa7b] hover:bg-[#50fa7b]/10"),children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex-1 overflow-y-auto p-4 space-y-4",o?"scrollbar-thin scrollbar-thumb-[#50fa7b]/20":""),children:[((It=Ve.data)==null?void 0:It.excerpt)&&jsxRuntimeExports.jsx("div",{className:cn("p-3 rounded-lg",o?"bg-[#50fa7b]/5 border border-[#50fa7b]/10":"bg-gray-50"),children:jsxRuntimeExports.jsx("p",{className:cn("text-sm",o?"font-mono text-[#50fa7b]/80":"text-muted-foreground"),children:Ve.data.excerpt})}),((Ut=(Xt=Ve.data)==null?void 0:Xt.tags)==null?void 0:Ut.length)>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:Ve.data.tags.map($t=>jsxRuntimeExports.jsxs("span",{className:cn("text-xs px-2 py-0.5 rounded-full",o?"bg-[#50fa7b]/10 text-[#50fa7b]/80 font-mono":"bg-gray-100 text-gray-600"),children:["#",$t]},$t))}),Ae.chats.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:cn("flex items-center gap-2 text-sm font-medium mb-2",o?"font-mono text-[#bd93f9]":"text-purple-600"),children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3.5 w-3.5"}),"AI Conversations (",Ae.chats.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ae.chats.slice(0,5).map($t=>jsxRuntimeExports.jsxs("div",{className:cn("p-2.5 rounded-lg text-sm cursor-pointer transition-colors",o?"bg-[#bd93f9]/10 hover:bg-[#bd93f9]/20 border border-[#bd93f9]/20":"bg-purple-50 hover:bg-purple-100"),children:[jsxRuntimeExports.jsx("p",{className:cn("font-medium line-clamp-1",o?"font-mono text-[#bd93f9]":"text-purple-700"),children:$t.title||$t.summary||"AI Chat Session"}),$t.updatedAt&&jsxRuntimeExports.jsxs("p",{className:cn("text-xs mt-0.5 flex items-center gap-1",o?"text-[#bd93f9]/60":"text-purple-500"),children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),new Date($t.updatedAt).toLocaleDateString()]})]},$t.id))})]}),Ae.memos.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:cn("flex items-center gap-2 text-sm font-medium mb-2",o?"font-mono text-[#8be9fd]":"text-cyan-600"),children:[jsxRuntimeExports.jsx(PenLine,{className:"h-3.5 w-3.5"}),"Saved Memos (",Ae.memos.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ae.memos.slice(0,5).map(($t,Yt)=>jsxRuntimeExports.jsxs("div",{className:cn("p-2.5 rounded-lg text-sm",o?"bg-[#8be9fd]/10 border border-[#8be9fd]/20":"bg-cyan-50"),children:[jsxRuntimeExports.jsx("p",{className:cn("line-clamp-2",o?"font-mono text-[#8be9fd]/80":"text-cyan-700"),children:$t.label||$t.content||"Memo saved"}),jsxRuntimeExports.jsxs("p",{className:cn("text-xs mt-1 flex items-center gap-1",o?"text-[#8be9fd]/60":"text-cyan-500"),children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),new Date($t.t).toLocaleDateString()]})]},`memo-${Yt}`))})]}),Ae.thoughts.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:cn("flex items-center gap-2 text-sm font-medium mb-2",o?"font-mono text-[#ffb86c]":"text-amber-600"),children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-3.5 w-3.5"}),"Thoughts (",Ae.thoughts.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ae.thoughts.slice(0,5).map(($t,Yt)=>jsxRuntimeExports.jsxs("div",{className:cn("p-2.5 rounded-lg text-sm",o?"bg-[#ffb86c]/10 border border-[#ffb86c]/20":"bg-amber-50"),children:[jsxRuntimeExports.jsx("p",{className:cn("line-clamp-3",o?"font-mono text-[#ffb86c]/80":"text-amber-700"),children:$t.content||$t.label||"Thought captured"}),jsxRuntimeExports.jsxs("p",{className:cn("text-xs mt-1 flex items-center gap-1",o?"text-[#ffb86c]/60":"text-amber-500"),children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),new Date($t.t).toLocaleDateString()]})]},`thought-${Yt}`))})]}),Ae.chats.length===0&&Ae.memos.length===0&&Ae.thoughts.length===0&&jsxRuntimeExports.jsxs("div",{className:cn("text-center py-6",o?"text-[#50fa7b]/40":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),jsxRuntimeExports.jsx("p",{className:cn("text-sm",o&&"font-mono"),children:o?"// no related content yet":"No related content yet"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs mt-1",o&&"font-mono"),children:o?"// use ai chat or memo pad on this post":"Use AI Chat or Memo Pad while reading this post"})]})]}),jsxRuntimeExports.jsx("div",{className:cn("p-4 border-t sticky bottom-0",o?"border-[#50fa7b]/10 bg-[#0d0d14]":"border-gray-100 bg-white"),children:jsxRuntimeExports.jsxs(Button,{className:cn("w-full gap-2",o?"bg-[#50fa7b] text-[#052e16] hover:bg-[#50fa7b]/80 font-mono font-semibold":"bg-primary text-primary-foreground hover:bg-primary/90"),onClick:()=>{Ve.type==="post"&&Ve.data&&r(`/blog/${Ve.data.year}/${Ve.data.slug}`)},children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),o?"> open_post":"Open Post"]})})]}):null})()})]})},getBaseUrl=()=>getApiBaseUrl();async function login(o,r){const x=await fetch(`${getBaseUrl()}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:r})}),O=await x.json().catch(()=>({ok:!1,error:"Invalid response"}));if(!x.ok||!O.ok||!O.data)throw new Error(O.error||"Login failed");return O.data}async function verifyOtp(o,r){const x=await fetch(`${getBaseUrl()}/api/v1/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o,otp:r})}),O=await x.json().catch(()=>({ok:!1,error:"Invalid response"}));if(!x.ok||!O.ok||!O.data)throw new Error(O.error||"OTP verification failed");return O.data}async function resendOtp(o){const r=await fetch(`${getBaseUrl()}/api/v1/auth/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:o})}),x=await r.json().catch(()=>({ok:!1,error:"Invalid response"}));if(!r.ok||!x.ok||!x.data)throw new Error(x.error||"Failed to resend OTP");return x.data}async function refreshAccessToken(o){const r=await fetch(`${getBaseUrl()}/api/v1/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})}),x=await r.json().catch(()=>({ok:!1,error:"Invalid response"}));if(!r.ok||!x.ok||!x.data)throw new Error(x.error||"Token refresh failed");return x.data}async function logout(o){try{await fetch(`${getBaseUrl()}/api/v1/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})})}catch{}}async function getMe(o){const r=await fetch(`${getBaseUrl()}/api/v1/auth/me`,{headers:{Authorization:`Bearer ${o}`}}),x=await r.json().catch(()=>({ok:!1,error:"Invalid response"}));if(!r.ok||!x.ok||!x.data)throw new Error(x.error||"Failed to get user info");return x.data.user}function parseJwtPayload(o){try{const r=o.split(".");if(r.length!==3)return null;const x=atob(r[1].replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(x)}catch{return null}}function isTokenExpired(o,r=60){const x=parseJwtPayload(o);if(!x||typeof x.exp!="number")return!0;const O=x.exp*1e3,E=Date.now(),y=r*1e3;return E>=O-y}function getTokenExpiration(o){const r=parseJwtPayload(o);return!r||typeof r.exp!="number"?null:r.exp*1e3}const STORAGE_KEY$1="admin.auth";let refreshPromise=null,refreshTimer=null;function clearTokenRefreshTimer(){refreshTimer&&(clearTimeout(refreshTimer),refreshTimer=null)}const useAuthStore=create$1()(persist((o,r)=>({accessToken:null,refreshToken:null,user:null,isRefreshing:!1,setTokens:(x,O,E)=>{o({accessToken:x,refreshToken:O,user:E??r().user}),scheduleTokenRefresh()},setUser:x=>{o({user:x})},clearAuth:()=>{clearTokenRefreshTimer(),o({accessToken:null,refreshToken:null,user:null,isRefreshing:!1})},logout:async()=>{const{refreshToken:x}=r();try{await logout(x??void 0)}finally{r().clearAuth()}},getValidAccessToken:async()=>{const{accessToken:x,refreshToken:O}=r();return!x&&!O?null:x&&!isTokenExpired(x,60)?x:!O||isTokenExpired(O,0)?(r().clearAuth(),null):refreshPromise||(o({isRefreshing:!0}),refreshPromise=(async()=>{try{const E=await refreshAccessToken(O);return o({accessToken:E.accessToken,isRefreshing:!1}),scheduleTokenRefresh(),E.accessToken}catch(E){return console.error("Token refresh failed:",E),r().clearAuth(),null}finally{refreshPromise=null}})(),refreshPromise)},isAuthenticated:()=>{const{accessToken:x,refreshToken:O}=r();return!!(x&&!isTokenExpired(x,0)||O&&!isTokenExpired(O,0))}}),{name:STORAGE_KEY$1,partialize:o=>({accessToken:o.accessToken,refreshToken:o.refreshToken,user:o.user})}));function scheduleTokenRefresh(){clearTokenRefreshTimer();const{accessToken:o}=useAuthStore.getState();if(!o)return()=>{};const r=getTokenExpiration(o);if(!r)return()=>{};const x=r-60*1e3,O=Math.max(0,x-Date.now());return refreshTimer=setTimeout(async()=>{await useAuthStore.getState().getValidAccessToken(),scheduleTokenRefresh()},O),()=>{clearTokenRefreshTimer()}}function migrateFromLegacyStorage(){try{localStorage.getItem("adminToken")&&(localStorage.removeItem("adminToken"),console.log("Legacy adminToken removed. Please log in again with the new OTP flow."));const r=["aiMemo.auth","aiMemo.authToken","aiMemo.jwt","auth.token"];for(const x of r)localStorage.getItem(x)&&localStorage.removeItem(x)}catch{}}async function fetchWithAuth$1(o,r,x={}){const O=await r();return fetch(o,{...x,headers:{"Content-Type":"application/json",...O?{Authorization:`Bearer ${O}`}:{},...x.headers}})}function ConfigManager(){const{toast:o}=useToast(),{getValidAccessToken:r}=useAuthStore(),[x,O]=reactExports.useState("app"),[E,y]=reactExports.useState({}),[S,j]=reactExports.useState(new Set),[w,_]=reactExports.useState(!1),Q=getApiBaseUrl(),{data:I,isLoading:M}=useQuery({queryKey:["config-categories"],queryFn:async()=>{const Qe=await fetchWithAuth$1(`${Q}/api/v1/admin/config/categories`,r);if(!Qe.ok)throw new Error("Failed to fetch categories");return(await Qe.json()).data.categories}}),{data:F,isLoading:V,refetch:te}=useQuery({queryKey:["config-current"],queryFn:async()=>{const Qe=await fetchWithAuth$1(`${Q}/api/v1/admin/config/current`,r);if(!Qe.ok)throw new Error("Failed to fetch config");return(await Qe.json()).data.config}}),re=useMutation({mutationFn:async Qe=>{const Xe=await fetchWithAuth$1(`${Q}/api/v1/admin/config/export`,r,{method:"POST",body:JSON.stringify({format:Qe,includeSecrets:!1})});if(!Xe.ok)throw new Error("Export failed");return Xe.json()},onSuccess:(Qe,Xe)=>{const Ue=Qe.data.content,Le=new Blob([Ue],{type:"text/plain"}),Ze=URL.createObjectURL(Le),Be=document.createElement("a");Be.href=Ze,Be.download=Xe==="env"?".env.example":Xe==="docker-compose"?"docker-env.yml":"wrangler-vars.toml",Be.click(),URL.revokeObjectURL(Ze),o({title:"Export complete",description:`Downloaded ${Xe} file`})},onError:()=>{o({title:"Export failed",variant:"destructive"})}}),se=useMutation({mutationFn:async Qe=>{const Xe=await fetchWithAuth$1(`${Q}/api/v1/admin/config/save-env`,r,{method:"POST",body:JSON.stringify({variables:Qe,target:"backend"})});if(!Xe.ok)throw new Error("Save failed");return Xe.json()},onSuccess:()=>{o({title:"Saved",description:"Environment file updated. Restart server to apply changes."}),_(!1),te()},onError:()=>{o({title:"Save failed",variant:"destructive"})}}),ne=reactExports.useCallback((Qe,Xe)=>{y(Ue=>({...Ue,[Qe]:Xe})),_(!0)},[]),oe=reactExports.useCallback(Qe=>{j(Xe=>{const Ue=new Set(Xe);return Ue.has(Qe)?Ue.delete(Qe):Ue.add(Qe),Ue})},[]),Oe=reactExports.useCallback(async Qe=>{await navigator.clipboard.writeText(Qe),o({title:"Copied to clipboard"})},[o]),ae=reactExports.useCallback(Qe=>{var Xe;return Qe in E?E[Qe]:((Xe=F==null?void 0:F[Qe])==null?void 0:Xe.value)||""},[E,F]),ge=()=>{se.mutate(E)},je=Qe=>{var Le,Ze;const Xe=ae(Qe.key),Ue=S.has(Qe.key);switch(Qe.type){case"select":return jsxRuntimeExports.jsxs(Select,{value:Xe,onValueChange:Be=>ne(Qe.key,Be),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:Qe.default||"Select..."})}),jsxRuntimeExports.jsx(SelectContent,{children:(Le=Qe.options)==null?void 0:Le.map(Be=>jsxRuntimeExports.jsx(SelectItem,{value:Be,children:Be},Be))})]});case"password":return jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:Ue?"text":"password",value:Xe,onChange:Be=>ne(Qe.key,Be.target.value),placeholder:(Ze=F==null?void 0:F[Qe.key])!=null&&Ze.isSet?"••••••••":"Not set",className:"flex-1"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>oe(Qe.key),children:Ue?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]});case"textarea":return jsxRuntimeExports.jsx(Textarea,{value:Xe,onChange:Be=>ne(Qe.key,Be.target.value),placeholder:Qe.default||"",rows:3});case"url":return jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"url",value:Xe,onChange:Be=>ne(Qe.key,Be.target.value),placeholder:Qe.default||"https://...",className:"flex-1"}),Xe&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>Oe(Xe),children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]});case"number":return jsxRuntimeExports.jsx(Input,{type:"number",value:Xe,onChange:Be=>ne(Qe.key,Be.target.value),placeholder:Qe.default||"0"});default:return jsxRuntimeExports.jsx(Input,{type:"text",value:Xe,onChange:Be=>ne(Qe.key,Be.target.value),placeholder:Qe.default||""})}};if(M||V)return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-6 w-6 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Loading configuration..."})]});const Ae=I||[];return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"환경변수 설정"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"서버 환경 설정을 관리합니다"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>re.mutate("env"),children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Export .env"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>re.mutate("docker-compose"),children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Docker"]}),jsxRuntimeExports.jsxs(Button,{onClick:ge,disabled:!w||se.isPending,children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),se.isPending?"Saving...":"Save"]})]})]}),w&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"You have unsaved changes"})]}),jsxRuntimeExports.jsxs(Tabs,{value:x,onValueChange:O,children:[jsxRuntimeExports.jsx(TabsList,{className:"flex flex-wrap gap-1",children:Ae.map(Qe=>jsxRuntimeExports.jsx(TabsTrigger,{value:Qe.id,children:Qe.name},Qe.id))}),Ae.map(Qe=>jsxRuntimeExports.jsx(TabsContent,{value:Qe.id,children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[Qe.name,jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"ml-2",children:[Qe.variables.length," variables"]})]}),jsxRuntimeExports.jsx(CardDescription,{children:Qe.description})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:Qe.variables.map(Xe=>{const Ue=F==null?void 0:F[Xe.key];return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:Xe.key,className:"font-mono text-sm",children:Xe.key}),Xe.isSecret&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Secret"}),(Ue==null?void 0:Ue.isSet)&&jsxRuntimeExports.jsx(CircleCheck,{className:"h-3 w-3 text-green-500"})]}),Xe.description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:Xe.description}),je(Xe),Xe.default&&!Xe.isSecret&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1 rounded",children:Xe.default})]})]},Xe.key)})})]})},Qe.id))]})]})}async function fetchWithAuth(o,r,x={}){const O=await r();return fetch(o,{...x,headers:{"Content-Type":"application/json",...O?{Authorization:`Bearer ${O}`}:{},...x.headers}})}function WorkersManager(){const{toast:o}=useToast(),{getValidAccessToken:r}=useAuthStore(),[x,O]=reactExports.useState("production"),[E,y]=reactExports.useState({}),[S,j]=reactExports.useState(new Set),w=getApiBaseUrl(),{data:_,isLoading:Q}=useQuery({queryKey:["workers-list"],queryFn:async()=>{const ae=await fetchWithAuth(`${w}/api/v1/admin/workers/list`,r);if(!ae.ok)throw new Error("Failed to fetch workers");return(await ae.json()).data.workers}}),{data:I}=useQuery({queryKey:["workers-secrets"],queryFn:async()=>{const ae=await fetchWithAuth(`${w}/api/v1/admin/workers/secrets`,r);if(!ae.ok)throw new Error("Failed to fetch secrets");return(await ae.json()).data.secrets}}),{data:M}=useQuery({queryKey:["workers-d1"],queryFn:async()=>(await(await fetchWithAuth(`${w}/api/v1/admin/workers/d1/databases`,r)).json()).data.databases||[]}),{data:F}=useQuery({queryKey:["workers-kv"],queryFn:async()=>(await(await fetchWithAuth(`${w}/api/v1/admin/workers/kv/namespaces`,r)).json()).data.namespaces||[]}),{data:V}=useQuery({queryKey:["workers-r2"],queryFn:async()=>(await(await fetchWithAuth(`${w}/api/v1/admin/workers/r2/buckets`,r)).json()).data.buckets||[]}),te=useMutation({mutationFn:async({workerId:ae,env:ge,dryRun:je})=>{const Ae=await fetchWithAuth(`${w}/api/v1/admin/workers/${ae}/deploy`,r,{method:"POST",body:JSON.stringify({env:ge,dryRun:je})});if(!Ae.ok){const Qe=await Ae.json();throw new Error(Qe.error||"Deploy failed")}return Ae.json()},onSuccess:ae=>{o({title:"Deployment",description:ae.data.message})},onError:ae=>{o({title:"Deployment failed",description:ae.message,variant:"destructive"})}}),re=useMutation({mutationFn:async({workerId:ae,key:ge,value:je,env:Ae})=>{const Qe=await fetchWithAuth(`${w}/api/v1/admin/workers/${ae}/secret`,r,{method:"POST",body:JSON.stringify({key:ge,value:je,env:Ae})});if(!Qe.ok){const Xe=await Qe.json();throw new Error(Xe.error||"Failed to set secret")}return Qe.json()},onSuccess:ae=>{o({title:"Secret Updated",description:ae.data.message}),y({})},onError:ae=>{o({title:"Failed to set secret",description:ae.message,variant:"destructive"})}}),se=reactExports.useCallback(async ae=>{await navigator.clipboard.writeText(ae),o({title:"Copied to clipboard"})},[o]),ne=reactExports.useCallback(ae=>{j(ge=>{const je=new Set(ge);return je.has(ae)?je.delete(ae):je.add(ae),je})},[]);if(Q)return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-6 w-6 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Loading workers..."})]});const oe=_||[],Oe=I||[];return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"workers",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"workers",children:[jsxRuntimeExports.jsx(Cloud,{className:"h-4 w-4 mr-2"}),"Workers"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"secrets",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4 mr-2"}),"Secrets"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"resources",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4 mr-2"}),"Resources"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"workers",className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:oe.map(ae=>jsxRuntimeExports.jsxs(Card,{className:ae.exists?"":"opacity-60",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Cloud,{className:"h-5 w-5 text-primary"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:ae.name}),jsxRuntimeExports.jsx(CardDescription,{children:ae.description})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[ae.exists?jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-green-600 border-green-600",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-3 w-3 mr-1"}),"Configured"]}):jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3 mr-1"}),"Missing"]}),ae.hasProduction&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Production"})]})]})}),ae.exists&&ae.config&&jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Name:"}),jsxRuntimeExports.jsx("code",{className:"ml-2 bg-muted px-1 rounded",children:ae.config.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Entry:"}),jsxRuntimeExports.jsx("code",{className:"ml-2 bg-muted px-1 rounded",children:ae.config.main})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Compat:"}),jsxRuntimeExports.jsx("code",{className:"ml-2 bg-muted px-1 rounded",children:ae.config.compatibility_date})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Account:"}),jsxRuntimeExports.jsxs("code",{className:"bg-muted px-1 rounded text-xs truncate max-w-[100px]",children:[ae.config.account_id.slice(0,8),"..."]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>se(ae.config.account_id),children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]}),jsxRuntimeExports.jsxs(Accordion,{type:"single",collapsible:!0,children:[jsxRuntimeExports.jsxs(AccordionItem,{value:"vars",children:[jsxRuntimeExports.jsxs(AccordionTrigger,{className:"text-sm",children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 mr-2"}),"Environment Variables"]}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-2",children:"Development"}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2",children:[Object.entries(ae.config.vars).map(([ge,je])=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("code",{className:"bg-muted px-2 py-1 rounded min-w-[180px]",children:ge}),jsxRuntimeExports.jsx("code",{className:"bg-muted/50 px-2 py-1 rounded flex-1 truncate",children:je})]},ge)),Object.keys(ae.config.vars).length===0&&jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"No variables configured"})]})]}),ae.hasProduction&&Object.keys(ae.config.production.vars).length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-2",children:"Production"}),jsxRuntimeExports.jsx("div",{className:"grid gap-2",children:Object.entries(ae.config.production.vars).map(([ge,je])=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("code",{className:"bg-muted px-2 py-1 rounded min-w-[180px]",children:ge}),jsxRuntimeExports.jsx("code",{className:"bg-muted/50 px-2 py-1 rounded flex-1 truncate",children:je})]},ge))})]})]})})]}),jsxRuntimeExports.jsxs(AccordionItem,{value:"bindings",children:[jsxRuntimeExports.jsxs(AccordionTrigger,{className:"text-sm",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4 mr-2"}),"Resource Bindings"]}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[ae.config.d1_databases.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-1",children:"D1 Databases"}),ae.config.d1_databases.map((ge,je)=>jsxRuntimeExports.jsxs("div",{className:"text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"D1"}),jsxRuntimeExports.jsx("code",{children:ge.binding}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"→"}),jsxRuntimeExports.jsx("code",{children:ge.database_name})]},je))]}),ae.config.r2_buckets.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-1",children:"R2 Buckets"}),ae.config.r2_buckets.map((ge,je)=>jsxRuntimeExports.jsxs("div",{className:"text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"R2"}),jsxRuntimeExports.jsx("code",{children:ge.binding}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"→"}),jsxRuntimeExports.jsx("code",{children:ge.bucket_name})]},je))]}),ae.config.kv_namespaces.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-1",children:"KV Namespaces"}),ae.config.kv_namespaces.map((ge,je)=>jsxRuntimeExports.jsxs("div",{className:"text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"KV"}),jsxRuntimeExports.jsx("code",{children:ge.binding}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"→"}),jsxRuntimeExports.jsxs("code",{className:"text-xs",children:[ge.id.slice(0,16),"..."]})]},je))]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[jsxRuntimeExports.jsxs(Select,{value:x,onValueChange:ge=>O(ge),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[140px]",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"development",children:"Development"}),ae.hasProduction&&jsxRuntimeExports.jsx(SelectItem,{value:"production",children:"Production"})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>te.mutate({workerId:ae.id,env:x,dryRun:!0}),disabled:te.isPending,children:[jsxRuntimeExports.jsx(Terminal,{className:"h-4 w-4 mr-2"}),"Dry Run"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>te.mutate({workerId:ae.id,env:x,dryRun:!1}),disabled:te.isPending,children:[jsxRuntimeExports.jsx(Rocket,{className:"h-4 w-4 mr-2"}),te.isPending?"Deploying...":"Deploy"]})]})]})]},ae.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"secrets",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Worker Secrets"}),jsxRuntimeExports.jsx(CardDescription,{children:"Secrets are encrypted and stored securely. Set secrets for each worker."})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:Oe.map(ae=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("code",{className:"font-mono font-bold",children:ae.key}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:ae.description})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:ae.workers.map(ge=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:ge},ge))})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:S.has(ae.key)?"text":"password",placeholder:"Enter new secret value...",value:E[ae.key]||"",onChange:ge=>y(je=>({...je,[ae.key]:ge.target.value}))}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>ne(ae.key),children:S.has(ae.key)?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs(Select,{defaultValue:ae.workers[0],children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[160px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select worker"})}),jsxRuntimeExports.jsx(SelectContent,{children:ae.workers.map(ge=>jsxRuntimeExports.jsx(SelectItem,{value:ge,children:ge},ge))})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>{const ge=E[ae.key];ge&&re.mutate({workerId:ae.workers[0],key:ae.key,value:ge,env:"production"})},disabled:!E[ae.key]||re.isPending,children:"Set Secret"})]})]},ae.key))})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"resources",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4"}),"D1 Databases"]})}),jsxRuntimeExports.jsx(CardContent,{children:Array.isArray(M)&&M.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:M.map(ae=>jsxRuntimeExports.jsxs("div",{className:"text-sm border rounded p-2",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ae.name}),jsxRuntimeExports.jsx("code",{className:"text-xs text-muted-foreground",children:ae.uuid})]},ae.uuid))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No databases found or wrangler not authenticated"})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx(HardDrive,{className:"h-4 w-4"}),"KV Namespaces"]})}),jsxRuntimeExports.jsx(CardContent,{children:Array.isArray(F)&&F.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:F.map(ae=>jsxRuntimeExports.jsxs("div",{className:"text-sm border rounded p-2",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ae.title}),jsxRuntimeExports.jsx("code",{className:"text-xs text-muted-foreground",children:ae.id})]},ae.id))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No KV namespaces found"})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx(HardDrive,{className:"h-4 w-4"}),"R2 Buckets"]})}),jsxRuntimeExports.jsx(CardContent,{children:Array.isArray(V)&&V.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:V.map(ae=>jsxRuntimeExports.jsxs("div",{className:"text-sm border rounded p-2",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ae.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(ae.creation_date).toLocaleDateString()]})]},ae.name))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No R2 buckets found"})})]})]})})]})})}async function apiFetch$1(o,r={}){const{getValidAccessToken:x,clearAuth:O}=useAuthStore.getState(),E=getApiBaseUrl();try{const y=await x();if(!y)return{ok:!1,error:"Not authenticated. Please log in again."};const S=await fetch(`${E}/api/v1/admin/ai${o}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`,...r.headers||{}}});if(S.status===401){const w=await x();if(!w)return O(),{ok:!1,error:"Session expired. Please log in again."};const _=await fetch(`${E}/api/v1/admin/ai${o}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`,...r.headers||{}}});return _.ok?{ok:!0,data:(await _.json()).data}:_.status===401?(O(),{ok:!1,error:"Session expired. Please log in again."}):{ok:!1,error:(await _.json().catch(()=>({}))).error||`HTTP ${_.status}`}}const j=await S.json();return!S.ok||!j.ok?{ok:!1,error:j.error||`HTTP ${S.status}`}:{ok:!0,data:j.data}}catch(y){return{ok:!1,error:y instanceof Error?y.message:"Unknown error"}}}function useProviders(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async()=>{O(!0),y(null);const F=await apiFetch$1("/providers");F.ok&&F.data?r(F.data.providers):y(F.error||"Failed to fetch providers"),O(!1)},[]),j=reactExports.useCallback(async F=>{const V=await apiFetch$1("/providers",{method:"POST",body:JSON.stringify(F)});return V.ok&&await S(),V},[S]),w=reactExports.useCallback(async(F,V)=>{const te=await apiFetch$1(`/providers/${F}`,{method:"PUT",body:JSON.stringify(V)});return te.ok&&await S(),te},[S]),_=reactExports.useCallback(async F=>{const V=await apiFetch$1(`/providers/${F}`,{method:"DELETE"});return V.ok&&await S(),V},[S]),Q=reactExports.useCallback(async F=>{const V=await apiFetch$1(`/providers/${F}/health`,{method:"POST"});return V.ok&&await S(),V},[S]),I=reactExports.useCallback(async F=>{const V=await apiFetch$1(`/providers/${F}/kill-switch`,{method:"POST"});return V.ok&&await S(),V},[S]),M=reactExports.useCallback(async F=>{const V=await apiFetch$1(`/providers/${F}/enable`,{method:"POST"});return V.ok&&await S(),V},[S]);return{providers:o,loading:x,error:E,fetchProviders:S,createProvider:j,updateProvider:w,deleteProvider:_,checkHealth:Q,killSwitchProvider:I,enableProvider:M}}function useModels(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async(I,M)=>{O(!0),y(null);const F=new URLSearchParams;I&&F.set("providerId",I),M!==void 0&&F.set("enabled",String(M));const V=F.toString()?`?${F}`:"",te=await apiFetch$1(`/models${V}`);te.ok&&te.data?r(te.data.models):y(te.error||"Failed to fetch models"),O(!1)},[]),j=reactExports.useCallback(async I=>{const M=await apiFetch$1("/models",{method:"POST",body:JSON.stringify(I)});return M.ok&&await S(),M},[S]),w=reactExports.useCallback(async(I,M)=>{const F=await apiFetch$1(`/models/${I}`,{method:"PUT",body:JSON.stringify(M)});return F.ok&&await S(),F},[S]),_=reactExports.useCallback(async I=>{const M=await apiFetch$1(`/models/${I}`,{method:"DELETE"});return M.ok&&await S(),M},[S]),Q=reactExports.useCallback(async(I,M)=>await apiFetch$1(`/models/${I}/test`,{method:"POST",body:JSON.stringify({prompt:M})}),[]);return{models:o,loading:x,error:E,fetchModels:S,createModel:j,updateModel:w,deleteModel:_,testModel:Q}}function useRoutes(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async()=>{O(!0),y(null);const Q=await apiFetch$1("/routes");Q.ok&&Q.data?r(Q.data.routes):y(Q.error||"Failed to fetch routes"),O(!1)},[]),j=reactExports.useCallback(async Q=>{const I=await apiFetch$1("/routes",{method:"POST",body:JSON.stringify(Q)});return I.ok&&await S(),I},[S]),w=reactExports.useCallback(async(Q,I)=>{const M=await apiFetch$1(`/routes/${Q}`,{method:"PUT",body:JSON.stringify(I)});return M.ok&&await S(),M},[S]),_=reactExports.useCallback(async Q=>{const I=await apiFetch$1(`/routes/${Q}`,{method:"DELETE"});return I.ok&&await S(),I},[S]);return{routes:o,loading:x,error:E,fetchRoutes:S,createRoute:j,updateRoute:w,deleteRoute:_}}function useUsage(){const[o,r]=reactExports.useState(null),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async j=>{O(!0),y(null);const w=new URLSearchParams;j!=null&&j.startDate&&w.set("startDate",j.startDate),j!=null&&j.endDate&&w.set("endDate",j.endDate),j!=null&&j.modelId&&w.set("modelId",j.modelId),j!=null&&j.groupBy&&w.set("groupBy",j.groupBy);const _=w.toString()?`?${w}`:"",Q=await apiFetch$1(`/usage${_}`);Q.ok&&Q.data?r(Q.data):y(Q.error||"Failed to fetch usage"),O(!1)},[]);return{usage:o,loading:x,error:E,fetchUsage:S}}function useAIConfig(){const[o,r]=reactExports.useState(!1),x=reactExports.useCallback(async()=>await apiFetch$1("/config/export"),[]);return{loading:o,exportConfig:x}}function useTraces(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),[S,j]=reactExports.useState(0),w=reactExports.useCallback(async I=>{O(!0),y(null);const M=new URLSearchParams;I!=null&&I.limit&&M.set("limit",String(I.limit)),I!=null&&I.offset&&M.set("offset",String(I.offset)),I!=null&&I.status&&M.set("status",I.status),I!=null&&I.traceId&&M.set("trace_id",I.traceId),I!=null&&I.startDate&&M.set("start_date",I.startDate),I!=null&&I.endDate&&M.set("end_date",I.endDate);const F=M.toString()?`?${M}`:"",V=await apiFetch$1(`/traces${F}`);V.ok&&V.data?(r(V.data.traces),j(V.data.total)):y(V.error||"Failed to fetch traces"),O(!1)},[]),_=reactExports.useCallback(async I=>await apiFetch$1(`/traces/${I}`),[]),Q=reactExports.useCallback(async(I=24)=>await apiFetch$1(`/traces/stats/summary?hours=${I}`),[]);return{traces:o,loading:x,error:E,total:S,fetchTraces:w,fetchTraceDetail:_,fetchTraceStats:Q}}function usePlayground(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState([]),[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(!1),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState(0),M=reactExports.useCallback(async ge=>{j(!0),_(null);const je=await apiFetch$1("/playground/run",{method:"POST",body:JSON.stringify(ge)});return j(!1),je.ok||_(je.error||"Failed to run playground"),je},[]),F=reactExports.useCallback(async ge=>{y(!0),_(null);const je=new URLSearchParams;ge!=null&&ge.limit&&je.set("limit",String(ge.limit)),ge!=null&&ge.offset&&je.set("offset",String(ge.offset)),ge!=null&&ge.modelId&&je.set("model_id",ge.modelId),ge!=null&&ge.status&&je.set("status",ge.status);const Ae=je.toString()?`?${je}`:"",Qe=await apiFetch$1(`/playground/history${Ae}`);Qe.ok&&Qe.data?(r(Qe.data.history),I(Qe.data.total)):_(Qe.error||"Failed to fetch history"),y(!1)},[]),V=reactExports.useCallback(async ge=>await apiFetch$1(`/playground/history/${ge}`),[]),te=reactExports.useCallback(async ge=>{const je=await apiFetch$1(`/playground/history/${ge}`,{method:"DELETE"});return je.ok&&await F(),je},[F]),re=reactExports.useCallback(async ge=>{const je=ge?`?older_than_days=${ge}`:"",Ae=await apiFetch$1(`/playground/history${je}`,{method:"DELETE"});return Ae.ok&&await F(),Ae},[F]),se=reactExports.useCallback(async ge=>{const je=ge?`?category=${ge}`:"",Ae=await apiFetch$1(`/prompt-templates${je}`);return Ae.ok&&Ae.data&&O(Ae.data.templates),Ae},[]),ne=reactExports.useCallback(async ge=>{const je=await apiFetch$1("/prompt-templates",{method:"POST",body:JSON.stringify(ge)});return je.ok&&await se(),je},[se]),oe=reactExports.useCallback(async(ge,je)=>{const Ae=await apiFetch$1(`/prompt-templates/${ge}`,{method:"PUT",body:JSON.stringify(je)});return Ae.ok&&await se(),Ae},[se]),Oe=reactExports.useCallback(async ge=>{const je=await apiFetch$1(`/prompt-templates/${ge}`,{method:"DELETE"});return je.ok&&await se(),je},[se]),ae=reactExports.useCallback(async ge=>await apiFetch$1(`/prompt-templates/${ge}/use`,{method:"POST"}),[]);return{history:o,templates:x,loading:E,running:S,error:w,total:Q,runPlayground:M,fetchHistory:F,fetchHistoryDetail:V,deleteHistory:te,clearHistory:re,fetchTemplates:se,createTemplate:ne,updateTemplate:oe,deleteTemplate:Oe,useTemplate:ae}}function ProviderForm({provider:o,onSubmit:r,onCancel:x}){const[O,E]=reactExports.useState({name:(o==null?void 0:o.name)||"",displayName:(o==null?void 0:o.displayName)||"",apiBaseUrl:(o==null?void 0:o.apiBaseUrl)||"",apiKeyEnv:(o==null?void 0:o.apiKeyEnv)||""}),[y,S]=reactExports.useState(!1),j=async w=>{w.preventDefault(),S(!0);try{await r(O)}finally{S(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:O.name,onChange:w=>E({...O,name:w.target.value}),placeholder:"openai",disabled:!!o,required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Identifier (lowercase, no spaces)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"displayName",children:"Display Name *"}),jsxRuntimeExports.jsx(Input,{id:"displayName",value:O.displayName,onChange:w=>E({...O,displayName:w.target.value}),placeholder:"OpenAI",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"apiBaseUrl",children:"API Base URL"}),jsxRuntimeExports.jsx(Input,{id:"apiBaseUrl",value:O.apiBaseUrl||"",onChange:w=>E({...O,apiBaseUrl:w.target.value}),placeholder:"https://api.openai.com/v1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty for default provider URL"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"apiKeyEnv",children:"API Key Environment Variable"}),jsxRuntimeExports.jsx(Input,{id:"apiKeyEnv",value:O.apiKeyEnv||"",onChange:w=>E({...O,apiKeyEnv:w.target.value}),placeholder:"OPENAI_API_KEY"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Environment variable name containing the API key (for security, we don't store actual keys)"})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:y,children:[y&&jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),o?"Update":"Create"," Provider"]})]})]})}function HealthStatusBadge({status:o}){switch(o){case"healthy":return jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"bg-green-500",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"}),"Healthy"]});case"degraded":return jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"bg-yellow-500 text-white",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3 mr-1"}),"Degraded"]});case"down":return jsxRuntimeExports.jsxs(Badge,{variant:"destructive",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-3 w-3 mr-1"}),"Down"]});default:return jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[jsxRuntimeExports.jsx(Circle,{className:"h-3 w-3 mr-1"}),"Unknown"]})}}function ProvidersManager(){const{providers:o,loading:r,error:x,fetchProviders:O,createProvider:E,updateProvider:y,deleteProvider:S,checkHealth:j,killSwitchProvider:w,enableProvider:_}=useProviders(),[Q,I]=reactExports.useState(!1),[M,F]=reactExports.useState(null),[V,te]=reactExports.useState(null),[re,se]=reactExports.useState(null),[ne,oe]=reactExports.useState(null),[Oe,ae]=reactExports.useState(null);reactExports.useEffect(()=>{O()},[O]);const ge=async Be=>{(await E(Be)).ok&&I(!1)},je=async Be=>{if(!M)return;(await y(M.id,Be)).ok&&F(null)},Ae=async Be=>{await y(Be.id,{isEnabled:!Be.isEnabled})},Qe=Be=>{se(Be)},Xe=async()=>{re&&(await S(re.id),se(null))},Ue=async Be=>{te(Be.id),await j(Be.id),te(null)},Le=async()=>{ne&&(ae(ne.id),await w(ne.id),ae(null),oe(null))},Ze=async Be=>{ae(Be.id),await _(Be.id),ae(null)};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"AI Providers"}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage AI service providers and their API configurations"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>I(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Provider"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[x&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),x]}),r?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[o.map(Be=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded-lg ${Be.isEnabled?"border-border":"border-dashed border-muted-foreground/30 opacity-60"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Be.displayName}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"font-mono text-xs",children:Be.name}),jsxRuntimeExports.jsx(HealthStatusBadge,{status:Be.healthStatus}),!Be.isEnabled&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:"Disabled"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[Be.apiBaseUrl&&jsxRuntimeExports.jsxs("p",{children:["URL: ",Be.apiBaseUrl]}),Be.apiKeyEnv&&jsxRuntimeExports.jsxs("p",{children:["API Key: $",Be.apiKeyEnv]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[Be.enabledModelCount,"/",Be.modelCount," models enabled"]}),Be.lastHealthCheck&&jsxRuntimeExports.jsxs("span",{children:["Last check: ",new Date(Be.lastHealthCheck).toLocaleString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Ue(Be),disabled:V===Be.id,children:[V===Be.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Health"})]}),Be.isEnabled?jsxRuntimeExports.jsxs(Button,{variant:"destructive",size:"sm",onClick:()=>oe(Be),disabled:Oe===Be.id,children:[Oe===Be.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(PowerOff,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Kill"})]}):jsxRuntimeExports.jsxs(Button,{variant:"default",size:"sm",onClick:()=>Ze(Be),disabled:Oe===Be.id,className:"bg-green-600 hover:bg-green-700",children:[Oe===Be.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Power,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Enable"})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",children:jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>F(Be),children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit"]}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>Ae(Be),children:Be.isEnabled?"Disable":"Enable"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>Qe(Be),className:"text-red-600",disabled:Be.modelCount>0,children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})},Be.id)),o.length===0&&jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No providers configured. Add your first provider to get started."})]})]}),jsxRuntimeExports.jsx(Dialog,{open:Q,onOpenChange:I,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Provider"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Configure a new AI service provider"})]}),jsxRuntimeExports.jsx(ProviderForm,{onSubmit:ge,onCancel:()=>I(!1)})]})}),jsxRuntimeExports.jsx(Dialog,{open:!!M,onOpenChange:()=>F(null),children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Provider"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update provider configuration"})]}),M&&jsxRuntimeExports.jsx(ProviderForm,{provider:M,onSubmit:je,onCancel:()=>F(null)})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:!!re,onOpenChange:()=>se(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Provider"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:['Are you sure you want to delete provider "',re==null?void 0:re.displayName,'"? This action cannot be undone.']})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:Xe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:!!ne,onOpenChange:()=>oe(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsxs(AlertDialogTitle,{className:"flex items-center gap-2 text-red-600",children:[jsxRuntimeExports.jsx(PowerOff,{className:"h-5 w-5"}),"Emergency Kill Switch"]}),jsxRuntimeExports.jsxs(AlertDialogDescription,{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:["You are about to ",jsxRuntimeExports.jsx("strong",{children:"immediately disable"}),' the provider "',ne==null?void 0:ne.displayName,'".']}),jsxRuntimeExports.jsx("p",{children:"This will:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm",children:[jsxRuntimeExports.jsx("li",{children:"Stop all AI requests to this provider"}),jsxRuntimeExports.jsx("li",{children:'Mark the provider as "Down"'}),jsxRuntimeExports.jsx("li",{children:"Force requests to use fallback providers"})]}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 font-medium",children:"Use this only in emergencies (e.g., API key compromised, provider outage)."})]})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsxs(AlertDialogAction,{onClick:Le,className:"bg-red-600 text-white hover:bg-red-700",children:[jsxRuntimeExports.jsx(PowerOff,{className:"h-4 w-4 mr-2"}),"Confirm Kill Switch"]})]})]})})]})}function ModelForm({model:o,providers:r,onSubmit:x,onCancel:O}){var _,Q,I,M,F,V;const[E,y]=reactExports.useState({modelName:(o==null?void 0:o.modelName)||"",displayName:(o==null?void 0:o.displayName)||"",providerId:((_=o==null?void 0:o.provider)==null?void 0:_.id)||"",modelIdentifier:(o==null?void 0:o.modelIdentifier)||"",description:(o==null?void 0:o.description)||"",contextWindow:(o==null?void 0:o.contextWindow)||void 0,maxTokens:(o==null?void 0:o.maxTokens)||void 0,inputCostPer1k:((Q=o==null?void 0:o.cost)==null?void 0:Q.inputPer1k)||void 0,outputCostPer1k:((I=o==null?void 0:o.cost)==null?void 0:I.outputPer1k)||void 0,supportsVision:((M=o==null?void 0:o.capabilities)==null?void 0:M.vision)||!1,supportsStreaming:((F=o==null?void 0:o.capabilities)==null?void 0:F.streaming)??!0,supportsFunctionCalling:((V=o==null?void 0:o.capabilities)==null?void 0:V.functionCalling)||!1,priority:(o==null?void 0:o.priority)||0}),[S,j]=reactExports.useState(!1),w=async te=>{te.preventDefault(),j(!0);try{await x(E)}finally{j(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:w,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"modelName",children:"Model Name *"}),jsxRuntimeExports.jsx(Input,{id:"modelName",value:E.modelName,onChange:te=>y({...E,modelName:te.target.value}),placeholder:"gpt-4o",disabled:!!o,required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Used in API calls"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"displayName",children:"Display Name *"}),jsxRuntimeExports.jsx(Input,{id:"displayName",value:E.displayName,onChange:te=>y({...E,displayName:te.target.value}),placeholder:"GPT-4o",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"providerId",children:"Provider *"}),jsxRuntimeExports.jsxs(Select,{value:E.providerId,onValueChange:te=>y({...E,providerId:te}),disabled:!!o,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select provider"})}),jsxRuntimeExports.jsx(SelectContent,{children:r.map(te=>jsxRuntimeExports.jsx(SelectItem,{value:te.id,children:te.displayName},te.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"modelIdentifier",children:"Model Identifier *"}),jsxRuntimeExports.jsx(Input,{id:"modelIdentifier",value:E.modelIdentifier,onChange:te=>y({...E,modelIdentifier:te.target.value}),placeholder:"openai/gpt-4o",required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual model identifier"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"description",children:"Description"}),jsxRuntimeExports.jsx(Input,{id:"description",value:E.description||"",onChange:te=>y({...E,description:te.target.value}),placeholder:"Model description"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contextWindow",children:"Context Window"}),jsxRuntimeExports.jsx(Input,{id:"contextWindow",type:"number",value:E.contextWindow||"",onChange:te=>y({...E,contextWindow:te.target.value?parseInt(te.target.value):void 0}),placeholder:"128000"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"maxTokens",children:"Max Tokens"}),jsxRuntimeExports.jsx(Input,{id:"maxTokens",type:"number",value:E.maxTokens||"",onChange:te=>y({...E,maxTokens:te.target.value?parseInt(te.target.value):void 0}),placeholder:"4096"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"priority",children:"Priority"}),jsxRuntimeExports.jsx(Input,{id:"priority",type:"number",value:E.priority||"",onChange:te=>y({...E,priority:te.target.value?parseInt(te.target.value):0}),placeholder:"0"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"inputCost",children:"Input Cost ($/1K tokens)"}),jsxRuntimeExports.jsx(Input,{id:"inputCost",type:"number",step:"0.0001",value:E.inputCostPer1k||"",onChange:te=>y({...E,inputCostPer1k:te.target.value?parseFloat(te.target.value):void 0}),placeholder:"0.01"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"outputCost",children:"Output Cost ($/1K tokens)"}),jsxRuntimeExports.jsx(Input,{id:"outputCost",type:"number",step:"0.0001",value:E.outputCostPer1k||"",onChange:te=>y({...E,outputCostPer1k:te.target.value?parseFloat(te.target.value):void 0}),placeholder:"0.03"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{id:"vision",checked:E.supportsVision,onCheckedChange:te=>y({...E,supportsVision:te})}),jsxRuntimeExports.jsxs(Label$1,{htmlFor:"vision",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})," Vision"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{id:"streaming",checked:E.supportsStreaming,onCheckedChange:te=>y({...E,supportsStreaming:te})}),jsxRuntimeExports.jsxs(Label$1,{htmlFor:"streaming",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Zap,{className:"h-4 w-4"})," Streaming"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{id:"functions",checked:E.supportsFunctionCalling,onCheckedChange:te=>y({...E,supportsFunctionCalling:te})}),jsxRuntimeExports.jsxs(Label$1,{htmlFor:"functions",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4"})," Functions"]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:S,children:[S&&jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),o?"Update":"Create"," Model"]})]})]})}function TestResult({result:o}){return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[o.success?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:o.success?"Test Passed":"Test Failed"}),o.latencyMs&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[o.latencyMs,"ms"]})]}),o.response&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:o.response})}),o.error&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-950 rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o.error})})]})}function ModelsManager(){const{models:o,loading:r,error:x,fetchModels:O,createModel:E,updateModel:y,deleteModel:S,testModel:j}=useModels(),{providers:w,fetchProviders:_}=useProviders(),[Q,I]=reactExports.useState(!1),[M,F]=reactExports.useState(null),[V,te]=reactExports.useState(null),[re,se]=reactExports.useState(null),[ne,oe]=reactExports.useState(!1),[Oe,ae]=reactExports.useState(""),[ge,je]=reactExports.useState(""),[Ae,Qe]=reactExports.useState(""),[Xe,Ue]=reactExports.useState(null);reactExports.useEffect(()=>{O(),_()},[O,_]);const Le=async Je=>{(await E(Je)).ok&&I(!1)},Ze=async Je=>{if(!M)return;(await y(M.id,Je)).ok&&F(null)},Be=async Je=>{await y(Je.id,{isEnabled:!Je.isEnabled})},Ge=Je=>{Ue(Je)},We=async()=>{Xe&&(await S(Xe.id),Ue(null))},at=async Je=>{te(Je.id),se(null),oe(!0);const mt=await j(Je.id);te(null),mt.ok&&mt.data?se(mt.data):se({success:!1,modelName:Je.modelName,error:mt.error})},rt=o.filter(Je=>{if(Oe&&Je.provider.id!==Oe||ge==="true"&&!Je.isEnabled||ge==="false"&&Je.isEnabled)return!1;if(Ae){const mt=Ae.toLowerCase();return Je.modelName.toLowerCase().includes(mt)||Je.displayName.toLowerCase().includes(mt)||Je.provider.displayName.toLowerCase().includes(mt)}return!0});return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"AI Models"}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage available AI models and their configurations"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>I(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Model"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 flex-wrap",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Search models...",value:Ae,onChange:Je=>Qe(Je.target.value),className:"max-w-xs"}),jsxRuntimeExports.jsxs(Select,{value:Oe,onValueChange:ae,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"All Providers"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"",children:"All Providers"}),w.map(Je=>jsxRuntimeExports.jsx(SelectItem,{value:Je.id,children:Je.displayName},Je.id))]})]}),jsxRuntimeExports.jsxs(Select,{value:ge,onValueChange:je,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[150px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"All Status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"",children:"All Status"}),jsxRuntimeExports.jsx(SelectItem,{value:"true",children:"Enabled Only"}),jsxRuntimeExports.jsx(SelectItem,{value:"false",children:"Disabled Only"})]})]})]}),x&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),x]}),r?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[rt.map(Je=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded-lg ${Je.isEnabled?"border-border":"border-dashed border-muted-foreground/30 opacity-60"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Je.displayName}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"font-mono text-xs",children:Je.modelName}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:Je.provider.displayName}),!Je.isEnabled&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:"Disabled"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:Je.description||Je.modelIdentifier}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[Je.contextWindow&&jsxRuntimeExports.jsxs("span",{children:["Context: ",(Je.contextWindow/1e3).toFixed(0),"K"]}),Je.cost.inputPer1k!==null&&jsxRuntimeExports.jsxs("span",{children:["Cost: $",Je.cost.inputPer1k,"/$",Je.cost.outputPer1k," per 1K"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Je.capabilities.vision&&jsxRuntimeExports.jsx("span",{title:"Vision",children:jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3"})}),Je.capabilities.streaming&&jsxRuntimeExports.jsx("span",{title:"Streaming",children:jsxRuntimeExports.jsx(Zap,{className:"h-3 w-3"})}),Je.capabilities.functionCalling&&jsxRuntimeExports.jsx("span",{title:"Function Calling",children:jsxRuntimeExports.jsx(MessageSquare,{className:"h-3 w-3"})})]}),jsxRuntimeExports.jsxs("span",{children:["Priority: ",Je.priority]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>at(Je),disabled:V===Je.id,children:[V===Je.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Test"})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",children:jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>F(Je),children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit"]}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>Be(Je),children:Je.isEnabled?"Disable":"Enable"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>Ge(Je),className:"text-red-600",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})},Je.id)),rt.length===0&&jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No models found. Add your first model to get started."})]})]}),jsxRuntimeExports.jsx(Dialog,{open:Q,onOpenChange:I,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Model"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Configure a new AI model for use in the system"})]}),jsxRuntimeExports.jsx(ModelForm,{providers:w,onSubmit:Le,onCancel:()=>I(!1)})]})}),jsxRuntimeExports.jsx(Dialog,{open:!!M,onOpenChange:()=>F(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Model"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update model configuration"})]}),M&&jsxRuntimeExports.jsx(ModelForm,{model:M,providers:w,onSubmit:Ze,onCancel:()=>F(null)})]})}),jsxRuntimeExports.jsx(Dialog,{open:ne,onOpenChange:oe,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Model Test"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Testing model connectivity and response"})]}),V&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin"})}),re&&jsxRuntimeExports.jsx(TestResult,{result:re})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:!!Xe,onOpenChange:()=>Ue(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Model"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:['Are you sure you want to delete model "',Xe==null?void 0:Xe.displayName,'"? This action cannot be undone.']})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:We,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function RouteForm({route:o,models:r,onSubmit:x,onCancel:O}){var M;const[E,y]=reactExports.useState({name:(o==null?void 0:o.name)||"",description:(o==null?void 0:o.description)||"",routingStrategy:(o==null?void 0:o.routingStrategy)||"latency-based-routing",primaryModelId:((M=o==null?void 0:o.primaryModel)==null?void 0:M.id)||"",fallbackModelIds:(o==null?void 0:o.fallbackModelIds)||[],contextWindowFallbackIds:(o==null?void 0:o.contextWindowFallbackIds)||[],numRetries:(o==null?void 0:o.numRetries)||3,timeoutSeconds:(o==null?void 0:o.timeoutSeconds)||120,isDefault:(o==null?void 0:o.isDefault)||!1}),[S,j]=reactExports.useState(!1),w=r.filter(F=>F.isEnabled),_=async F=>{F.preventDefault(),j(!0);try{await x(E)}finally{j(!1)}},Q=F=>{const V=E.fallbackModelIds||[];V.includes(F)?y({...E,fallbackModelIds:V.filter(te=>te!==F)}):y({...E,fallbackModelIds:[...V,F]})},I=F=>{const V=E.contextWindowFallbackIds||[];V.includes(F)?y({...E,contextWindowFallbackIds:V.filter(te=>te!==F)}):y({...E,contextWindowFallbackIds:[...V,F]})};return jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Route Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:E.name,onChange:F=>y({...E,name:F.target.value}),placeholder:"default",disabled:!!o,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"strategy",children:"Routing Strategy"}),jsxRuntimeExports.jsxs(Select,{value:E.routingStrategy,onValueChange:F=>y({...E,routingStrategy:F}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"simple",children:"Simple"}),jsxRuntimeExports.jsx(SelectItem,{value:"latency-based-routing",children:"Latency Based"}),jsxRuntimeExports.jsx(SelectItem,{value:"cost-based-routing",children:"Cost Based"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"description",children:"Description"}),jsxRuntimeExports.jsx(Input,{id:"description",value:E.description||"",onChange:F=>y({...E,description:F.target.value}),placeholder:"Route description"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"primaryModel",children:"Primary Model"}),jsxRuntimeExports.jsxs(Select,{value:E.primaryModelId||"",onValueChange:F=>y({...E,primaryModelId:F}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select primary model"})}),jsxRuntimeExports.jsx(SelectContent,{children:w.map(F=>jsxRuntimeExports.jsxs(SelectItem,{value:F.id,children:[F.displayName," (",F.provider.displayName,")"]},F.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Fallback Models"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Select models to use when the primary model fails"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:w.filter(F=>F.id!==E.primaryModelId).map(F=>{var V;return jsxRuntimeExports.jsx(Badge,{variant:(V=E.fallbackModelIds)!=null&&V.includes(F.id)?"default":"outline",className:"cursor-pointer",onClick:()=>Q(F.id),children:F.displayName},F.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Context Window Fallbacks"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Select models for long context scenarios"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:w.filter(F=>(F.contextWindow||0)>1e5).map(F=>{var V;return jsxRuntimeExports.jsxs(Badge,{variant:(V=E.contextWindowFallbackIds)!=null&&V.includes(F.id)?"default":"outline",className:"cursor-pointer",onClick:()=>I(F.id),children:[F.displayName," (",((F.contextWindow||0)/1e3).toFixed(0),"K)"]},F.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"retries",children:"Retries"}),jsxRuntimeExports.jsx(Input,{id:"retries",type:"number",value:E.numRetries,onChange:F=>y({...E,numRetries:parseInt(F.target.value)||3}),min:0,max:10})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"timeout",children:"Timeout (seconds)"}),jsxRuntimeExports.jsx(Input,{id:"timeout",type:"number",value:E.timeoutSeconds,onChange:F=>y({...E,timeoutSeconds:parseInt(F.target.value)||120}),min:10,max:600})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"isDefault",checked:E.isDefault,onChange:F=>y({...E,isDefault:F.target.checked}),className:"h-4 w-4"}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"isDefault",children:"Set as default route"})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:S,children:[S&&jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),o?"Update":"Create"," Route"]})]})]})}function RoutesManager(){const{routes:o,loading:r,error:x,fetchRoutes:O,createRoute:E,updateRoute:y,deleteRoute:S}=useRoutes(),{models:j,fetchModels:w}=useModels(),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(null),[F,V]=reactExports.useState(null);reactExports.useEffect(()=>{O(),w()},[O,w]);const te=async je=>{(await E(je)).ok&&Q(!1)},re=async je=>{if(!I)return;(await y(I.id,je)).ok&&M(null)},se=async je=>{await y(je.id,{isDefault:!0})},ne=async je=>{await y(je.id,{isEnabled:!je.isEnabled})},oe=je=>{if(je.isDefault){toast({variant:"destructive",title:"Cannot Delete",description:"Cannot delete the default route. Set another route as default first."});return}V(je)},Oe=async()=>{F&&(await S(F.id),V(null))},ae=je=>{M({...je,id:"",name:`${je.name}-copy`,isDefault:!1}),Q(!0)},ge=je=>{const Ae=j.find(Qe=>Qe.id===je);return(Ae==null?void 0:Ae.displayName)||je};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Routing Rules"}),jsxRuntimeExports.jsx(CardDescription,{children:"Configure model routing and fallback strategies"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Q(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Route"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[x&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),x]}),r?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[o.map(je=>jsxRuntimeExports.jsx("div",{className:`p-4 border rounded-lg ${je.isDefault?"border-primary bg-primary/5":je.isEnabled?"border-border":"border-dashed border-muted-foreground/30 opacity-60"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[je.isDefault&&jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:je.name}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:je.routingStrategy}),!je.isEnabled&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:"Disabled"})]}),je.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:je.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-muted-foreground",children:"Flow:"}),je.primaryModel&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:je.primaryModel.displayName}),je.fallbackModelIds.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ArrowDown,{className:"h-4 w-4 text-muted-foreground"}),je.fallbackModelIds.map((Ae,Qe)=>jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:ge(Ae)}),Qe<je.fallbackModelIds.length-1&&jsxRuntimeExports.jsx(ArrowDown,{className:"h-3 w-3 text-muted-foreground"})]},Ae))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:["Retries: ",je.numRetries]}),jsxRuntimeExports.jsxs("span",{children:["Timeout: ",je.timeoutSeconds,"s"]}),je.contextWindowFallbackIds.length>0&&jsxRuntimeExports.jsxs("span",{children:["Long context: ",je.contextWindowFallbackIds.map(ge).join(", ")]})]})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",children:jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>M(je),children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>ae(je),children:[jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4 mr-2"}),"Clone"]}),!je.isDefault&&jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>se(je),children:[jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 mr-2"}),"Set as Default"]}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>ne(je),children:je.isEnabled?"Disable":"Enable"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>oe(je),className:"text-red-600",disabled:je.isDefault,children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})},je.id)),o.length===0&&jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No routes configured. Add your first routing rule to get started."})]})]}),jsxRuntimeExports.jsx(Dialog,{open:_,onOpenChange:Q,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Route"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Configure a new routing rule"})]}),jsxRuntimeExports.jsx(RouteForm,{models:j,onSubmit:te,onCancel:()=>Q(!1)})]})}),jsxRuntimeExports.jsx(Dialog,{open:!!I,onOpenChange:()=>M(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Route"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update routing configuration"})]}),I&&jsxRuntimeExports.jsx(RouteForm,{route:I,models:j,onSubmit:re,onCancel:()=>M(null)})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:!!F,onOpenChange:()=>V(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Route"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:['Are you sure you want to delete route "',F==null?void 0:F.name,'"? This action cannot be undone.']})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:Oe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function formatNumber(o){return o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(1)}K`:o.toString()}function StatCard({title:o,value:r,subtitle:x,icon:O,trend:E}){return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:o}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:r}),x&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:x})]}),jsxRuntimeExports.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${E==="up"?"bg-green-100 text-green-600 dark:bg-green-950 dark:text-green-400":E==="down"?"bg-red-100 text-red-600 dark:bg-red-950 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:jsxRuntimeExports.jsx(O,{className:"h-5 w-5"})})]})})})}function UsageBar({label:o,value:r,maxValue:x,color:O}){const E=x>0?r/x*100:0;return jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:o}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[E.toFixed(1),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full rounded-full transition-all ${O||"bg-primary"}`,style:{width:`${Math.min(E,100)}%`}})})]})}function UsageMonitor(){const{usage:o,loading:r,error:x,fetchUsage:O}=useUsage(),{exportConfig:E}=useAIConfig(),[y,S]=reactExports.useState("7d"),[j,w]=reactExports.useState("day");reactExports.useEffect(()=>{const M=y==="7d"?7:y==="30d"?30:1,F=new Date().toISOString().split("T")[0],V=new Date(Date.now()-M*24*60*60*1e3).toISOString().split("T")[0];O({startDate:V,endDate:F,groupBy:j})},[O,y,j]);const _=reactExports.useMemo(()=>o!=null&&o.breakdown?o.breakdown:[],[o]),Q=reactExports.useMemo(()=>j==="model"&&_.length>0?Math.max(..._.map(M=>M.requests)):0,[_,j]),I=async()=>{const M=await E();if(M.ok&&M.data){const F=new Blob([JSON.stringify(M.data,null,2)],{type:"application/json"}),V=URL.createObjectURL(F),te=document.createElement("a");te.href=V,te.download=`ai-config-export-${M.data.exportedAt.split("T")[0]}.json`,te.click(),URL.revokeObjectURL(V)}else toast({variant:"destructive",title:"Export Failed",description:M.error})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Usage & Monitoring"}),jsxRuntimeExports.jsx(CardDescription,{children:"Track AI usage, costs, and performance"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:y,onValueChange:S,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[130px]",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1d",children:"Last 24h"}),jsxRuntimeExports.jsx(SelectItem,{value:"7d",children:"Last 7 days"}),jsxRuntimeExports.jsx(SelectItem,{value:"30d",children:"Last 30 days"})]})]}),jsxRuntimeExports.jsxs(Select,{value:j,onValueChange:M=>w(M),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[130px]",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"day",children:"By Day"}),jsxRuntimeExports.jsx(SelectItem,{value:"model",children:"By Model"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>O(),children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})})]})]})})}),x&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),x]}),r?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{title:"Total Requests",value:formatNumber(o.summary.totalRequests),icon:TrendingUp,trend:"neutral"}),jsxRuntimeExports.jsx(StatCard,{title:"Total Tokens",value:formatNumber(o.summary.totalTokens),icon:Zap,trend:"neutral"}),jsxRuntimeExports.jsx(StatCard,{title:"Total Cost",value:`$${o.summary.totalCost.toFixed(2)}`,icon:DollarSign,trend:o.summary.totalCost>10?"up":"neutral"}),jsxRuntimeExports.jsx(StatCard,{title:"Avg Latency",value:`${o.summary.avgLatencyMs}ms`,icon:Clock,trend:o.summary.avgLatencyMs>2e3?"down":"neutral"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 flex items-center gap-4",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-8 w-8 text-green-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:o.summary.successCount}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful Requests"})]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 flex items-center gap-4",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-8 w-8 text-red-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:o.summary.errorCount}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed Requests"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:j==="day"?"Daily Usage":"Usage by Model"})}),jsxRuntimeExports.jsx(CardContent,{children:_.length>0?j==="model"?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:_.map((M,F)=>{var V,te;return jsxRuntimeExports.jsx(UsageBar,{label:((V=M.model)==null?void 0:V.displayName)||"Unknown",value:M.requests,maxValue:Q,color:F===0?"bg-blue-500":F===1?"bg-green-500":F===2?"bg-yellow-500":"bg-gray-400"},((te=M.model)==null?void 0:te.id)||F)})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Requests"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Tokens"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Avg Latency"})]})}),jsxRuntimeExports.jsx("tbody",{children:_.map((M,F)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:M.date}),jsxRuntimeExports.jsx("td",{className:"text-right p-2",children:formatNumber(M.requests)}),jsxRuntimeExports.jsx("td",{className:"text-right p-2",children:formatNumber(M.tokens)}),jsxRuntimeExports.jsxs("td",{className:"text-right p-2",children:["$",M.cost.toFixed(4)]}),jsxRuntimeExports.jsxs("td",{className:"text-right p-2",children:[M.avgLatencyMs,"ms"]})]},M.date||F))})]})}):jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No usage data available for this period."})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Configuration Actions"}),jsxRuntimeExports.jsx(CardDescription,{children:"Export current configuration"})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex gap-4",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:I,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Export Config"]})})]})]}):null]})}const STATUS_CONFIG={success:{icon:CircleCheckBig,color:"text-green-500",bg:"bg-green-500/10"},error:{icon:CircleX,color:"text-red-500",bg:"bg-red-500/10"},timeout:{icon:CircleAlert,color:"text-yellow-500",bg:"bg-yellow-500/10"},pending:{icon:LoaderCircle,color:"text-blue-500",bg:"bg-blue-500/10"}},SPAN_TYPE_COLORS={client_request:"bg-purple-500",worker_receive:"bg-blue-500",worker_process:"bg-cyan-500",backend_call:"bg-green-500",backend_receive:"bg-emerald-500",llm_call:"bg-orange-500",llm_response:"bg-amber-500",worker_response:"bg-indigo-500",client_receive:"bg-violet-500"};function StatusBadge$1({status:o}){const r=STATUS_CONFIG[o]||STATUS_CONFIG.pending,x=r.icon;return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:cn("gap-1",r.bg,r.color),children:[jsxRuntimeExports.jsx(x,{className:"h-3 w-3"}),o]})}function formatLatency$1(o){return o===null?"-":o<1e3?`${o}ms`:`${(o/1e3).toFixed(2)}s`}function formatDate$1(o){return new Date(o).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function TraceWaterfall({spans:o}){if(!o.length)return jsxRuntimeExports.jsx("div",{className:"text-muted-foreground text-sm",children:"No spans"});const r=Math.min(...o.map(E=>E.start_time_ms)),O=Math.max(...o.map(E=>E.end_time_ms||E.start_time_ms))-r||1;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[o.map(E=>{const y=(E.start_time_ms-r)/O*100,S=(E.latency_ms||1)/O*100,j=SPAN_TYPE_COLORS[E.span_type]||"bg-gray-500";return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-32 text-xs text-muted-foreground truncate",title:E.span_type,children:E.span_type}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-6 bg-muted rounded relative",children:jsxRuntimeExports.jsx("div",{className:cn("absolute h-full rounded",j),style:{left:`${y}%`,width:`${Math.max(S,1)}%`}})}),jsxRuntimeExports.jsx("div",{className:"w-20 text-xs text-right",children:formatLatency$1(E.latency_ms)})]},E.id)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2 pt-2 border-t",children:[jsxRuntimeExports.jsx("span",{children:"0ms"}),jsxRuntimeExports.jsx("span",{children:formatLatency$1(O)})]})]})}function TraceDetailDialog({traceId:o,open:r,onClose:x}){const{fetchTraceDetail:O}=useTraces(),[E,y]=reactExports.useState(null),[S,j]=reactExports.useState(!1);return reactExports.useEffect(()=>{o&&r&&(j(!0),O(o).then(w=>{w.ok&&w.data&&y(w.data),j(!1)}))},[o,r,O]),jsxRuntimeExports.jsx(Dialog,{open:r,onOpenChange:w=>!w&&x(),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl max-h-[80vh] overflow-auto overscroll-contain",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-5 w-5"}),"Trace Detail"]})}),S?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin"})}):E?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Trace ID:"}),jsxRuntimeExports.jsx("code",{className:"ml-2 text-xs bg-muted px-2 py-1 rounded",children:E.summary.trace_id})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:jsxRuntimeExports.jsx(StatusBadge$1,{status:E.summary.status})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Total Latency:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-mono",children:formatLatency$1(E.summary.total_latency_ms)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Spans:"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:E.summary.total_spans})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Path:"}),jsxRuntimeExports.jsx("code",{className:"ml-2 text-xs bg-muted px-2 py-1 rounded",children:E.summary.request_path||"-"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Created:"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:formatDate$1(E.summary.created_at)})]})]}),E.summary.error_message&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-500",children:E.summary.error_message}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-4",children:"Request Timeline"}),jsxRuntimeExports.jsx(TraceWaterfall,{spans:E.spans})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Span Details"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-60 overflow-auto overscroll-contain",children:E.spans.map(w=>jsxRuntimeExports.jsxs("div",{className:"text-xs p-2 bg-muted rounded flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-2 h-2 rounded-full",SPAN_TYPE_COLORS[w.span_type])}),jsxRuntimeExports.jsx("span",{className:"font-mono",children:w.span_type}),w.request_method&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-[10px]",children:w.request_method})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(StatusBadge$1,{status:w.status}),jsxRuntimeExports.jsx("span",{className:"font-mono",children:formatLatency$1(w.latency_ms)})]})]},w.id))})]})]}):jsxRuntimeExports.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No trace data found"})]})})}function TraceStatsCard(){const{fetchTraceStats:o}=useTraces(),[r,x]=reactExports.useState(null),[O,E]=reactExports.useState(!1);if(reactExports.useEffect(()=>{E(!0),o(24).then(S=>{S.ok&&S.data&&x(S.data.stats),E(!1)})},[o]),O)return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"flex items-center justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-5 w-5 animate-spin"})})});if(!r)return null;const y=r.total_traces>0?(r.success_count/r.total_traces*100).toFixed(1):"0";return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Last 24 Hours"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:r.total_traces}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[y,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-500",children:r.error_count}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:formatLatency$1(r.avg_latency_ms)}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Latency"})]})]})})]})}function TraceViewer(){const{traces:o,loading:r,error:x,total:O,fetchTraces:E}=useTraces(),[y,S]=reactExports.useState(null),[j,w]=reactExports.useState(!1),[_,Q]=reactExports.useState(""),[I,M]=reactExports.useState("all"),[F,V]=reactExports.useState(0),te=20;reactExports.useEffect(()=>{E({limit:te,offset:F*te,status:I!=="all"?I:void 0,traceId:_||void 0})},[E,F,I,_]);const re=()=>{E({limit:te,offset:F*te,status:I!=="all"?I:void 0,traceId:_||void 0})},se=oe=>{S(oe),w(!0)},ne=Math.ceil(O/te);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(TraceStatsCard,{}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5"}),"Request Traces"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:re,disabled:r,children:[jsxRuntimeExports.jsx(RefreshCw,{className:cn("h-4 w-4 mr-2",r&&"animate-spin")}),"Refresh"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search by trace ID...",value:_,onChange:oe=>{Q(oe.target.value),V(0)},className:"pl-9"})]}),jsxRuntimeExports.jsxs(Select,{value:I,onValueChange:oe=>{M(oe),V(0)},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-40",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Status"}),jsxRuntimeExports.jsx(SelectItem,{value:"success",children:"Success"}),jsxRuntimeExports.jsx(SelectItem,{value:"error",children:"Error"}),jsxRuntimeExports.jsx(SelectItem,{value:"timeout",children:"Timeout"}),jsxRuntimeExports.jsx(SelectItem,{value:"pending",children:"Pending"})]})]})]}),x&&jsxRuntimeExports.jsx("div",{className:"p-3 mb-4 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-500",children:x}),jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Trace ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Path"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Spans"}),jsxRuntimeExports.jsx(TableHead,{children:"Latency"}),jsxRuntimeExports.jsx(TableHead,{children:"Time"}),jsxRuntimeExports.jsx(TableHead,{})]})}),jsxRuntimeExports.jsxs(TableBody,{children:[o.map(oe=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:oe.trace_id}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-[200px] truncate text-xs",children:oe.request_path||"-"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(StatusBadge$1,{status:oe.status})}),jsxRuntimeExports.jsx(TableCell,{children:oe.total_spans}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:formatLatency$1(oe.total_latency_ms)}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs text-muted-foreground",children:formatDate$1(oe.created_at)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>se(oe.trace_id),children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})})})]},oe.trace_id)),!r&&o.length===0&&jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No traces found"})})]})]}),ne>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",F*te+1,"-",Math.min((F+1)*te,O)," of ",O]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>V(oe=>Math.max(0,oe-1)),disabled:F===0,children:"Previous"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>V(oe=>Math.min(ne-1,oe+1)),disabled:F>=ne-1,children:"Next"})]})]})]})]}),jsxRuntimeExports.jsx(TraceDetailDialog,{traceId:y,open:j,onClose:()=>w(!1)})]})}function formatLatency(o){return o===null?"-":o<1e3?`${o}ms`:`${(o/1e3).toFixed(2)}s`}function formatCost(o){return o===null?"-":o<.001?`$${o.toFixed(6)}`:`$${o.toFixed(4)}`}function formatDate(o){return new Date(o).toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function ResultCard({result:o,isComparing:r}){const[x,O]=reactExports.useState(!1),E=()=>{o.response&&(navigator.clipboard.writeText(o.response),O(!0),setTimeout(()=>O(!1),2e3))};return jsxRuntimeExports.jsxs(Card,{className:cn(r?"flex-1 min-w-[300px]":"w-full"),children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:o.model_name}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:o.provider_name})]}),o.status==="success"?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4 text-red-500"})]})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3",children:o.status==="error"?jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-500",children:o.error_message}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollArea,{className:cn(r?"h-[200px]":"h-auto max-h-[400px]"),children:jsxRuntimeExports.jsx("div",{className:"prose prose-sm dark:prose-invert whitespace-pre-wrap",children:o.response})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2 border-t text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),formatLatency(o.latency_ms)]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Zap,{className:"h-3 w-3"}),o.total_tokens??"-"," tokens"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3"}),formatCost(o.estimated_cost)]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:E,children:x?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]})})]})}function HistoryDialog({history:o,open:r,onClose:x,onRerun:O}){return o?jsxRuntimeExports.jsx(Dialog,{open:r,onOpenChange:E=>!E&&x(),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl max-h-[80vh] overflow-auto overscroll-contain",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:o.title||"Execution Detail"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"Model"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:o.model_name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"Provider"}),jsxRuntimeExports.jsx("div",{children:o.provider_name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"Temperature"}),jsxRuntimeExports.jsx("div",{children:o.temperature})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"Max Tokens"}),jsxRuntimeExports.jsx("div",{children:o.max_tokens||"Auto"})]})]}),o.system_prompt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"System Prompt"}),jsxRuntimeExports.jsx("div",{className:"mt-1 p-3 bg-muted rounded text-sm whitespace-pre-wrap",children:o.system_prompt})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"User Prompt"}),jsxRuntimeExports.jsx("div",{className:"mt-1 p-3 bg-muted rounded text-sm whitespace-pre-wrap",children:o.user_prompt})]}),o.status==="success"&&o.response&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-muted-foreground",children:"Response"}),jsxRuntimeExports.jsx(ScrollArea,{className:"mt-1 h-[200px]",children:jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted rounded text-sm whitespace-pre-wrap",children:o.response})})]}),o.status==="error"&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded text-sm text-red-500",children:o.error_message}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t",children:[jsxRuntimeExports.jsxs("span",{children:["Latency: ",formatLatency(o.latency_ms)]}),jsxRuntimeExports.jsxs("span",{children:["Tokens: ",o.total_tokens??"-"]}),jsxRuntimeExports.jsxs("span",{children:["Cost: ",formatCost(o.estimated_cost)]}),jsxRuntimeExports.jsx("span",{className:"ml-auto",children:formatDate(o.created_at)})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:x,children:"Close"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>O(o),children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4 mr-2"}),"Re-run"]})]})]})}):null}function SaveTemplateDialog({open:o,onClose:r,onSave:x,initialData:O}){const[E,y]=reactExports.useState(""),[S,j]=reactExports.useState(""),[w,_]=reactExports.useState("general"),Q=()=>{x({name:E,description:S||void 0,category:w,system_prompt:O.system_prompt||void 0,user_prompt_template:O.user_prompt,default_temperature:O.temperature}),y(""),j(""),_("general"),r()};return jsxRuntimeExports.jsx(Dialog,{open:o,onOpenChange:I=>!I&&r(),children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Save as Template"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Name *"}),jsxRuntimeExports.jsx(Input,{value:E,onChange:I=>y(I.target.value),placeholder:"e.g., Code Review Assistant"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:S,onChange:I=>j(I.target.value),placeholder:"Optional description...",rows:2})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:w,onValueChange:_,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"general",children:"General"}),jsxRuntimeExports.jsx(SelectItem,{value:"coding",children:"Coding"}),jsxRuntimeExports.jsx(SelectItem,{value:"writing",children:"Writing"}),jsxRuntimeExports.jsx(SelectItem,{value:"analysis",children:"Analysis"}),jsxRuntimeExports.jsx(SelectItem,{value:"creative",children:"Creative"})]})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:r,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{onClick:Q,disabled:!E.trim(),children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})}function Playground(){const{models:o,fetchModels:r}=useModels(),{history:x,templates:O,running:E,total:y,runPlayground:S,fetchHistory:j,deleteHistory:w,clearHistory:_,fetchTemplates:Q,createTemplate:I,deleteTemplate:M,useTemplate:F}=usePlayground(),[V,te]=reactExports.useState(""),[re,se]=reactExports.useState(""),[ne,oe]=reactExports.useState([]),[Oe,ae]=reactExports.useState(.7),[ge,je]=reactExports.useState(void 0),[Ae,Qe]=reactExports.useState([]),[Xe,Ue]=reactExports.useState("playground"),[Le,Ze]=reactExports.useState(null),[Be,Ge]=reactExports.useState(!1),[We,at]=reactExports.useState(!1),[rt,Je]=reactExports.useState(!1),[mt,Ke]=reactExports.useState(null);reactExports.useEffect(()=>{r(void 0,!0),j({limit:20}),Q()},[r,j,Q]);const ze=o.filter(ot=>ot.isEnabled),He=ot=>{oe(pt=>pt.includes(ot)?pt.filter(Ve=>Ve!==ot):[...pt,ot])},tt=async()=>{if(!re.trim()||ne.length===0)return;const ot=await S({system_prompt:V||void 0,user_prompt:re,model_ids:ne,temperature:Oe,max_tokens:ge});ot.ok&&ot.data&&(Qe(ot.data.results),j({limit:20}))},ct=ot=>{te(ot.system_prompt||""),se(ot.user_prompt),ae(ot.temperature),je(ot.max_tokens||void 0),ot.model_id&&oe([ot.model_id]),Ue("playground"),Ge(!1)},ut=async ot=>{await F(ot.id),te(ot.system_prompt||""),se(ot.user_prompt_template),ae(ot.default_temperature),je(ot.default_max_tokens||void 0),ot.default_model_id&&oe([ot.default_model_id]),Ue("playground")},it=async ot=>{await I(ot)},yt=async()=>{mt&&(await M(mt),Ke(null))},et=async()=>{await _(),Je(!1)},qe=Ae.length>1;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Tabs,{value:Xe,onValueChange:Ue,children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"playground",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"}),"Playground"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"history",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"h-4 w-4"}),"History",y>0&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-1",children:y})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"templates",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookDashed,{className:"h-4 w-4"}),"Templates"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"playground",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",children:"Prompts"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"System Prompt (Optional)"}),jsxRuntimeExports.jsx(Textarea,{value:V,onChange:ot=>te(ot.target.value),placeholder:"You are a helpful assistant...",rows:3,className:"mt-1 font-mono text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"User Prompt *"}),jsxRuntimeExports.jsx(Textarea,{value:re,onChange:ot=>se(ot.target.value),placeholder:"Enter your prompt here...",rows:6,className:"mt-1 font-mono text-sm"})]})]})]}),Ae.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",children:"Results"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:cn("flex gap-4",qe?"flex-wrap":"flex-col"),children:Ae.map(ot=>jsxRuntimeExports.jsx(ResultCard,{result:ot,isComparing:qe},ot.history_id))})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",children:"Models"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[ne.length,"/5 selected"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-[200px]",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ze.map(ot=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-muted cursor-pointer",onClick:()=>He(ot.id),children:[jsxRuntimeExports.jsx(Checkbox,{checked:ne.includes(ot.id),disabled:!ne.includes(ot.id)&&ne.length>=5}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium truncate",children:ot.displayName}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:ot.provider.displayName})]})]},ot.id))})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",children:"Parameters"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Temperature"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:Oe})]}),jsxRuntimeExports.jsx(Slider,{value:[Oe],onValueChange:([ot])=>ae(ot),min:0,max:2,step:.1})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Max Tokens (Optional)"}),jsxRuntimeExports.jsx(Input,{type:"number",value:ge??"",onChange:ot=>je(ot.target.value?parseInt(ot.target.value,10):void 0),placeholder:"Auto",className:"mt-1"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{className:"flex-1",onClick:tt,disabled:E||!re.trim()||ne.length===0,children:[E?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-2"}),E?"Running...":"Run"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>at(!0),disabled:!re.trim(),children:jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"})})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"history",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"h-5 w-5"}),"Execution History"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Je(!0),disabled:x.length===0,children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Clear All"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Title"}),jsxRuntimeExports.jsx(TableHead,{children:"Model"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Latency"}),jsxRuntimeExports.jsx(TableHead,{children:"Cost"}),jsxRuntimeExports.jsx(TableHead,{children:"Time"}),jsxRuntimeExports.jsx(TableHead,{})]})}),jsxRuntimeExports.jsxs(TableBody,{children:[x.map(ot=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"max-w-[200px] truncate",children:ot.title||ot.user_prompt.slice(0,50)}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:ot.model_name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:ot.provider_name})]}),jsxRuntimeExports.jsx(TableCell,{children:ot.status==="success"?jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-green-500/10 text-green-500",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"}),"Success"]}):jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-3 w-3 mr-1"}),"Error"]})}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:formatLatency(ot.latency_ms)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:formatCost(ot.estimated_cost)}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs text-muted-foreground",children:formatDate(ot.created_at)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{Ze(ot),Ge(!0)},children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>w(ot.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})})]},ot.id)),x.length===0&&jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No history yet. Run a prompt to get started."})})]})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"templates",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookDashed,{className:"h-5 w-5"}),"Prompt Templates"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(ot=>jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>ut(ot),children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",children:ot.name}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:pt=>{pt.stopPropagation(),Ke(ot.id)},children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:ot.description||ot.user_prompt_template.slice(0,100)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:ot.category}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Used ",ot.usage_count,"x"]})]})]})]},ot.id)),O.length===0&&jsxRuntimeExports.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"No templates yet. Save a prompt as a template to get started."})]})})]})})]}),jsxRuntimeExports.jsx(HistoryDialog,{history:Le,open:Be,onClose:()=>Ge(!1),onRerun:ct}),jsxRuntimeExports.jsx(SaveTemplateDialog,{open:We,onClose:()=>at(!1),onSave:it,initialData:{system_prompt:V,user_prompt:re,temperature:Oe}}),jsxRuntimeExports.jsx(AlertDialog,{open:rt,onOpenChange:Je,children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Clear All History?"}),jsxRuntimeExports.jsx(AlertDialogDescription,{children:"This will permanently delete all execution history. This action cannot be undone."})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:et,className:"bg-red-500 hover:bg-red-600",children:"Clear All"})]})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:!!mt,onOpenChange:()=>Ke(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Template?"}),jsxRuntimeExports.jsx(AlertDialogDescription,{children:"This will permanently delete this template. This action cannot be undone."})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:yt,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}function AIManager(){return jsxRuntimeExports.jsxs(Tabs,{defaultValue:"playground",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-4xl grid-cols-6",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"playground",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FlaskConical,{className:"h-4 w-4"}),"Playground"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"models",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4"}),"Models"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"providers",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Cpu,{className:"h-4 w-4"}),"Providers"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"routes",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GitBranch,{className:"h-4 w-4"}),"Routes"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"monitoring",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),"Monitoring"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"traces",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4"}),"Traces"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"playground",children:jsxRuntimeExports.jsx(Playground,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"models",children:jsxRuntimeExports.jsx(ModelsManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"providers",children:jsxRuntimeExports.jsx(ProvidersManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"routes",children:jsxRuntimeExports.jsx(RoutesManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"monitoring",children:jsxRuntimeExports.jsx(UsageMonitor,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"traces",children:jsxRuntimeExports.jsx(TraceViewer,{})})]})}async function apiFetch(o,r={}){const{getValidAccessToken:x,clearAuth:O}=useAuthStore.getState(),E=getApiBaseUrl();try{const y=await x();if(!y)return{ok:!1,error:"Not authenticated. Please log in again."};const S=await fetch(`${E}/api/v1/admin/secrets${o}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`,...r.headers||{}}});if(S.status===401){const w=await x();if(!w)return O(),{ok:!1,error:"Session expired. Please log in again."};const _=await fetch(`${E}/api/v1/admin/secrets${o}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`,...r.headers||{}}});return _.ok?{ok:!0,data:(await _.json()).data}:_.status===401?(O(),{ok:!1,error:"Session expired. Please log in again."}):{ok:!1,error:(await _.json().catch(()=>({}))).error||`HTTP ${_.status}`}}const j=await S.json();return!S.ok||!j.ok?{ok:!1,error:j.error||`HTTP ${S.status}`}:{ok:!0,data:j.data}}catch(y){return{ok:!1,error:y instanceof Error?y.message:"Unknown error"}}}function useCategories(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async()=>{O(!0),y(null);const w=await apiFetch("/categories");w.ok&&w.data?r(w.data.categories):y(w.error||"Failed to fetch categories"),O(!1)},[]),j=reactExports.useCallback(async w=>{const _=await apiFetch("/categories",{method:"POST",body:JSON.stringify(w)});return _.ok&&await S(),_},[S]);return{categories:o,loading:x,error:E,fetchCategories:S,createCategory:j}}function useSecrets(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),S=reactExports.useCallback(async M=>{O(!0),y(null);const F=M?`?categoryId=${M}`:"",V=await apiFetch(`/${F}`);V.ok&&V.data?r(V.data.secrets):y(V.error||"Failed to fetch secrets"),O(!1)},[]),j=reactExports.useCallback(async M=>{const F=await apiFetch("/",{method:"POST",body:JSON.stringify(M)});return F.ok&&await S(),F},[S]),w=reactExports.useCallback(async(M,F)=>{const V=await apiFetch(`/${M}`,{method:"PUT",body:JSON.stringify(F)});return V.ok&&await S(),V},[S]),_=reactExports.useCallback(async M=>{const F=await apiFetch(`/${M}`,{method:"DELETE"});return F.ok&&await S(),F},[S]),Q=reactExports.useCallback(async M=>await apiFetch(`/${M}/reveal`,{method:"POST"}),[]),I=reactExports.useCallback(async(M="secret",F,V)=>await apiFetch("/generate",{method:"POST",body:JSON.stringify({type:M,length:F,prefix:V})}),[]);return{secrets:o,loading:x,error:E,fetchSecrets:S,createSecret:j,updateSecret:w,deleteSecret:_,revealSecret:Q,generateValue:I}}function useAuditLog(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!1),[E,y]=reactExports.useState(null),[S,j]=reactExports.useState({total:0,limit:50,offset:0}),w=reactExports.useCallback(async _=>{O(!0),y(null);const Q=new URLSearchParams;_!=null&&_.secretId&&Q.set("secretId",_.secretId),_!=null&&_.action&&Q.set("action",_.action),_!=null&&_.limit&&Q.set("limit",String(_.limit)),_!=null&&_.offset&&Q.set("offset",String(_.offset));const I=Q.toString()?`?${Q}`:"",M=await apiFetch(`/audit${I}`);M.ok&&M.data?(r(M.data.logs),j(M.data.pagination)):y(M.error||"Failed to fetch audit logs"),O(!1)},[]);return{logs:o,loading:x,error:E,pagination:S,fetchLogs:w}}function useSecretsOverview(){const[o,r]=reactExports.useState(null),[x,O]=reactExports.useState(null),[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(null),w=reactExports.useCallback(async()=>{y(!0),j(null);const[_,Q]=await Promise.all([apiFetch("/overview"),apiFetch("/health")]);_.ok&&_.data&&r(_.data),Q.ok&&Q.data&&O(Q.data),!_.ok&&!Q.ok&&j(_.error||Q.error||"Failed to fetch overview"),y(!1)},[]);return{overview:o,health:x,loading:E,error:S,fetchOverview:w}}function SecretsListManager({categories:o}){const{secrets:r,loading:x,error:O,fetchSecrets:E,createSecret:y,updateSecret:S,deleteSecret:j,revealSecret:w,generateValue:_}=useSecrets(),{categories:Q,fetchCategories:I}=useCategories(),[M,F]=reactExports.useState(""),[V,te]=reactExports.useState("all"),[re,se]=reactExports.useState(!1),[ne,oe]=reactExports.useState(!1),[Oe,ae]=reactExports.useState(!1),[ge,je]=reactExports.useState(null),[Ae,Qe]=reactExports.useState({}),[Xe,Ue]=reactExports.useState(null),[Le,Ze]=reactExports.useState({categoryId:"",keyName:"",displayName:"",description:"",value:"",isRequired:!1,isSensitive:!0,valueType:"string",envFallback:""}),[Be,Ge]=reactExports.useState(""),[We,at]=reactExports.useState(!1);reactExports.useEffect(()=>{E(),o.length===0&&I()},[E,I,o.length]);const rt=o.length>0?o:Q,Je=r.filter(et=>{const qe=M===""||et.key_name.toLowerCase().includes(M.toLowerCase())||et.display_name.toLowerCase().includes(M.toLowerCase()),ot=V==="all"||et.category_id===V;return qe&&ot}),mt=Je.reduce((et,qe)=>{const ot=qe.category_name||"Uncategorized";return et[ot]||(et[ot]=[]),et[ot].push(qe),et},{}),Ke=reactExports.useCallback(async et=>{if(Ae[et.id]){Qe(ot=>{const pt={...ot};return delete pt[et.id],pt});return}const qe=await w(et.id);qe.ok&&qe.data&&(Qe(ot=>({...ot,[et.id]:qe.data.value})),setTimeout(()=>{Qe(ot=>{const pt={...ot};return delete pt[et.id],pt})},3e4))},[w,Ae]),ze=reactExports.useCallback(async et=>{let qe=Ae[et.id];if(!qe){const ot=await w(et.id);ot.ok&&ot.data&&(qe=ot.data.value)}qe&&(await navigator.clipboard.writeText(qe),Ue(et.id),setTimeout(()=>Ue(null),2e3))},[w,Ae]),He=async()=>{Ge(""),at(!0);const et=await y(Le);et.ok?(se(!1),it()):Ge(et.error||"Failed to create secret"),at(!1)},tt=async()=>{if(!ge)return;Ge(""),at(!0);const et=await S(ge.id,{displayName:Le.displayName,description:Le.description,value:Le.value||void 0,isRequired:Le.isRequired,isSensitive:Le.isSensitive,valueType:Le.valueType,envFallback:Le.envFallback});et.ok?(oe(!1),it()):Ge(et.error||"Failed to update secret"),at(!1)},ct=async()=>{if(!ge)return;at(!0),(await j(ge.id)).ok&&(ae(!1),je(null)),at(!1)},ut=async()=>{const et=await _("apiKey",void 0,"sk");et.ok&&et.data&&Ze(qe=>({...qe,value:et.data.value}))},it=()=>{var et;Ze({categoryId:((et=rt[0])==null?void 0:et.id)||"",keyName:"",displayName:"",description:"",value:"",isRequired:!1,isSensitive:!0,valueType:"string",envFallback:""}),Ge(""),je(null)},yt=et=>{je(et),Ze({categoryId:et.category_id,keyName:et.key_name,displayName:et.display_name,description:et.description||"",value:"",isRequired:!!et.is_required,isSensitive:!!et.is_sensitive,valueType:et.value_type,envFallback:et.env_fallback||""}),oe(!0)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 max-w-sm",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search secrets...",value:M,onChange:et=>F(et.target.value),className:"pl-9"})]}),jsxRuntimeExports.jsxs(Select,{value:V,onValueChange:te,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-48",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"All categories"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All categories"}),rt.map(et=>jsxRuntimeExports.jsx(SelectItem,{value:et.id,children:et.display_name},et.id))]})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>E(),variant:"outline",size:"icon",children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),jsxRuntimeExports.jsxs(Button,{onClick:()=>se(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Secret"]})]}),O&&jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm",children:O}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[Object.entries(mt).map(([et,qe])=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:et}),jsxRuntimeExports.jsxs(CardDescription,{children:[qe.length," secrets"]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:qe.map(ot=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:ot.has_value?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("code",{className:"text-sm font-mono",children:ot.key_name}),ot.is_required?jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Required"}):null]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:ot.display_name})]}),ot.has_value&&jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 font-mono text-sm text-muted-foreground",children:Ae[ot.id]?jsxRuntimeExports.jsx("span",{className:"text-foreground",children:Ae[ot.id]}):"••••••••••••••••"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[ot.has_value&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>Ke(ot),title:Ae[ot.id]?"Hide":"Reveal",children:Ae[ot.id]?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>ze(ot),title:"Copy",children:Xe===ot.id?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>yt(ot),title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>{je(ot),ae(!0)},title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-destructive"})})]})]},ot.id))})})]},et)),Je.length===0&&!x&&jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"py-12 text-center",children:[jsxRuntimeExports.jsx(Key,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No secrets found"}),jsxRuntimeExports.jsxs(Button,{className:"mt-4",onClick:()=>se(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add First Secret"]})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:re,onOpenChange:se,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-lg",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Secret"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Create a new encrypted secret. The value will be encrypted at rest."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:Le.categoryId,onValueChange:et=>Ze(qe=>({...qe,categoryId:et})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})}),jsxRuntimeExports.jsx(SelectContent,{children:rt.map(et=>jsxRuntimeExports.jsx(SelectItem,{value:et.id,children:et.display_name},et.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Value Type"}),jsxRuntimeExports.jsxs(Select,{value:Le.valueType,onValueChange:et=>Ze(qe=>({...qe,valueType:et})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"string",children:"String"}),jsxRuntimeExports.jsx(SelectItem,{value:"url",children:"URL"}),jsxRuntimeExports.jsx(SelectItem,{value:"json",children:"JSON"}),jsxRuntimeExports.jsx(SelectItem,{value:"number",children:"Number"}),jsxRuntimeExports.jsx(SelectItem,{value:"boolean",children:"Boolean"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Key Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"OPENAI_API_KEY",value:Le.keyName,onChange:et=>Ze(qe=>({...qe,keyName:et.target.value.toUpperCase().replace(/[^A-Z0-9_]/g,"_")})),className:"font-mono"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Uppercase with underscores"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Display Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"OpenAI API Key",value:Le.displayName,onChange:et=>Ze(qe=>({...qe,displayName:et.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Description (optional)"}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Used for AI chat completions...",value:Le.description,onChange:et=>Ze(qe=>({...qe,description:et.target.value})),rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{children:"Value"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",onClick:ut,children:[jsxRuntimeExports.jsx(WandSparkles,{className:"h-3 w-3 mr-1"}),"Generate"]})]}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter secret value...",value:Le.value,onChange:et=>Ze(qe=>({...qe,value:et.target.value})),className:"font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{checked:Le.isRequired,onCheckedChange:et=>Ze(qe=>({...qe,isRequired:et}))}),jsxRuntimeExports.jsx(Label$1,{children:"Required"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{checked:Le.isSensitive,onCheckedChange:et=>Ze(qe=>({...qe,isSensitive:et}))}),jsxRuntimeExports.jsx(Label$1,{children:"Sensitive"})]})]}),Be&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:Be})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:He,disabled:We||!Le.keyName,children:We?"Creating...":"Create Secret"})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:ne,onOpenChange:oe,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-lg",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Secret"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update secret settings. Leave value empty to keep current value."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Key Name"}),jsxRuntimeExports.jsx(Input,{value:Le.keyName,disabled:!0,className:"font-mono bg-muted"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Display Name"}),jsxRuntimeExports.jsx(Input,{value:Le.displayName,onChange:et=>Ze(qe=>({...qe,displayName:et.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:Le.description,onChange:et=>Ze(qe=>({...qe,description:et.target.value})),rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{children:"New Value (optional)"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",onClick:ut,children:[jsxRuntimeExports.jsx(WandSparkles,{className:"h-3 w-3 mr-1"}),"Generate"]})]}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Leave empty to keep current value...",value:Le.value,onChange:et=>Ze(qe=>({...qe,value:et.target.value})),className:"font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{checked:Le.isRequired,onCheckedChange:et=>Ze(qe=>({...qe,isRequired:et}))}),jsxRuntimeExports.jsx(Label$1,{children:"Required"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{checked:Le.isSensitive,onCheckedChange:et=>Ze(qe=>({...qe,isSensitive:et}))}),jsxRuntimeExports.jsx(Label$1,{children:"Sensitive"})]})]}),Be&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:Be})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>oe(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:tt,disabled:We,children:We?"Saving...":"Save Changes"})]})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:Oe,onOpenChange:ae,children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Secret"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:["Are you sure you want to delete"," ",jsxRuntimeExports.jsx("code",{className:"font-mono",children:ge==null?void 0:ge.key_name}),"? This action cannot be undone."]})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:ct,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:We?"Deleting...":"Delete"})]})]})})]})}function AuditLogViewer(){const{logs:o,loading:r,error:x,pagination:O,fetchLogs:E}=useAuditLog(),[y,S]=reactExports.useState("all"),[j,w]=reactExports.useState(0),_=20;reactExports.useEffect(()=>{E({action:y==="all"?void 0:y,limit:_,offset:j*_})},[E,y,j]);const Q=M=>{const F={created:"default",updated:"secondary",rotated:"secondary",deleted:"destructive",accessed:"outline"};return jsxRuntimeExports.jsx(Badge,{variant:F[M]||"outline",children:M})},I=Math.ceil(O.total/_);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Audit Log"}),jsxRuntimeExports.jsx(CardDescription,{children:"History of all secret changes and access"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:y,onValueChange:S,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-32",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"All actions"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All actions"}),jsxRuntimeExports.jsx(SelectItem,{value:"created",children:"Created"}),jsxRuntimeExports.jsx(SelectItem,{value:"updated",children:"Updated"}),jsxRuntimeExports.jsx(SelectItem,{value:"rotated",children:"Rotated"}),jsxRuntimeExports.jsx(SelectItem,{value:"deleted",children:"Deleted"}),jsxRuntimeExports.jsx(SelectItem,{value:"accessed",children:"Accessed"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:()=>E({action:y==="all"?void 0:y,limit:_,offset:j*_}),children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[x&&jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm mb-4",children:x}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[o.map(M=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[Q(M.action),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("code",{className:"text-sm font-mono",children:M.key_name||M.secret_id}),M.changed_by&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["by ",M.changed_by]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[M.ip_address&&jsxRuntimeExports.jsx("span",{children:M.ip_address}),jsxRuntimeExports.jsx("span",{children:new Date(M.created_at).toLocaleString()})]})]},M.id)),o.length===0&&!r&&jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No audit logs found"})]}),I>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",j*_+1," - ",Math.min((j+1)*_,O.total)," of"," ",O.total]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>w(M=>M-1),disabled:j===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),"Previous"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Page ",j+1," of ",I]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>w(M=>M+1),disabled:j>=I-1,children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]})]})]})]})]})}function SecretsManager(){var w,_,Q,I,M,F,V;const{overview:o,health:r,loading:x,error:O,fetchOverview:E}=useSecretsOverview(),[y,S]=reactExports.useState("overview");reactExports.useEffect(()=>{E()},[E]);const j=te=>{switch(te){case"healthy":return"bg-green-500";case"unhealthy":return"bg-red-500";default:return"bg-gray-500"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-5 w-5"}),"Secrets Management"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Centralized management for API keys, tokens, and secrets"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:E,disabled:x,children:[jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 mr-2 ${x?"animate-spin":""}`}),"Refresh"]})]}),O&&jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm",children:O}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),"Encryption"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`h-2 w-2 rounded-full ${j((r==null?void 0:r.status)||"unknown")}`}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold capitalize",children:(r==null?void 0:r.encryption)||"Unknown"})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),"Total Secrets"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold",children:((w=o==null?void 0:o.stats)==null?void 0:w.total)??"-"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",((_=o==null?void 0:o.stats)==null?void 0:_.configured)??0," configured)"]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),"Missing Required"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:(((Q=o==null?void 0:o.stats)==null?void 0:Q.missing_required)??0)>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:(I=o==null?void 0:o.stats)==null?void 0:I.missing_required}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"need attention"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"All configured"})]})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),"Expiring Soon"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:(((M=o==null?void 0:o.stats)==null?void 0:M.expiring_soon)??0)>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:(F=o==null?void 0:o.stats)==null?void 0:F.expiring_soon}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"in next 7 days"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"None expiring"})]})})})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:y,onValueChange:S,children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"overview",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),"Overview"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"secrets",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(List$2,{className:"h-4 w-4"}),"All Secrets"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"audit",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(History,{className:"h-4 w-4"}),"Audit Log"]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Categories"}),jsxRuntimeExports.jsx(CardDescription,{children:"Secrets organized by category"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(V=o==null?void 0:o.categories)==null?void 0:V.map(te=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",onClick:()=>{S("secrets")},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Key,{className:"h-4 w-4 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:te.display_name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:te.description})]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:te.secret_count})]},te.id))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Recent Activity"}),jsxRuntimeExports.jsx(CardDescription,{children:"Latest changes to secrets"})]}),jsxRuntimeExports.jsx(CardContent,{children:o!=null&&o.recentActivity&&o.recentActivity.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:o.recentActivity.map(te=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Badge,{variant:te.action==="deleted"?"destructive":te.action==="created"?"default":"secondary",children:te.action}),jsxRuntimeExports.jsx("span",{className:"font-mono text-sm",children:te.key_name||te.secret_id})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(te.created_at).toLocaleString()})]},te.id))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent activity"})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"secrets",children:jsxRuntimeExports.jsx(SecretsListManager,{categories:(o==null?void 0:o.categories)??[]})}),jsxRuntimeExports.jsx(TabsContent,{value:"audit",children:jsxRuntimeExports.jsx(AuditLogViewer,{})})]})]})}function RAGHealthStatus(){const[o,r]=reactExports.useState(null),[x,O]=reactExports.useState(!0),E=reactExports.useCallback(async()=>{O(!0);try{const S=await checkRAGHealth$1();if(S.ok&&S.data)r({embedding:{ok:S.data.embedding},chroma:{ok:S.data.chromadb}});else{const j=S;j.services&&r({embedding:j.services.embedding,chroma:j.services.chroma})}}catch{r(null)}finally{O(!1)}},[]);reactExports.useEffect(()=>{E()},[E]);const y=({ok:S})=>S?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4 text-red-500"});return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"RAG 서비스 상태"}),jsxRuntimeExports.jsx(CardDescription,{children:"Embedding 엔드포인트 및 ChromaDB 연결 상태"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:E,disabled:x,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:x&&!o?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"상태 확인 중..."]}):o?jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(y,{ok:o.embedding.ok}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Embedding"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(y,{ok:o.chroma.ok}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"ChromaDB"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),"연결 실패"]})})]})}function CollectionsList(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!0),[E,y]=reactExports.useState(null),[S,j]=reactExports.useState(null),w=reactExports.useCallback(async()=>{O(!0);try{const Q=await getCollections();Q.ok&&Q.data&&r(Q.data.collections)}catch{r([])}finally{O(!1)}},[]);reactExports.useEffect(()=>{w()},[w]);const _=async Q=>{y(Q);try{const I=await getCollectionStatus(Q);I.ok&&I.data&&j({count:I.data.count,exists:I.data.exists})}catch{j(null)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4"}),"컬렉션 목록"]}),jsxRuntimeExports.jsx(CardDescription,{children:"ChromaDB에 저장된 벡터 컬렉션"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:w,disabled:x,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:x?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"로딩 중..."]}):o.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"컬렉션이 없습니다."}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(Q=>jsxRuntimeExports.jsx(Badge,{variant:E===Q.name?"default":"outline",className:"cursor-pointer",onClick:()=>_(Q.name),children:Q.name},Q.name))}),E&&S&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:E})}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["문서 수: ",S.count.toLocaleString(),"개"]})]})]})})]})}function SearchTester(){const[o,r]=reactExports.useState(""),[x,O]=reactExports.useState([]),[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(null),w=async()=>{var _;if(o.trim()){y(!0),j(null);try{const Q=await semanticSearch(o,{n_results:5});Q.ok&&Q.data?O(Q.data.results):(j(((_=Q.error)==null?void 0:_.message)||"Search failed"),O([]))}catch(Q){j(Q instanceof Error?Q.message:"Search failed"),O([])}finally{y(!1)}}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4"}),"시맨틱 검색 테스트"]}),jsxRuntimeExports.jsx(CardDescription,{children:"RAG 검색 정확도를 테스트합니다. 쿼리를 입력하고 유사한 문서를 검색해보세요."})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"검색 쿼리 입력... (예: LLM 추론 최적화 방법)",value:o,onChange:_=>r(_.target.value),onKeyDown:_=>_.key==="Enter"&&w()}),jsxRuntimeExports.jsx(Button,{onClick:w,disabled:E||!o.trim(),children:E?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Search,{className:"h-4 w-4"})})]}),S&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-lg text-sm",children:S}),x.length>0&&jsxRuntimeExports.jsx("div",{className:"border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-16",children:"유사도"}),jsxRuntimeExports.jsx(TableHead,{children:"제목"}),jsxRuntimeExports.jsx(TableHead,{className:"w-24",children:"카테고리"})]})}),jsxRuntimeExports.jsx(TableBody,{children:x.map((_,Q)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs(Badge,{variant:_.score>.7?"default":"secondary",children:[(_.score*100).toFixed(0),"%"]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:_.metadata.title||"Untitled"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2",children:[_.content.slice(0,150),"..."]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:_.metadata.category||"-"})})]},Q))})]})})]})]})}function IndexManager(){const[o,r]=reactExports.useState(null),[x,O]=reactExports.useState(!0),E=reactExports.useCallback(async()=>{O(!0);try{const y=await getCollectionStatus();y.ok&&y.data&&r({count:y.data.count,collection:y.data.collection})}catch{r(null)}finally{O(!1)}},[]);return reactExports.useEffect(()=>{E()},[E]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"인덱스 상태"]}),jsxRuntimeExports.jsx(CardDescription,{children:"블로그 포스트 인덱스 현황. 전체 재인덱싱은 GitHub Actions를 통해 수행됩니다."})]}),jsxRuntimeExports.jsx(CardContent,{children:x?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"로딩 중..."]}):o?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:o.count.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"인덱싱된 문서"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-mono break-all",children:o.collection}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"컬렉션 이름"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["* 블로그 글 인덱싱은 ",jsxRuntimeExports.jsx("code",{className:"bg-muted px-1",children:"scripts/rag/index_posts.py"}),"를 통해 수행됩니다."]})]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"상태를 불러올 수 없습니다."})})]})}function RAGManager(){return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(RAGHealthStatus,{}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsx(CollectionsList,{}),jsxRuntimeExports.jsx(IndexManager,{})]}),jsxRuntimeExports.jsx(SearchTester,{})]})}async function checkBackendHealth(){const o=getApiBaseUrl(),r=Date.now();try{const x=await fetch(`${o}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)}),O=Date.now()-r;return{ok:x.ok,latencyMs:O}}catch{return{ok:!1,latencyMs:0}}}async function checkRAGHealth(){var x,O,E,y,S,j;const o=getApiBaseUrl(),r=Date.now();try{const w=await fetch(`${o}/api/v1/rag/health`,{method:"GET",signal:AbortSignal.timeout(5e3)}),_=Date.now()-r;if(!w.ok)return{embedding:!1,chroma:!1,latencyMs:_};const Q=await w.json();return{embedding:((O=(x=Q.services)==null?void 0:x.embedding)==null?void 0:O.ok)??((E=Q.data)==null?void 0:E.embedding)??!1,chroma:((S=(y=Q.services)==null?void 0:y.chroma)==null?void 0:S.ok)??((j=Q.data)==null?void 0:j.chromadb)??!1,latencyMs:_}}catch{return{embedding:!1,chroma:!1,latencyMs:0}}}async function getProviders(o){var x;const r=getApiBaseUrl();try{const O=await fetch(`${r}/api/v1/admin/ai/providers`,{method:"GET",headers:{Authorization:`Bearer ${o}`},signal:AbortSignal.timeout(1e4)});return O.ok?((x=(await O.json()).data)==null?void 0:x.providers)??[]:[]}catch{return[]}}async function checkProviderHealth(o,r){var O,E,y;const x=getApiBaseUrl();try{const j=await(await fetch(`${x}/api/v1/admin/ai/providers/${o}/health`,{method:"POST",headers:{Authorization:`Bearer ${r}`},signal:AbortSignal.timeout(15e3)})).json();return{status:((O=j.data)==null?void 0:O.status)??"unknown",latencyMs:(E=j.data)==null?void 0:E.latencyMs,error:(y=j.data)==null?void 0:y.error}}catch(S){return{status:"down",error:S instanceof Error?S.message:"Check failed"}}}function StatusBadge({status:o}){switch(o){case"healthy":return jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"}),"정상"]});case"down":return jsxRuntimeExports.jsxs(Badge,{variant:"destructive",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-3 w-3 mr-1"}),"오류"]});case"checking":return jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 mr-1 animate-spin"}),"확인 중"]});default:return jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3 mr-1"}),"알 수 없음"]})}}function ServiceCard({icon:o,title:r,services:x,onRefresh:O,loading:E}){return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[o,jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:r})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:O,disabled:E,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:x.map(y=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:y.displayName}),y.latencyMs!==void 0&&y.status==="healthy"&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.latencyMs,"ms"]}),y.error&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 truncate max-w-[200px]",children:y.error})]}),jsxRuntimeExports.jsx(StatusBadge,{status:y.status})]},y.name))})})]})}function AIProvidersCard({providers:o,onRefresh:r,onCheckHealth:x,checkingProvider:O,loading:E}){const y=S=>{if(O===S.id)return jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 mr-1 animate-spin"}),"확인 중"]});if(!S.isEnabled)return jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"비활성화"});switch(S.healthStatus){case"healthy":return jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"}),"정상"]});case"down":return jsxRuntimeExports.jsxs(Badge,{variant:"destructive",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-3 w-3 mr-1"}),"오류"]});default:return jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3 mr-1"}),"미확인"]})}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"h-5 w-5 text-purple-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"AI 제공자"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-xs",children:"클릭하여 개별 상태 확인"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:r,disabled:E,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:o.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:E?"로딩 중...":"등록된 제공자가 없습니다."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:o.map(S=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50 cursor-pointer hover:bg-muted transition-colors",onClick:()=>S.isEnabled&&x(S.id),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:S.displayName}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["모델: ",S.enabledModelCount,"/",S.modelCount,S.lastHealthCheck&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" · ","마지막 확인: ",new Date(S.lastHealthCheck).toLocaleTimeString()]})]})]}),y(S)]},S.id))})})]})}const FEATURE_LABELS={aiEnabled:"AI 서비스",ragEnabled:"RAG 검색",terminalEnabled:"터미널",aiInline:"인라인 AI",commentsEnabled:"댓글"};function FeatureFlagsCard(){const{flags:o,isLoading:r,fetchFlags:x}=useFeatureFlagsStore(),O=reactExports.useCallback(()=>{useFeatureFlagsStore.setState({lastFetched:null}),x()},[x]),E=Object.entries(o);return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ToggleRight,{className:"h-5 w-5 text-orange-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Feature Flags"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-xs",children:"기능 활성화 상태"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:O,disabled:r,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:E.map(([y,S])=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:FEATURE_LABELS[y]}),jsxRuntimeExports.jsx(Badge,{variant:S?"default":"secondary",className:S?"bg-green-500 hover:bg-green-600":"",children:S?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ToggleRight,{className:"h-3 w-3 mr-1"}),"활성화"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ToggleLeft,{className:"h-3 w-3 mr-1"}),"비활성화"]})})]},y))})})]})}function SystemHealth(){const{getValidAccessToken:o}=useAuthStore(),[r,x]=reactExports.useState([{name:"backend",displayName:"Backend API",status:"unknown"}]),[O,E]=reactExports.useState(!1),[y,S]=reactExports.useState([{name:"embedding",displayName:"Embedding",status:"unknown"},{name:"chroma",displayName:"ChromaDB",status:"unknown"}]),[j,w]=reactExports.useState(!1),[_,Q]=reactExports.useState([]),[I,M]=reactExports.useState(!1),[F,V]=reactExports.useState(null),te=reactExports.useCallback(async()=>{E(!0),x(ae=>ae.map(ge=>({...ge,status:"checking"})));const Oe=await checkBackendHealth();x([{name:"backend",displayName:"Backend API",status:Oe.ok?"healthy":"down",latencyMs:Oe.latencyMs}]),E(!1)},[]),re=reactExports.useCallback(async()=>{w(!0),S(ae=>ae.map(ge=>({...ge,status:"checking"})));const Oe=await checkRAGHealth();S([{name:"embedding",displayName:"Embedding",status:Oe.embedding?"healthy":"down",latencyMs:Oe.latencyMs},{name:"chroma",displayName:"ChromaDB",status:Oe.chroma?"healthy":"down"}]),w(!1)},[]),se=reactExports.useCallback(async()=>{M(!0);const Oe=await o();if(Oe){const ae=await getProviders(Oe);Q(ae)}M(!1)},[o]),ne=reactExports.useCallback(async Oe=>{V(Oe);const ae=await o();if(ae){const ge=await checkProviderHealth(Oe,ae);Q(je=>je.map(Ae=>Ae.id===Oe?{...Ae,healthStatus:ge.status,lastHealthCheck:new Date().toISOString()}:Ae))}V(null)},[o]);reactExports.useEffect(()=>{te(),re(),se()},[te,re,se]);const oe=r.every(Oe=>Oe.status==="healthy")&&y.every(Oe=>Oe.status==="healthy");return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[oe?jsxRuntimeExports.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}):jsxRuntimeExports.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:oe?"모든 서비스 정상":"일부 서비스 점검 필요"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["마지막 확인: ",new Date().toLocaleTimeString()]})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{te(),re(),se()},disabled:O||j||I,children:[jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 mr-2 ${O||j?"animate-spin":""}`}),"전체 새로고침"]})]})})}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[jsxRuntimeExports.jsx(ServiceCard,{icon:jsxRuntimeExports.jsx(Server,{className:"h-5 w-5 text-blue-500"}),title:"Core Services",services:r,onRefresh:te,loading:O}),jsxRuntimeExports.jsx(ServiceCard,{icon:jsxRuntimeExports.jsx(Database,{className:"h-5 w-5 text-green-500"}),title:"RAG Services",services:y,onRefresh:re,loading:j}),jsxRuntimeExports.jsx(AIProvidersCard,{providers:_,onRefresh:se,onCheckHealth:ne,checkingProvider:F,loading:I}),jsxRuntimeExports.jsx(FeatureFlagsCard,{})]})]})}async function getEditorPicks(){var r;const o=getApiBaseUrl();try{const x=await fetch(`${o}/api/v1/analytics/editor-picks?limit=10`);return x.ok?((r=(await x.json()).data)==null?void 0:r.picks)??[]:[]}catch{return[]}}async function getTrendingPosts(o=7,r=10){var O;const x=getApiBaseUrl();try{const E=await fetch(`${x}/api/v1/analytics/trending?days=${o}&limit=${r}`);return E.ok?((O=(await E.json()).data)==null?void 0:O.trending)??[]:[]}catch{return[]}}async function refreshStats(o){const r=getApiBaseUrl();try{return(await fetch(`${r}/api/v1/analytics/refresh-stats`,{method:"POST",headers:{Authorization:`Bearer ${o}`}})).ok}catch{return!1}}function EditorPicksCard(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!0),E=reactExports.useCallback(async()=>{O(!0);const y=await getEditorPicks();r(y),O(!1)},[]);return reactExports.useEffect(()=>{E()},[E]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-yellow-500"}),"에디터 픽"]}),jsxRuntimeExports.jsx(CardDescription,{children:"관리자가 선정한 추천 글 목록"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:E,disabled:x,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]})}),jsxRuntimeExports.jsx(CardContent,{children:x?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"로딩 중..."]}):o.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"등록된 에디터 픽이 없습니다."}):jsxRuntimeExports.jsx("div",{className:"border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-12",children:"#"}),jsxRuntimeExports.jsx(TableHead,{children:"제목"}),jsxRuntimeExports.jsx(TableHead,{className:"w-24",children:"카테고리"}),jsxRuntimeExports.jsx(TableHead,{className:"w-16",children:"점수"})]})}),jsxRuntimeExports.jsx(TableBody,{children:o.map(y=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:y.rank})}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx("a",{href:`/#/blog/${y.year}/${y.post_slug}`,className:"text-sm font-medium hover:underline",target:"_blank",rel:"noopener noreferrer",children:y.title||y.post_slug}),y.reason&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.reason})]}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:y.category||"-"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:y.score})})]},`${y.year}/${y.post_slug}`))})]})})})]})}function TrendingPostsCard(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!0),[E,y]=reactExports.useState(7),S=reactExports.useCallback(async()=>{O(!0);const j=await getTrendingPosts(E);r(j),O(!1)},[E]);return reactExports.useEffect(()=>{S()},[S]),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-green-500"}),"트렌딩 포스트"]}),jsxRuntimeExports.jsxs(CardDescription,{children:["최근 ",E,"일간 조회수 기준"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex border rounded-lg overflow-hidden",children:[7,14,30].map(j=>jsxRuntimeExports.jsxs("button",{onClick:()=>y(j),className:`px-2 py-1 text-xs ${E===j?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[j,"일"]},j))}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:S,disabled:x,children:jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:x?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"로딩 중..."]}):o.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"트렌딩 데이터가 없습니다."}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:o.map((j,w)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-muted-foreground w-6",children:w+1}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("a",{href:`/#/blog/${j.year}/${j.post_slug}`,className:"text-sm font-medium hover:underline",target:"_blank",rel:"noopener noreferrer",children:j.post_slug}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:j.year})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3"}),j.recent_views.toLocaleString()]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["전체: ",j.total_views.toLocaleString()]})]})]},`${j.year}/${j.post_slug}`))})})]})}function StatsRefreshCard(){const{getValidAccessToken:o}=useAuthStore(),[r,x]=reactExports.useState(!1),[O,E]=reactExports.useState(null),[y,S]=reactExports.useState(null),j=async()=>{x(!0),S(null);const w=await o();if(w){const _=await refreshStats(w);S({success:_,message:_?"통계가 갱신되었습니다.":"갱신에 실패했습니다."}),_&&E(new Date)}else S({success:!1,message:"인증이 필요합니다."});x(!1)};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4 text-blue-500"}),"통계 갱신"]}),jsxRuntimeExports.jsx(CardDescription,{children:"7일/30일 조회수 집계를 수동으로 갱신합니다"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx(Button,{onClick:j,disabled:r,className:"w-full",children:r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"갱신 중..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"통계 갱신 실행"]})}),y&&jsxRuntimeExports.jsx("p",{className:`text-sm ${y.success?"text-green-600":"text-red-600"}`,children:y.message}),O&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["마지막 갱신: ",O.toLocaleString()]})]})]})}function AnalyticsManager(){return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsx(TrendingPostsCard,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(StatsRefreshCard,{}),jsxRuntimeExports.jsx(EditorPicksCard,{})]})]})})}function CredentialsForm({onSuccess:o,onError:r}){const[x,O]=reactExports.useState(""),[E,y]=reactExports.useState(""),[S,j]=reactExports.useState(!1),w=async _=>{if(_.preventDefault(),!(!x||!E)){j(!0);try{const Q=await login(x,E);o(Q)}catch(Q){r(Q instanceof Error?Q.message:"Login failed")}finally{j(!1)}}};return jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Lock,{className:"h-6 w-6 text-primary"})}),jsxRuntimeExports.jsx(CardTitle,{children:"Admin Authentication"}),jsxRuntimeExports.jsx(CardDescription,{children:"Enter your admin credentials to continue"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:w,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"username",children:"Username"}),jsxRuntimeExports.jsx(Input,{id:"username",type:"text",value:x,onChange:_=>O(_.target.value),placeholder:"Enter username",autoFocus:!0,autoComplete:"username"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:E,onChange:_=>y(_.target.value),placeholder:"Enter password",autoComplete:"current-password"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:!x||!E||S,children:S?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Continue"})]})})]})}function OtpForm({sessionId:o,message:r,expiresAt:x,devOtp:O,onSuccess:E,onError:y,onBack:S}){const[j,w]=reactExports.useState(""),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(!1),[F,V]=reactExports.useState(r),[te,re]=reactExports.useState(x),[se,ne]=reactExports.useState(O),{setTokens:oe}=useAuthStore(),[Oe,ae]=reactExports.useState(null);reactExports.useEffect(()=>{const Xe=()=>{const Le=new Date(te).getTime(),Ze=Date.now(),Be=Math.max(0,Math.floor((Le-Ze)/1e3));ae(Be)};Xe();const Ue=setInterval(Xe,1e3);return()=>clearInterval(Ue)},[te]);const ge=async Xe=>{if(Xe.preventDefault(),!(!j||j.length!==6)){Q(!0);try{const Ue=await verifyOtp(o,j),Le={...Ue.user,emailVerified:!0};oe(Ue.accessToken,Ue.refreshToken,Le),scheduleTokenRefresh(),E()}catch(Ue){y(Ue instanceof Error?Ue.message:"Verification failed")}finally{Q(!1)}}},je=async()=>{M(!0);try{const Xe=await resendOtp(o);V(Xe.message),re(Xe.expiresAt),ne(Xe._dev_otp),w("")}catch(Xe){y(Xe instanceof Error?Xe.message:"Failed to resend code")}finally{M(!1)}},Ae=Xe=>{const Ue=Math.floor(Xe/60),Le=Xe%60;return`${Ue}:${Le.toString().padStart(2,"0")}`},Qe=Oe===0;return jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(Mail,{className:"h-6 w-6 text-primary"})}),jsxRuntimeExports.jsx(CardTitle,{children:"Verify Your Identity"}),jsxRuntimeExports.jsx(CardDescription,{children:F})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"otp",children:"Verification Code"}),jsxRuntimeExports.jsx(Input,{id:"otp",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,value:j,onChange:Xe=>w(Xe.target.value.replace(/\D/g,"")),placeholder:"000000",autoFocus:!0,className:"text-center text-2xl tracking-widest"}),se&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Dev mode OTP: ",jsxRuntimeExports.jsx("code",{className:"font-mono bg-muted px-1",children:se})]})]}),Oe!==null&&jsxRuntimeExports.jsx("p",{className:`text-sm text-center ${Qe?"text-destructive":"text-muted-foreground"}`,children:Qe?"Code expired. Please request a new one.":`Code expires in ${Ae(Oe)}`}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:j.length!==6||_||Qe,children:_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify Code"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2",children:[jsxRuntimeExports.jsxs(Button,{type:"button",variant:"ghost",size:"sm",onClick:S,className:"text-muted-foreground",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"mr-1 h-4 w-4"}),"Back"]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:je,disabled:I,className:"text-muted-foreground",children:I?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-1 h-4 w-4 animate-spin"}),"Sending..."]}):"Resend Code"})]})]})})]})}function AdminConfig(){const[o,r]=reactExports.useState("credentials"),[x,O]=reactExports.useState(null),[E,y]=reactExports.useState(""),[S,j]=reactExports.useState(!0),{isAuthenticated:w,getValidAccessToken:_,logout:Q,user:I}=useAuthStore();reactExports.useEffect(()=>{migrateFromLegacyStorage(),(async()=>{if(w()){const ne=await _();if(ne)try{await getMe(ne),r("authenticated"),scheduleTokenRefresh()}catch{await Q(),r("credentials")}else r("credentials")}j(!1)})()},[w,_,Q]);const M=reactExports.useCallback(se=>{O(se),y(""),r("otp")},[]),F=reactExports.useCallback(()=>{y(""),r("authenticated")},[]),V=reactExports.useCallback(se=>{y(se)},[]),te=reactExports.useCallback(()=>{r("credentials"),O(null),y("")},[]),re=reactExports.useCallback(async()=>{await Q(),r("credentials"),O(null),y("")},[Q]);return S?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):o==="credentials"?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] p-4",children:[jsxRuntimeExports.jsx(CredentialsForm,{onSuccess:M,onError:V}),E&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-sm text-destructive text-center",children:E})]}):o==="otp"&&x?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] p-4",children:[jsxRuntimeExports.jsx(OtpForm,{sessionId:x.sessionId,message:x.message,expiresAt:x.expiresAt,devOtp:x._dev_otp,onSuccess:F,onError:V,onBack:te}),E&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-sm text-destructive text-center",children:E})]}):jsxRuntimeExports.jsxs("div",{className:"container mx-auto py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:I!=null&&I.email?`Logged in as ${I.email}`:"환경변수, Workers, AI 모델 관리"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:re,children:"Logout"})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"health",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-4xl grid-cols-7",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"health",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4"}),"상태"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"rag",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"h-4 w-4"}),"RAG"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"analytics",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),"통계"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"ai",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4"}),"AI"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"config",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4"}),"환경변수"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"secrets",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),"Secrets"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"workers",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Cloud,{className:"h-4 w-4"}),"Workers"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"health",children:jsxRuntimeExports.jsx(SystemHealth,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"rag",children:jsxRuntimeExports.jsx(RAGManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"analytics",children:jsxRuntimeExports.jsx(AnalyticsManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"ai",children:jsxRuntimeExports.jsx(AIManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"config",children:jsxRuntimeExports.jsx(ConfigManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"secrets",children:jsxRuntimeExports.jsx(SecretsManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"workers",children:jsxRuntimeExports.jsx(WorkersManager,{})})]})]})}const STORAGE_KEY="visited.posts";function useVisitedPostsState(){const[o,r]=reactExports.useState([]),[x,O]=reactExports.useState(!0),E=reactExports.useCallback(()=>{try{const y=localStorage.getItem(STORAGE_KEY);if(!y){r([]),O(!0);return}const S=JSON.parse(y);if(!Array.isArray(S)){localStorage.setItem(STORAGE_KEY,JSON.stringify([])),r([]),O(!0);return}const j=S.filter(w=>w&&typeof w=="object"&&typeof w.path=="string"&&typeof w.title=="string");r(j),O(!0)}catch{try{localStorage.setItem(STORAGE_KEY,JSON.stringify([]))}catch{}r([]),O(!1)}},[]);return reactExports.useEffect(()=>{E();const y=w=>{(!w.key||w.key===STORAGE_KEY)&&E()},S=()=>E(),j=()=>{r([]),O(!1)};return window.addEventListener("storage",y),window.addEventListener("visitedposts:update",S),window.addEventListener("visitedposts:error",j),()=>{window.removeEventListener("storage",y),window.removeEventListener("visitedposts:update",S),window.removeEventListener("visitedposts:error",j)}},[E]),{items:o,storageAvailable:x}}function FallbackAvatar({title:o}){const r=(o||"?").trim().charAt(0).toUpperCase()||"?";return jsxRuntimeExports.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/80 to-primary text-primary-foreground text-xs font-bold ring-2 ring-background shadow","aria-hidden":!0,children:r})}function VisitedPostsMinimap({mode:o="default"}={}){const{items:r,storageAvailable:x}=useVisitedPostsState(),[O,E]=reactExports.useState(!1),y=useNavigate(),[S,j]=reactExports.useState(0),[w,_]=reactExports.useState("list"),[Q,I]=reactExports.useState([]),[M,F]=reactExports.useState([]),V=useIsMobile(),te=reactExports.useRef(null),re=reactExports.useMemo(()=>r.slice(0,4),[r]),se=o==="fab",ne=ae=>{E(!1),y(ae.path)},oe=()=>{if(x)try{localStorage.setItem(STORAGE_KEY,JSON.stringify([])),window.dispatchEvent(new CustomEvent("visitedposts:update"))}catch{}};if(reactExports.useEffect(()=>{const ae=()=>{try{const ge=loadSessionsIndex();if(!Array.isArray(ge)){storeSessionsIndex([]),I([]);return}const je=ge.filter(Ae=>Ae&&typeof Ae=="object"&&typeof Ae.id=="string");I(je)}catch{I([])}};return ae(),window.addEventListener("aiChat:sessionsUpdated",ae),()=>{window.removeEventListener("aiChat:sessionsUpdated",ae)}},[]),reactExports.useEffect(()=>{if(!se)return;const ae=()=>{r.length&&(E(!0),setTimeout(()=>{var ge;return(ge=te.current)==null?void 0:ge.focus()},0))};return window.addEventListener("visitedposts:open",ae),()=>window.removeEventListener("visitedposts:open",ae)},[se,r.length]),reactExports.useEffect(()=>{!r.length&&O&&E(!1)},[r.length,O]),!x&&!r.length||!r.length)return null;const Oe=jsxRuntimeExports.jsx(Sheet,{open:O,onOpenChange:E,children:jsxRuntimeExports.jsxs(SheetContent,{side:V?"bottom":"right",hideClose:!0,className:cn("p-0 bg-background/95",!V&&"backdrop-blur supports-[backdrop-filter]:backdrop-blur-lg",V?"max-h-[75vh] rounded-t-[24px] border-x border-t border-border/60 shadow-[0_-18px_50px_rgba(15,23,42,0.18)]":"h-full w-[420px] border-l border-border/40"),"aria-describedby":void 0,style:V?{paddingBottom:"env(safe-area-inset-bottom)"}:void 0,children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"sticky top-0 z-10 border-b border-border/60 bg-background/98 px-5 pb-4 pt-5",children:[V&&jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 h-1.5 w-12 rounded-full bg-muted-foreground/30","aria-hidden":!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Map$3,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsx(SheetTitle,{className:"text-base font-semibold",children:"방문 기록"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full",children:[r.length,"개"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-3",children:jsxRuntimeExports.jsx("div",{className:"relative h-8 w-[100px]","aria-hidden":!0,children:re.map((ae,ge)=>jsxRuntimeExports.jsx("div",{className:"absolute top-0 h-8 w-8 overflow-hidden rounded-full ring-2 ring-background shadow",style:{left:ge*20},title:ae.title,children:ae.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:ae.coverImage,alt:"",className:"h-full w-full object-cover"}):jsxRuntimeExports.jsx(FallbackAvatar,{title:ae.title})},ae.path))})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs bg-muted rounded-full p-0.5 mt-3 w-fit",children:[jsxRuntimeExports.jsx("button",{type:"button",className:cn("px-3 py-1.5 rounded-full transition-colors",w==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted-foreground/10"),onClick:()=>_("list"),children:"리스트"}),jsxRuntimeExports.jsx("button",{type:"button",className:cn("px-3 py-1.5 rounded-full transition-colors",w==="graph"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted-foreground/10"),onClick:()=>_("graph"),children:"그래프"})]})]}),w==="list"?jsxRuntimeExports.jsxs("div",{ref:te,tabIndex:0,className:cn("overflow-y-auto overscroll-contain px-4 pb-8 pt-4 focus:outline-none",V?"max-h-[calc(75vh-160px)]":"flex-1"),onKeyDown:ae=>{if(ae.key==="ArrowDown"&&(ae.preventDefault(),j(ge=>Math.min(ge+1,r.length-1))),ae.key==="ArrowUp"&&(ae.preventDefault(),j(ge=>Math.max(ge-1,0))),ae.key==="Enter"){ae.preventDefault();const ge=r[S];ge&&ne(ge)}},role:"region","aria-label":"Visited posts list",children:[jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:r.map((ae,ge)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{onClick:()=>ne(ae),className:cn("group flex w-full items-center gap-4 rounded-xl px-4 py-4 text-left transition-colors hover:bg-muted/60 focus:outline-none focus:ring-2 focus:ring-ring",S===ge&&"ring-2 ring-primary bg-primary/5"),children:[jsxRuntimeExports.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-lg shrink-0",children:ae.coverImage?jsxRuntimeExports.jsx(OptimizedImage,{src:ae.coverImage,alt:"",className:"h-12 w-12 object-cover"}):jsxRuntimeExports.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-primary/80 to-primary text-primary-foreground text-sm font-bold",children:(ae.title||"?").charAt(0).toUpperCase()})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium leading-snug text-left group-hover:text-primary line-clamp-2",children:ae.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsxs("span",{children:[ae.year,"/",ae.slug]})]})]})]})},ae.path))}),jsxRuntimeExports.jsx("div",{className:"mt-6 pt-4 border-t",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:oe,className:"w-full h-11",children:"기록 지우기"})})]}):jsxRuntimeExports.jsxs("div",{className:cn("overflow-y-auto overscroll-contain px-4 pb-8 pt-4 space-y-3",V?"max-h-[calc(75vh-160px)]":"flex-1"),children:[r.map(ae=>{const ge=Q.filter(je=>je.articleUrl&&je.articleUrl.endsWith(ae.path));return ge.length?jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-card/50 p-4 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold truncate",children:ae.title}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[ae.year,"/",ae.slug]}),jsxRuntimeExports.jsx("ul",{className:"mt-2 space-y-2",children:ge.map(je=>{const Ae=M.includes(je.id);return jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-3 py-2 px-3 rounded-lg bg-muted/40",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:Ae,onChange:()=>{F(Qe=>Qe.includes(je.id)?Qe.filter(Xe=>Xe!==je.id):[...Qe,je.id])}}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium truncate block",children:je.title||je.articleTitle||"AI Chat 세션"}),je.updatedAt&&jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(je.updatedAt).toLocaleDateString()})]})]},je.id)})})]},ae.path):null}),!Q.length&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground px-2 py-8 text-center",children:["아직 저장된 AI Chat 세션이 없습니다.",jsxRuntimeExports.jsx("br",{}),"대화를 나누고 기록 저장을 켜면 여기에서 연결 관계를 볼 수 있어요."]}),Q.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between border-t pt-4 px-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["선택: ",M.length,"개"]}),jsxRuntimeExports.jsx(Button,{type:"button",size:"sm",className:"h-10 px-4",disabled:!M.length,onClick:()=>{if(M.length)try{window.dispatchEvent(new CustomEvent("aiChat:aggregateFromGraph",{detail:{sessionIds:M}}))}catch{}},children:"통합 질문하기"})]})]})]})});return se?Oe:jsxRuntimeExports.jsx("div",{className:"fixed bottom-8 right-24 z-[var(--z-fab-bar)] select-none",children:Oe})}const QUICK_PROMPTS=["이 글을 3줄로 요약해줘.","SEO 키워드 5개 추천해줘.","블로그 글 제목 3개를 제안해줘."];function extractImageFromMessage(o){const r=o.match(/\[첨부 이미지\]\nURL: (https?:\/\/[^\s\n]+)/);if(r){const x=r[1],O=o.replace(/\n\n\[첨부 이미지\]\nURL: [^\n]+\n파일명: [^\n]+\n크기: [^\n]+/,"").trim();return{imageUrl:x,cleanText:O}}return{imageUrl:null,cleanText:o}}const SESSION_PERSIST_DEBOUNCE_MS=400,MAX_MESSAGES_PER_SESSION=200,LIVE_PINNED_KEY="aiChat.livePinned",AUTO_SCROLL_BOTTOM_THRESHOLD_PX=120;function useChatState(o){const[r,x]=reactExports.useState([]),[O,E]=reactExports.useState((o==null?void 0:o.initialMessage)||""),[y,S]=reactExports.useState(!1),[j,w]=reactExports.useState(!0),[_,Q]=reactExports.useState(()=>{if(typeof window>"u")return"";const Ve=getStoredSessionId();if(Ve)return Ve;const dt=generateLocalSessionId();return storeSessionId(dt),dt}),I=_,[M,F]=reactExports.useState([]),[V,te]=reactExports.useState(!1),[re,se]=reactExports.useState(!1),[ne,oe]=reactExports.useState(!1),[Oe,ae]=reactExports.useState([]),[ge,je]=reactExports.useState(!1),[Ae,Qe]=reactExports.useState(null),[Xe,Ue]=reactExports.useState("article"),[Le,Ze]=reactExports.useState(null),[Be,Ge]=reactExports.useState(null),[We,at]=reactExports.useState([]),[rt,Je]=reactExports.useState(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(LIVE_PINNED_KEY)==="1"}catch{return!1}}),mt=reactExports.useRef(null),Ke=reactExports.useRef(null),ze=reactExports.useRef(null),He=reactExports.useRef(null),tt=reactExports.useRef(""),ct=reactExports.useRef(null),ut=reactExports.useRef(!0),it=(O.trim().length>0||Le!==null)&&!y;reactExports.useEffect(()=>{const Ve=mt.current;if(!Ve)return;const dt=r[r.length-1],Rt=(dt==null?void 0:dt.role)==="user";if(!ut.current&&!Rt)return;const It=requestAnimationFrame(()=>{Ve.scrollTop=Ve.scrollHeight+1e3});return()=>cancelAnimationFrame(It)},[r]),reactExports.useEffect(()=>{const Ve=mt.current;if(!Ve)return;const dt=()=>{const Rt=Ve.scrollHeight-(Ve.scrollTop+Ve.clientHeight);ut.current=Rt<=AUTO_SCROLL_BOTTOM_THRESHOLD_PX};return dt(),Ve.addEventListener("scroll",dt,{passive:!0}),()=>{Ve.removeEventListener("scroll",dt)}},[]),reactExports.useEffect(()=>{const Ve=typeof window<"u"?window.localStorage.getItem(PERSIST_OPTIN_KEY):null;w(Ve!=="0")},[]),reactExports.useEffect(()=>{typeof window>"u"||F(loadSessionsIndex())},[]),reactExports.useEffect(()=>{if(!(!j||!_))try{const Ve=localStorage.getItem(`${SESSION_MESSAGES_PREFIX}${_}`);if(Ve){const dt=JSON.parse(Ve);Array.isArray(dt)&&x(dt.slice(-MAX_MESSAGES_PER_SESSION))}else x([])}catch{}},[j,_]),reactExports.useEffect(()=>{if(!(!j||!_))return ct.current!==null&&(window.clearTimeout(ct.current),ct.current=null),ct.current=window.setTimeout(()=>{try{localStorage.setItem(`${SESSION_MESSAGES_PREFIX}${_}`,JSON.stringify(r.filter(Ve=>!Ve.transient).slice(-MAX_MESSAGES_PER_SESSION)))}catch{}finally{ct.current=null}},SESSION_PERSIST_DEBOUNCE_MS),()=>{ct.current!==null&&(window.clearTimeout(ct.current),ct.current=null)}},[r,j,_]),reactExports.useEffect(()=>()=>{ct.current!==null&&(window.clearTimeout(ct.current),ct.current=null)},[]),reactExports.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(LIVE_PINNED_KEY,rt?"1":"0")}catch{}},[rt]),reactExports.useEffect(()=>{const Ve=window.setInterval(()=>{const dt=Date.now();x(Rt=>Rt.some(It=>It.transient)?Rt.filter(It=>!(It.transient&&It.expiresAt!==void 0&&dt>It.expiresAt)):Rt)},1e3);return()=>window.clearInterval(Ve)},[]),reactExports.useEffect(()=>{if(!Le){Ge(null);return}let Ve=null;try{Ve=URL.createObjectURL(Le),Ge(Ve)}catch{Ge(null)}return()=>{if(Ve)try{URL.revokeObjectURL(Ve)}catch{}}},[Le]);const yt=reactExports.useCallback(Ve=>{x(dt=>[...dt,Ve])},[]),et=reactExports.useCallback(()=>{const Ve=!j;w(Ve);try{localStorage.setItem(PERSIST_OPTIN_KEY,Ve?"1":"0")}catch{}},[j]),qe=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var Ve;return(Ve=He.current)==null?void 0:Ve.focus()})},[]),ot=reactExports.useMemo(()=>{if(r.length===0)return"";let Ve="";for(let dt=r.length-1;dt>=0;dt-=1){const Rt=r[dt];if(Rt.role==="assistant"&&Rt.text.trim()){Ve=Rt.text;break}}return Ve.length>160?`${Ve.slice(0,160)}…`:Ve},[r]),pt=reactExports.useMemo(()=>typeof document<"u"?document.title:"",[]);return{messages:r,setMessages:x,input:O,setInput:E,busy:y,setBusy:S,persistOptIn:j,setPersistOptIn:w,sessionId:I,sessionKey:_,setSessionKey:Q,sessions:M,setSessions:F,showSessions:V,setShowSessions:te,showImageDrawer:re,setShowImageDrawer:se,showActionSheet:ne,setShowActionSheet:oe,selectedSessionIds:Oe,setSelectedSessionIds:ae,isAggregatePrompt:ge,setIsAggregatePrompt:je,firstTokenMs:Ae,setFirstTokenMs:Qe,questionMode:Xe,setQuestionMode:Ue,attachedImage:Le,setAttachedImage:Ze,attachedPreviewUrl:Be,setAttachedPreviewUrl:Ge,uploadedImages:We,setUploadedImages:at,livePinned:rt,setLivePinned:Je,scrollRef:mt,abortRef:Ke,fileInputRef:ze,textareaRef:He,lastPromptRef:tt,canSend:it,summary:ot,pageTitle:pt,push:yt,togglePersistStorage:et,focusInput:qe}}const SESSION_META_DEBOUNCE_MS=450;function useChatSession({sessionKey:o,setSessionKey:r,sessions:x,setSessions:O,messages:E,setMessages:y,persistOptIn:S,questionMode:j,summary:w,pageTitle:_,setFirstTokenMs:Q,setAttachedImage:I,setIsAggregatePrompt:M,setShowSessions:F,selectedSessionIds:V,setSelectedSessionIds:te,setInput:re}){const se=reactExports.useRef(null),ne=reactExports.useRef(null),oe=reactExports.useCallback(Ae=>{se.current!==null&&(window.clearTimeout(se.current),se.current=null),se.current=window.setTimeout(()=>{storeSessionsIndex(Ae),se.current=null},400)},[]),Oe=reactExports.useCallback(Ae=>{const Qe=loadSessionMessages(Ae);y(Qe),Q(null),I(null),r(Ae),switchToSession(Ae)},[y,Q,I,r]),ae=reactExports.useCallback(Ae=>{te(Qe=>Qe.includes(Ae)?Qe.filter(Xe=>Xe!==Ae):[...Qe,Ae])},[te]),ge=reactExports.useCallback(Ae=>{const Qe=Array.from(new Set(Ae));if(!Qe.length)return;const Xe=["[참조 세션 요약]"];Qe.forEach((Ue,Le)=>{const Ze=x.find(We=>We.id===Ue);if(!Ze)return;const Be=Ze.title||Ze.articleTitle||`세션 ${Le+1}`,Ge=Ze.summary||"(요약 없음)";Xe.push(`${Le+1}) ${Be}`,Ge,"")}),Xe.push("---","위 세션들을 모두 고려해서 다음 질문에 답해줘.","","(여기에 이어서 궁금한 점을 적어 주세요...)"),re(Xe.join(`
`)),F(!1),te([]),M(!0)},[x,re,F,te,M]),je=reactExports.useCallback(()=>{V.length&&ge(V)},[ge,V]);return reactExports.useEffect(()=>{const Ae=Qe=>{const Xe=Qe.detail,Ue=Xe==null?void 0:Xe.sessionIds;if(!Array.isArray(Ue)||!Ue.length)return;const Le=Ue.filter(Ze=>typeof Ze=="string");Le.length&&ge(Le)};return window.addEventListener("aiChat:aggregateFromGraph",Ae),()=>{window.removeEventListener("aiChat:aggregateFromGraph",Ae)}},[ge]),reactExports.useEffect(()=>{if(!(!S||!o)&&E.length!==0)return ne.current!==null&&(window.clearTimeout(ne.current),ne.current=null),ne.current=window.setTimeout(()=>{const Ae=new Date().toISOString(),Qe=E.find(Be=>Be.role==="user"&&Be.text.trim()),Xe=((Qe==null?void 0:Qe.text)||_||"새 대화").split(`
`)[0].trim(),Ue=Xe.length>60?`${Xe.slice(0,60)}…`:Xe,Le=typeof window<"u"?window.location.href:void 0;let Ze=null;O(Be=>{const Ge=Be.find(mt=>mt.id===o),We=(Ge==null?void 0:Ge.createdAt)||Ae,at={id:o,title:(Ge==null?void 0:Ge.title)||Ue,summary:w,createdAt:We,updatedAt:Ae,messageCount:E.length,mode:j,articleUrl:Le||(Ge==null?void 0:Ge.articleUrl),articleTitle:_||(Ge==null?void 0:Ge.articleTitle)},rt=Be.filter(mt=>mt.id!==o),Je=[at,...rt];if(Ze=Je,typeof window<"u")try{window.dispatchEvent(new CustomEvent("aiChat:sessionsUpdated"))}catch{}return Je}),Ze&&oe(Ze),ne.current=null},SESSION_META_DEBOUNCE_MS),()=>{ne.current!==null&&(window.clearTimeout(ne.current),ne.current=null)}},[E,w,j,_,S,o,O,oe]),reactExports.useEffect(()=>()=>{ne.current!==null&&(window.clearTimeout(ne.current),ne.current=null),se.current!==null&&(window.clearTimeout(se.current),se.current=null)},[]),{loadSession:Oe,toggleSessionSelected:ae,aggregateFromSessionIds:ge,handleAggregateFromSelected:je}}const USER_ID_KEY="memory.userId";function getUserId(){let o=localStorage.getItem(USER_ID_KEY);return o||(o=`user-${crypto.randomUUID()}`,localStorage.setItem(USER_ID_KEY,o)),o}async function createMemoriesBatch(o){const r=getUserId(),O=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/memories/${r}/batch`,E=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({memories:o})});if(!E.ok)throw new Error(`Failed to create memories batch: ${E.status}`);const S=(await E.json()).data||{ids:[],created:0};if(S.ids.length>0){const j=o.slice(0,S.ids.length).map((w,_)=>({id:S.ids[_],content:w.content,memoryType:w.memoryType||"fact",category:w.category}));upsertMemoryEmbedding(j).catch(console.error)}return S}async function upsertMemoryEmbedding(o){const r=getUserId(),O=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/rag/memories/upsert`,E=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,memories:o})});if(!E.ok){const y=await E.text().catch(()=>"");console.warn("Failed to upsert memory embedding:",E.status,y)}}async function searchMemories(o,r={}){var y;const x=getUserId(),E=`${getApiBaseUrl().replace(/\/$/,"")}/api/v1/rag/memories/search`;try{const S=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:x,query:o,n_results:r.n_results||10,memoryType:r.memoryType,category:r.category}),signal:r.signal});return S.ok?((y=(await S.json()).data)==null?void 0:y.results)||[]:(console.warn("Memory search failed:",S.status),[])}catch(S){return S instanceof Error&&S.name==="AbortError"?[]:(console.warn("Memory search error:",S),[])}}async function getMemoryContextForChat(o,r=MEMORY_DEFAULTS.CONTEXT_MAX_TOKENS){const x=await searchMemories(o,{n_results:10});if(x.length===0)return null;const O=[];let E=0;for(const y of x){if(y.similarity<MEMORY_DEFAULTS.SIMILARITY_THRESHOLD)continue;const S=y.metadata.memory_type||"fact",j=y.metadata.category?`/${y.metadata.category}`:"",w=`[${S}${j}] ${y.document}`,_=Math.ceil(w.length/MEMORY_DEFAULTS.CHARS_PER_TOKEN);if(E+_>r)break;O.push(w),E+=_}return O.length===0?null:["[사용자 기억 데이터]","다음은 이 사용자에 대해 알고 있는 정보입니다. 답변 시 참고하세요:","",...O,""].join(`
`)}async function extractAndSaveMemories(o,r,x){const O=[];if([/(?:좋아하|선호하|즐기|관심)/,/(?:싫어하|피하|불편)/].some(j=>j.test(o))&&O.push({content:o.slice(0,500),memoryType:"preference",category:"interest",importanceScore:.7}),[/(?:제 이름은|저는 .+(?:입니다|이에요|예요))/,/(?:직업|일|회사|학교)/,/(?:살고 있|거주)/].some(j=>j.test(o))&&O.push({content:o.slice(0,500),memoryType:"fact",category:"personal",importanceScore:.8}),[/(?:목표|계획|하고 싶|배우고 싶|만들고 싶)/,/(?:도전|시도|프로젝트)/].some(j=>j.test(o))&&O.push({content:o.slice(0,500),memoryType:"context",category:"goal",importanceScore:.6}),O.length>0){const j=O.map(w=>({...w,sourceType:"chat",sourceId:x}));try{await createMemoriesBatch(j)}catch(w){console.warn("Failed to save extracted memories:",w)}}}function formatLiveRoomName$1(o){return String(o||"room:lobby").replace(/^room:/,"").replace(/:/g,"/")}function useChatActions({canSend:o,input:r,setInput:x,attachedImage:O,setAttachedImage:E,setAttachedPreviewUrl:y,setBusy:S,setFirstTokenMs:j,abortRef:w,push:_,setMessages:Q,isAggregatePrompt:I,setIsAggregatePrompt:M,questionMode:F,lastPromptRef:V,setUploadedImages:te,messages:re,setSessionKey:se,currentLiveRoom:ne,switchLiveRoom:oe,sendVisitorMessage:Oe,isMobile:ae,livePinned:ge,setLivePinned:je}){const Ae=reactExports.useCallback(async()=>{var We;if(!o)return;const Ue=r.trim(),Le=(at,rt="info")=>{_({id:`live_cmd_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,role:"system",text:at,systemLevel:rt,systemKind:rt==="error"?"error":"status"})};if(Ue.toLowerCase()==="/live"||Ue.toLowerCase().startsWith("/live ")){const at=Ue.slice(5).trim(),rt=at.toLowerCase();if(!at||rt==="help"||rt==="?"){x(""),Le(["[Live] Commands","- /live <message> : 현재 방에 메시지 전송","- /live on | off : live 고정 모드 켜기/끄기","- /live pin | unpin : live 고정 모드 켜기/끄기","- /live status : 현재 고정 모드 상태","- /live list : 활성 방 목록 보기","- /live room : 현재 접속 방 확인","- /live room <room> : 방 이동 (예: /live room lobby)","- /live join <room> : room 명령과 동일","- /live lobby : 로비(room:lobby)로 이동"].join(`
`));return}if(rt==="status"){x(""),Le(`[Live] 고정 모드: ${ge?"ON":"OFF"} · room: ${formatLiveRoomName$1(ne)}`);return}if(rt==="on"||rt==="pin"||rt==="fixed"){x(""),je(!0),Le(`[Live] 고정 모드가 켜졌습니다. 이제 일반 입력은 /live 없이 ${formatLiveRoomName$1(ne)} 방으로 전송됩니다.`);return}if(rt==="off"||rt==="unpin"){x(""),je(!1),Le("[Live] 고정 모드가 꺼졌습니다. 일반 AI 채팅으로 복귀합니다.");return}if(rt==="list"||rt==="rooms"){x("");try{const Ke=await getLiveRooms();if(Ke.length===0){Le("[Live] 현재 활성 방이 없습니다.");return}const ze=Ke.slice(0,12);Le([`[Live] Active rooms (${Ke.length})`,...ze.map((He,tt)=>`${tt+1}. ${formatLiveRoomName$1(He.room)} · ${He.onlineCount} online`),"","Use /live room <name> to move."].join(`
`))}catch(Ke){try{const ze=await getLiveRoomStats(ne);Le(["[Live] 전체 방 목록 API를 사용할 수 없어 현재 방만 표시합니다.",`- ${formatLiveRoomName$1(ze.room)} · ${ze.onlineCount} online`].join(`
`),"warn")}catch{Le((Ke==null?void 0:Ke.message)||"[Live] 방 목록을 가져오지 못했습니다.","error")}}return}if(rt==="room"){x(""),Le(`[Live] 현재 방: ${formatLiveRoomName$1(ne)}`);return}if(rt==="lobby"){x(""),oe("room:lobby"),Le("[Live] room:lobby 로 이동합니다. 재연결 중...");return}if(rt.startsWith("room ")||rt.startsWith("join ")){const Ke=at.split(/\s+/).slice(1).join(" ").trim();if(!Ke){x(""),Le("[Live] 방 이름이 필요합니다. 예: /live room lobby","warn");return}x(""),oe(Ke),Le(`[Live] ${formatLiveRoomName$1(Ke)} 방으로 이동합니다. 재연결 중...`);return}const Je=at;if(!Je)return;const mt=`${Date.now()}_${Math.random().toString(36).slice(2,8)}`;x(""),_({id:mt,role:"user",text:`[Live] ${Je}`});try{await Oe(Je)}catch(Ke){_({id:`${mt}_live_err`,role:"system",text:(Ke==null?void 0:Ke.message)||"Live message delivery failed",systemLevel:"error"})}return}if(ge&&Ue&&!Ue.startsWith("/")&&O===null){const at=`${Date.now()}_${Math.random().toString(36).slice(2,8)}`;x(""),_({id:at,role:"user",text:`[Live] ${Ue}`});try{await Oe(Ue)}catch(rt){_({id:`${at}_live_err`,role:"system",text:(rt==null?void 0:rt.message)||"Live message delivery failed",systemLevel:"error"})}return}const Ze=O;S(!0),j(null),(We=w.current)==null||We.abort();const Be=new AbortController;w.current=Be;let Ge=null;try{let at=null;Ze&&(at=await uploadChatImage(Ze,Be.signal));const rt=Ue||(Ze?"첨부한 이미지에 대해 설명해줘.":""),Je=[rt];if(at&&Ze){const ze=Math.max(1,Math.round(at.size/1024));Je.push("","[첨부 이미지]",`URL: ${at.url}`,`파일명: ${Ze.name}`,`크기: ${ze}KB`),at.imageAnalysis&&Je.push("","📷 **AI 이미지 분석:**",at.imageAnalysis);const He={id:`${Date.now()}_${Math.random().toString(36).slice(2,8)}`,url:at.url,name:Ze.name,size:at.size};te(tt=>[He,...tt].slice(0,12))}const mt=Je.join(`
`);V.current=mt;const Ke=`${Date.now()}_${Math.random().toString(36).slice(2,8)}`;if(x(""),E(null),y(null),_({id:Ke,role:"user",text:mt}),Ge=`${Ke}_ai`,I){M(!1);const ze=await invokeChatAggregate({prompt:mt,signal:Be.signal});_({id:Ge,role:"assistant",text:ze})}else{let ze=null;try{ze=await getMemoryContextForChat(rt,5)}catch{}let He="",tt=null,ct=null;const ut=48,it=et=>{const qe=Ge;Q(ot=>ot.map(pt=>pt.id===qe?{...pt,text:et}:pt))},yt=et=>{if(ae){if(ct!==null)return;ct=window.setTimeout(()=>{ct=null,it(He)},ut);return}tt!==null&&cancelAnimationFrame(tt),tt=requestAnimationFrame(()=>{tt=null,it(et)})};_({id:Ge,role:"assistant",text:""});for await(const et of streamChatEvents({text:rt,signal:Be.signal,onFirstToken:qe=>j(qe),useArticleContext:F==="article",imageUrl:at==null?void 0:at.url,imageAnalysis:at==null?void 0:at.imageAnalysis,memoryContext:ze,enableRag:F==="general"}))et.type==="text"?(He+=et.text,yt(He)):et.type==="sources"?Q(qe=>qe.map(ot=>ot.id===Ge?{...ot,sources:et.sources}:ot)):et.type==="followups"&&Q(qe=>qe.map(ot=>ot.id===Ge?{...ot,followups:et.questions}:ot));ct!==null&&(window.clearTimeout(ct),ct=null,it(He)),tt!==null&&(cancelAnimationFrame(tt),it(He),tt=null),He&&extractAndSaveMemories(rt,He).catch(()=>{})}}catch(at){const rt=(at==null?void 0:at.message)||"Chat failed",Je=Ge!=null?`${Ge}_err`:`${Date.now()}_${Math.random().toString(36).slice(2,8)}_err`;_({id:Je,role:"system",text:rt,systemLevel:"error"})}finally{S(!1)}},[o,r,O,S,j,w,_,x,E,y,I,M,F,V,te,Q,ne,oe,Oe,ae,ge,je]),Qe=reactExports.useCallback(()=>{var Ue;(Ue=w.current)==null||Ue.abort()},[w]),Xe=reactExports.useCallback(async(Ue=!1)=>{if(re.length>0&&!Ue)return!1;Q([]),j(null),E(null),y(null),te([]),M(!1);const Le=await startNewSession();return se(Le),!0},[re.length,Q,j,E,y,te,M,se]);return{send:Ae,stop:Qe,clearAll:Xe}}function useKeyboardHeight(o){const[r,x]=reactExports.useState({keyboardHeight:0,keyboardVisible:!1,viewportHeight:"100dvh",viewportTop:0}),O=reactExports.useRef(0);return reactExports.useEffect(()=>{if(!o||typeof window>"u"){x({keyboardHeight:0,keyboardVisible:!1,viewportHeight:"100dvh",viewportTop:0});return}const E=window.visualViewport;O.current=Math.round((E==null?void 0:E.height)||window.innerHeight);let y=null;const S=()=>{const w=(E==null?void 0:E.height)||window.innerHeight,_=(E==null?void 0:E.offsetTop)||0;Math.max(0,Math.round(O.current-w-_))<48&&w>O.current-32&&(O.current=Math.round(w));const I=Math.max(0,Math.round(O.current-w-_)),M=I>90?I:0,F={keyboardHeight:M,keyboardVisible:M>0,viewportHeight:`${Math.max(320,Math.round(w))}px`,viewportTop:Math.max(0,Math.round(_))};x(V=>V.keyboardHeight===F.keyboardHeight&&V.keyboardVisible===F.keyboardVisible&&V.viewportHeight===F.viewportHeight&&V.viewportTop===F.viewportTop?V:F)},j=()=>{y===null&&(y=requestAnimationFrame(()=>{y=null,S()}))};return j(),window.addEventListener("resize",j),window.addEventListener("orientationchange",j),E==null||E.addEventListener("resize",j),E==null||E.addEventListener("scroll",j),()=>{y!==null&&(cancelAnimationFrame(y),y=null),window.removeEventListener("resize",j),window.removeEventListener("orientationchange",j),E==null||E.removeEventListener("resize",j),E==null||E.removeEventListener("scroll",j)}},[o]),r}function useInputKeyDown({canSend:o,send:r}){return reactExports.useCallback(O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),o&&r())},[o,r])}const VISITOR_NAME_KEY="aiChat.liveVisitorName";function normalizeRoomKey(o){const r="room:lobby",x=String(o||"").trim().toLowerCase();if(!x)return r;const O=x.replace(/[^a-z0-9:_-]/g,"-").replace(/-+/g,"-").slice(0,120);return O?O.startsWith("room:")?O:`room:${O}`:r}function toRoomKey(o){const x=((o||"/").replace(/\/+$/,"")||"/").split("/").filter(Boolean);if(x.length===0)return"room:lobby";if((x[0]==="blog"||x[0]==="post")&&x.length>=3){const O=x[1],E=x.slice(2).join("-");return normalizeRoomKey(`room:blog:${O}:${E}`)}if(x[0]==="projects"){const O=x[1]||"lobby";return normalizeRoomKey(`room:project:${O}`)}return normalizeRoomKey(`room:page:${x.join(":")}`)}function formatRoomName$2(o){return String(o||"room:lobby").replace(/^room:/,"").replace(/:/g,"/")}function getVisitorName(){try{const o=sessionStorage.getItem(VISITOR_NAME_KEY);if(o&&o.trim())return o;const r=`visitor-${Math.random().toString(36).slice(2,6)}`;return sessionStorage.setItem(VISITOR_NAME_KEY,r),r}catch{return`visitor-${Math.random().toString(36).slice(2,6)}`}}function buildSystemMessage(o,r="info",x){return{id:`live_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,role:"system",text:o,systemLevel:r,systemKind:x==null?void 0:x.systemKind,transient:x==null?void 0:x.transient,expiresAt:x==null?void 0:x.expiresAt}}function normalizeSystemLevel(o){return o==="error"||o==="warn"?o:"info"}function formatSessionMessage(o){const r=String(o||"").trim(),x=r.toLowerCase();return x==="ai response completed"?"AI 응답이 완료되었습니다.":x==="your live message was delivered"?"라이브 메시지가 전달되었습니다. 참여자가 없으면 답변이 바로 오지 않을 수 있습니다.":x.endsWith("replied in the room")?`${r.slice(0,-"replied in the room".length).trim()||"assistant"}가 방에서 응답했습니다.`:x==="auto room reply skipped due to temporary ai error"?"자동 응답이 일시 오류로 생략되었습니다.":r}function useLiveVisitorChat(o){const{sessionId:r,push:x}=o,O=reactExports.useRef(!1),E=reactExports.useRef(null),y=reactExports.useMemo(()=>getVisitorName(),[]),[S,j]=reactExports.useState(()=>typeof window>"u"?"room:lobby":toRoomKey(window.location.pathname)),[w,_]=reactExports.useState(0),Q=reactExports.useCallback(M=>{var V;const F=normalizeRoomKey(M);O.current=!1;try{(V=E.current)==null||V.call(E)}catch{}finally{E.current=null}j(F),_(te=>te+1)},[]);return reactExports.useEffect(()=>{if(!r)return;const M=connectLiveChatStream({sessionId:r,room:S,name:y,onEvent:F=>{if(F.type!=="ping"){if(F.type==="connected"){O.current||(O.current=!0,x(buildSystemMessage(`[Live] ${formatRoomName$2(F.room||S)} 방 연결됨 (${F.onlineCount} online). Use /live <message> to chat in real time.`,"info",{systemKind:"status"})));return}if(F.type==="presence"){if(F.sessionId===r)return;const V=F.action==="join"?"joined":"left";x(buildSystemMessage(`[Live] ${F.name} ${V}. Online: ${F.onlineCount}`,"info",{systemKind:"status",transient:!0,expiresAt:Date.now()+4e3}));return}if(F.type==="live_message"){const V=F.name||"anonymous";if(F.sessionId===r&&V.trim().toLowerCase()===y.trim().toLowerCase())return;if(F.senderType==="agent"||V.toLowerCase()==="room-companion"){x({id:`live_agent_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,role:"assistant",text:`[Live · ${V}] ${F.text}`});return}x({id:`live_visitor_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,role:"assistant",text:`[Live · ${V}] ${F.text}`});return}if(F.type==="session_notification"&&F.sessionId===r){const V=normalizeSystemLevel(F.level);x(buildSystemMessage(`[Session] ${formatSessionMessage(F.message)}`,V,{systemKind:V==="error"?"error":"status",transient:V!=="error",expiresAt:V!=="error"?Date.now()+4e3:void 0}))}}},onError:()=>{x(buildSystemMessage("[Live] Connection unstable. Reconnecting...","warn",{systemKind:"error"}))}});return E.current=M,()=>{O.current=!1,M(),E.current===M&&(E.current=null)}},[r,x,y,S,w]),{sendVisitorMessage:reactExports.useCallback(async M=>{await sendLiveChatMessage({sessionId:r,text:M,room:S,name:y,senderType:"client"})},[r,y,S]),room:S,switchRoom:Q}}function ChatHeader({isMobile:o,isTerminal:r,busy:x,persistOptIn:O,sessions:E,uploadedImages:y,onShowSessions:S,onShowActionSheet:j,onShowImageDrawer:w,onTogglePersist:_,onStartDebate:Q,currentLiveRoomLabel:I,livePinned:M=!1,onClearAll:F,onClose:V,sidebarOpen:te,onToggleSidebar:re}){const se=M?`LIVE 고정 ON (${I||"room"})`:null;return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between border-b px-4 py-3 shrink-0",o&&"px-4 py-3 safe-area-top",r?"bg-[hsl(var(--terminal-titlebar))] border-border":o?"bg-background":"bg-background/95 backdrop-blur-sm"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[!o&&jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost","aria-label":te?"사이드바 닫기":"사이드바 열기","aria-pressed":te,className:cn("h-8 w-8 shrink-0",r&&"text-primary hover:bg-primary/10"),onClick:re,children:jsxRuntimeExports.jsx(Menu$1,{className:"h-4 w-4"})}),r&&!o&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mr-2",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"})]}),jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center rounded-full bg-primary/10 shrink-0",o?"h-9 w-9":"h-10 w-10",r&&"bg-primary/20 rounded-lg"),children:jsxRuntimeExports.jsx(Sparkles,{className:cn("text-primary",o?"h-4 w-4":"h-5 w-5",r&&"terminal-glow")})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn("font-semibold truncate","text-sm",r&&"font-mono text-primary"),children:r?">_ AI Chat":"AI Chat"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs text-muted-foreground truncate",r&&"font-mono"),children:x?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"})," 생성 중…"]}):se||(O?"기록 저장 ON":"기록 저장 OFF")})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[o?jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost","aria-label":"대화 옵션",className:cn("h-10 w-10",r&&"text-primary hover:bg-primary/10"),onClick:j,children:jsxRuntimeExports.jsx(EllipsisVertical,{className:"h-5 w-5"})}):jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost","aria-label":"대화 옵션",className:cn("h-9 w-9",r&&"text-primary hover:bg-primary/10"),children:jsxRuntimeExports.jsx(EllipsisVertical,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-48 text-sm",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{disabled:!E.length,onSelect:S,children:"최근 대화 보기"}),jsxRuntimeExports.jsx(DropdownMenuItem,{disabled:!y.length,onSelect:w,children:"이미지 메모 보기"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onSelect:_,children:O?"기록 저장 끄기":"기록 저장 켜기"}),jsxRuntimeExports.jsx(DropdownMenuItem,{disabled:!Q,onSelect:()=>Q==null?void 0:Q(),className:"max-w-[18rem]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:I?`현재 방 AI 토론 시작 (${I})`:"현재 방 AI 토론 시작"})}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsx(DropdownMenuItem,{onSelect:F,children:"대화 초기화"})]})]}),V&&jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost",className:cn(o?"h-10 w-10":"h-9 w-9",r&&"text-primary hover:bg-primary/10"),"aria-label":"창 닫기",onClick:V,children:jsxRuntimeExports.jsx(X$1,{className:o?"h-5 w-5":"h-4 w-4"})})]})]})}function ChatSessionPanel({sessions:o,selectedSessionIds:r,onToggleSession:x,onLoadSession:O,onClose:E,onAggregateSelected:y,isTerminal:S,isMobile:j}){return o.length===0?null:jsxRuntimeExports.jsxs("div",{className:cn("border-b shrink-0",S?"bg-[hsl(var(--terminal-code-bg))] border-border":"bg-muted/40"),children:[jsxRuntimeExports.jsx("div",{className:cn("px-4 pt-3 max-h-48 overflow-y-auto overscroll-contain space-y-2",j&&"px-4"),children:o.map(w=>{const _=r.includes(w.id);return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors",S?"border border-primary/20 hover:border-primary/40 hover:bg-primary/5":"border hover:bg-muted"),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:cn("h-4 w-4 rounded",S&&"accent-primary"),checked:_,onChange:()=>x(w.id)}),jsxRuntimeExports.jsxs("button",{type:"button",className:"flex-1 text-left min-w-0",onClick:()=>{O(w.id),E()},children:[jsxRuntimeExports.jsx("div",{className:cn("truncate font-medium text-sm",S&&"font-mono text-foreground"),children:w.title||"제목 없음"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground truncate mt-0.5",children:[w.articleTitle&&jsxRuntimeExports.jsx("span",{className:"truncate max-w-[120px]",children:w.articleTitle}),jsxRuntimeExports.jsx("span",{className:"shrink-0",children:new Date(w.updatedAt).toLocaleDateString()})]})]})]},w.id)})}),jsxRuntimeExports.jsxs("div",{className:cn("px-4 py-3 border-t flex items-center justify-between",S&&"border-border"),children:[jsxRuntimeExports.jsxs("span",{className:cn("text-xs text-muted-foreground",S&&"font-mono"),children:["선택: ",r.length,"개"]}),jsxRuntimeExports.jsx(Button,{type:"button",size:"sm",className:cn("h-8 px-3 text-xs",S&&"bg-primary/20 text-primary border border-primary/40 hover:bg-primary/30"),disabled:!r.length,onClick:y,children:"통합 질문하기"})]})]})}function ModeSelector({questionMode:o,onModeChange:r,isTerminal:x,isMobile:O}){return x?jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between border-b px-4 py-2 shrink-0","border-border font-mono bg-[hsl(var(--terminal-code-bg))]"),children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground/60",children:"Mode:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>r("article"),className:cn("flex items-center gap-1 px-2 py-1.5 border transition-all",o==="article"?"border-solid border-primary/60 text-primary bg-primary/10":"border-dotted border-muted-foreground/30 text-muted-foreground hover:border-primary/40 hover:text-primary/70"),children:[jsxRuntimeExports.jsx("span",{className:"text-terminal-amber",children:"["}),jsxRuntimeExports.jsx("span",{className:o==="article"?"text-primary crt-text-glow":"opacity-0",children:"X"}),jsxRuntimeExports.jsx("span",{className:"text-terminal-amber",children:"]"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Article"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>r("general"),className:cn("flex items-center gap-1 px-2 py-1.5 border transition-all",o==="general"?"border-solid border-primary/60 text-primary bg-primary/10":"border-dotted border-muted-foreground/30 text-muted-foreground hover:border-primary/40 hover:text-primary/70"),children:[jsxRuntimeExports.jsx("span",{className:"text-terminal-amber",children:"["}),jsxRuntimeExports.jsx("span",{className:o==="general"?"text-primary crt-text-glow":"opacity-0",children:"X"}),jsxRuntimeExports.jsx("span",{className:"text-terminal-amber",children:"]"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"General"})]})]})]}):jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between border-b px-4 py-2 shrink-0","bg-background/50"),children:[jsxRuntimeExports.jsx("span",{className:cn("text-xs text-muted-foreground truncate max-w-[50%]"),children:o==="article"?"현재 글 기반":"일반 대화"}),jsxRuntimeExports.jsxs("div",{className:cn("inline-flex rounded-full border bg-muted/40 p-0.5 shadow-sm","focus-within:ring-2 focus-within:ring-primary/30 focus-within:ring-offset-2 focus-within:ring-offset-background/30"),children:[jsxRuntimeExports.jsx(Button,{size:"sm",type:"button",variant:o==="article"?"secondary":"ghost",className:cn("h-7 px-3 text-xs rounded-full transition-colors",O&&"h-8 px-4",o==="article"&&"bg-background/80 text-foreground shadow border border-border/60",o!=="article"&&"bg-transparent text-muted-foreground hover:text-foreground hover:bg-background/30 border border-transparent"),onClick:()=>r("article"),children:"현재 글"}),jsxRuntimeExports.jsx(Button,{size:"sm",type:"button",variant:o==="general"?"secondary":"ghost",className:cn("h-7 px-3 text-xs rounded-full transition-colors",O&&"h-8 px-4",o==="general"&&"bg-background/80 text-foreground shadow border border-border/60",o!=="general"&&"bg-transparent text-muted-foreground hover:text-foreground hover:bg-background/30 border border-transparent"),onClick:()=>r("general"),children:"일반"})]})]})}function TypingDots(){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 py-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-bounce [animation-delay:-0.3s]"}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-bounce [animation-delay:-0.15s]"}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-bounce"})]})}function SettingToggleCard({label:o,checked:r,isTerminal:x,disabled:O=!1,onToggle:E}){const y="calc(clamp(2.1rem,4.3vw,2.45rem) - 0.4rem)",S="0.2rem",j=r?`calc(100% - ${y} - ${S})`:S;return jsxRuntimeExports.jsxs("div",{className:cn("min-h-[5.6rem] rounded-2xl border px-3 py-2.5",r?"border-primary/35 bg-primary/10":x?"border-border/70 bg-background/40":"border-border/70 bg-background/70"),children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-[0.72rem] font-semibold text-muted-foreground",children:o}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[clamp(0.95rem,1.9vw,1.1rem)] font-medium text-muted-foreground",children:r?"ON":"OFF"}),jsxRuntimeExports.jsx("button",{type:"button",role:"switch","aria-checked":r,"aria-label":o,disabled:O,onClick:()=>E==null?void 0:E(),className:cn("relative min-h-[2.1rem] min-w-[3.75rem] rounded-full border transition-colors duration-200","h-[clamp(2.1rem,4.3vw,2.45rem)] w-[clamp(3.75rem,7.8vw,4.7rem)]",r?"border-primary/60 bg-primary":"border-border/70 bg-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-1",O&&"cursor-not-allowed opacity-50"),style:{minHeight:"2.1rem",minWidth:"3.75rem"},children:jsxRuntimeExports.jsx("span",{className:"absolute top-1/2 rounded-full bg-background shadow-md transition-all duration-200 -translate-y-1/2",style:{width:y,height:y,left:j}})})]})]})}function formatRoomName$1(o){return o.replace(/^room:/,"").replace(/:/g,"/")}function ChatSidebar({isTerminal:o,questionMode:r,onModeChange:x,currentRoom:O,onRoomSelect:E,onStartDebate:y,currentLiveRoomLabel:S,sessions:j,selectedSessionIds:w,onToggleSession:_,onLoadSession:Q,onAggregateSelected:I,persistOptIn:M,onTogglePersist:F,livePinned:V=!1,onToggleLivePinned:te}){const[re,se]=reactExports.useState([]);reactExports.useEffect(()=>{let ae=!1;const ge=async()=>{try{const Ae=await getLiveRooms();ae||se(Ae)}catch{}};ge();const je=setInterval(ge,3e4);return()=>{ae=!0,clearInterval(je)}},[]);const ne="px-3 py-2",oe=cn("flex items-center gap-1.5 text-xs font-semibold uppercase tracking-wider mb-2",o?"text-primary/50 font-mono":"text-muted-foreground/70"),Oe=ae=>cn("flex items-center gap-2 w-full px-2 py-1.5 rounded text-sm transition-colors text-left",ae?o?"bg-primary/20 text-primary":"bg-primary/10 text-primary font-medium":o?"text-muted-foreground hover:text-foreground hover:bg-white/5":"text-muted-foreground hover:text-foreground hover:bg-muted");return jsxRuntimeExports.jsx("div",{className:cn("flex h-full w-72 shrink-0 flex-col overflow-hidden border-r",o?"bg-[hsl(var(--terminal-code-bg))] border-border font-mono":"bg-muted/20"),children:jsxRuntimeExports.jsxs(ScrollArea,{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:ne,children:[jsxRuntimeExports.jsxs("div",{className:oe,children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-3 h-3"}),"대화"]}),jsxRuntimeExports.jsx("button",{type:"button",className:Oe(r==="article"),onClick:()=>x("article"),children:"현재 글"}),jsxRuntimeExports.jsx("button",{type:"button",className:Oe(r==="general"),onClick:()=>x("general"),children:"일반"})]}),jsxRuntimeExports.jsx(Separator,{className:cn(o&&"bg-border/40")}),jsxRuntimeExports.jsxs("div",{className:ne,children:[jsxRuntimeExports.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:oe,children:[jsxRuntimeExports.jsx(Radio$1,{className:"w-3 h-3"}),"실시간"]}),jsxRuntimeExports.jsx("button",{type:"button",disabled:!y,onClick:()=>y==null?void 0:y(),className:cn("shrink-0 rounded border px-2 py-1 text-[10px] leading-none transition-colors",o?"border-primary/40 text-primary hover:bg-primary/10":"border-border/70 text-muted-foreground hover:bg-muted hover:text-foreground",!y&&"opacity-50 cursor-not-allowed"),title:S?`현재 방 AI 토론 (${S})`:"현재 방 AI 토론",children:"AI 토론"})]}),re.length===0?jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/50 px-2 py-1",children:"활성 방 없음"}):re.map(ae=>{const ge=formatRoomName$1(ae.room),je=O===ae.room;return jsxRuntimeExports.jsxs("button",{type:"button",className:Oe(je),onClick:()=>E==null?void 0:E(ae.room),children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-3 h-3 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"min-w-0 flex-1 truncate text-left",children:ge}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-[10px] px-1 py-0 h-4 shrink-0",children:[jsxRuntimeExports.jsx(Users,{className:"w-2.5 h-2.5 mr-0.5"}),ae.onlineCount]})]},ae.room)})]}),jsxRuntimeExports.jsx(Separator,{className:cn(o&&"bg-border/40")}),jsxRuntimeExports.jsxs("div",{className:ne,children:[jsxRuntimeExports.jsxs("div",{className:oe,children:[jsxRuntimeExports.jsx(History,{className:"w-3 h-3"}),"대화 기록"]}),j.length===0?jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/50 px-2 py-1",children:"저장된 대화 없음"}):j.slice(0,10).map(ae=>{const ge=w.includes(ae.id);return jsxRuntimeExports.jsxs("div",{className:"mb-1.5 grid grid-cols-[auto_1fr] items-start gap-1.5",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"mt-1 h-3 w-3 shrink-0 rounded",checked:ge,onChange:()=>_(ae.id)}),jsxRuntimeExports.jsx("button",{type:"button",className:cn("min-w-0 rounded px-2 py-1.5 text-left text-sm transition-colors",o?"text-muted-foreground hover:text-foreground hover:bg-white/5":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>Q(ae.id),title:ae.title??"제목 없음",children:jsxRuntimeExports.jsx("span",{className:"block break-words text-xs leading-4 [display:-webkit-box] [-webkit-box-orient:vertical] [-webkit-line-clamp:2] overflow-hidden",children:ae.title??"제목 없음"})})]},ae.id)}),w.length>0&&jsxRuntimeExports.jsxs(Button,{type:"button",size:"sm",variant:"outline",className:"w-full mt-2 h-7 text-xs",onClick:I,children:["통합 질문 (",w.length,")"]})]}),jsxRuntimeExports.jsx(Separator,{className:cn(o&&"bg-border/40")}),jsxRuntimeExports.jsxs("div",{className:ne,children:[jsxRuntimeExports.jsxs("div",{className:oe,children:[jsxRuntimeExports.jsx(Settings,{className:"w-3 h-3"}),"설정"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(8rem,1fr))] gap-2 px-1",children:[jsxRuntimeExports.jsx(SettingToggleCard,{label:"LIVE 고정",checked:V,onToggle:te,disabled:!te,isTerminal:o}),jsxRuntimeExports.jsx(SettingToggleCard,{label:"기록 저장",checked:M,onToggle:F,isTerminal:o})]})]})]})})}function SystemStatusMessage({text:o,isTerminal:r,transient:x,delay:O=4e3,onExpire:E}){const[y,S]=reactExports.useState(!0),j=reactExports.useRef(null),w=reactExports.useRef(null),_=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return reactExports.useEffect(()=>{if(x)return j.current=window.setTimeout(()=>{_?E==null||E():(S(!1),w.current=window.setTimeout(()=>{E==null||E()},300))},O),()=>{j.current!==null&&window.clearTimeout(j.current),w.current!==null&&window.clearTimeout(w.current)}},[x,O,E,_]),r?jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 my-1 px-2 transition-opacity duration-300",!y&&"opacity-0"),children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-primary/20"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] font-mono text-primary/40 break-words [overflow-wrap:anywhere] text-center px-1",children:o}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-primary/20"})]}):jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 my-1 px-2 transition-opacity duration-300",!y&&"opacity-0"),children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-border/50"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] text-muted-foreground/70 break-words [overflow-wrap:anywhere] text-center px-1",children:o}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-border/50"})]})}const MOBILE_RENDER_LIMIT=80;function getSystemLevel(o){return o.systemLevel??"error"}function getSystemBubbleClass(o){switch(o){case"info":return"border border-primary/20 bg-primary/10 text-primary";case"warn":return"border border-amber-500/30 bg-amber-500/10 text-amber-700";case"error":default:return"border border-destructive/30 bg-destructive/10 text-destructive"}}function getSystemTerminalClass(o){switch(o){case"info":return"text-primary";case"warn":return"text-amber-400";case"error":default:return"text-destructive"}}function getSystemLabel(o){switch(o){case"info":return"[INFO]";case"warn":return"[WARN]";case"error":default:return"[ERROR]"}}function ChatMessages({messages:o,isTerminal:r,isMobile:x,onPromptClick:O,onRetry:E,lastPrompt:y,onNavigate:S,onExpireMessage:j}){const w=useNavigate(),[_,Q]=reactExports.useState(!1);reactExports.useEffect(()=>{(!x||o.length<=MOBILE_RENDER_LIMIT)&&Q(!1)},[x,o.length]);const I=x&&!_&&o.length>MOBILE_RENDER_LIMIT?o.length-MOBILE_RENDER_LIMIT:0,M=reactExports.useMemo(()=>I<=0?o:o.slice(-MOBILE_RENDER_LIMIT),[o,I]),F=reactExports.useCallback((V,te)=>{const re=window.location.host;let se=!1,ne="";try{const oe=new URL(V,window.location.origin);(oe.host===re||V.startsWith("/"))&&(se=!0,ne=oe.pathname)}catch{V.startsWith("/")&&(se=!0,ne=V)}se&&ne&&(te.preventDefault(),w(ne),S==null||S(ne))},[w,S]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[o.length===0&&jsxRuntimeExports.jsx(EmptyState,{isTerminal:r,isMobile:x,onPromptClick:O}),I>0&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Q(!0),className:"rounded-full border px-3 py-1 text-xs text-muted-foreground hover:bg-muted transition-colors",children:["이전 메시지 ",I,"개 보기"]})}),M.map(V=>{const te=V.role==="user",re=V.role==="assistant",se=V.role==="system",ne=getSystemLevel(V),{imageUrl:oe,cleanText:Oe}=te?extractImageFromMessage(V.text):{imageUrl:null,cleanText:V.text};return r?jsxRuntimeExports.jsx(TerminalMessage,{message:V,imageUrl:oe,cleanText:Oe,isUser:te,isAssistant:re,isSystem:se,systemLevel:ne,isMobile:x,onPromptClick:O,onRetry:E,lastPrompt:y,onSourceClick:F,onExpireMessage:j},V.id):jsxRuntimeExports.jsx(DefaultMessage,{message:V,imageUrl:oe,cleanText:Oe,isUser:te,isAssistant:re,isSystem:se,systemLevel:ne,isMobile:x,onPromptClick:O,onRetry:E,lastPrompt:y,onSourceClick:F,onExpireMessage:j},V.id)})]})}const EmptyState=React$1.memo(function o({isTerminal:r,isMobile:x,onPromptClick:O}){if(r){const E=["┌────────────────────────┐","│   ▄▄▄   ▄▄▄▄▄   ▄▄▄    │ ","│  █   █  █   █  █   █   │ ","│         █▄▄▄█          │ ","│                        │ ","└────────────────────────┘ ",""," Hello! I'm nodove-bot"," Google it yourself. ","(Seriously, don't ask me.)"].join(`
`);return jsxRuntimeExports.jsx("div",{className:"terminal-empty-panel",children:jsxRuntimeExports.jsxs("div",{className:"terminal-empty-grid",children:[jsxRuntimeExports.jsx("pre",{className:"terminal-ascii-art","aria-hidden":"true",children:E}),jsxRuntimeExports.jsxs("div",{className:"terminal-empty-text",children:[jsxRuntimeExports.jsx("p",{className:"terminal-empty-title",children:"$ ./ai-chat --help"}),jsxRuntimeExports.jsx("div",{className:"terminal-command-grid","aria-label":"추천 프롬프트",children:QUICK_PROMPTS.map((y,S)=>jsxRuntimeExports.jsxs("button",{type:"button",className:"terminal-command-btn crt-cli-btn",onClick:()=>O(y),children:[jsxRuntimeExports.jsxs("span",{className:"crt-text-amber font-bold",children:["[",S+1,"]"]}),jsxRuntimeExports.jsx("span",{children:y})]},y))})]})]})})}return jsxRuntimeExports.jsxs("div",{className:"space-y-4 rounded-2xl border border-dashed px-4 py-6 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"text-center",children:"빠르게 시작하려면 아래 프롬프트를 눌러보세요."}),jsxRuntimeExports.jsx("div",{className:cn("flex flex-wrap gap-2",x&&"flex-col"),children:QUICK_PROMPTS.map(E=>jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",className:cn("text-xs justify-start",x?"h-12 px-4 w-full text-sm":"h-10 px-4"),onClick:()=>O(E),children:E},E))})]})}),TerminalMessage=React$1.memo(function o({message:r,imageUrl:x,cleanText:O,isUser:E,isAssistant:y,isSystem:S,systemLevel:j,isMobile:w,onPromptClick:_,onRetry:Q,lastPrompt:I,onSourceClick:M,onExpireMessage:F}){var te,re;const V=y&&!((te=r.sources)!=null&&te.length)&&!((re=r.followups)!=null&&re.length);return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[E&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-bold select-none shrink-0 text-sm",children:"user@blog:~$"}),jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap text-foreground break-words text-sm",children:O||(x?"첨부한 이미지에 대해 설명해줘.":r.text)})]}),x&&jsxRuntimeExports.jsx(UserImage,{imageUrl:x,isTerminal:!0})]}),y&&jsxRuntimeExports.jsxs("div",{className:"ai-response-container",children:[jsxRuntimeExports.jsxs("div",{className:"ai-response-header",children:[jsxRuntimeExports.jsx(Terminal,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{children:"AI Response"}),!r.text.trim()&&jsxRuntimeExports.jsxs("span",{className:"streaming-indicator",children:[jsxRuntimeExports.jsxs("span",{className:"streaming-dots",children:[jsxRuntimeExports.jsx("span",{children:"."}),jsxRuntimeExports.jsx("span",{children:"."}),jsxRuntimeExports.jsx("span",{children:"."})]}),"processing"]})]}),jsxRuntimeExports.jsx("div",{className:"text-foreground/90 text-sm typewriter-container",children:r.text.trim()?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[w&&V?jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap break-words [overflow-wrap:anywhere]",children:r.text}):jsxRuntimeExports.jsx(ChatMarkdown,{content:r.text,isStreaming:V}),V&&jsxRuntimeExports.jsx("span",{className:"typewriter-cursor"})]}):jsxRuntimeExports.jsx("span",{className:"crt-block-cursor","aria-label":"waiting"})}),jsxRuntimeExports.jsx(Sources,{sources:r.sources,isTerminal:!0,onSourceClick:M}),jsxRuntimeExports.jsx(Followups,{followups:r.followups,isTerminal:!0,isMobile:w,onPromptClick:_})]}),S&&(r.systemKind==="status"||r.systemKind!=="error"&&(r.text.startsWith("[Live]")||r.text.startsWith("[Session]"))&&j!=="error"?jsxRuntimeExports.jsx(SystemStatusMessage,{text:r.text,isTerminal:!0,transient:r.transient,onExpire:()=>F==null?void 0:F(r.id)}):jsxRuntimeExports.jsx(SystemMessage,{text:r.text,level:j,isTerminal:!0,lastPrompt:I,onRetry:()=>Q(I)}))]})}),DefaultMessage=React$1.memo(function o({message:r,imageUrl:x,cleanText:O,isUser:E,isAssistant:y,isSystem:S,systemLevel:j,isMobile:w,onPromptClick:_,onRetry:Q,lastPrompt:I,onSourceClick:M,onExpireMessage:F}){var re,se;const V=y&&!((re=r.sources)!=null&&re.length)&&!((se=r.followups)!=null&&se.length);return S&&(r.systemKind==="status"||r.systemKind!=="error"&&(r.text.startsWith("[Live]")||r.text.startsWith("[Session]"))&&j!=="error")?jsxRuntimeExports.jsx(SystemStatusMessage,{text:r.text,isTerminal:!1,transient:r.transient,onExpire:()=>F==null?void 0:F(r.id)}):jsxRuntimeExports.jsx("div",{className:cn("flex",E?"justify-end":"justify-start"),children:jsxRuntimeExports.jsxs("div",{className:cn("max-w-full text-sm leading-relaxed px-4 py-3 break-words [overflow-wrap:anywhere]",w?"max-w-[90%] rounded-2xl":"max-w-[85%] rounded-2xl",E&&"bg-primary text-primary-foreground rounded-br-md",y&&"bg-secondary text-secondary-foreground rounded-bl-md",S&&getSystemBubbleClass(j)),children:[y?r.text.trim()?w&&V?jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap break-words [overflow-wrap:anywhere]",children:r.text}):jsxRuntimeExports.jsx(ChatMarkdown,{content:r.text,isStreaming:V}):jsxRuntimeExports.jsx(TypingDots,{}):E?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap break-words [overflow-wrap:anywhere]",children:O||(x?"첨부한 이미지에 대해 설명해줘.":r.text)}),x&&jsxRuntimeExports.jsx(UserImage,{imageUrl:x,isTerminal:!1})]}):jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap break-words [overflow-wrap:anywhere]",children:r.text}),y&&jsxRuntimeExports.jsx(Sources,{sources:r.sources,isTerminal:!1,onSourceClick:M}),y&&jsxRuntimeExports.jsx(Followups,{followups:r.followups,isTerminal:!1,isMobile:w,onPromptClick:_}),S&&j==="error"&&I&&jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",className:"h-9 text-sm px-3",onClick:()=>Q(I),children:"다시 시도하기"})})]})})}),UserImage=React$1.memo(function o({imageUrl:r,isTerminal:x}){return x?jsxRuntimeExports.jsxs("div",{className:"ml-0 mt-2",children:[jsxRuntimeExports.jsx("div",{className:"inline-block rounded border border-primary/30 overflow-hidden max-w-[200px] sm:max-w-[280px]",children:jsxRuntimeExports.jsx("img",{src:r,alt:"첨부 이미지",className:"w-full h-auto object-contain max-h-[200px]",onClick:()=>window.open(r,"_blank"),style:{cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-primary/60 mt-1 font-mono",children:"[img] 클릭하여 원본 보기"})]}):jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx("div",{className:"inline-block rounded-lg overflow-hidden max-w-[200px] sm:max-w-[240px] border border-primary-foreground/20",children:jsxRuntimeExports.jsx("img",{src:r,alt:"첨부 이미지",className:"w-full h-auto object-contain max-h-[180px]",onClick:()=>window.open(r,"_blank"),style:{cursor:"pointer"}})})})}),Sources=React$1.memo(function o({sources:r,isTerminal:x,onSourceClick:O}){return!Array.isArray(r)||r.length===0?null:x?jsxRuntimeExports.jsxs("div",{className:"mt-3 pl-3 text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"# Sources:"}),jsxRuntimeExports.jsx("ul",{className:"mt-1 space-y-1",children:r.map((E,y)=>jsxRuntimeExports.jsxs("li",{className:"text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"text-primary/50",children:["[",y+1,"]"]})," ",E.url?jsxRuntimeExports.jsx("a",{className:"underline decoration-dotted hover:text-primary cursor-pointer break-all",href:E.url,onClick:S=>O(E.url,S),children:E.title||E.url}):jsxRuntimeExports.jsx("span",{children:E.title||"출처"})]},y))})]}):jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-1.5",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground font-medium",children:"참고한 출처"}),jsxRuntimeExports.jsx("ul",{className:"text-sm list-disc pl-4 space-y-1",children:r.map((E,y)=>jsxRuntimeExports.jsx("li",{children:E.url?jsxRuntimeExports.jsx("a",{className:"underline text-primary cursor-pointer break-all",href:E.url,onClick:S=>O(E.url,S),children:E.title||E.url}):jsxRuntimeExports.jsx("span",{children:E.title||"출처"})},y))})]})}),Followups=React$1.memo(function o({followups:r,isTerminal:x,isMobile:O,onPromptClick:E}){return!Array.isArray(r)||r.length===0?null:x?jsxRuntimeExports.jsxs("div",{className:"mt-3 pl-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-primary/60",children:"# 연관 질문:"}),jsxRuntimeExports.jsx("div",{className:cn("flex gap-2 mt-2",O?"flex-col":"flex-wrap"),children:r.map((y,S)=>jsxRuntimeExports.jsxs("button",{className:cn("text-xs text-primary/80 hover:text-primary border border-primary/30 hover:bg-primary/10 transition-colors text-left",O?"px-4 py-3":"px-3 py-2"),onClick:()=>E(y),children:[jsxRuntimeExports.jsx(ChevronRight,{className:"inline h-3 w-3 -ml-0.5 mr-1"}),y]},S))})]}):jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground font-medium mb-2",children:"연관 질문"}),jsxRuntimeExports.jsx("div",{className:cn("flex gap-2",O?"flex-col":"flex-wrap"),children:r.map((y,S)=>jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",className:cn("text-xs justify-start",O?"h-12 px-4 w-full text-sm":"h-10 px-4"),onClick:()=>E(y),children:y},S))})]})}),SystemMessage=React$1.memo(function o({text:r,level:x,isTerminal:O,lastPrompt:E,onRetry:y}){if(O){const S=getSystemTerminalClass(x),j=getSystemLabel(x);return jsxRuntimeExports.jsxs("div",{className:cn("flex items-start gap-2",S),children:[jsxRuntimeExports.jsx("span",{className:"font-bold select-none shrink-0",children:j}),jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap break-words text-sm",children:r}),x==="error"&&E&&jsxRuntimeExports.jsx("button",{className:"text-xs underline ml-2 opacity-80 hover:opacity-100",onClick:y,children:"retry"})]})}return null});function ChatInput({input:o,onInputChange:r,onKeyDown:x,onSend:O,onStop:E,onClearAll:y,onFileSelect:S,attachedImage:j,attachedPreviewUrl:w,busy:_,canSend:Q,firstTokenMs:I,questionMode:M,isTerminal:F,isMobile:V,textareaRef:te,fileInputRef:re}){const se=M==="article"?"현재 글 내용에 대해 물어보고 싶은 것을 입력하세요...":"자유롭게 궁금한 내용을 입력하세요...";return jsxRuntimeExports.jsxs("div",{className:cn("border-t shrink-0",F&&V?"px-2 py-3":"px-4 py-4",V&&"pb-[calc(1rem+env(safe-area-inset-bottom))]",F?"bg-[hsl(var(--terminal-code-bg))] border-border":"bg-background"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between mb-3",F&&"font-mono"),children:[jsxRuntimeExports.jsx("span",{className:cn("text-xs text-muted-foreground",F&&"text-primary/60"),children:F?"# 새 주제 시작":"새 주제를 시작할 땐"}),jsxRuntimeExports.jsx(Button,{onClick:y,variant:"ghost",size:"sm",className:cn("h-8 px-3 text-xs",F&&"font-mono text-primary/80 hover:text-primary hover:bg-primary/10 border border-primary/30"),children:F?"$ clear":"새 대화"})]}),j&&jsxRuntimeExports.jsx(AttachedImagePreview,{image:j,previewUrl:w,onRemove:()=>S(null),isTerminal:F}),F?jsxRuntimeExports.jsx(TerminalInput,{input:o,onInputChange:r,onKeyDown:x,onSend:O,onStop:E,onFileClick:()=>{var ne;return(ne=re.current)==null?void 0:ne.click()},busy:_,canSend:Q,firstTokenMs:I,questionMode:M,isMobile:V,textareaRef:te,fileInputRef:re,onFileSelect:S}):jsxRuntimeExports.jsx(DefaultInput,{input:o,onInputChange:r,onKeyDown:x,onSend:O,onStop:E,onFileClick:()=>{var ne;return(ne=re.current)==null?void 0:ne.click()},busy:_,canSend:Q,placeholder:se,isMobile:V,textareaRef:te,fileInputRef:re,onFileSelect:S})]})}function AttachedImagePreview({image:o,previewUrl:r,onRemove:x,isTerminal:O}){return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between gap-3 rounded-xl border px-3 py-2.5 mb-3",O?"rounded-lg border-primary/30 bg-[hsl(var(--terminal-code-bg))] font-mono":"bg-muted/30"),children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-3 truncate min-w-0",children:[jsxRuntimeExports.jsx("div",{className:cn("h-10 w-10 flex-shrink-0 overflow-hidden rounded-lg bg-muted",O&&"rounded border border-primary/20"),children:r?jsxRuntimeExports.jsx("img",{src:r,alt:o.name,className:"h-full w-full object-cover"}):jsxRuntimeExports.jsx(Image$2,{className:"h-5 w-5 mx-auto my-auto text-muted-foreground"})}),jsxRuntimeExports.jsxs("span",{className:"inline-flex min-w-0 flex-col",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 truncate text-sm",children:[O&&jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"[img]"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:o.name})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.max(1,Math.round(o.size/1024)),"KB"]})]})]}),jsxRuntimeExports.jsx(Button,{type:"button",size:"sm",variant:"ghost",className:cn("h-8 px-2 text-xs shrink-0",O&&"text-destructive hover:bg-destructive/10"),onClick:x,children:O?"[x]":"제거"})]})}function TerminalInput({input:o,onInputChange:r,onKeyDown:x,onSend:O,onStop:E,onFileClick:y,busy:S,canSend:j,firstTokenMs:w,questionMode:_,isMobile:Q,textareaRef:I,fileInputRef:M,onFileSelect:F}){return jsxRuntimeExports.jsxs("div",{className:cn("bg-[hsl(var(--terminal-code-bg))]",Q?"border-0 rounded-none":"border border-border rounded-lg focus-within:border-primary/40 focus-within:ring-1 focus-within:ring-primary/50",Q?"px-1 py-1":"px-3 py-3"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[!Q&&jsxRuntimeExports.jsxs("span",{className:"font-mono select-none shrink-0 py-2 text-sm flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/60",children:"user"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/40",children:"@"}),jsxRuntimeExports.jsx("span",{className:"text-primary/70",children:"ai-chat"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground/40",children:":~"}),jsxRuntimeExports.jsx("span",{className:"text-primary font-bold crt-text-glow",children:"$"})]}),jsxRuntimeExports.jsx(Textarea,{value:o,onChange:V=>r(V.target.value),onKeyDown:x,rows:Q?2:1,placeholder:_==="article"?"현재 글에 대해 질문하세요...":"무엇이든 물어보세요...",ref:I,className:cn("flex-1 resize-none border-0 bg-transparent py-2 font-mono text-foreground","focus-visible:ring-0 focus-visible:ring-offset-0","placeholder:text-muted-foreground/60 overflow-y-auto",Q?"px-2 text-sm min-h-[56px] max-h-[96px]":"px-1 text-[12px] leading-tight min-h-[40px] max-h-[72px]")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:V=>{var re;const te=((re=V.target.files)==null?void 0:re[0])??null;F(te)}}),jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost",className:cn("rounded-lg border border-primary/30 text-primary/70 hover:text-primary hover:bg-primary/10 hover:border-primary/50",Q?"h-11 w-11":"h-10 w-10"),onClick:y,"aria-label":"이미지 첨부",children:jsxRuntimeExports.jsx(Image$2,{className:Q?"h-5 w-5":"h-4 w-4"})}),S?jsxRuntimeExports.jsx(Button,{onClick:E,size:"icon",variant:"ghost",className:cn("rounded-lg border border-destructive/50 text-destructive hover:bg-destructive/10",Q?"h-11 w-11":"h-10 w-10"),children:jsxRuntimeExports.jsx(Square,{className:Q?"h-5 w-5":"h-4 w-4"})}):jsxRuntimeExports.jsx(Button,{onClick:O,disabled:!j,size:"icon",className:cn("rounded-lg border border-primary bg-primary/20 text-primary hover:bg-primary/30 disabled:opacity-30",Q?"h-11 w-11":"h-10 w-10"),children:jsxRuntimeExports.jsx(Send,{className:Q?"h-5 w-5":"h-4 w-4"})})]})]}),S&&w!=null&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs font-mono text-primary/70",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}),jsxRuntimeExports.jsxs("span",{children:["응답 중... (첫 토큰: ",w,"ms)"]})]})]})}function DefaultInput({input:o,onInputChange:r,onKeyDown:x,onSend:O,onStop:E,onFileClick:y,busy:S,canSend:j,placeholder:w,isMobile:_,textareaRef:Q,fileInputRef:I,onFileSelect:M}){return jsxRuntimeExports.jsx("div",{className:cn("rounded-2xl border border-border bg-muted/40 px-4 py-3 shadow-sm",_&&"rounded-xl"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-3",children:[jsxRuntimeExports.jsx(Textarea,{value:o,onChange:F=>r(F.target.value),onKeyDown:x,rows:2,placeholder:w,ref:Q,className:cn("flex-1 resize-none border-0 bg-transparent px-0 py-2 focus-visible:ring-0 focus-visible:ring-offset-0 overflow-y-auto",_?"text-base min-h-[56px] max-h-[96px]":"text-sm min-h-[52px] max-h-[72px]")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{ref:I,type:"file",accept:"image/*",className:"hidden",onChange:F=>{var te;const V=((te=F.target.files)==null?void 0:te[0])??null;M(V)}}),jsxRuntimeExports.jsx(Button,{type:"button",size:"icon",variant:"ghost",className:cn("rounded-xl border border-dashed border-muted-foreground/40 text-muted-foreground hover:border-muted-foreground hover:text-foreground",_?"h-12 w-12":"h-11 w-11"),onClick:y,"aria-label":"이미지 첨부",children:jsxRuntimeExports.jsx(Image$2,{className:_?"h-5 w-5":"h-4 w-4"})}),S?jsxRuntimeExports.jsx(Button,{onClick:E,size:"icon",variant:"secondary",className:cn("rounded-xl",_?"h-12 w-12":"h-11 w-11"),children:jsxRuntimeExports.jsx(Square,{className:_?"h-5 w-5":"h-4 w-4"})}):jsxRuntimeExports.jsx(Button,{onClick:O,disabled:!j,size:"icon",className:cn("rounded-xl shadow-lg",_?"h-12 w-12":"h-11 w-11"),children:jsxRuntimeExports.jsx(Send,{className:_?"h-5 w-5":"h-4 w-4"})})]})]})})}function ImageDrawer({open:o,onOpenChange:r,uploadedImages:x}){return jsxRuntimeExports.jsx(Dialog,{open:o,onOpenChange:r,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"이미지 메모"}),jsxRuntimeExports.jsx(DialogDescription,{children:"최근 대화에서 첨부한 이미지들을 다시 확인할 수 있어요."})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-[60vh] overflow-y-auto overscroll-contain space-y-2 text-sm",children:[x.length===0&&jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"저장된 이미지가 없습니다."}),x.map(O=>jsxRuntimeExports.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 rounded-lg border px-2 py-1 text-left hover:bg-muted",onClick:()=>{try{window.open(O.url,"_blank","noopener,noreferrer")}catch{}},children:[jsxRuntimeExports.jsx("div",{className:"h-12 w-12 overflow-hidden rounded bg-muted",children:jsxRuntimeExports.jsx("img",{src:O.url,alt:O.name,className:"h-full w-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 truncate",children:[jsxRuntimeExports.jsx("div",{className:"font-medium truncate",children:O.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.max(1,Math.round(O.size/1024)),"KB"]})]})]},O.id))]})]})})}function MobileActionSheet({open:o,onOpenChange:r,sessions:x,uploadedImages:O,persistOptIn:E,onShowSessions:y,onShowImageDrawer:S,onTogglePersist:j,onStartDebate:w,currentLiveRoomLabel:_,onClearAll:Q,isTerminal:I,livePinned:M=!1,onToggleLivePinned:F}){const V=te=>{te(),r(!1)};return jsxRuntimeExports.jsx(Sheet,{open:o,onOpenChange:r,children:jsxRuntimeExports.jsxs(SheetContent,{side:"bottom",className:cn("h-auto max-h-[85vh] rounded-t-3xl px-6 pb-8 pt-4",I&&"rounded-t-xl bg-[hsl(var(--terminal-code-bg))] border-primary/30"),"aria-describedby":void 0,children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"text-left pb-4",children:[jsxRuntimeExports.jsx(SheetTitle,{className:cn("text-lg",I&&"font-mono text-primary"),children:I?">_ 대화 옵션":"대화 옵션"}),jsxRuntimeExports.jsx(SheetDescription,{className:I?"font-mono":"",children:"대화 관리 및 설정"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(ActionButton,{label:"최근 대화 보기",value:`${x.length}개`,disabled:!x.length,onClick:()=>V(y),isTerminal:I}),jsxRuntimeExports.jsx(ActionButton,{label:"이미지 메모 보기",value:`${O.length}개`,disabled:!O.length,onClick:()=>V(S),isTerminal:I}),jsxRuntimeExports.jsx(ActionButton,{label:E?"기록 저장 끄기":"기록 저장 켜기",value:E?"ON":"OFF",valueBadge:!0,valuePrimary:E,onClick:()=>V(j),isTerminal:I}),jsxRuntimeExports.jsx(ActionButton,{label:M?"LIVE 고정 끄기":"LIVE 고정 켜기",value:M?"ON":"OFF",valueBadge:!0,valuePrimary:M,disabled:!F,onClick:()=>V(()=>F==null?void 0:F()),isTerminal:I}),jsxRuntimeExports.jsx(ActionButton,{label:_?`현재 방 AI 토론 (${_})`:"현재 방 AI 토론",value:"LIVE",valueBadge:!0,valuePrimary:!0,disabled:!w,onClick:()=>V(()=>w==null?void 0:w()),isTerminal:I}),jsxRuntimeExports.jsx(ActionButton,{label:"대화 초기화",destructive:!0,onClick:()=>V(Q),isTerminal:I})]})]})})}function ActionButton({label:o,value:r,valueBadge:x,valuePrimary:O,disabled:E,destructive:y,onClick:S,isTerminal:j}){return jsxRuntimeExports.jsxs("button",{type:"button",className:cn("flex w-full items-center justify-between rounded-2xl border px-5 py-4 text-left transition-colors",j?"rounded-lg border-primary/30 hover:bg-primary/10 font-mono":"hover:bg-muted",E&&"opacity-50 cursor-not-allowed",y&&(j?"border-destructive/40 text-destructive hover:bg-destructive/10":"border-destructive/40 text-destructive hover:bg-destructive/5")),disabled:E,onClick:S,children:[jsxRuntimeExports.jsx("span",{className:"text-base",children:o}),r&&jsxRuntimeExports.jsx("span",{className:cn("text-sm",x&&"px-2 py-0.5 rounded-full",x&&O?j?"bg-primary/20 text-primary":"bg-primary/10 text-primary":x?"bg-muted text-muted-foreground":j?"text-primary/60":"text-muted-foreground"),children:r})]})}function formatRoomName(o){return o.replace(/^room:/,"").replace(/:/g,"/")}function LiveRoomPanel({isTerminal:o,isMobile:r,currentRoom:x,onRoomSelect:O,onStartDebate:E,currentRoomLabel:y,livePinned:S=!1,onToggleLivePinned:j}){const[w,_]=reactExports.useState([]),[Q,I]=reactExports.useState(!0);if(reactExports.useEffect(()=>{let F=!1;const V=async()=>{try{const re=await getLiveRooms();F||(_(re),I(!1))}catch{F||I(!1)}};V();const te=setInterval(V,3e4);return()=>{F=!0,clearInterval(te)}},[]),Q||w.length===0)return null;const M=[...w].sort((F,V)=>V.onlineCount!==F.onlineCount?V.onlineCount-F.onlineCount:F.room.localeCompare(V.room));return r?jsxRuntimeExports.jsxs("div",{className:cn("border-b shrink-0",o?"bg-[hsl(var(--terminal-code-bg))] border-border":"bg-muted/40 border-border/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 pt-2 pb-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[jsxRuntimeExports.jsxs("p",{className:cn("text-[11px] font-semibold tracking-wide uppercase",o?"text-primary/70 font-mono":"text-muted-foreground"),children:["Live rooms (",M.length,")"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>j==null?void 0:j(),className:cn("shrink-0 rounded border px-2 py-1 text-[10px] leading-none transition-colors",S?o?"border-primary/60 bg-primary/20 text-primary":"border-primary/40 bg-primary/10 text-primary":o?"border-border/60 text-muted-foreground hover:border-primary/40 hover:text-primary":"border-border/70 text-muted-foreground hover:bg-muted hover:text-foreground",!j&&"opacity-50 cursor-not-allowed"),disabled:!j,title:"일반 입력을 /live 없이 실시간 방으로 전송",children:["LIVE 고정 ",S?"ON":"OFF"]})]}),jsxRuntimeExports.jsx("button",{type:"button",disabled:!E,onClick:()=>E==null?void 0:E(),className:cn("shrink-0 rounded border px-2 py-1 text-[10px] leading-none transition-colors",o?"border-primary/40 text-primary hover:bg-primary/10":"border-border/70 text-muted-foreground hover:bg-muted hover:text-foreground",!E&&"opacity-50 cursor-not-allowed"),title:y?`현재 방 AI 토론 (${y})`:"현재 방 AI 토론",children:"AI 토론"})]}),jsxRuntimeExports.jsx("div",{className:"px-3 pb-2.5",children:jsxRuntimeExports.jsx("div",{className:"max-h-36 overflow-y-auto overscroll-contain pr-1",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(F=>{const V=formatRoomName(F.room),te=x===F.room,re=F.onlineCount===0;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>O==null?void 0:O(F.room),className:cn("flex w-full min-w-0 items-center gap-1.5 rounded-md border px-2.5 py-1.5 text-xs text-left transition-colors",te?o?"bg-primary/20 text-primary border-primary/40":"bg-primary/10 text-primary border-primary/30":o?"text-muted-foreground hover:text-foreground hover:bg-white/5 border-border/40":"text-muted-foreground hover:text-foreground hover:bg-muted border-border/50",re&&"opacity-50"),children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-3 h-3 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate flex-1",children:V}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] opacity-75 shrink-0",children:[jsxRuntimeExports.jsx(Users,{className:"w-2.5 h-2.5"}),F.onlineCount]})]},F.room)})})})})]}):jsxRuntimeExports.jsxs("div",{className:cn("border-b shrink-0",o?"bg-[hsl(var(--terminal-code-bg))] border-border":"bg-muted/40"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 pt-2 pb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[jsxRuntimeExports.jsxs("p",{className:cn("text-[11px] font-semibold tracking-wide uppercase",o?"text-primary/70 font-mono":"text-muted-foreground"),children:["Live rooms (",M.length,")"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>j==null?void 0:j(),className:cn("shrink-0 rounded border px-2 py-1 text-[10px] leading-none transition-colors",S?o?"border-primary/60 bg-primary/20 text-primary":"border-primary/40 bg-primary/10 text-primary":o?"border-border/60 text-muted-foreground hover:border-primary/40 hover:text-primary":"border-border/70 text-muted-foreground hover:bg-muted hover:text-foreground",!j&&"opacity-50 cursor-not-allowed"),disabled:!j,title:"일반 입력을 /live 없이 실시간 방으로 전송",children:["LIVE 고정 ",S?"ON":"OFF"]})]}),jsxRuntimeExports.jsx("button",{type:"button",disabled:!E,onClick:()=>E==null?void 0:E(),className:cn("shrink-0 rounded border px-2 py-1 text-[10px] leading-none transition-colors",o?"border-primary/40 text-primary hover:bg-primary/10":"border-border/70 text-muted-foreground hover:bg-muted hover:text-foreground",!E&&"opacity-50 cursor-not-allowed"),title:y?`현재 방 AI 토론 (${y})`:"현재 방 AI 토론",children:"AI 토론"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 px-3 pb-2 min-w-0 overflow-x-auto",children:M.map(F=>{const V=formatRoomName(F.room),te=x===F.room,re=F.onlineCount===0;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>O==null?void 0:O(F.room),className:cn("flex items-center gap-1.5 px-2.5 py-1 rounded text-xs whitespace-nowrap transition-colors shrink-0",te?o?"bg-primary/20 text-primary border border-primary/40":"bg-primary/10 text-primary border border-primary/30":o?"text-muted-foreground hover:text-foreground hover:bg-white/5 border border-transparent":"text-muted-foreground hover:text-foreground hover:bg-muted border border-transparent",re&&"opacity-40"),children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"max-w-[16rem] truncate",children:V}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] opacity-70",children:[jsxRuntimeExports.jsx(Users,{className:"w-2.5 h-2.5"}),F.onlineCount]})]},F.room)})})]})}function formatLiveRoomName(o){return String(o||"room:lobby").replace(/^room:/,"").replace(/:/g,"/")}function ChatWidget(o){const r=useIsMobile(),{isTerminal:x}=useTheme(),O=useKeyboardHeight(r),[E,y]=reactExports.useState(!1),[S,j]=reactExports.useState(!1),[w,_]=reactExports.useState(!1),Q=reactExports.useRef(null),I=useChatState({initialMessage:o.initialMessage}),[M,F]=reactExports.useState("80vh");reactExports.useEffect(()=>{if(r)return;const Ue=()=>{const Le=window.innerHeight,Ze=Math.min(Le*.85,Le-100);F(`${Math.round(Ze)}px`)};return Ue(),window.addEventListener("resize",Ue),()=>window.removeEventListener("resize",Ue)},[r]),reactExports.useEffect(()=>{if(!r||!O.keyboardVisible)return;const Ue=I.scrollRef.current;if(!Ue)return;const Le=requestAnimationFrame(()=>{Ue.scrollTop=Ue.scrollHeight});return()=>cancelAnimationFrame(Le)},[r,O.keyboardVisible,I.scrollRef]);const V=useChatSession({sessionKey:I.sessionKey,setSessionKey:I.setSessionKey,sessions:I.sessions,setSessions:I.setSessions,messages:I.messages,setMessages:I.setMessages,persistOptIn:I.persistOptIn,questionMode:I.questionMode,summary:I.summary,pageTitle:I.pageTitle,setFirstTokenMs:I.setFirstTokenMs,setAttachedImage:I.setAttachedImage,setIsAggregatePrompt:I.setIsAggregatePrompt,setShowSessions:I.setShowSessions,selectedSessionIds:I.selectedSessionIds,setSelectedSessionIds:I.setSelectedSessionIds,setInput:I.setInput}),te=useLiveVisitorChat({sessionId:I.sessionKey,push:I.push}),re=useChatActions({canSend:I.canSend,input:I.input,setInput:I.setInput,attachedImage:I.attachedImage,setAttachedImage:I.setAttachedImage,setAttachedPreviewUrl:I.setAttachedPreviewUrl,setBusy:I.setBusy,setFirstTokenMs:I.setFirstTokenMs,abortRef:I.abortRef,push:I.push,setMessages:I.setMessages,isAggregatePrompt:I.isAggregatePrompt,setIsAggregatePrompt:I.setIsAggregatePrompt,questionMode:I.questionMode,lastPromptRef:I.lastPromptRef,setUploadedImages:I.setUploadedImages,messages:I.messages,setSessionKey:I.setSessionKey,currentLiveRoom:te.room,switchLiveRoom:te.switchRoom,sendVisitorMessage:te.sendVisitorMessage,isMobile:r,livePinned:I.livePinned,setLivePinned:I.setLivePinned}),se=useInputKeyDown({canSend:I.canSend,send:re.send}),ne=reactExports.useCallback(Ue=>{I.setInput(Ue),I.focusInput()},[I.setInput,I.focusInput]),oe=reactExports.useCallback(Ue=>{I.setInput(Ue),I.focusInput()},[I.setInput,I.focusInput]),Oe=reactExports.useCallback(async()=>{await re.clearAll()||y(!0)},[re]),ae=reactExports.useCallback(()=>{re.clearAll(!0),y(!1)},[re]),ge=r&&O.keyboardVisible,je=formatLiveRoomName(te.room),Ae=reactExports.useCallback(()=>{I.setLivePinned(Ue=>!Ue)},[I.setLivePinned]),Qe=reactExports.useCallback(Ue=>{I.setMessages(Le=>Le.filter(Ze=>Ze.id!==Ue))},[I.setMessages]),Xe=reactExports.useCallback(async()=>{if(w)return;I.setShowActionSheet(!1);const Le=`${formatLiveRoomName(te.room)} 방 주제로 AI 토론`;I.push({id:`debate_start_${Date.now()}`,role:"system",text:`[토론 시작] 주제: ${Le}`,systemKind:"status"}),_(!0);const Ze=new AbortController;Q.current=Ze;const Be=`당신은 논리적이고 설득력 있는 찬성측 토론자입니다. 주어진 주제에 대해 명확한 근거와 사례를 들어 찬성 주장을 펼치세요. 3-5문장 이내로 핵심 논거를 제시하세요.

주제: ${Le}`,Ge=`당신은 날카롭고 비판적인 반대측 토론자입니다. 주어진 주제에 대해 구체적인 반박 근거를 들어 반대 주장을 펼치세요. 3-5문장 이내로 핵심 논거를 제시하세요.

주제: ${Le}`,We=2,at=64,rt=async Je=>{let mt="",Ke=null,ze=null;const He=ct=>{I.setMessages(ut=>ut.map(it=>it.id===Je.id?{...it,text:`${Je.prefix}${ct}`}:it))},tt=ct=>{if(r){if(ze!==null)return;ze=window.setTimeout(()=>{ze=null,He(mt)},at);return}Ke!==null&&cancelAnimationFrame(Ke),Ke=requestAnimationFrame(()=>{Ke=null,He(ct)})};try{for await(const ct of streamChatEvents({text:Je.prompt,signal:Je.signal,useArticleContext:!1}))ct.type==="text"&&(mt+=ct.text,tt(mt))}finally{ze!==null&&(window.clearTimeout(ze),ze=null),Ke!==null&&(cancelAnimationFrame(Ke),Ke=null),He(mt)}return mt};try{let Je="";for(let mt=1;mt<=We&&!Ze.signal.aborted;mt++){const Ke=`debate_pro_${mt}_${Date.now()}`;I.push({id:Ke,role:"assistant",text:""});const ze=await rt({prompt:mt===1?Be:`${Be}

직전 반대측 주장:
${Je}
위 주장에 반박하며 찬성 논리를 강화하세요.`,id:Ke,prefix:"[토론 · 찬성] ",signal:Ze.signal});if(Ze.signal.aborted)break;const He=`debate_con_${mt}_${Date.now()}`;I.push({id:He,role:"assistant",text:""}),Je=await rt({prompt:mt===1?`${Ge}

찬성측 주장:
${ze}`:`${Ge}

찬성측 최신 주장:
${ze}
이를 반박하여 반대 주장을 강화하세요.`,id:He,prefix:"[토론 · 반대] ",signal:Ze.signal})}Ze.signal.aborted||I.push({id:`debate_end_${Date.now()}`,role:"system",text:"[토론 종료] AI 토론이 완료되었습니다.",systemKind:"status"})}catch{Ze.signal.aborted||I.push({id:`debate_err_${Date.now()}`,role:"system",text:"[토론 오류] 토론 중 문제가 발생했습니다.",systemKind:"error",systemLevel:"error"})}finally{_(!1),Q.current=null}},[w,r,te.room,I.setShowActionSheet,I.push,I.setMessages]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:cn("fixed z-[var(--z-chat-widget)] flex flex-col overflow-hidden border bg-background",r?"shadow-none":"shadow-2xl transition-all",r?"left-0 right-0 rounded-none max-w-full w-full overflow-x-hidden":S?"bottom-20 left-1/2 w-[min(100%-24px,58rem)] -translate-x-1/2 rounded-2xl":"bottom-20 left-1/2 w-[min(100%-24px,42rem)] -translate-x-1/2 rounded-2xl",x&&!r&&"border-border bg-[hsl(var(--terminal-code-bg))] rounded-lg terminal-crt",x&&r&&"border-0 bg-[hsl(var(--terminal-code-bg))]"),style:r?{height:O.viewportHeight,top:`${O.viewportTop}px`,bottom:"auto"}:{height:M,maxHeight:M},children:[jsxRuntimeExports.jsx(ChatHeader,{isMobile:r,isTerminal:x,busy:I.busy,persistOptIn:I.persistOptIn,sessions:I.sessions,uploadedImages:I.uploadedImages,onShowSessions:()=>I.setShowSessions(Ue=>!Ue),onShowActionSheet:()=>I.setShowActionSheet(!0),onShowImageDrawer:()=>I.setShowImageDrawer(!0),onTogglePersist:I.togglePersistStorage,onStartDebate:Xe,currentLiveRoomLabel:je,livePinned:I.livePinned,onClearAll:Oe,onClose:o.onClose,sidebarOpen:S,onToggleSidebar:()=>j(Ue=>!Ue)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[!r&&S&&jsxRuntimeExports.jsx(ChatSidebar,{isTerminal:x,questionMode:I.questionMode,onModeChange:I.setQuestionMode,currentRoom:te.room,onRoomSelect:te.switchRoom,sessions:I.sessions,selectedSessionIds:I.selectedSessionIds,onToggleSession:V.toggleSessionSelected,onLoadSession:V.loadSession,onAggregateSelected:V.handleAggregateFromSelected,persistOptIn:I.persistOptIn,onTogglePersist:I.togglePersistStorage,livePinned:I.livePinned,onToggleLivePinned:Ae,onStartDebate:Xe,currentLiveRoomLabel:je}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-1 min-h-0 overflow-hidden",children:[I.showSessions&&jsxRuntimeExports.jsx(ChatSessionPanel,{sessions:I.sessions,selectedSessionIds:I.selectedSessionIds,onToggleSession:V.toggleSessionSelected,onLoadSession:V.loadSession,onClose:()=>I.setShowSessions(!1),onAggregateSelected:V.handleAggregateFromSelected,isTerminal:x,isMobile:r}),r&&!ge&&jsxRuntimeExports.jsx(LiveRoomPanel,{isTerminal:x,isMobile:r,currentRoom:te.room,onRoomSelect:te.switchRoom,onStartDebate:Xe,currentRoomLabel:je,livePinned:I.livePinned,onToggleLivePinned:Ae}),r&&!ge&&jsxRuntimeExports.jsx(ModeSelector,{questionMode:I.questionMode,onModeChange:I.setQuestionMode,isTerminal:x,isMobile:r}),jsxRuntimeExports.jsx("div",{ref:I.scrollRef,className:cn("flex-1 overflow-auto overscroll-contain px-4 py-4 space-y-4 [content-visibility:auto]",ge&&"py-2",r&&"px-4",x&&"space-y-3 font-mono text-sm"),children:jsxRuntimeExports.jsx(ChatMessages,{messages:I.messages,isTerminal:x,isMobile:r,onPromptClick:ne,onRetry:oe,lastPrompt:I.lastPromptRef.current,onNavigate:o.onClose,onExpireMessage:Qe})}),I.persistOptIn&&I.summary&&!ge&&jsxRuntimeExports.jsx("div",{className:cn("px-4 py-2 border-t text-xs text-muted-foreground truncate shrink-0",x&&"font-mono border-border bg-[hsl(var(--terminal-code-bg))]"),children:x?jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"# Last:"})," ",I.summary]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["요약: ",I.summary]})}),jsxRuntimeExports.jsx(ChatInput,{input:I.input,onInputChange:I.setInput,onKeyDown:se,onSend:re.send,onStop:re.stop,onClearAll:Oe,onFileSelect:I.setAttachedImage,attachedImage:I.attachedImage,attachedPreviewUrl:I.attachedPreviewUrl,busy:I.busy,canSend:I.canSend,firstTokenMs:I.firstTokenMs,questionMode:I.questionMode,isTerminal:x,isMobile:r,textareaRef:I.textareaRef,fileInputRef:I.fileInputRef})]})]})]}),jsxRuntimeExports.jsx(ImageDrawer,{open:I.showImageDrawer,onOpenChange:I.setShowImageDrawer,uploadedImages:I.uploadedImages}),jsxRuntimeExports.jsx(Sheet,{open:r&&S,onOpenChange:Ue=>j(Ue),children:jsxRuntimeExports.jsx(SheetContent,{side:"left",className:"w-72 max-w-[85vw] p-0",children:jsxRuntimeExports.jsx(ChatSidebar,{isTerminal:x,questionMode:I.questionMode,onModeChange:I.setQuestionMode,currentRoom:te.room,onRoomSelect:te.switchRoom,sessions:I.sessions,selectedSessionIds:I.selectedSessionIds,onToggleSession:V.toggleSessionSelected,onLoadSession:V.loadSession,onAggregateSelected:V.handleAggregateFromSelected,persistOptIn:I.persistOptIn,onTogglePersist:I.togglePersistStorage,livePinned:I.livePinned,onToggleLivePinned:Ae,onStartDebate:Xe,currentLiveRoomLabel:je})})}),jsxRuntimeExports.jsx(MobileActionSheet,{open:I.showActionSheet,onOpenChange:I.setShowActionSheet,sessions:I.sessions,uploadedImages:I.uploadedImages,persistOptIn:I.persistOptIn,onShowSessions:()=>{I.setShowActionSheet(!1),I.setShowSessions(Ue=>!Ue)},onShowImageDrawer:()=>{I.setShowActionSheet(!1),I.setShowImageDrawer(!0)},onTogglePersist:I.togglePersistStorage,livePinned:I.livePinned,onToggleLivePinned:Ae,onStartDebate:Xe,currentLiveRoomLabel:je,onClearAll:Oe,isTerminal:x}),jsxRuntimeExports.jsx(AlertDialog,{open:E,onOpenChange:y,children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"대화 삭제"}),jsxRuntimeExports.jsx(AlertDialogDescription,{children:"대화 내용을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"취소"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:ae,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"삭제"})]})]})})]})}function usePostsManifest(){const[o,r]=reactExports.useState([]);return reactExports.useEffect(()=>{const x="/",E=`${x.endsWith("/")?x.slice(0,-1):x}/posts-manifest.json?ts=${Date.now()}`;fetch(E,{cache:"no-cache"}).then(y=>y.json()).then(y=>{y.items&&r(y.items.filter(S=>S.published!==!1))}).catch(()=>r([]))},[]),o}function useVirtualFS(o){const r=useLocation(),x=useNavigate(),O=reactExports.useMemo(()=>{const te=r.pathname;if(te==="/"||te==="")return"/";if(te.startsWith("/blog/")){const re=te.split("/").filter(Boolean);if(re.length>=2)return`/${re.slice(0,2).join("/")}`}return te},[r.pathname]),E=reactExports.useMemo(()=>{const te=r.pathname;if(!te.startsWith("/blog/"))return null;const re=te.split("/").filter(Boolean);if(re.length>=3){const se=re[re.length-1];return o.find(ne=>ne.url.split("/").pop()===se)||null}return null},[r.pathname,o]),y=reactExports.useMemo(()=>{const te=r.pathname;if(te==="/"||te==="")return"~";if(te==="/blog"||te==="/blog/")return"~/blog";if(te==="/about"||te==="/about/")return"~/about";if(te==="/guestbook"||te==="/guestbook/")return"~/guestbook";if(te.startsWith("/blog/")){const re=te.split("/").filter(Boolean);if(re.length>=3&&E){const se=re[1],ne=E.title.length>20?`${E.title.slice(0,18)}..`:E.title;return`~/${se}/${ne}`}else if(re.length>=2)return`~/${re[1]}`}return`~${te}`},[r.pathname,E]),S=reactExports.useMemo(()=>{const te=new Set(o.map(re=>re.url.split("/")[2]));return Array.from(te).sort().reverse()},[o]),j=reactExports.useMemo(()=>{const te=new Set(o.map(re=>re.category));return Array.from(te).sort()},[o]),w=reactExports.useCallback(te=>{if(te==="/"||te==="/blog")return[];const re=te.split("/").filter(Boolean);if(re[0]==="blog"&&re.length>=2){const se=re[1];return o.filter(ne=>ne.url.includes(`/blog/${se}/`))}return[]},[o]),_=reactExports.useCallback(te=>{const re=te||O;if(re==="/"||re==="")return`blog/
`;if(re==="/blog")return`${S.map(ne=>`${ne}/`).join(`
`)}
`;const se=re.split("/").filter(Boolean);if(se[0]==="blog"&&se.length>=2){const ne=se[1],oe=o.filter(Oe=>Oe.url.includes(`/blog/${ne}/`));return oe.length===0?`ls: ${re}: No such directory`:oe.map(Oe=>`${Oe.url.split("/").pop()}.md`).join(`
`)}return`ls: ${re}: No such directory`},[O,S,o]),Q=reactExports.useCallback(te=>{if(!te||te==="~"||te==="/")return x("/"),"";if(te===".."){const ne=O.split("/").filter(Boolean);if(ne.length<=1)return x("/"),"";const oe=`/${ne.slice(0,-1).join("/")}`;return oe==="/blog"?(x("/"),""):(x(oe),"")}let re=te;if(te.startsWith("/")||(O==="/"?re=`/${te}`:re=`${O}/${te}`),re=re.replace(/\/+/g,"/").replace(/\/$/,"")||"/",re==="/blog")return x("/"),"";const se=re.split("/").filter(Boolean);if(se[0]==="blog"&&se.length>=2){const ne=se[1];return S.includes(ne)?(x(`/blog?year=${ne}`),""):`cd: ${re}: No such directory`}return re==="/"?(x("/"),""):`cd: ${re}: No such directory`},[O,S,x]),I=reactExports.useCallback(()=>O||"/",[O]),M=reactExports.useCallback(te=>{if(!te)return"cat: missing file operand";const re=te.replace(/\.md$/,""),se=o.find(ne=>{const oe=ne.url.split("/").pop();return oe===re||(oe==null?void 0:oe.toLowerCase())===re.toLowerCase()});return se?(x(se.url),`Opening: ${se.title}`):`cat: ${te}: No such file`},[o,x]),F=reactExports.useCallback(te=>{if(!te)return"find: missing search term";const re=te.toLowerCase(),se=o.filter(ne=>{var oe,Oe,ae;return ne.title.toLowerCase().includes(re)||((oe=ne.slug)==null?void 0:oe.toLowerCase().includes(re))||((Oe=ne.tags)==null?void 0:Oe.some(ge=>ge.toLowerCase().includes(re)))||((ae=ne.category)==null?void 0:ae.toLowerCase().includes(re))});return se.length===0?`No posts found matching: ${te}`:se.slice(0,10).map(ne=>`${ne.url}  ${ne.title.slice(0,30)}${ne.title.length>30?"...":""}`).join(`
`)+(se.length>10?`
... and ${se.length-10} more`:"")},[o]),V=reactExports.useCallback(()=>{let te=`/
└── blog/
`;return S.forEach((re,se)=>{const oe=se===S.length-1?"    └── ":"    ├── ",Oe=o.filter(ae=>ae.url.includes(`/blog/${re}/`));te+=`${oe}${re}/ (${Oe.length} posts)
`}),te},[S,o]);return{currentPath:O,displayPath:y,currentPost:E,years:S,categories:j,getPostsInPath:w,ls:_,cd:Q,pwd:I,cat:M,find:F,tree:V,navigate:x}}function isFabEnabled(){let o=null;try{const x=localStorage.getItem("aiMemo.fab.enabled");x!=null&&(o=JSON.parse(x))}catch{o=null}if(typeof o=="boolean")return o;const r="true";return r===!0||r==="true"||r==="1"}function useAIMemoElement(){const[o,r]=reactExports.useState(null);return reactExports.useEffect(()=>{let x=!0;const O=()=>document.querySelector("ai-memo-pad"),E=()=>{if(!x)return;const y=O();y?r(y):setTimeout(E,200)};return E(),()=>{x=!1}},[]),o}function useMemoOpen(o){const[r,x]=reactExports.useState(()=>{try{return!!JSON.parse(localStorage.getItem("aiMemo.isOpen")||"false")}catch{return!1}});return reactExports.useEffect(()=>{const O=w=>{if(!w.key||w.key==="aiMemo.isOpen")try{x(!!JSON.parse(localStorage.getItem("aiMemo.isOpen")||"false"))}catch{}};window.addEventListener("storage",O);let E=null,y=null,S=null;const j=()=>{const w=o==null?void 0:o.shadowRoot,_=w==null?void 0:w.getElementById("panel");if(!_)return!1;const Q=()=>x(_.classList.contains("open"));return Q(),E==null||E.disconnect(),E=new MutationObserver(Q),E.observe(_,{attributes:!0,attributeFilter:["class"]}),!0};if(!j()){const w=o==null?void 0:o.shadowRoot;w&&(y=new MutationObserver(()=>{j()&&(y==null||y.disconnect(),y=null)}),y.observe(w,{childList:!0,subtree:!0}));let _=0;S=window.setInterval(()=>{_+=1;try{x(!!JSON.parse(localStorage.getItem("aiMemo.isOpen")||"false"))}catch{}_>20&&S&&(clearInterval(S),S=null)},250)}return()=>{window.removeEventListener("storage",O),E==null||E.disconnect(),y==null||y.disconnect(),S&&clearInterval(S)}},[o]),r}function useHistoryOverlayOpen(o){const[r,x]=reactExports.useState(!1);return reactExports.useEffect(()=>{const O=o==null?void 0:o.shadowRoot;if(!O){x(!1);return}const E=O.getElementById("historyOverlay"),y=()=>{try{if(!E)return x(!1);const j=E.style.display!=="none";x(!!j)}catch{x(!1)}};y();const S=E?new MutationObserver(y):null;return E&&S&&S.observe(E,{attributes:!0,attributeFilter:["style","class"]}),()=>{S&&S.disconnect()}},[o]),r}function useModalPresence(){const[o,r]=reactExports.useState(!1);return reactExports.useEffect(()=>{const x='[aria-modal="true"], [role="dialog"][data-state="open"], [role="alertdialog"][data-state="open"], [data-radix-portal] [data-state="open"]',O=()=>r(!!document.querySelector(x));let E=null;const y=()=>{E||(E=requestAnimationFrame(()=>{E=null,O()}))},S=new MutationObserver(y);return S.observe(document.body,{childList:!0,subtree:!0,attributeFilter:["aria-modal","role","data-state"]}),O(),()=>{S.disconnect(),E&&cancelAnimationFrame(E)}},[]),o}function useHistoryBadge(){const[o,r]=reactExports.useState(!1),x=reactExports.useCallback(()=>{let E=0;try{const S=JSON.parse(localStorage.getItem("aiMemo.events")||"[]");E=Array.isArray(S)?S.length:0}catch{E=0}let y=0;try{y=parseInt(localStorage.getItem("aiMemo.history.lastCount")||"0",10)||0}catch{}r(E>y)},[]);reactExports.useEffect(()=>{const E=j=>{(!j.key||j.key==="aiMemo.events")&&x()},y=()=>x(),S=()=>{document.visibilityState==="visible"&&x()};return window.addEventListener("storage",E),window.addEventListener("aiMemo:eventsChanged",y),document.addEventListener("visibilitychange",S),x(),()=>{window.removeEventListener("storage",E),window.removeEventListener("aiMemo:eventsChanged",y),document.removeEventListener("visibilitychange",S)}},[x]);const O=reactExports.useCallback(()=>{try{const E=JSON.parse(localStorage.getItem("aiMemo.events")||"[]"),y=Array.isArray(E)?E.length:0;localStorage.setItem("aiMemo.history.lastCount",String(y))}catch{}r(!1)},[]);return[o,O]}function useScrollHide(){const[o,r]=reactExports.useState(!1);return reactExports.useEffect(()=>{let x=window.scrollY||0,O=0;const E=30;let y=null,S=0;const j=40,w=()=>{const I=window.scrollY||0,M=window.innerHeight,F=document.documentElement.scrollHeight;return I+M>=F-100},_=()=>{const I=window.scrollY||0,M=I-x;if(x=I,w()){r(!1),O=0;return}if(I<80){r(!1),O=0;return}Math.abs(M)<3||(M>0&&O>=0||M<0&&O<=0?O+=M:O=M,O>E?(r(!0),O=0):O<-E&&(r(!1),O=0))},Q=()=>{const I=Date.now();I-S<j||(S=I,y&&cancelAnimationFrame(y),y=requestAnimationFrame(_))};return window.addEventListener("scroll",Q,{passive:!0}),()=>{window.removeEventListener("scroll",Q),y&&cancelAnimationFrame(y)}},[]),o}function useFabPinned(){const[o,r]=reactExports.useState(!1);reactExports.useEffect(()=>{try{const O=localStorage.getItem("fab.pinned");O!=null&&r(JSON.parse(O))}catch{}},[]);const x=reactExports.useCallback(()=>{r(O=>{const E=!O;try{localStorage.setItem("fab.pinned",JSON.stringify(E))}catch{}return E})},[]);return[o,x]}function hideLegacyLaunchers(o){try{if(!o)return;const r=o.shadowRoot,x=r==null?void 0:r.getElementById("launcher"),O=r==null?void 0:r.getElementById("historyLauncher");x&&(x.style.display="none"),O&&(O.style.display="none")}catch{}}function useFabAnalytics(){const o=reactExports.useRef(!1),r=reactExports.useRef(null),x=reactExports.useCallback((y,S)=>{try{const j=new CustomEvent("fab:event",{detail:{type:y,ts:Date.now(),...S||{}}});window.dispatchEvent(j),typeof localStorage<"u"&&localStorage.getItem("aiMemo.fab.debug")==="true"&&console.log("[FAB]",y,S||"")}catch{}},[]),O=reactExports.useCallback((y,S)=>{!y||o.current||S||(o.current=!0,x("fab_impression"))},[x]),E=reactExports.useCallback(y=>{if(r.current===null){r.current=y;return}r.current!==y&&(x(y?"fab_context_show":"fab_context_hide"),r.current=y)},[x]);return{send:x,sendImpression:O,sendMemoContextChange:E}}function useFabPosition(){const o=E=>{if(E==="bottom"||E==="left")return E;if(typeof E=="string")try{const y=JSON.parse(E);if(y==="bottom"||y==="left")return y}catch{}return null},[r,x]=reactExports.useState(()=>{try{const E=localStorage.getItem("fab.position"),y=o(E);if(y)return y}catch{}return"bottom"});reactExports.useEffect(()=>{const E=j=>{const w=o(j);w&&x(w)},y=j=>{(!j.key||j.key==="fab.position")&&E(j.newValue)},S=j=>{var _;const w=j;if((_=w.detail)!=null&&_.position){E(w.detail.position);return}try{E(localStorage.getItem("fab.position"))}catch{}};return window.addEventListener("storage",y),window.addEventListener("fab:position-changed",S),()=>{window.removeEventListener("storage",y),window.removeEventListener("fab:position-changed",S)}},[]);const O=reactExports.useCallback(E=>{x(E);try{localStorage.setItem("fab.position",E)}catch{}try{window.dispatchEvent(new CustomEvent("fab:position-changed",{detail:{position:E}}))}catch{}},[]);return[r,O]}function useShellCommander({vfs:o,posts:r,onChatOpen:x,onChatOpenWithMessage:O,onMemoToggle:E,onStackClick:y,onShellClose:S,send:j}){const[w,_]=reactExports.useState(""),[Q,I]=reactExports.useState(null),[M,F]=reactExports.useState([]),[V,te]=reactExports.useState(-1),[re,se]=reactExports.useState([]),[ne,oe]=reactExports.useState([]),[Oe,ae]=reactExports.useState(-1),ge=reactExports.useRef(null),je=reactExports.useRef(null),Ae=reactExports.useMemo(()=>[{name:"chat",aliases:["c","ai"],description:"AI 채팅 열기",action:()=>{x(),j("fab_ai_chat_open"),S(),I(null)}},{name:"memo",aliases:["m","note"],description:"메모장 열기/닫기",action:()=>{j("fab_memo_toggle"),E(),S(),I(null)}},{name:"stack",aliases:["s","history"],description:"방문 기록 스택 보기",action:()=>{y(),S(),I(null)}},{name:"insight",aliases:["i","map","graph"],description:"인사이트 그래프 페이지 열기",action:()=>{o.navigate("/insight"),S(),I(null)}},{name:"ls",aliases:["dir","ll"],description:"현재 디렉토리 목록",action:Ge=>{const We=o.ls(Ge);I(We)}},{name:"cd",aliases:[],description:"디렉토리 이동 (예: cd /blog/2025)",action:Ge=>{const We=o.cd(Ge||"/");We?I(We):(S(),I(null))}},{name:"pwd",aliases:[],description:"현재 경로 표시",action:()=>{I(o.pwd())}},{name:"cat",aliases:["open","view"],description:"게시글 열기 (예: cat post-slug.md)",action:Ge=>{if(!Ge){I("cat: missing file operand");return}const We=o.cat(Ge);We.startsWith("Opening:")?(S(),I(null)):I(We)}},{name:"find",aliases:["search","grep"],description:"게시글 검색 (예: find kafka)",action:Ge=>{if(!Ge){I("find: missing search term");return}I(o.find(Ge))}},{name:"tree",aliases:[],description:"블로그 디렉토리 구조 표시",action:()=>{I(o.tree())}},{name:"home",aliases:["~"],description:"홈으로 이동",action:()=>{o.navigate("/"),S(),I(null)}},{name:"clear",aliases:["cls"],description:"출력 지우기",action:()=>{I(null),_("")}}],[j,E,y,o,x,S]),Qe=reactExports.useCallback(Ge=>{const We=Ge.trim();if(!We)return;F(Ke=>[...Ke.slice(-20),We]),te(-1);const at=We.split(/\s+/),rt=at[0].toLowerCase(),Je=at.slice(1).join(" ");if(rt==="help"||rt==="?"){const Ke=Ae.filter(tt=>["chat","memo","stack","insight","clear"].includes(tt.name)),ze=Ae.filter(tt=>["ls","cd","pwd","cat","find","tree","home"].includes(tt.name));let He=`=== Feature Commands ===
`;He+=Ke.map(tt=>`  ${tt.name.padEnd(8)} ${tt.description}`).join(`
`),He+=`

=== Filesystem Commands ===
`,He+=ze.map(tt=>`  ${tt.name.padEnd(8)} ${tt.description}`).join(`
`),He+=`

예시:
  ls              현재 위치 파일 목록
  cd /blog/2025   2025년 글로 이동
  find kafka      'kafka' 포함 글 검색
  cat post.md     게시글 열기`,I(He),_("");return}const mt=Ae.find(Ke=>Ke.name===rt||Ke.aliases.includes(rt));mt?(mt.action(Je||void 0),_("")):(O(We),j("fab_shell_ai_fallback",{input:We}),S(),I(null),_(""))},[Ae,O,j,S]),Xe=reactExports.useCallback(Ge=>{const We=Ge.trim();if(!We)return;if(oe([]),ae(-1),We.toLowerCase()==="clear"||We.toLowerCase()==="cls"){se([]),I(null),_("");return}const at=`${o.displayPath} $ ${We}`;se(rt=>[...rt.slice(-50),{type:"input",text:at}]),Qe(We)},[Qe,o.displayPath]),Ue=reactExports.useCallback(Ge=>{const We=Ge.trim().toLowerCase();if(!We)return[];const at=We.split(/\s+/),rt=at[0],Je=at.slice(1).join(" ");if(at.length===1)return Ae.filter(Ke=>Ke.name.startsWith(rt)||Ke.aliases.some(ze=>ze.startsWith(rt))).map(Ke=>Ke.name).slice(0,6);if(rt==="ls"||rt==="dir"||rt==="ll"){const mt=o.ls(Je||void 0);if(!mt.startsWith("ls:"))return mt.split(`
`).filter(Boolean).slice(0,8).map(ze=>`ls ${Je?`${Je}/`:""}${ze.replace("/","")}`)}if(rt==="cd"){const mt=[];return mt.push("cd .."),mt.push("cd ~"),(!Je||Je==="/blog"||Je.startsWith("/blog/"))&&o.years.forEach(Ke=>{mt.push(`cd /blog/${Ke}`)}),(o.currentPath==="/"||o.currentPath==="/blog")&&o.years.forEach(Ke=>{(!Je||Ke.includes(Je))&&mt.push(`cd ${Ke}`)}),mt.filter(Ke=>Ke.toLowerCase().includes(Je)).slice(0,6)}if(rt==="cat"||rt==="open"||rt==="view")return(o.currentPath.startsWith("/blog/")?r.filter(ze=>ze.url.includes(o.currentPath.split("/")[2])):r).filter(ze=>{const He=ze.url.split("/").pop()||"";return!Je||He.toLowerCase().includes(Je.toLowerCase())||ze.title.toLowerCase().includes(Je.toLowerCase())}).slice(0,6).map(ze=>`cat ${ze.url.split("/").pop()}.md`);if(rt==="find"||rt==="search"||rt==="grep")if(Je){const mt=[];return r.forEach(ze=>{var He;ze.title.split(/\s+/).forEach(tt=>{tt.length>2&&tt.toLowerCase().includes(Je)&&mt.push(tt.toLowerCase())}),(He=ze.tags)==null||He.forEach(tt=>{tt.toLowerCase().includes(Je)&&mt.push(tt.toLowerCase())})}),[...new Set(mt)].slice(0,6).map(ze=>`find ${ze}`)}else{const mt=new Set;return r.forEach(Ke=>{var ze;Ke.title.split(/\s+/).forEach(He=>{He.length>2&&mt.add(He.toLowerCase())}),(ze=Ke.tags)==null||ze.forEach(He=>mt.add(He.toLowerCase())),Ke.category&&mt.add(Ke.category.toLowerCase())}),Array.from(mt).slice(0,8).map(Ke=>`find ${Ke}`)}return[]},[Ae,o,r]),Le=reactExports.useCallback(Ge=>{if(Ge.key==="Enter")Ge.preventDefault(),Qe(w);else if(Ge.key==="Escape")S(),I(null);else if(Ge.key==="ArrowUp"){if(Ge.preventDefault(),M.length>0){const We=V<M.length-1?V+1:V;te(We),_(M[M.length-1-We]||"")}}else if(Ge.key==="ArrowDown")if(Ge.preventDefault(),V>0){const We=V-1;te(We),_(M[M.length-1-We]||"")}else V===0&&(te(-1),_(""));else if(Ge.key==="Tab"){Ge.preventDefault();const We=w.trim().toLowerCase();if(We){const at=Ae.filter(rt=>rt.name.startsWith(We)||rt.aliases.some(Je=>Je.startsWith(We)));at.length===1?_(`${at[0].name} `):at.length>1&&I(at.map(rt=>rt.name).join("  "))}}},[w,Qe,M,V,Ae,S]),Ze=reactExports.useCallback(Ge=>{var We;_(Ge),oe([]),ae(-1),(We=ge.current)==null||We.focus()},[]),Be=reactExports.useCallback(Ge=>{if(ne.length>0){if(Ge.key==="ArrowDown"){Ge.preventDefault(),ae(We=>We<ne.length-1?We+1:0);return}if(Ge.key==="ArrowUp"){Ge.preventDefault(),ae(We=>We>0?We-1:ne.length-1);return}if(Ge.key==="Tab"||Ge.key==="Enter"&&Oe>=0){Ge.preventDefault();const We=Oe>=0?ne[Oe]:ne[0];We&&Ze(We);return}if(Ge.key==="Escape"){oe([]),ae(-1);return}}Ge.key==="Enter"?(Ge.preventDefault(),Xe(w),oe([])):Le(Ge)},[ne,Oe,Ze,Xe,w,Le]);return reactExports.useEffect(()=>{const Ge=Ue(w);oe(We=>We.length===Ge.length&&We.every((at,rt)=>at===Ge[rt])?We:Ge),ae(We=>We===-1?We:-1)},[w,Ue]),reactExports.useEffect(()=>{Q&&se(Ge=>[...Ge.slice(-50),{type:"output",text:Q}])},[Q]),reactExports.useEffect(()=>{je.current&&je.current.scrollIntoView({behavior:"smooth"})},[re]),{shellInput:w,setShellInput:_,shellOutput:Q,setShellOutput:I,commandHistory:M,shellLogs:re,setShellLogs:se,suggestions:ne,selectedSuggestionIndex:Oe,shellInputRef:ge,consoleEndRef:je,executeShellCommandWithLog:Xe,handleShellKeyDownWithSuggestions:Be,selectSuggestion:Ze}}function getTerminalGatewayUrl(){try{const o=localStorage.getItem("aiMemo.terminalGatewayUrl");if(o){const r=JSON.parse(o);if(typeof r=="string"&&r)return r}}catch{}throw new Error("[terminal] VITE_TERMINAL_GATEWAY_URL is not configured. Set this environment variable to enable terminal functionality.")}function getAuthToken(){const o=useAuthStore.getState().accessToken;if(o&&o.trim())return o.trim();if(typeof window>"u")return null;const r=["aiMemo.authToken","aiMemo.jwt","auth.token","aiMemoAuthToken"];for(const x of r)try{const O=localStorage.getItem(x)??sessionStorage.getItem(x);if(O){const E=JSON.parse(O);if(typeof E=="string"&&E.trim())return E.trim();if(typeof O=="string"&&O.trim())return O.trim()}}catch{}return null}function connectTerminal(o={}){const r=getAuthToken();if(!r)return console.error("[terminal] No auth token available"),null;const x=getTerminalGatewayUrl(),O=o.cols||80,E=o.rows||24,y=new URL(`${x}/terminal`);y.searchParams.set("token",r),y.searchParams.set("cols",String(O)),y.searchParams.set("rows",String(E));let S=null,j=!1;try{S=new WebSocket(y.toString()),S.binaryType="arraybuffer",S.onopen=()=>{var w;j=!0,console.log("[terminal] Connected"),(w=o.onOpen)==null||w.call(o)},S.onmessage=w=>{var Q;let _;if(typeof w.data=="string")_=w.data;else if(w.data instanceof ArrayBuffer)_=new TextDecoder().decode(w.data);else return;(Q=o.onData)==null||Q.call(o,_)},S.onclose=w=>{var _;j=!1,console.log("[terminal] Disconnected:",w.code,w.reason),(_=o.onClose)==null||_.call(o,w.code,w.reason)},S.onerror=w=>{var _;console.error("[terminal] Error:",w),(_=o.onError)==null||_.call(o,w)}}catch(w){return console.error("[terminal] Failed to connect:",w),null}return{send:w=>{S&&j&&S.readyState===WebSocket.OPEN&&S.send(w)},resize:(w,_)=>{S&&j&&S.readyState===WebSocket.OPEN&&S.send(JSON.stringify({type:"resize",cols:w,rows:_}))},close:()=>{S&&(S.close(1e3,"Client closed"),S=null,j=!1)},isConnected:()=>j}}async function checkTerminalHealth(){try{const o=getTerminalGatewayUrl().replace("wss://","https://").replace("ws://","http://"),x=await(await fetch(`${o}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).json();return(x==null?void 0:x.status)==="ok"}catch{return!1}}function hasAuthToken(){return!!getAuthToken()}function useRealTerminal(o={}){const{cols:r=80,rows:x=24,onData:O,onStatusChange:E,autoConnect:y=!1}=o,[S,j]=reactExports.useState("disconnected"),[w,_]=reactExports.useState(null),[Q,I]=reactExports.useState(!1),M=reactExports.useRef(null),F=reactExports.useRef(O),V=reactExports.useRef(E);reactExports.useEffect(()=>{F.current=O},[O]),reactExports.useEffect(()=>{V.current=E},[E]),reactExports.useEffect(()=>{var Oe;(Oe=V.current)==null||Oe.call(V,S)},[S]),reactExports.useEffect(()=>{(async()=>{if(!hasAuthToken()){I(!1);return}const ge=await checkTerminalHealth();I(ge)})()},[]);const te=reactExports.useCallback(()=>{var ge;if((ge=M.current)!=null&&ge.isConnected())return;if(!hasAuthToken()){_("로그인이 필요합니다"),j("error");return}j("connecting"),_(null);const ae=connectTerminal({cols:r,rows:x,onOpen:()=>{j("connected"),_(null)},onData:je=>{var Ae;(Ae=F.current)==null||Ae.call(F,je)},onClose:(je,Ae)=>{j("disconnected"),M.current=null,je!==1e3&&_(`연결 종료: ${Ae||`코드 ${je}`}`)},onError:()=>{j("error"),_("터미널 연결에 실패했습니다"),M.current=null}});if(!ae){j("error"),_("터미널 연결을 시작할 수 없습니다");return}M.current=ae},[r,x]),re=reactExports.useCallback(()=>{M.current&&(M.current.close(),M.current=null),j("disconnected"),_(null)},[]),se=reactExports.useCallback(Oe=>{var ae;(ae=M.current)!=null&&ae.isConnected()&&M.current.send(Oe)},[]),ne=reactExports.useCallback((Oe,ae)=>{var ge;(ge=M.current)!=null&&ge.isConnected()&&M.current.resize(Oe,ae)},[]),oe=reactExports.useCallback(async()=>{const Oe=await checkTerminalHealth();return I(Oe&&hasAuthToken()),Oe},[]);return reactExports.useEffect(()=>{y&&Q&&S==="disconnected"&&te()},[y,Q,S,te]),reactExports.useEffect(()=>()=>{M.current&&(M.current.close(),M.current=null)},[]),{status:S,error:w,isAvailable:Q,connect:te,disconnect:re,send:se,resize:ne,checkHealth:oe}}function ShellModal({isOpen:o,onClose:r,displayPath:x,viewportHeight:O,shellInput:E,setShellInput:y,shellInputRef:S,onKeyDown:j,suggestions:w,selectedSuggestionIndex:_,selectSuggestion:Q,shellLogs:I,shellOutput:M,consoleEndRef:F,executeCommand:V,commandHistory:te,onSwitchToRealTerminal:re}){const se=reactExports.useRef(null),ne=re&&hasAuthToken();return o?reactDomExports.createPortal(jsxRuntimeExports.jsxs("div",{ref:se,className:"fixed inset-0 z-[var(--z-terminal-modal)] flex flex-col bg-background/95 backdrop-blur-sm animate-in fade-in-0 duration-200",style:{height:O},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0",onClick:r,"aria-hidden":"true"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col bg-[hsl(var(--terminal-code-bg))] border-t border-primary/20 w-full max-w-full overflow-x-hidden",style:{height:O},children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 flex flex-col border-b border-border/50 bg-black/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 pt-2 pb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60 font-mono text-[10px] truncate max-w-[50%]",title:x,children:x}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[ne&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:re,className:cn("flex items-center gap-1 px-2 py-0.5","text-[10px] font-mono uppercase tracking-wider","bg-primary/10 border border-primary/30 rounded","text-primary/70 hover:text-primary hover:bg-primary/20","transition-colors"),title:"Switch to real Linux terminal",children:[jsxRuntimeExports.jsx(MonitorUp,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Real Shell"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:"p-1 text-muted-foreground hover:text-primary transition-colors","aria-label":"Close",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1.5 px-3 pb-2.5",children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-mono text-sm font-bold shrink-0",children:"$"}),jsxRuntimeExports.jsx("input",{ref:S,type:"text",value:E,onChange:oe=>y(oe.target.value),onKeyDown:j,placeholder:"Type a command or 'help'",className:"flex-1 min-w-0 bg-transparent border-none outline-none font-mono text-sm text-foreground placeholder:text-muted-foreground/40",autoComplete:"off",autoCapitalize:"off",spellCheck:!1})]}),w.length>0&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 right-0 top-full z-[var(--z-terminal-floating)] mx-3 mb-2 bg-[hsl(var(--terminal-code-bg))] border border-primary/30 rounded-[4px] shadow-lg overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"text-[9px] font-mono text-primary/50 uppercase tracking-wider px-2 py-1 border-b border-border/30",children:"// Suggestions (Tab/Enter to select)"}),jsxRuntimeExports.jsx("div",{className:"max-h-40 overflow-y-auto overscroll-contain",children:w.map((oe,Oe)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Q(oe),className:cn("w-full text-left px-3 py-1.5 font-mono text-xs transition-colors",Oe===_?"bg-primary/20 text-primary":"text-foreground/80 hover:bg-primary/10 hover:text-primary"),children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"$ "}),oe]},oe))})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0 relative",children:jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-y-auto overscroll-contain p-3 bg-black/30",children:[I.length===0&&!M&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground/50 text-center",children:[jsxRuntimeExports.jsx(Terminal,{className:"h-8 w-8 mb-2 opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-xs font-mono",children:"Run a command to see output here..."}),jsxRuntimeExports.jsx("p",{className:"text-[10px] mt-1 opacity-70",children:"Type 'help' for available commands"})]}),I.map((oe,Oe)=>jsxRuntimeExports.jsx("div",{className:cn("mb-1 font-mono text-xs whitespace-pre-wrap break-all leading-relaxed",oe.type==="input"?"text-primary/90 font-medium":"text-foreground/80 pl-2 border-l-2 border-primary/20"),children:oe.text},Oe)),jsxRuntimeExports.jsx("div",{ref:F})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 border-t border-border/30 bg-black/20 p-2.5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] font-mono text-primary/60 uppercase tracking-wider mb-2",children:"// Quick Commands"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:["ls","find","help","clear"].map(oe=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>V(oe),className:cn("py-2 px-1 font-mono text-xs uppercase tracking-wider","bg-primary/15 border border-primary/40","text-primary rounded-[4px]","hover:bg-primary/25 hover:border-primary/60 hover:text-primary","hover:shadow-[0_0_8px_hsl(var(--primary)/0.3)]","active:scale-95 transition-all duration-200"),children:oe},oe))}),te.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t border-border/20",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] font-mono text-muted-foreground/60 uppercase tracking-wider mb-1.5",children:"// History"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:te.slice(-4).reverse().map((oe,Oe)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>V(oe),className:cn("py-1 px-2 rounded-[4px] text-[10px] font-mono","bg-primary/10 border border-primary/30","text-primary/80","hover:bg-primary/20 hover:text-primary hover:border-primary/50","transition-colors truncate max-w-[80px]"),children:oe},`${oe}-${Oe}`))})]})]})]})]}),document.body):null}function ShellOutputOverlay({output:o,onExpand:r,onClose:x}){return o?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"fixed inset-x-0 bottom-14 z-[var(--z-terminal-floating)] px-3 pb-2 animate-in slide-in-from-bottom-2 duration-150",children:jsxRuntimeExports.jsxs("div",{className:"bg-[hsl(var(--terminal-code-bg))] border border-primary/30 rounded-[4px] shadow-lg shadow-primary/5 overflow-hidden max-h-[50vh]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-primary/10 border-b border-primary/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-primary/60 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-[10px] text-primary/80 uppercase tracking-wider",children:"// Output"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:"p-1 text-muted-foreground hover:text-primary transition-colors","aria-label":"확장",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-3.5 w-3.5 rotate-90"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:x,className:"p-0.5 text-muted-foreground hover:text-primary transition-colors","aria-label":"닫기",children:jsxRuntimeExports.jsx(X$1,{className:"h-3.5 w-3.5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 max-h-48 overflow-auto overscroll-contain",children:jsxRuntimeExports.jsx("pre",{className:"font-mono text-xs text-foreground/90 whitespace-pre-wrap leading-relaxed",children:o})})]})}),document.body):null}function MobileShellBar({displayPath:o,onShellOpen:r,showScrollTop:x,hasNew:O}){return jsxRuntimeExports.jsxs("div",{className:cn("flex w-full items-center gap-2.5","bg-[hsl(var(--terminal-code-bg))]","border-t border-primary/30","px-3 py-2.5","pb-[calc(10px+env(safe-area-inset-bottom,0px))]","transition-transform duration-200 ease-out","data-[hidden=true]:translate-y-[110%]"),children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:r,"aria-label":"Open command input",className:"flex items-center justify-center h-10 w-10 rounded-[4px] bg-primary/20 text-primary border border-primary/40 transition-all active:scale-95 hover:bg-primary/30 hover:border-primary/60 hover:shadow-[0_0_12px_hsl(var(--primary)/0.4)]",children:jsxRuntimeExports.jsx(Terminal,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:E=>E.key==="Enter"&&r(),className:"flex-1 flex items-center gap-2 min-w-0 cursor-pointer hover:opacity-80 transition-opacity",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-primary/70 truncate",children:o}),jsxRuntimeExports.jsx("span",{className:"text-primary/40 font-mono text-xs",children:"$ _"})]}),x&&jsxRuntimeExports.jsx("button",{type:"button",onClick:E=>{E.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"맨 위로 스크롤",className:"flex items-center justify-center h-8 w-8 rounded-[4px] bg-primary/15 text-primary border border-primary/40 transition-all active:scale-95 hover:bg-primary/25 hover:border-primary/60",children:jsxRuntimeExports.jsx(ArrowUp,{className:"h-4 w-4"})}),O&&!x&&jsxRuntimeExports.jsx("span",{className:"h-2 w-2 rounded-full bg-primary animate-pulse shrink-0"})]})}function TerminalDock({dockActions:o,isMobile:r,isLeft:x}){return r?null:x?jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-0.5 border border-border bg-[hsl(var(--terminal-code-bg))] py-2 px-1 backdrop-blur-sm",children:o.map(O=>{const E=O.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:O.onClick,disabled:O.disabled,"aria-label":O.desktopLabel||O.label,title:O.title||O.desktopLabel||O.label,className:cn("group relative flex items-center justify-center p-3 font-mono text-xs transition-all disabled:cursor-not-allowed disabled:opacity-50",O.primary?"bg-primary/20 text-primary border border-primary/40 hover:bg-primary/30":"text-foreground/75 hover:text-primary hover:bg-primary/10 border border-transparent hover:border-primary/30"),children:[jsxRuntimeExports.jsx(E,{className:cn("h-4 w-4",O.primary&&"terminal-glow")}),O.badge&&jsxRuntimeExports.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex h-2 w-2 rounded-full bg-primary animate-pulse","aria-hidden":!0})]},O.key)})}):jsxRuntimeExports.jsxs("div",{className:"flex w-auto max-w-full items-center gap-0.5 overflow-hidden border border-border bg-[hsl(var(--terminal-code-bg))] backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-r border-border/50 px-3 py-2.5",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-close))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-minimize))]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 rounded-full bg-[hsl(var(--terminal-window-btn-maximize))]"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden items-center gap-1 border-r border-border/50 px-3 text-[11px] font-mono text-muted-foreground sm:flex",children:[jsxRuntimeExports.jsx("span",{className:"text-primary/60",children:"~/"}),jsxRuntimeExports.jsx("span",{children:"actions"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-1 flex-wrap items-center justify-center gap-2 px-3 py-1.5",children:o.map(O=>{const E=O.icon,y=O.desktopLabel||O.label;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:O.onClick,disabled:O.disabled,"aria-label":y,"aria-disabled":O.disabled,title:O.title||y,className:cn("group relative flex items-center gap-1.5 px-4 py-2.5 font-mono text-xs transition-all disabled:cursor-not-allowed disabled:opacity-50",O.primary?"bg-primary/20 text-primary border border-primary/40 hover:bg-primary/30":"text-foreground/75 hover:text-primary hover:bg-primary/10 border border-transparent hover:border-primary/30"),children:[jsxRuntimeExports.jsx(E,{className:cn("h-4 w-4",O.primary&&"terminal-glow")}),jsxRuntimeExports.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:y}),O.badge&&jsxRuntimeExports.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex h-2 w-2 rounded-full bg-primary animate-pulse","aria-hidden":!0})]},O.key)})}),jsxRuntimeExports.jsxs("div",{className:"hidden items-center gap-2 border-l border-border/50 px-3 text-[10px] font-mono text-foreground/70 sm:flex",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/60 animate-pulse"}),jsxRuntimeExports.jsx("span",{children:"READY"})]})]})}function DefaultDock({dockActions:o,isMobile:r,isLeft:x}){return jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center backdrop-blur-xl",r?"w-full rounded-none border-t border-border/30 bg-background/95 px-2 py-1.5 shadow-[0_-4px_16px_rgba(0,0,0,0.06)] dark:bg-background/90 dark:border-white/10":x?"flex-col w-auto rounded-[20px] border border-white/20 bg-background/75 px-2 py-3 shadow-[4px_0_24px_rgba(0,0,0,0.08)] dark:border-white/10 dark:bg-background/65":"w-auto max-w-full rounded-[28px] border border-white/20 bg-background/75 px-4 py-3 shadow-[0_8px_32px_rgba(0,0,0,0.08),_0_2px_8px_rgba(0,0,0,0.04)] dark:border-white/10 dark:bg-background/65 dark:shadow-[0_8px_32px_rgba(0,0,0,0.3)]"),children:r?jsxRuntimeExports.jsx("div",{className:"flex w-full items-center justify-around",children:o.map(O=>{const E=O.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:O.onClick,disabled:O.disabled,"aria-label":O.label,className:cn("group relative flex flex-col items-center justify-center gap-0.5 py-1.5 px-1 min-w-0 flex-1 transition-all active:scale-95",O.disabled&&"opacity-40"),children:[jsxRuntimeExports.jsx("span",{className:cn("flex items-center justify-center rounded-xl transition-all duration-150","h-10 w-10",O.primary?"bg-primary text-primary-foreground shadow-sm shadow-primary/20":"bg-muted/70 text-foreground/85 dark:bg-white/10 dark:text-white/80"),children:jsxRuntimeExports.jsx(E,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-foreground/75 dark:text-white/70",children:O.label}),O.badge&&jsxRuntimeExports.jsx("span",{className:"absolute top-0.5 right-2 inline-flex h-1.5 w-1.5 rounded-full bg-primary"})]},O.key)})}):x?jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-1 py-1",children:o.map(O=>{const E=O.icon;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:O.onClick,disabled:O.disabled,"aria-label":O.desktopLabel||O.label,title:O.title||O.desktopLabel||O.label,className:cn("group relative flex items-center justify-center rounded-xl p-3 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50 hover:scale-105",O.primary?"bg-gradient-to-b from-primary to-primary/90 text-primary-foreground shadow-md shadow-primary/20 hover:shadow-lg hover:shadow-primary/30":"text-foreground/75 hover:bg-muted/70 hover:text-foreground dark:text-white/75 dark:hover:bg-white/10 dark:hover:text-white"),children:[jsxRuntimeExports.jsx(E,{className:"h-5 w-5"}),O.badge&&jsxRuntimeExports.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex h-2.5 w-2.5 rounded-full bg-primary ring-2 ring-background animate-pulse","aria-hidden":!0})]},O.key)})}):jsxRuntimeExports.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:o.map(O=>{const E=O.icon,y=O.desktopLabel||O.label;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:O.onClick,disabled:O.disabled,"aria-label":y,"aria-disabled":O.disabled,title:O.title||y,className:cn("group relative flex items-center gap-2.5 rounded-2xl px-4 py-2.5 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",O.primary?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-md shadow-primary/20 hover:shadow-lg hover:shadow-primary/30 hover:scale-[1.02]":"text-foreground/75 hover:bg-muted/70 hover:text-foreground dark:text-white/75 dark:hover:bg-white/10 dark:hover:text-white"),children:[jsxRuntimeExports.jsx(E,{className:cn("h-[18px] w-[18px]",O.primary&&"text-primary-foreground")}),jsxRuntimeExports.jsx("span",{className:cn("text-sm font-medium tracking-wide",O.primary?"text-primary-foreground":"text-foreground/80 dark:text-white/80"),children:y}),O.badge&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-2.5 w-2.5 rounded-full bg-primary ring-2 ring-background animate-pulse","aria-hidden":!0})]},O.key)})})})}let XTerm=null,FitAddon=null,WebLinksAddon=null;const loadXterm=async()=>{if(!XTerm){const[o,r,x]=await Promise.all([__vitePreload(()=>import("./xterm-D_W68Nou.js").then(O=>O.x),__vite__mapDeps([0,1])),__vitePreload(()=>import("./addon-fit-CyHTHApf.js").then(O=>O.a),__vite__mapDeps([2,1])),__vitePreload(()=>import("./addon-web-links-BE5GsMpZ.js").then(O=>O.a),__vite__mapDeps([3,1]))]);XTerm=o.Terminal,FitAddon=r.FitAddon,WebLinksAddon=x.WebLinksAddon,await __vitePreload(()=>Promise.resolve({}),__vite__mapDeps([4]))}return{XTerm,FitAddon,WebLinksAddon}},StatusIndicator=({status:o})=>{const x={disconnected:{icon:WifiOff,text:"Disconnected",className:"text-muted-foreground"},connecting:{icon:LoaderCircle,text:"Connecting...",className:"text-yellow-500 animate-spin"},connected:{icon:Wifi,text:"Connected",className:"text-primary"},error:{icon:WifiOff,text:"Error",className:"text-destructive"}}[o],O=x.icon;return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1.5",x.className),children:[jsxRuntimeExports.jsx(O,{className:cn("h-3.5 w-3.5",o==="connecting"&&"animate-spin")}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono",children:x.text})]})};function RealTerminalModal({isOpen:o,onClose:r,viewportHeight:x,onSwitchToVirtual:O}){const E=reactExports.useRef(null),y=reactExports.useRef(null),S=reactExports.useRef(null),j=reactExports.useRef(!1),w=reactExports.useCallback(se=>{y.current&&y.current.write(se)},[]),{status:_,error:Q,isAvailable:I,connect:M,disconnect:F,send:V,resize:te}=useRealTerminal({cols:80,rows:24,onData:w});reactExports.useEffect(()=>{if(!o||!E.current||j.current)return;let se=!0;return(async()=>{const{XTerm:oe,FitAddon:Oe,WebLinksAddon:ae}=await loadXterm();if(!se||!E.current||!oe||!Oe)return;const ge=new oe({theme:{background:"hsl(224 71.4% 4.1%)",foreground:"#e4e4e7",cursor:"hsl(142.1 70.6% 45.3%)",cursorAccent:"#000",selectionBackground:"rgba(142, 255, 142, 0.3)",black:"#18181b",red:"#f87171",green:"#4ade80",yellow:"#facc15",blue:"#60a5fa",magenta:"#c084fc",cyan:"#22d3ee",white:"#e4e4e7",brightBlack:"#52525b",brightRed:"#fca5a5",brightGreen:"#86efac",brightYellow:"#fde047",brightBlue:"#93c5fd",brightMagenta:"#d8b4fe",brightCyan:"#67e8f9",brightWhite:"#fafafa"},fontFamily:'"JetBrains Mono", "Fira Code", "SF Mono", Menlo, Monaco, monospace',fontSize:13,lineHeight:1.3,cursorBlink:!0,cursorStyle:"block",scrollback:5e3,tabStopWidth:4,allowTransparency:!0}),je=new Oe;if(ge.loadAddon(je),S.current=je,ae){const Ae=new ae;ge.loadAddon(Ae)}ge.open(E.current),setTimeout(()=>{je.fit()},0),ge.onData(Ae=>{V(Ae)}),ge.onResize(({cols:Ae,rows:Qe})=>{te(Ae,Qe)}),y.current=ge,j.current=!0,I?M():(ge.writeln("\x1B[33m터미널 서비스에 연결할 수 없습니다.\x1B[0m"),ge.writeln("\x1B[90m로그인이 필요하거나 서비스가 준비되지 않았습니다.\x1B[0m"),ge.writeln(""),ge.writeln('\x1B[90m"Virtual Shell" 버튼을 눌러 가상 쉘을 사용하세요.\x1B[0m'))})(),()=>{se=!1}},[o,I,M,V,te]),reactExports.useEffect(()=>{if(!o)return;const se=()=>{S.current&&S.current.fit()};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[o]),reactExports.useEffect(()=>{o||(y.current&&(y.current.dispose(),y.current=null),S.current=null,j.current=!1,F())},[o,F]);const re=reactExports.useCallback(()=>{y.current&&(y.current.clear(),y.current.writeln("\x1B[33m재연결 중...\x1B[0m")),F(),setTimeout(M,500)},[M,F]);return o?reactDomExports.createPortal(jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[var(--z-terminal-modal)] flex flex-col bg-background/95 backdrop-blur-sm animate-in fade-in-0 duration-200",style:{height:x},children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-3 py-2 border-b border-border/50 bg-[hsl(var(--terminal-code-bg))]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Terminal,{className:"h-4 w-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-primary font-medium",children:"LINUX SHELL"})]}),jsxRuntimeExports.jsx(StatusIndicator,{status:_})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[_!=="connecting"&&jsxRuntimeExports.jsx("button",{type:"button",onClick:re,className:"p-1.5 text-muted-foreground hover:text-primary transition-colors rounded",title:"Reconnect",children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-3.5 w-3.5"})}),O&&jsxRuntimeExports.jsx("button",{type:"button",onClick:O,className:cn("px-2 py-1 font-mono text-[10px] uppercase tracking-wider","bg-primary/10 border border-primary/30 rounded","text-primary/80 hover:text-primary hover:bg-primary/20","transition-colors"),children:"Virtual Shell"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:r,className:"p-1.5 text-muted-foreground hover:text-primary transition-colors","aria-label":"Close",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})]}),Q&&jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 px-3 py-2 bg-destructive/10 border-b border-destructive/30 text-destructive text-xs font-mono",children:Q}),jsxRuntimeExports.jsx("div",{ref:E,className:"flex-1 min-h-0 p-2 bg-[hsl(224_71.4%_4.1%)]"}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 px-3 py-1.5 border-t border-border/30 bg-[hsl(var(--terminal-code-bg))]",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-[10px] font-mono text-muted-foreground/60",children:[jsxRuntimeExports.jsx("span",{children:"Ctrl+C: interrupt | Ctrl+D: exit | Ctrl+L: clear"}),jsxRuntimeExports.jsx("span",{children:"Docker sandbox environment"})]})})]}),document.body):null}function FloatingActionBar(){const o=isFabEnabled(),r=useAIMemoElement(),x=useMemoOpen(r),O=useHistoryOverlayOpen(r),E=useModalPresence(),[y,S]=useHistoryBadge(),{items:j,storageAvailable:w}=useVisitedPostsState(),[_,Q]=reactExports.useState(!1),[I,M]=reactExports.useState(void 0),F=useScrollHide(),[V]=useFabPinned(),[te]=useFabPosition(),{toast:re}=useToast(),se=useIsMobile(),{isTerminal:ne}=useTheme(),{language:oe}=useLanguage(),{send:Oe,sendImpression:ae,sendMemoContextChange:ge}=useFabAnalytics(),je=useUIStrings(),{flags:Ae}=useFeatureFlags(),[Qe,Xe]=reactExports.useState(!1),[Ue,Le]=reactExports.useState(!1),[Ze,Be]=reactExports.useState(!1);reactExports.useEffect(()=>{const pt=()=>{Be(window.scrollY>300)};return window.addEventListener("scroll",pt,{passive:!0}),pt(),()=>window.removeEventListener("scroll",pt)},[]),reactExports.useEffect(()=>{const pt=Ve=>{Ve.ctrlKey&&Ve.altKey&&(Ve.key==="m"||Ve.key==="M")&&(Ve.preventDefault(),Q(!0))};return window.addEventListener("keydown",pt),()=>window.removeEventListener("keydown",pt)},[]);const[Ge,We]=reactExports.useState("100dvh");reactExports.useEffect(()=>{var Ve;if(!se||!Qe||!ne){document.body.style.overflow="";return}document.body.style.overflow="hidden";const pt=()=>{var Rt;const dt=((Rt=window.visualViewport)==null?void 0:Rt.height)||window.innerHeight;We(`${dt}px`)};return window.addEventListener("resize",pt),(Ve=window.visualViewport)==null||Ve.addEventListener("resize",pt),pt(),()=>{var dt;document.body.style.overflow="",window.removeEventListener("resize",pt),(dt=window.visualViewport)==null||dt.removeEventListener("resize",pt)}},[se,Qe,ne]);const at=usePostsManifest(),rt=useVirtualFS(at),Je=reactExports.useCallback(pt=>{try{const Ve=r==null?void 0:r.shadowRoot,dt=Ve==null?void 0:Ve.getElementById(pt);dt==null||dt.click()}catch{}},[r]),mt=reactExports.useCallback(()=>Je("launcher"),[Je]);reactExports.useCallback(()=>{let pt=!1;try{const Ve=r;if(typeof(Ve==null?void 0:Ve.openHistory)=="function")Ve.openHistory(),pt=!0;else if(r){const dt=Ve==null?void 0:Ve.shadowRoot,Rt=dt==null?void 0:dt.getElementById("historyLauncher");if(Rt){const It=Rt.style.display;Rt.style.display="flex",Rt.click(),setTimeout(()=>{Rt.style.display=It||"none"},50),pt=!0}}}catch{}if(!pt)try{window.dispatchEvent(new CustomEvent("visitedposts:open"))}catch{}S(),Oe("fab_history_click")},[r,S,Oe]);const Ke=reactExports.useCallback(()=>{try{window.dispatchEvent(new CustomEvent("visitedposts:open")),Oe("fab_stack_click")}catch{}},[Oe]),ze=reactExports.useMemo(()=>w?j.length?null:je.stack.noVisited:je.stack.unavailable,[w,j.length,je.stack]),He=reactExports.useCallback(()=>{if(ze){re({title:je.stack.title,description:ze});return}Ke()},[Ke,ze,re,je.stack.title]),tt=useShellCommander({vfs:rt,posts:at,onChatOpen:()=>Q(!0),onChatOpenWithMessage:pt=>{M(pt),Q(!0)},onMemoToggle:mt,onStackClick:He,onShellClose:()=>Xe(!1),send:Oe});reactExports.useEffect(()=>{Qe&&tt.shellInputRef.current&&tt.shellInputRef.current.focus()},[Qe,tt.shellInputRef]),reactExports.useEffect(()=>{if(!o)return;let pt=0;const Ve=()=>{pt+=1,hideLegacyLaunchers(r),pt<15&&setTimeout(Ve,200)};Ve();let dt=null;const Rt=r==null?void 0:r.shadowRoot;return Rt&&(dt=new MutationObserver(()=>hideLegacyLaunchers(r)),dt.observe(Rt,{childList:!0,subtree:!0})),()=>dt==null?void 0:dt.disconnect()},[o,r]),reactExports.useEffect(()=>{if(r){const pt=getComputedStyle(document.documentElement).getPropertyValue("--primary");r.style.setProperty("--primary-color",pt)}},[r,ne]),reactExports.useEffect(()=>{ae(o,E)},[o,E,ae]),reactExports.useEffect(()=>{ge(x)},[x,ge]);const ct=se&&ne,ut=!se&&te==="left",it=cn("fixed z-[var(--z-fab-bar)] print:hidden",ut?"left-0 top-1/2 -translate-y-1/2 px-0 py-3":cn("inset-x-0 px-3 sm:px-4",se?"bottom-0 pb-[calc(env(safe-area-inset-bottom,0px))] max-w-full overflow-x-hidden":"bottom-[calc(16px+env(safe-area-inset-bottom,0px))]"),"transition-all duration-300 ease-out",!ut&&(ct||V?"translate-y-0 opacity-100":F?"translate-y-[200%] opacity-0 pointer-events-none":"translate-y-0 opacity-100")),et=reactExports.useMemo(()=>[{key:"chat",label:je.nav.chat,desktopLabel:oe==="ko"?"AI 채팅":"AI Chat",icon:Sparkles,onClick:()=>{Q(pt=>!pt),Oe(_?"fab_ai_chat_close":"fab_ai_chat_open")},primary:!0,hidden:!Ae.aiEnabled},{key:"memo",label:je.nav.memo,desktopLabel:oe==="ko"?"메모":"Memo",icon:NotebookPen,onClick:()=>{Oe("fab_memo_toggle"),mt()}},{key:"stack",label:je.nav.stack,desktopLabel:oe==="ko"?"방문 스택":"Visited Stack",icon:Layers,onClick:He,disabled:!!ze,title:ze||void 0},{key:"insight",label:je.nav.insight,desktopLabel:oe==="ko"?"인사이트":"Insight",icon:Map$3,onClick:()=>{Oe("fab_insight_click"),S(),rt.navigate("/insight")},badge:y}],[je,oe,_,Ae.aiEnabled,Oe,Q,mt,He,ze,y,S,rt]).filter(pt=>!pt.hidden);if(!o)return null;const qe=jsxRuntimeExports.jsx(VisitedPostsMinimap,{mode:"fab"}),ot=E||O;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[qe,ne&&se&&jsxRuntimeExports.jsx(ShellModal,{isOpen:Qe&&!Ue,onClose:()=>{Xe(!1),tt.setShellOutput(null)},displayPath:rt.displayPath,viewportHeight:Ge,shellInput:tt.shellInput,setShellInput:tt.setShellInput,shellInputRef:tt.shellInputRef,onKeyDown:tt.handleShellKeyDownWithSuggestions,suggestions:tt.suggestions,selectedSuggestionIndex:tt.selectedSuggestionIndex,selectSuggestion:tt.selectSuggestion,shellLogs:tt.shellLogs,shellOutput:tt.shellOutput,consoleEndRef:tt.consoleEndRef,executeCommand:tt.executeShellCommandWithLog,commandHistory:tt.commandHistory,onSwitchToRealTerminal:()=>{Xe(!1),Le(!0),Oe("fab_real_terminal_open")}}),ne&&se&&jsxRuntimeExports.jsx(RealTerminalModal,{isOpen:Ue,onClose:()=>{Le(!1),Oe("fab_real_terminal_close")},viewportHeight:Ge,onSwitchToVirtual:()=>{Le(!1),Xe(!0)}}),ne&&se&&!Qe&&!Ue&&jsxRuntimeExports.jsx(ShellOutputOverlay,{output:tt.shellOutput,onExpand:()=>Xe(!0),onClose:()=>tt.setShellOutput(null)}),!ot&&jsxRuntimeExports.jsx("div",{role:"toolbar","aria-label":"Floating actions",className:it,children:jsxRuntimeExports.jsx("nav",{className:cn("mx-auto flex w-full justify-center",ut?"flex-col items-center gap-1":se?"max-w-none":"max-w-6xl"),children:ne?se?!Qe&&jsxRuntimeExports.jsx(MobileShellBar,{displayPath:rt.displayPath,onShellOpen:()=>Xe(!0),showScrollTop:Ze,hasNew:y,"data-hidden":F}):jsxRuntimeExports.jsx(TerminalDock,{dockActions:et,isMobile:se,isLeft:ut}):jsxRuntimeExports.jsx(DefaultDock,{dockActions:et,isMobile:se,isLeft:ut})})}),_&&jsxRuntimeExports.jsx(ChatWidget,{initialMessage:I,onClose:()=>{Q(!1),M(void 0),Oe("fab_ai_chat_close")}})]})}const RECONNECT_BASE_MS=2e3,RECONNECT_MAX_MS=3e4,RECONNECT_JITTER_MS=1e3,MAX_RECONNECT_ATTEMPTS=10,PING_TIMEOUT_MS=6e4;let eventSource=null,reconnectTimer=null,pingWatchdog=null,reconnectAttempts=0,disposed=!1,initialized=!1;function getSSEUrl(){try{const o=getApiBaseUrl();return o?`${o.replace(/\/$/,"")}/api/v1/notifications/stream`:null}catch{return null}}function resetPingWatchdog(){pingWatchdog&&clearTimeout(pingWatchdog),pingWatchdog=setTimeout(()=>{console.warn("[NotificationSSE] No ping received, reconnecting..."),reconnect()},PING_TIMEOUT_MS)}function clearPingWatchdog(){pingWatchdog&&(clearTimeout(pingWatchdog),pingWatchdog=null)}function clearReconnectTimer(){reconnectTimer&&(clearTimeout(reconnectTimer),reconnectTimer=null)}function closeEventSource(){if(eventSource){eventSource.onopen=null,eventSource.onerror=null,eventSource.onmessage=null;try{eventSource.close()}catch{}eventSource=null}}function reconnect(){if(disposed)return;if(closeEventSource(),clearPingWatchdog(),clearReconnectTimer(),reconnectAttempts>=MAX_RECONNECT_ATTEMPTS){console.warn("[NotificationSSE] Max reconnect attempts reached, giving up");return}const o=Math.min(RECONNECT_BASE_MS*Math.pow(2,reconnectAttempts)+Math.random()*RECONNECT_JITTER_MS,RECONNECT_MAX_MS);reconnectAttempts++,reconnectTimer=setTimeout(()=>{disposed||connect()},o)}function handleNotificationEvent(o){const r=o.title||"알림",x=o.message||"",O=o.notificationType||(o.type==="error"?"error":o.type==="ai_task_complete"?"ai_task_complete":o.type==="agent_complete"?"agent_complete":"info");addNotification({type:O,title:r,message:x,sourceId:o.sourceId,payload:o.payload})}function parseSSEData(o){try{return JSON.parse(o)}catch{return null}}function connect(){if(disposed)return;const o=getSSEUrl();if(o)try{const r=new EventSource(o,{withCredentials:!1});eventSource=r,r.onopen=()=>{reconnectAttempts=0,resetPingWatchdog()},r.onerror=()=>{disposed||reconnect()},r.onmessage=x=>{if(resetPingWatchdog(),x.data==="ping"||x.data==="{}")return;const O=parseSSEData(x.data);O&&handleNotificationEvent(O)},r.addEventListener("notification",x=>{resetPingWatchdog();const O=parseSSEData(x.data);O&&handleNotificationEvent(O)}),r.addEventListener("ai_task_complete",x=>{resetPingWatchdog();const O=parseSSEData(x.data);O&&handleNotificationEvent({...O,notificationType:"ai_task_complete",title:O.title||"AI 작업 완료",message:O.message||"AI 작업이 완료되었습니다."})}),r.addEventListener("agent_complete",x=>{resetPingWatchdog();const O=parseSSEData(x.data);O&&handleNotificationEvent({...O,notificationType:"agent_complete",title:O.title||"AI 에이전트 완료",message:O.message||"에이전트 작업이 완료되었습니다."})}),r.addEventListener("ping",()=>{resetPingWatchdog()}),r.addEventListener("error",x=>{resetPingWatchdog();const O=parseSSEData(x.data);O&&handleNotificationEvent({...O,notificationType:"error",title:O.title||"오류 발생"})})}catch(r){console.error("[NotificationSSE] Failed to create EventSource:",r),reconnect()}}function initNotificationSSE(){initialized||disposed||(initialized=!0,connect())}function disposeNotificationSSE(){disposed=!0,initialized=!1,clearReconnectTimer(),clearPingWatchdog(),closeEventSource()}const queryClient=new QueryClient;function App(){const[o,r]=reactExports.useState(!0);return reactExports.useEffect(()=>(initFeatureFlags(),()=>{disposeFeatureFlags()}),[]),reactExports.useEffect(()=>(initNotificationSSE(),()=>{disposeNotificationSSE()}),[]),reactExports.useEffect(()=>{const x=()=>{try{const y=localStorage.getItem("aiMemo.fab.enabled");if(y!=null)return!!JSON.parse(y)}catch{}const E="true";return E===!0||E==="true"||E==="1"};r(x());const O=E=>{(!E.key||E.key==="aiMemo.fab.enabled")&&r(x())};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(LanguageProvider,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 pb-[110px] md:pb-[84px] lg:pb-[96px]",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog",element:jsxRuntimeExports.jsx(Blog,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog/:year/:slug",element:jsxRuntimeExports.jsx(BlogPost,{})}),jsxRuntimeExports.jsx(Route,{path:"/post/:year/:slug",element:jsxRuntimeExports.jsx(BlogPost,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects",element:jsxRuntimeExports.jsx(Projects,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Navigate,{to:"/about",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/insight",element:jsxRuntimeExports.jsx(Insight,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/new-post",element:jsxRuntimeExports.jsx(NewPost,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/config",element:jsxRuntimeExports.jsx(AdminConfig,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})}),jsxRuntimeExports.jsx(Footer,{}),!o&&jsxRuntimeExports.jsx(VisitedPostsMinimap,{}),jsxRuntimeExports.jsx(FloatingActionBar,{}),jsxRuntimeExports.jsx(Toaster,{})]})})})})})})})}const GLOBAL_ERROR_LOG_WINDOW_MS=5e3,globalErrorLastSeen=new Map;function toErrorSignature(o){if(o instanceof Error)return`${o.name}:${o.message}:${o.stack||""}`;if(typeof o=="string")return o;try{return JSON.stringify(o)}catch{return String(o)}}function shouldLogGlobalError(o){const r=Date.now(),x=globalErrorLastSeen.get(o)??0;if(r-x<GLOBAL_ERROR_LOG_WINDOW_MS)return!1;if(globalErrorLastSeen.set(o,r),globalErrorLastSeen.size>200)for(const[O,E]of globalErrorLastSeen)r-E>GLOBAL_ERROR_LOG_WINDOW_MS*2&&globalErrorLastSeen.delete(O);return!0}console.log("[main] script loaded");const rootEl=document.getElementById("root");console.log("[main] root element:",rootEl);window.addEventListener("error",o=>{const r=`error:${o.message}:${toErrorSignature(o.error)}`;shouldLogGlobalError(r)&&console.error("[main] Global error:",o.message,o.error)});window.addEventListener("unhandledrejection",o=>{const r=`unhandledrejection:${toErrorSignature(o.reason)}`;shouldLogGlobalError(r)&&console.error("[main] Unhandled rejection:",o.reason)});rootEl?(createRoot(rootEl).render(jsxRuntimeExports.jsx(App,{})),console.log("[main] React root mounted")):console.error("[main] #root element not found");
