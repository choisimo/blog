---
title: "'You need to load the kernel first'와 함께한 새벽의 구조 요청"
date: "2025-10-25"
category: "Linux"
tags: ['Arch Linux', 'GRUB', '부팅오류', '시스템복구', '에세이']
excerpt: "pacman -Syu 한 번 눌렀을 뿐인데 부팅이 멈췄다면? 새벽에 겪은 GRUB 구출기를 일기처럼 정리했습니다."
readTime: "7분"
---

밤새 코드 좀 더 정리해 보겠다고 pacman -Syu만 돌리고 잤던 날이었습니다. 그런데 아침에 전원을 켜자마자 모니터 중앙에 굵직한 문장 하나가 떠 있더군요. *"error: you need to load the kernel first"*. 머릿속으로는 이미 출근 전 커피 향이 맴돌고 있었는데, GRUB은 딱 한 줄로 오늘 일정이 완전히 꼬여버렸음을 선언했습니다. 그 순간 떠오른 생각은 단 하나, "어제 왜 그냥 잤지?"였습니다.

### 업데이트가 남긴 빈 자리

Arch Linux의 매력은 최신 버전을 손바닥 뒤집듯 받아볼 수 있다는 데 있지만, 새벽에 실행한 업데이트는 의외의 함정을 숨기고 있었습니다. 커널과 initramfs는 갱신됐는데, GRUB 설정 파일인 grub.cfg를 새로 만들어주지 않은 채 잠들어 버린 거죠. 부트로더 입장에서는 새로운 커널의 위치를 알 길이 없으니, "커널 좀 먼저 알려 줘"라고 외칠 수밖에요. 사실 pacman이 끝났을 때 `grub-mkconfig -o /boot/grub/grub.cfg` 한 번만 쳤다면 모든 일이 허무하게 끝났을 텐데, 그 한 줄을 미뤘던 제 게으름이 다음날의 공포를 만들었습니다.

### 임시 처방이란 작은 희망

다행히도 GRUB은 완전히 닫힌 문이 아니었습니다. 화면에서 *c* 키를 눌러 커맨드라인 모드로 들어가 보니, 명령 프롬프트가 저를 기다리고 있더군요. 먼저 `ls`를 눌러 파티션들을 살폈습니다. (hd0,gpt1), (hd0,gpt2)… 하나하나 열어보니 (hd0,gpt2)/boot 안쪽에서 `vmlinuz-linux`와 `initramfs-linux.img`를 발견했습니다. 그 순간만큼은 보물찾기에서 지도를 찾은 느낌이었죠.

그래서 다음과 같이 주문을 외웠습니다.

```
set root=(hd0,gpt2)
linux /boot/vmlinuz-linux root=/dev/sda2
initrd /boot/initramfs-linux.img
boot
```

만약 인텔 CPU였다면 `initrd /boot/intel-ucode.img /boot/initramfs-linux.img`처럼 마이크로코드 이미지를 먼저 불러야 했겠지만, 제 노트북은 AMD였으니 다행히 한 단계를 덜어냈습니다. ENTER를 눌렀더니 파랗던 화면이 서서히 사라지고 익숙한 로그인 프롬프트가 떠오르던 순간, 새벽 감성이 아니라 순수한 안도의 한숨이 새어 나왔습니다. "일단 커피는 마셔도 되겠군."

### 다시는 겪고 싶지 않은 마음으로

임시 처방만으로는 불안해서, 로그인하자마자 터미널을 열었습니다. 그리고 이번엔 미뤘던 숙제를 제대로 했죠.

```
sudo grub-mkconfig -o /boot/grub/grub.cfg
```

커널 이미지가 제대로 존재하는지 확인한 뒤, 마음이 놓일 때까지 한 번 더 실행해 보기도 했습니다. 사실 여기서 끝났다면 좋았겠지만, 속으로는 "혹시나" 하는 찝찝함이 남아 있었죠. 그래서 외장 SSD에 담아두었던 Arch Live USB를 꺼내 놓고, 만약을 대비한 복구 시나리오까지 테스트했습니다.

### Live USB로 떠나는 두 번째 여정

만약 GRUB에서 수동 부팅이 실패했다면, Live USB야말로 확실한 구원 투수입니다. USB로 부팅한 뒤 `lsblk`로 파티션을 확인하고, 루트 파티션을 `/mnt`에, EFI 파티션을 `/mnt/boot` 혹은 `/mnt/boot/efi`에 마운트했습니다. 인터넷을 붙이고 나서 다음처럼 시스템 속으로 들어갔죠.

```
arch-chroot /mnt
```

그 안에서 `pacman -S linux`로 커널을 다시 설치하고, `mkinitcpio -P`로 initramfs 이미지를 새로 만들었습니다. 마지막으로 `grub-mkconfig -o /boot/grub/grub.cfg`를 실행했을 때, 로그에 뜨던 "Found linux image:" 문장이 그렇게 반가울 수가 없었습니다. EFI 시스템이라면 `grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB`까지 마무리하는 것도 잊지 않았습니다. 그렇게 모든 명령을 마친 뒤 `exit`, `umount -R /mnt`, `reboot` 순으로 나왔습니다. USB를 빼고 재부팅할 때, 그 작은 깜빡임이 얼마나 긴장을 주는지 다들 아시죠?

### 그리고 남은 이야기

부팅이 정상으로 돌아온 지금, 저는 다시 커피잔을 들고 자리로 돌아왔습니다. 이번 해프닝 덕분에 배운 건 두 가지입니다. 첫 번째, pacman -Syu 뒤에는 꼭 `grub-mkconfig`를 돌리는 습관을 들이자. 두 번째, AI가 제시한 딱딱한 조치 목록을 그대로 복사해서는 내 마음이 담긴 글이 되지 않는다는 것. 그러니 버튼 한 번으로 따뜻한 에세이를 뚝딱 만들어 주는 기능을 꼭 완성해 보고 싶습니다. 언젠가 누군가가 같은 오류를 만났을 때, 이 글이 건조한 가이드 대신 작은 위로가 되어 줄지도 모르니까요.

다음 아치 업데이트를 돌리기 전에는, 저는 아마 스스로에게 이렇게 말할 것 같습니다. "자, 커널과 GRUB이 서로 잊지 않도록 매번 확인하자고. 그리고 혹시 또다시 기록할 일이 생기면, 이번엔 버튼 한 번으로 에세이처럼 풀어내자." 그러면 새벽의 한 줄 경고도 언젠가 웃으며 떠올릴 추억이 되겠죠.
