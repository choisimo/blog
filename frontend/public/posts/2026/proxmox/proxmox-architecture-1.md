---
title: "Proxmox Architecture 1"
date: "2026-01-15"
category: "proxmox"
tags: ["proxmox", "태그2", "태그3"]
excerpt: "게시글 요약을 작성하세요"
readTime: "5분"
---

# 당신이 몰랐던 Proxmox VE의 숨겨진 능력 5가지

### 도입부: Proxmox VE, 어디까지 써보셨나요?

Proxmox VE는 중소기업(SMB)과 개인의 홈랩(homelab) 환경에서 강력한 무료 가상화 플랫폼으로 많은 사랑을 받고 있습니다. 직관적인 웹 인터페이스를 통해 가상 머신(VM)과 컨테이너를 손쉽게 생성하고 관리할 수 있다는 점은 이 플랫폼의 큰 매력입니다. 하지만 대부분의 사용자들이 표면적인 기능에 머무르는 동안, 그 이면에서는 엔터프라이즈 솔루션을 능가하는 Proxmox VE만의 독창적인 아키텍처가 조용히 작동하고 있습니다. 이 글을 통해 단순한 가상화 도구를 넘어, Proxmox VE가 제공하는 진정한 가치를 발견하게 되실 겁니다.

---

### **1. 클러스터의 비밀 병기: Proxmox 클러스터 파일 시스템 (pmxcfs)**

Proxmox VE가 다른 가상화 솔루션과 근본적으로 차별화되는 지점은 바로 pmxcfs에 있습니다. 이것은 모든 노드의 설정 파일을 저장하기 위해 특별히 설계된 데이터베이스 기반의 파일 시스템입니다. `corosync`를 통해 클러스터에 속한 모든 노드에 구성 파일이 실시간으로 복제됩니다.

이 독창적인 아키텍처는 몇 가지 핵심적인 장점을 제공합니다. 첫째, 어떤 노드에서든 설정을 변경하면 즉시 모든 노드에 반영되어 클러스터 전체의 일관성을 완벽하게 유지합니다. 둘째, 중복된 VM ID와 같은 잠재적 충돌을 방지하는 강력한 일관성 검사 메커니즘을 내장하고 있습니다. 마지막으로, 클러스터가 쿼럼(Quorum)을 상실할 경우 파일 시스템을 자동으로 읽기 전용 모드로 전환하여 데이터 손상이나 설정 불일치(split-brain)로부터 시스템을 안전하게 보호합니다. 한 가지 알아둘 점은, pmxcfs는 성능을 위해 설정 데이터의 복사본을 RAM에 상주시키므로 현재 최대 크기가 128MiB로 제한된다는 것입니다. 바로 이 pmxcfs 덕분에 우리는 여러 노드를 마치 하나의 시스템처럼 매끄럽게 관리할 수 있는 것입니다.

Proxmox VE is the only virtualization platform using this unique cluster file system.

### **2. 진정한 하이퍼컨버지드: GUI에 통합된 ZFS와 Ceph 관리**

많은 사용자들이 Proxmox VE가 ZFS와 Ceph를 '지원'한다고 알고 있지만, 이는 단순한 지원을 넘어 '네이티브 관리' 수준입니다. Proxmox VE는 별도의 복잡한 명령줄 인터페이스(CLI) 작업 없이 웹 GUI 내에서 직접 강력한 스토리지를 구성하고 관리하는 기능을 제공합니다.

예를 들어, GUI에서 클릭 몇 번으로 미러(mirrored) 또는 RAID-Z 구성의 ZFS 풀을 생성하고 `lz4` 같은 압축 알고리즘까지 설정할 수 있습니다. 더 나아가, 분산 스토리지인 Ceph 클러스터의 경우, 단일 패널에서 클러스터 내 모든 OSD(Object Storage Daemon)의 상태를 시각적으로 모니터링하고, 모니터(MON)나 풀(pool)까지 GUI에서 직접 설치하고 관리할 수 있습니다. 이는 값비싼 상용 하이퍼컨버지드 인프라(HCI) 솔루션에서나 기대할 법한 기능입니다. 덕분에 소규모 팀도 최소한의 노력으로 강력하고 안정적인 분산 스토리지 환경을 구축하고 운영할 수 있게 됩니다.

### **3. 무한한 확장성: 범용 스토리지 플러그인 시스템**

Proxmox VE의 아키텍처는 놀라울 정도로 개방적이며, 그 대표적인 예가 바로 범용 스토리지 플러그인 시스템입니다. 사용자들은 LVM, iSCSI, NFS, ZFS, Ceph 등 내장된 훌륭한 스토리지 옵션에만 갇혀 있을 필요가 없습니다. Proxmox VE는 외부의 서드파티 스토리지 플러그인을 로드할 수 있는 공식적인 메커니즘을 제공합니다.

LINSTOR나 StorPool과 같은 주요 스토리지 솔루션들이 이 시스템을 활용하여 자체 플러그인을 개발한 것만 봐도 그 강력함을 알 수 있습니다. 더 놀라운 점은, 사용자가 직접 Perl 모듈(`YourCustomPlugin.pm`) 형태로 필요한 API를 구현하면, 독자적인 사내 스토리지 솔루션이나 특정 상용 스토리지 어플라이언스와도 Proxmox VE를 완벽하게 통합할 수 있다는 것입니다. 이는 Proxmox VE가 어떤 환경에도 유연하게 적응할 수 있는 강력한 개방성의 증거입니다.

### **4. 2-노드 HA 클러스터의 실현: QDevice의 마법**

고가용성(High Availability, HA) 클러스터를 구성하려면 안정적인 쿼럼 유지를 위해 최소 3개의 노드가 필요하다는 것이 일반적인 통념입니다. 하지만 Proxmox VE는 'Corosync Quorum Device (QDevice)'라는 영리한 해법을 통해 이 통념을 뛰어넘습니다.

생산 노드 두 개가 서로 통신할 수 없게 되면, 마치 의견이 갈린 두 명의 이사가 결정을 내리지 못하는 것과 같습니다. 이때 QDevice는 제3의 중재인, 즉 캐스팅보트를 쥔 사외이사처럼 동작하여 어느 쪽의 의견을 따를지 결정해줌으로써 조직 전체가 마비되는 것을 막아줍니다. 이 중재자 역할을 하는 `corosync-qnetd` 데몬은 아주 가벼워서 작은 VM이나 심지어 라즈베리 파이에서도 실행할 수 있습니다. 즉, 세 번째 '투표권'에 드는 비용이 거의 0에 가깝습니다. 이 기능 덕분에 하드웨어 비용 부담을 크게 줄이면서도 높은 수준의 서비스 가용성을 확보해야 하는 소규모 비즈니스나 예산이 제한된 환경에 매우 유용합니다.

### **5. 가상 네트워킹의 진화: 코어에 통합된 SDN**

Proxmox VE의 소프트웨어 정의 네트워킹(SDN) 기능은 더 이상 '실험적 기능'이 아닙니다. 이제는 Proxmox VE 8.1부터 기본적으로 설치되는 완전히 지원되는 핵심 구성 요소입니다. 이 기능은 단순히 가상 스위치(Linux Bridge)를 설정하는 수준을 넘어섭니다.

웹 인터페이스를 통해 복잡한 가상 네트워크(VNets)를 생성하고 관리하며, 물리적 네트워크의 제약 없이 유연하고 격리된 가상 환경을 구축할 수 있습니다. VLAN, QinQ(Stacked VLAN), VXLAN과 같은 다양한 존(zone) 기술은 물론, BGP EVPN과 같은 고급 라우팅 프로토콜을 사용하여 데이터센터급의 복잡한 네트워크 토폴로지까지 구현할 수 있습니다. 이 강력한 SDN 기능은 Proxmox VE를 단순한 서버 가상화 플랫폼에서 강력한 네트워크 가상화 플랫폼으로 격상시키는 중요한 요소입니다.

---

### 마무리: 단순한 가상화를 넘어

이처럼 Proxmox VE의 진정한 힘은 보이지 않는 곳에서 드러납니다. **pmxcfs**와 **QDevice**가 클러스터의 근본적인 안정성과 고가용성을 책임지는 뼈대를 제공한다면, GUI에 통합된 **ZFS/Ceph 관리**와 **범용 스토리지 플러그인**은 그 어떤 상용 솔루션 부럽지 않은 유연한 스토리지 근육을 붙여줍니다. 그리고 마지막으로 **코어에 통합된 SDN**은 이 모든 것을 연결하는 강력한 신경망 역할을 수행하여, Proxmox VE를 단순한 가상화 호스트에서 완벽한 데이터센터 운영 플랫폼으로 격상시킵니다. 단순히 VM 몇 개를 띄우는 것을 넘어, Proxmox VE의 숨겨진 능력을 활용하여 여러분의 인프라를 한 단계 더 발전시켜 보시기 바랍니다.

여러분이 사용하면서 발견한 Proxmox VE의 가장 인상적인 기능은 무엇인가요? 댓글로 여러분의 경험을 공유해주세요.
