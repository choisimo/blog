name = "ai-call-gateway"
main = "src/index.ts"
compatibility_date = "2025-10-22"
compatibility_flags = ["nodejs_compat"]
account_id = "f6f11e2a4e5178d2f37476785018f761"

# Optional runtime configuration
[vars]
# Backend host for auto-chat-proxy container (port 7016)
BACKEND_HOST = ""

# Secrets (set via Wrangler):
# wrangler secret put SECRET_API_KEY
# wrangler secret put SECRET_INTERNAL_KEY

[env.production]
name = "ai-call-gateway"

[env.production.vars]
# Comma-separated list of allowed origins
ALLOWED_ORIGINS = "https://noblog.nodove.com, https://blog.nodove.com, http://localhost:5173"
# Backend host to forward to (auto-chat-proxy)
BACKEND_HOST = "ai-call.nodove.com"

[[env.production.routes]]
pattern = "ai-call.nodove.com/*"
zone_name = "nodove.com"
